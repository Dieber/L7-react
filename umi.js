(function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/L7-react/",n(n.s=0)})({"+2a4":function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("7BAe"),s=n("jbR1"),u=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{some:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(e){if(r(e,e,t))return u.stop()}),void 0,!1,!0).stopped}})},"+4le":function(e,t,n){n("UXQe")},"+6XX":function(e,t,n){var r=n("y1pI");function i(e){return r(this.__data__,e)>-1}e.exports=i},"+GPJ":function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),u=n("/dTS"),c=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{intersection:function(e){var t=a(this),n=new(u(t,o("Set"))),r=s(t.has),i=s(n.add);return c(e,(function(e){r.call(t,e)&&i.call(n,e)})),n}})},"+Hw1":function(e,t,n){var r=n("MMxC");r({target:"Math",stat:!0},{iaddh:function(e,t,n,r){var i=e>>>0,o=t>>>0,a=n>>>0;return o+(r>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},"+K+b":function(e,t,n){var r=n("JHRd");function i(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}e.exports=i},"+Qka":function(e,t,n){var r=n("fmRc"),i=n("t2Dn"),o=n("cq/+"),a=n("T1AV"),s=n("GoyQ"),u=n("mTTR"),c=n("itsj");function l(e,t,n,f,p){e!==t&&o(t,(function(o,u){if(p||(p=new r),s(o))a(e,t,u,n,l,f,p);else{var h=f?f(c(e,u),o,u+"",e,t,p):void 0;void 0===h&&(h=o),i(e,u,h)}}),u)}e.exports=l},"+SQA":function(e,t,n){"use strict";var r=n("cT1L"),i=n("tSXo"),o=[].slice,a={},s=function(e,t,n){if(!(t in a)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";a[t]=Function("C,a","return new C("+r.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),a=function(){var r=n.concat(o.call(arguments));return this instanceof a?s(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(a.prototype=t.prototype),a}},"+VLl":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("lSNA"),i=n.n(r),o=n("J4zp"),a=n.n(o),s=n("Hel2"),u=Math.PI/3,c=[0,u,2*u,3*u,4*u,5*u];function l(e){return e[0]}function f(e){return e[1]}var p=function(){var e,t,n,r=0,i=0,o=1,a=1,s=l,p=f;function h(e){var r,i={},o=[],a=e.length;for(r=0;r<a;++r)if(!isNaN(c=+s.call(null,u=e[r],r,e))&&!isNaN(l=+p.call(null,u,r,e))){var u,c,l,f=Math.round(l/=n),h=Math.round(c=c/t-(1&f)/2),d=l-f;if(3*Math.abs(d)>1){var m=c-h,v=h+(c<h?-1:1)/2,y=f+(l<f?-1:1),g=c-v,b=l-y;m*m+d*d>g*g+b*b&&(h=v+(1&f?1:-1)/2,f=y)}var x=h+"-"+f,_=i[x];_?_.push(u):(o.push(_=i[x]=[u]),_.x=(h+(1&f)/2)*t,_.y=f*n)}return o}function d(e){var t=0,n=0;return c.map((function(r){var i=Math.sin(r)*e,o=-Math.cos(r)*e,a=i-t,s=o-n;return t=i,n=o,[a,s]}))}return h.hexagon=function(t){return"m"+d(null==t?e:+t).join("l")+"z"},h.centers=function(){for(var s=[],u=Math.round(i/n),c=Math.round(r/t),l=u*n;l<a+e;l+=n,++u)for(var f=c*t+(1&u)*t/2;f<o+t/2;f+=t)s.push([f,l]);return s},h.mesh=function(){var t=d(e).slice(0,4).join("l");return h.centers().map((function(e){return"M"+e+"m"+t})).join("")},h.x=function(e){return arguments.length?(s=e,h):s},h.y=function(e){return arguments.length?(p=e,h):p},h.radius=function(r){return arguments.length?(e=+r,t=2*e*Math.sin(u),n=1.5*e,h):e},h.size=function(e){return arguments.length?(r=i=0,o=+e[0],a=+e[1],h):[o-r,a-i]},h.extent=function(e){return arguments.length?(r=+e[0][0],i=+e[0][1],o=+e[1][0],a=+e[1][1],h):[[r,i],[o,a]]},h.radius(1)};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=6378e3;function v(e,t){var n=e.dataArray,r=t.size,o=void 0===r?10:r,u=t.method,c=void 0===u?"sum":u,l=o/(2*Math.PI*m)*(256<<20)/2,f=n.map((function(e){var t=Object(s["d"])(e.coordinates),n=a()(t,2),r=n[0],i=n[1];return d(d({},e),{},{coordinates:[r,i]})})),h=p().radius(l).x((function(e){return e.coordinates[0]})).y((function(e){return e.coordinates[1]})),v=h(f),y={dataArray:v.map((function(e,n){var r;if(t.field&&c){var o=s["c"].getColumn(e,t.field);e[c]=s["c"].statMap[c](o)}return r={},i()(r,t.method,e[c]),i()(r,"count",e.length),i()(r,"rawData",e),i()(r,"coordinates",[e.x,e.y]),i()(r,"_id",n),r})),radius:l,xOffset:l,yOffset:l,type:"hexagon"};return y}},"+X1D":function(e,t,n){"use strict";var r=n("f1E4"),i=n("cT1L");e.exports=function(){for(var e,t=r(this),n=i(t["delete"]),o=!0,a=0,s=arguments.length;a<s;a++)e=n.call(t,arguments[a]),o=o&&e;return!!o}},"+Yrs":function(e,t,n){"use strict";var r=n("q1tI");n("45oE"),r["useEffect"]},"+em5":function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r,i,o,a,s,u=n("yG8O"),c=n.n(u),l=n("lwsE"),f=n.n(l),p=n("W8MJ"),h=n.n(p),d=n("lSNA"),m=n.n(d),v=n("U+yc"),y=n.n(v),g=(n("1ABj"),n("gQMU")),b=n.n(g),x=n("J2iB"),_=n.n(x),w=n("u6S6"),S=n.n(w),O=n("4cb6"),E=(n("mNvP"),n("o+pz")),k=n("bB6j"),C=n("bPkA");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",P=(r=Object(O["injectable"])(),i=Object(O["inject"])(k["a"].IShaderModuleService),r((a=function(){function e(){f()(this,e),c()(this,"shaderModuleService",s,this),m()(this,"rendererService",void 0),m()(this,"config",void 0),m()(this,"quad",A),m()(this,"enabled",!0),m()(this,"renderToScreen",!1),m()(this,"model",void 0),m()(this,"name",void 0),m()(this,"optionsToUpdate",{})}return h()(e,[{key:"getName",value:function(){return this.name}},{key:"setName",value:function(e){this.name=e}},{key:"getType",value:function(){return C["a"].PostProcessing}},{key:"init",value:function(e,t){this.config=t,this.rendererService=e.getContainer().get(k["a"].IRendererService);var n=this.rendererService,r=n.createAttribute,i=n.createBuffer,o=n.createModel,a=this.setupShaders(),s=a.vs,u=a.fs,c=a.uniforms;this.model=o({vs:s,fs:u,attributes:{a_Position:r({buffer:i({data:[-4,-4,4,-4,0,4],type:E["a"].FLOAT}),size:2})},uniforms:T(T({u_Texture:null},c),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:"copy"===this.getName()}})}},{key:"render",value:function(e){var t=this,n=e.multiPassRenderer.getPostProcessor(),r=this.rendererService,i=r.useFramebuffer,o=r.getViewportSize,a=r.clear,s=o(),u=s.width,c=s.height;i(this.renderToScreen?null:n.getWriteFBO(),(function(){a({framebuffer:n.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0}),t.model.draw({uniforms:T({u_Texture:n.getReadFBO(),u_ViewportSize:[u,c]},t.convertOptionsToUniforms(t.optionsToUpdate))})}))}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(e){this.enabled=e}},{key:"setRenderToScreen",value:function(e){this.renderToScreen=e}},{key:"updateOptions",value:function(e){this.optionsToUpdate=T(T({},this.optionsToUpdate),e)}},{key:"setupShaders",value:function(){throw new Error("Method not implemented.")}},{key:"convertOptionsToUniforms",value:function(e){var t={};return Object.keys(e).forEach((function(n){_()(e[n])||(t["u_".concat(b()(S()(n)))]=e[n])})),t}}]),e}(),s=y()(a.prototype,"shaderModuleService",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=a))||o)},"+iFO":function(e,t,n){var r=n("dTAl"),i=n("LcsW"),o=n("6sVZ");function a(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}e.exports=a},"+l9e":function(e,t,n){"use strict";var r=n("MMxC"),i=n("zv1X").map,o=n("jMDO"),a=n("kGMc"),s=o("map"),u=a("map");r({target:"Array",proto:!0,forced:!s||!u},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"+rjg":function(e,t,n){"use strict";var r=n("m0kY"),i=n("FCfD");e.exports="".repeat||function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},"+u1y":function(e,t,n){"use strict";var r=n("tny8"),i=n("eNh0"),o=n("cTDu"),a=n("oa35"),s=n("YfKC").f;r&&!("lastIndex"in[])&&(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=o(this),t=a(e.length);return 0==t?0:t-1}}),i("lastIndex"))},"+vfm":function(e,t,n){var r=n("tSXo"),i=n("g1ZG");e.exports=function(e,t,n){var o,a;return i&&"function"==typeof(o=t.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(e,a),e}},"/0sN":function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("PPXv"),s=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(e){return s(a(o(this)),(function(t,n){if(n===e)return s.stop(t)}),void 0,!0,!0).result}})},"/33/":function(e,t){},"/3zY":function(e,t,n){var r=n("0qr0"),i=n("oa35"),o=n("bIKR"),a=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},"/6DY":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("H1Ra"),s=(n("Rsk4"),n("nKUr"));t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),Object(s["jsx"])(s["Fragment"],{children:Object(s["jsxs"])("div",{className:"markdown",children:[Object(s["jsxs"])("h2",{id:"\u4f7f\u7528",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u4f7f\u7528","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u4f7f\u7528"]}),Object(s["jsx"])("p",{children:"\u5728 React \u7248\u672c\u4e2d Mapbox \u548c\u9ad8\u5fb7\u5730\u56fe\u4f5c\u4e3a\u4e24\u4e2a\u7ec4\u4ef6\u5c01\u88c5\u7684\u3002"}),Object(s["jsx"])(a["a"],{code:"import { MapboxScene, AMapScene } from '@antv/l7-react';",lang:"javascript"}),Object(s["jsxs"])("h2",{id:"scene-props",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#scene-props","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Scene Props"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"style"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Object"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"scene css \u6837\u5f0f"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"className"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"\u6837\u5f0f\u540d\u79f0"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"map"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"map option"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Required"})}),Object(s["jsxs"])("td",{children:["map option ",Object(s["jsx"])(o["AnchorLink"],{to:"#map-option",children:"\u5730\u56fe\u914d\u7f6e\u9879"})]})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"option"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"scene option"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"void"})}),Object(s["jsxs"])("td",{children:["scene option \u914d\u7f6e\u9879 ",Object(s["jsx"])(o["AnchorLink"],{to:"#scene-option",children:"\u8be6\u60c5"})]})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"onSceneLoaded"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Function"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"void"})}),Object(s["jsx"])("td",{children:"scene \u52a0\u8f7d\u56de\u8c03\u51fd\u6570"})]})]})]}),Object(s["jsxs"])("h3",{id:"\u9ad8\u5fb7\u5730\u56fe\u573a\u666f",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u9ad8\u5fb7\u5730\u56fe\u573a\u666f","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u9ad8\u5fb7\u5730\u56fe\u573a\u666f"]}),Object(s["jsx"])(a["a"],{code:"import { AMapScene } from '@antv/l7-react';\n<AMapScene\n  option={{}}\n  map={{\n    style: 'light',\n    center: [112, 20],\n    token: '',\n  }}\n/>;",lang:"jsx"}),Object(s["jsxs"])("h3",{id:"mapbox-\u5730\u56fe\u573a\u666f",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#mapbox-\u5730\u56fe\u573a\u666f","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Mapbox \u5730\u56fe\u573a\u666f"]}),Object(s["jsx"])(a["a"],{code:"import { MapboxScene } from '@antv/l7-react';\n<MapboxScene\n  option={{}}\n  map={{\n    style: 'light',\n    center: [112, 20],\n    token: '',\n  }}\n/>;",lang:"jsx"}),Object(s["jsxs"])("h3",{id:"map-option",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#map-option","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"map option"]}),Object(s["jsx"])("p",{children:"\u5730\u56fe\u914d\u7f6e\u9879"}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"option"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"style"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"light"})}),Object(s["jsx"])("td",{children:"\u5730\u56fe\u6837\u5f0f `dark"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"token"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Required"})}),Object(s["jsx"])("td",{children:"\u5730\u56fe\u5bc6\u94a5\uff0c\u9700\u8981\u5e73\u53f0\u7533\u8bf7"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"plugin"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string[]"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsxs"])("td",{children:["\u9ad8\u5fb7\u5730\u56fe",Object(s["jsx"])(o["Link"],{to:"https://lbs.amap.com/api/javascript-api/guide/abc/plugins",children:"API \u63d2\u4ef6"})," ",Object(s["jsx"])("code",{children:"['AMap.ToolBar','AMap.Driving']"})]})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"center"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"null"}),Object(s["jsx"])("td",{children:"\u5730\u56fe\u4e2d\u5fc3\u70b9"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"pitch"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"0"}),Object(s["jsx"])("td",{children:"\u5730\u56fe\u503e\u89d2"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"rotation"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"0"}),Object(s["jsx"])("td",{children:"\u5730\u56fe\u65cb\u8f6c\u89d2"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"zoom"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"null"}),Object(s["jsx"])("td",{children:"\u5730\u56fe\u7f29\u653e\u7b49\u7ea7"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"maxZoom"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"0"}),Object(s["jsx"])("td",{children:"\u6700\u5927\u7f29\u653e\u7b49\u7ea7"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"minZoom"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"AMap 18 ,Mapbox 20"}),Object(s["jsx"])("td",{children:"\u6700\u5c0f\u7f29\u653e\u7b49\u7ea7"})]})]})]}),Object(s["jsxs"])("p",{children:["\u5176\u4ed6\u914d\u7f6e\u9879\u89c1\u5730\u56fe\u6587\u6863 \u9ad8\u5fb7\u5730\u56fe Map ",Object(s["jsx"])(o["Link"],{to:"https://lbs.amap.com/api/javascript-api/reference/map",children:"\u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("p",{children:["Mapbox Map \u5730\u56fe\u914d\u7f6e\u9879 ",Object(s["jsx"])(o["Link"],{to:"https://docs.mapbox.com/mapbox-gl-js/api/#map",children:"\u914d\u7f6e\u9879"})]}),Object(s["jsx"])("p",{children:"\u5176\u4ed6\u914d\u7f6e\u9879\u548c\u5e95\u56fe\u4e00\u81f4"}),Object(s["jsxs"])("h3",{id:"scene-option",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#scene-option","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"scene option"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"option"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"logoPosition"}),Object(s["jsx"])("td",{children:"string"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"bottomleft"})}),Object(s["jsx"])("td",{children:"logo \u4f4d\u7f6e `bottomright"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"logoVisible"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"boolean"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"true"})}),Object(s["jsx"])("td",{children:"\u662f\u5426\u663e\u793a logo"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"antialias"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"boolean"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"true"})}),Object(s["jsx"])("td",{children:"\u662f\u5426\u5f00\u542f\u6297\u952f\u9f7f"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"preserveDrawingBuffer"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"boolean"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"false"})}),Object(s["jsx"])("td",{children:"\u662f\u5426\u4fdd\u7559\u7f13\u51b2\u533a\u6570\u636e"})]})]})]}),Object(s["jsxs"])("h3",{id:"\u83b7\u53d6-scene-\u5bf9\u8c61",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u83b7\u53d6-scene-\u5bf9\u8c61","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u83b7\u53d6 scene \u5bf9\u8c61"]}),Object(s["jsxs"])("h4",{id:"onsceneloaded",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#onsceneloaded","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"onSceneLoaded"]}),Object(s["jsx"])("p",{children:"onSceneLoaded \u56de\u8c03\u51fd\u6570\u80fd\u591f\u53d6\u5230 scene \u5bf9\u8c61"}),Object(s["jsxs"])("h4",{id:"context-api",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#context-api","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Context API"]}),Object(s["jsx"])(a["a"],{code:"import { SceneContext } from '@antv/l7-react';\n<SceneContext.Consumer>\n  {scene => {\n    // use `scene` here\n  }}\n</SceneContext.Consumer>;",lang:"jsx"}),Object(s["jsxs"])("h2",{id:"\u5b50\u7ec4\u4ef6",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u5b50\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u5b50\u7ec4\u4ef6"]}),Object(s["jsxs"])("h3",{id:"loadimage",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#loadimage","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"LoadImage"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"name"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"\u56fe\u6807\u540d\u79f0"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"url"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"\u56fe\u6807 url"})]})]})]}),Object(s["jsx"])(a["a"],{code:'import LoadImage from \'@antv/l7-react\';\n<LoadImage name="marker" url="xxx.png" />;',lang:"jsx"}),Object(s["jsxs"])("h3",{id:"layer-\u7ec4\u4ef6",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#layer-\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Layer \u7ec4\u4ef6"]}),Object(s["jsx"])("p",{children:"\u6bcf\u4e2a\u56fe\u5c42\u4f5c\u4e3a scene \u5b50\u7ec4\u4ef6\u6dfb\u52a0"}),Object(s["jsxs"])("h3",{id:"-\u4e8b\u4ef6\u7ec4\u4ef6",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#-\u4e8b\u4ef6\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\b \u4e8b\u4ef6\u7ec4\u4ef6"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"type"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsxs"])("td",{children:["\u4e8b\u4ef6\u7c7b\u578b ",Object(s["jsx"])(o["AnchorLink"],{to:"../scene/#%E5%9C%B0%E5%9B%BE%E4%BA%8B%E4%BB%B6",children:"\u8be6\u60c5"})]})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"handler"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Function"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"scene \u56de\u8c03\u51fd\u6570"})]})]})]}),Object(s["jsx"])(a["a"],{code:"import { SceneEvent, MapboxScene } from '@antv/l7-react';\n\n<MapboxScene>\n  <SceneEvent type=\"click\" handler={() => {}} />\n</MapboxScene>;",lang:"javascript"})]})}))},"/7QA":function(e,t,n){"use strict";n("45oE");var r=n("3dYF");n.o(r,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return r["HeatmapLayer"]})),n.o(r,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return r["ImageLayer"]})),n.o(r,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return r["PolygonLayer"]}));var i=n("nDQn");n.d(t,"AMapScene",(function(){return i["a"]}));n("J9ha");var o=n("BI/h");n.d(t,"AMapSceneV2",(function(){return o["a"]}));var a=n("k5zn");n.d(t,"MapScene",(function(){return a["a"]}));n("3yxH");var s=n("d0Wm");n.d(t,"Control",(function(){return s["a"]}));n("vukK");var u=n("Qagv");n.d(t,"HeatmapLayer",(function(){return u["a"]})),n.d(t,"ImageLayer",(function(){return u["b"]})),n.d(t,"PolygonLayer",(function(){return u["c"]}));var c=n("C0X1");n.d(t,"LayerEvent",(function(){return c["a"]}));n("74OI"),n("A7k1");var l=n("aaB2");n.d(t,"Popup",(function(){return l["a"]}));n("RlPe"),n("+Yrs"),n("oPmN")},"/9aa":function(e,t,n){var r=n("NykK"),i=n("ExA7"),o="[object Symbol]";function a(e){return"symbol"==typeof e||i(e)&&r(e)==o}e.exports=a},"/R3g":function(e,t,n){var r=n("MMxC"),i=n("zTPR"),o=n("ls1J"),a=n("f1E4"),s=n("Acmb"),u=n("IuhT"),c=o.keys,l=o.toKey,f=function(e){var t=[];return u(e,t.push,t),t},p=function(e,t){var n=c(e,t),r=s(e);if(null===r)return n;var o=p(r,t);return o.length?n.length?f(new i(n.concat(o))):o:n};r({target:"Reflect",stat:!0},{getMetadataKeys:function(e){var t=arguments.length<2?void 0:l(arguments[1]);return p(a(e),t)}})},"/Uc5":function(e,t){},"/dTS":function(e,t,n){var r=n("f1E4"),i=n("cT1L"),o=n("2kyd"),a=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[a])?t:i(n)}},"/gva":function(e,t,n){"use strict";var r=n("MMxC"),i=n("ukPv"),o=n("kkxG"),a=n("NMFW"),s=n("a5mf"),u=n("IuhT"),c=n("igoe"),l=n("tSXo"),f=n("MVys"),p=n("GPrf"),h=n("kiNa"),d=n("+vfm");e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),y=m?"set":"add",g=i[e],b=g&&g.prototype,x=g,_={},w=function(e){var t=b[e];a(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(o(e,"function"!=typeof g||!(v||b.forEach&&!f((function(){(new g).entries().next()})))))x=n.getConstructor(t,e,m,y),s.REQUIRED=!0;else if(o(e,!0)){var S=new x,O=S[y](v?{}:-0,1)!=S,E=f((function(){S.has(1)})),k=p((function(e){new g(e)})),C=!v&&f((function(){var e=new g,t=5;while(t--)e[y](t,t);return!e.has(-0)}));k||(x=t((function(t,n){c(t,x,e);var r=d(new g,t,x);return void 0!=n&&u(n,r[y],r,m),r})),x.prototype=b,b.constructor=x),(E||C)&&(w("delete"),w("has"),m&&w("get")),(C||O)&&w(y),v&&b.clear&&delete b.clear}return _[e]=x,r({global:!0,forced:x!=g},_),h(x,e),v||n.setStrong(x,e,m),x}},"/mKc":function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),u=n("7BAe"),c=n("/dTS"),l=n("jbR1"),f=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{filter:function(e){var t=a(this),n=l(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Set"))),p=s(i.add);return f(n,(function(e){r(e,e,t)&&p.call(i,e)}),void 0,!1,!0),i}})},"/vMi":function(e,t,n){"use strict";var r=n("/gva"),i=n("uz3g");r("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"/xke":function(e,t,n){"use strict";n.r(t);n("cIOH"),n("rSSe")},"/yC2":function(e,t,n){var r=n("tny8"),i=n("MVys"),o=n("8w+9");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},0:function(e,t,n){e.exports=n("tB8F")},"03A+":function(e,t,n){var r=n("JTzB"),i=n("ExA7"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},"0Bia":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("9kvl"),s=(n("mdU6"),function(e){var t=e.location,n=Object(r["useContext"])(o["context"]),s=n.base,u=n.locale,c=n.config.locales,l=c.find((function(e){var t=e.name;return t!==u}));function f(e){var n=s.replace("/".concat(u),""),r=t.pathname.replace(new RegExp("^".concat(s,"(/|$)")),"".concat(n,"$1"))||"/";if(e!==c[0].name){var i="".concat(n,"/").concat(e).replace(/\/\//,"/"),o=t.pathname.replace(s.replace(/^\/$/,"//"),"");return"".concat(i).concat(o).replace(/\/$/,"")}return r}return l?i.a.createElement("div",{className:"__dumi-default-locale-select","data-locale-count":c.length},c.length>2?i.a.createElement("select",{value:u,onChange:function(e){return a["a"].push(f(e.target.value))}},c.map((function(e){return i.a.createElement("option",{value:e.name,key:e.name},e.label)}))):i.a.createElement(o["Link"],{to:f(l.name)},l.label)):null}),u=s,c=(n("fVI1"),function(e){var t=e.onMobileMenuClick,n=e.navPrefix,a=e.location,s=e.darkPrefix,c=Object(r["useContext"])(o["context"]),l=c.base,f=c.config,p=f.mode,h=f.title,d=f.logo,m=c.nav;return i.a.createElement("div",{className:"__dumi-default-navbar","data-mode":p},i.a.createElement("button",{className:"__dumi-default-navbar-toggle",onClick:t}),i.a.createElement(o["Link"],{className:"__dumi-default-navbar-logo",style:{backgroundImage:d&&"url('".concat(d,"')")},to:l,"data-plaintext":!1===d||void 0},h),i.a.createElement("nav",null,n,m.map((function(e){var t,n=Boolean(null===(t=e.children)||void 0===t?void 0:t.length)&&i.a.createElement("ul",null,e.children.map((function(e){return i.a.createElement("li",{key:e.path},i.a.createElement(o["NavLink"],{to:e.path},e.title))})));return i.a.createElement("span",{key:e.title||e.path},e.path?i.a.createElement(o["NavLink"],{to:e.path,key:e.path},e.title):e.title,n)})),i.a.createElement("div",{className:"__dumi-default-navbar-tool"},i.a.createElement(u,{location:a}),s)))}),l=c,f=(n("hJnp"),["slugs"]);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,i=d(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var m=function(e){var t=e.slugs,n=h(e,f);return i.a.createElement("ul",p({role:"slug-list"},n),t.filter((function(e){var t=e.depth;return t>1&&t<4})).map((function(e){return i.a.createElement("li",{key:e.heading,title:e.value,"data-depth":e.depth},i.a.createElement(o["AnchorLink"],{to:"#".concat(e.heading)},i.a.createElement("span",null,e.value)))})))},v=m,y=(n("Mpie"),function(e){var t=e.mobileMenuCollapsed,n=e.location,a=e.darkPrefix,s=Object(r["useContext"])(o["context"]),c=s.config,l=c.logo,f=c.title,p=c.description,h=c.mode,d=c.repository.url,m=s.menu,y=s.nav,g=s.base,b=s.meta,x=Boolean((b.hero||b.features||b.gapless)&&"site"===h)||!1===b.sidemenu||void 0;return i.a.createElement("div",{className:"__dumi-default-menu","data-mode":h,"data-hidden":x,"data-mobile-show":!t||void 0},i.a.createElement("div",{className:"__dumi-default-menu-inner"},i.a.createElement("div",{className:"__dumi-default-menu-header"},i.a.createElement(o["Link"],{to:g,className:"__dumi-default-menu-logo",style:{backgroundImage:l&&"url('".concat(l,"')")}}),i.a.createElement("h1",null,f),i.a.createElement("p",null,p),/github\.com/.test(d)&&"doc"===h&&i.a.createElement("p",null,i.a.createElement("object",{type:"image/svg+xml",data:"https://img.shields.io/github/stars".concat(d.match(/((\/[^\/]+){2})$/)[1],"?style=social")}))),i.a.createElement("div",{className:"__dumi-default-menu-mobile-area"},!!y.length&&i.a.createElement("ul",{className:"__dumi-default-menu-nav-list"},y.map((function(e){var t,n=Boolean(null===(t=e.children)||void 0===t?void 0:t.length)&&i.a.createElement("ul",null,e.children.map((function(e){return i.a.createElement("li",{key:e.path||e.title},i.a.createElement(o["NavLink"],{to:e.path},e.title))})));return i.a.createElement("li",{key:e.path||e.title},e.path?i.a.createElement(o["NavLink"],{to:e.path},e.title):e.title,n)}))),i.a.createElement(u,{location:n}),a),i.a.createElement("ul",{className:"__dumi-default-menu-list"},!x&&m.map((function(e){var t,r=Boolean(null===(t=b.slugs)||void 0===t?void 0:t.length),a=e.children&&Boolean(e.children.length),s="menu"===b.toc&&!a&&r&&e.path===n.pathname.replace(/([^^])\/$/,"$1"),u=a?e.children.map((function(e){return e.path})):[e.path,n.pathname.startsWith("".concat(e.path,"/"))?n.pathname:null];return i.a.createElement("li",{key:e.path||e.title},i.a.createElement(o["NavLink"],{to:e.path,isActive:function(){return u.includes(n.pathname)}},e.title),Boolean(e.children&&e.children.length)&&i.a.createElement("ul",null,e.children.map((function(e){return i.a.createElement("li",{key:e.path},i.a.createElement(o["NavLink"],{to:e.path,exact:!0},i.a.createElement("span",null,e.title)),Boolean("menu"===b.toc&&"undefined"!==typeof window&&e.path===n.pathname&&r)&&i.a.createElement(v,{slugs:b.slugs}))}))),s&&i.a.createElement(v,{slugs:b.slugs}))})))))}),g=y;n("AK2Z");function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function x(e,t){return E(e)||O(e,t)||w(e,t)||_()}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){if(e){if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function E(e){if(Array.isArray(e))return e}var k=function(e,t){var n=t.toLowerCase().indexOf(e.toLowerCase()),r=e.length;return i.a.createElement(i.a.Fragment,null,t.substring(0,n),i.a.createElement("span",{className:"__dumi-default-search-highlight"},t.substring(n,n+r)),t.substring(n+r,t.length))},C=function(){var e=Object(r["useState"])(""),t=x(e,2),n=t[0],a=t[1],s=Object(r["useState"])([]),u=x(s,2),c=u[0],l=u[1],f=Object(r["useRef"])(),p=Object(o["useSearch"])(n),h=i.a.createElement("svg",{className:"__dumi-default-search-empty",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2347",width:"32",height:"32"},i.a.createElement("path",{d:"M855.6 427.2H168.5c-12.7 0-24.4 6.9-30.6 18L4.4 684.7C1.5 689.9 0 695.8 0 701.8v287.1c0 19.4 15.7 35.1 35.1 35.1H989c19.4 0 35.1-15.7 35.1-35.1V701.8c0-6-1.5-11.8-4.4-17.1L886.2 445.2c-6.2-11.1-17.9-18-30.6-18zM673.4 695.6c-16.5 0-30.8 11.5-34.3 27.7-12.7 58.5-64.8 102.3-127.2 102.3s-114.5-43.8-127.2-102.3c-3.5-16.1-17.8-27.7-34.3-27.7H119c-26.4 0-43.3-28-31.1-51.4l81.7-155.8c6.1-11.6 18-18.8 31.1-18.8h622.4c13 0 25 7.2 31.1 18.8l81.7 155.8c12.2 23.4-4.7 51.4-31.1 51.4H673.4zM819.9 209.5c-1-1.8-2.1-3.7-3.2-5.5-9.8-16.6-31.1-22.2-47.8-12.6L648.5 261c-17 9.8-22.7 31.6-12.6 48.4 0.9 1.4 1.7 2.9 2.5 4.4 9.5 17 31.2 22.8 48 13L807 257.3c16.7-9.7 22.4-31 12.9-47.8zM375.4 261.1L255 191.6c-16.7-9.6-38-4-47.8 12.6-1.1 1.8-2.1 3.6-3.2 5.5-9.5 16.8-3.8 38.1 12.9 47.8L337.3 327c16.9 9.7 38.6 4 48-13.1 0.8-1.5 1.7-2.9 2.5-4.4 10.2-16.8 4.5-38.6-12.4-48.4zM512 239.3h2.5c19.5 0.3 35.5-15.5 35.5-35.1v-139c0-19.3-15.6-34.9-34.8-35.1h-6.4C489.6 30.3 474 46 474 65.2v139c0 19.5 15.9 35.4 35.5 35.1h2.5z"}));return Object(r["useEffect"])((function(){Array.isArray(p)?l(p):"function"===typeof p&&p(".".concat(f.current.className))}),[p]),i.a.createElement("div",{className:"__dumi-default-search"},i.a.createElement("input",b({className:"__dumi-default-search-input",type:"search",ref:f},Array.isArray(p)?{value:n,onChange:function(e){return a(e.target.value)}}:{})),i.a.createElement("ul",null,c.length>0&&c.map((function(e){var t;return i.a.createElement("li",{key:e.path,onClick:function(){return a("")}},i.a.createElement(o["AnchorLink"],{to:e.path},(null===(t=e.parent)||void 0===t?void 0:t.title)&&i.a.createElement("span",null,e.parent.title),k(n,e.title)))})),0===c.length&&n&&i.a.createElement("li",{style:{textAlign:"center"}},h)))};n("Zkgb");function j(e,t){return I(e)||M(e,t)||A(e,t)||T()}function T(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){if(e){if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function I(e){if(Array.isArray(e))return e}var L=function(e){var t=e.darkSwitch,n=e.onDarkSwitchClick,r=e.isSideMenu,a=["dark","light","auto"],s=Object(o["usePrefersColor"])(),u=j(s,2),c=u[0],l=u[1],f=c,p=i.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4026",width:"22",height:"22"},i.a.createElement("path",{d:"M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z","p-id":"4027"})),h=i.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3854",width:"22",height:"22"},i.a.createElement("path",{d:"M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z","p-id":"3855"})),d=i.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11002",width:"22",height:"22"},i.a.createElement("path",{d:"M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z","p-id":"11003"})),m=a.filter((function(e){return e!==f})),v=function(e,t){!r&&n&&n(e),t!==f&&l(t)},y=function(e){switch(e){case"dark":return i.a.createElement("button",{key:"dumi-dark-btn-moon",title:"Dark theme",onClick:function(t){return v(t,e)},className:"__dumi-default-dark-moon ".concat(e===f?"__dumi-default-dark-switch-active":"")},h);case"light":return i.a.createElement("button",{key:"dumi-dark-btn-sun",title:"Light theme",onClick:function(t){return v(t,e)},className:"__dumi-default-dark-sun ".concat(e===f?"__dumi-default-dark-switch-active":"")},p);case"auto":return i.a.createElement("button",{key:"dumi-dark-btn-auto",title:"Default to system",onClick:function(t){return v(t,e)},className:"__dumi-default-dark-auto ".concat(e===f?"__dumi-default-dark-switch-active":"")},d);default:}};return i.a.createElement("div",{className:"__dumi-default-dark"},i.a.createElement("div",{className:"__dumi-default-dark-switch ".concat(!r&&t?"__dumi-default-dark-switch-open":"")},r?a.map((function(e){return y(e)})):y(f)),!r&&t&&i.a.createElement("div",{className:"__dumi-default-dark-switch-list"},m.map((function(e){return y(e)}))))},R=L;n("AQPS");function D(e,t){return U(e)||B(e,t)||z(e,t)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function z(e,t){if(e){if("string"===typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function U(e){if(Array.isArray(e))return e}var V=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"__dumi-default-layout-hero"},e.image&&i.a.createElement("img",{src:e.image}),i.a.createElement("h1",null,e.title),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.desc}}),e.actions&&e.actions.map((function(e){return i.a.createElement(o["Link"],{to:e.link,key:e.text},i.a.createElement("button",{type:"button"},e.text))}))))},H=function(e){return i.a.createElement("div",{className:"__dumi-default-layout-features"},e.map((function(e){return i.a.createElement("dl",{key:e.title,style:{backgroundImage:e.icon?"url(".concat(e.icon,")"):void 0}},e.link?i.a.createElement(o["Link"],{to:e.link},i.a.createElement("dt",null,e.title)):i.a.createElement("dt",null,e.title),i.a.createElement("dd",{dangerouslySetInnerHTML:{__html:e.desc}}))})))},q=function(e){var t,n,a=e.children,s=e.location,u=Object(r["useContext"])(o["context"]),c=u.config,f=c.mode,p=c.repository,h=(u.nav,u.meta),d=u.locale,m=p.url,y=p.branch,b=p.platform,x=Object(r["useState"])(!0),_=D(x,2),w=_[0],S=_[1],O=Object(r["useState"])(!1),E=D(O,2),k=E[0],j=E[1],T="site"===f,A=T&&h.hero,P=T&&h.features,M=!1!==h.sidemenu&&!A&&!P&&!h.gapless,I=!A&&!P&&Boolean(null===(t=h.slugs)||void 0===t?void 0:t.length)&&("content"===h.toc||void 0===h.toc)&&!h.gapless,L=/^zh|cn$/i.test(d),N=new Date(h.updatedTime),z="".concat(N.toLocaleDateString([],{hour12:!1})," ").concat(N.toLocaleTimeString([],{hour12:!1})),F={github:"GitHub",gitlab:"GitLab"}[(null===(n=(m||"").match(/(github|gitlab)/))||void 0===n?void 0:n[1])||"nothing"]||b;return i.a.createElement("div",{className:"__dumi-default-layout","data-route":s.pathname,"data-show-sidemenu":String(M),"data-show-slugs":String(I),"data-site-mode":T,"data-gapless":String(!!h.gapless),onClick:function(){j(!1),w||S(!0)}},i.a.createElement(l,{location:s,navPrefix:i.a.createElement(C,null),darkPrefix:i.a.createElement(R,{darkSwitch:k,onDarkSwitchClick:function(e){j((function(e){return!e})),e.stopPropagation()},isSideMenu:!1}),onMobileMenuClick:function(e){S((function(e){return!e})),e.stopPropagation()}}),i.a.createElement(g,{darkPrefix:i.a.createElement(R,{darkSwitch:k,isSideMenu:!0}),mobileMenuCollapsed:w,location:s}),I&&i.a.createElement(v,{slugs:h.slugs,className:"__dumi-default-layout-toc"}),A&&V(h.hero),P&&H(h.features),i.a.createElement("div",{className:"__dumi-default-layout-content"},a,!A&&!P&&h.filePath&&!h.gapless&&i.a.createElement("div",{className:"__dumi-default-layout-footer-meta"},F&&i.a.createElement(o["Link"],{to:"".concat(m,"/edit/").concat(y,"/").concat(h.filePath)},L?"\u5728 ".concat(F," \u4e0a\u7f16\u8f91\u6b64\u9875"):"Edit this doc on ".concat(F)),i.a.createElement("span",{"data-updated-text":L?"\u6700\u540e\u66f4\u65b0\u65f6\u95f4\uff1a":"Last update: "},z)),(A||P)&&h.footer&&i.a.createElement("div",{className:"__dumi-default-layout-footer",dangerouslySetInnerHTML:{__html:h.footer}})))};t["default"]=q},"0Cz8":function(e,t,n){var r=n("Xi7e"),i=n("ebwN"),o=n("e4Nc"),a=200;function s(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}e.exports=s},"0JQy":function(e,t){var n="\\ud800-\\udfff",r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",a=r+i+o,s="\\ufe0e\\ufe0f",u="["+n+"]",c="["+a+"]",l="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+l+")",p="[^"+n+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",v=f+"?",y="["+s+"]?",g="(?:"+m+"(?:"+[p,h,d].join("|")+")"+y+v+")*",b=y+v+g,x="(?:"+[p+c+"?",c,h,d,u].join("|")+")",_=RegExp(l+"(?="+l+")|"+x+b,"g");function w(e){return e.match(_)||[]}e.exports=w},"0O5u":function(e,t,n){"use strict";var r=n("MMxC"),i=n("MVys"),o=n("Un+d"),a=n("tSXo"),s=n("cTDu"),u=n("oa35"),c=n("arQb"),l=n("nMuc"),f=n("jMDO"),p=n("2kyd"),h=n("hRxt"),d=p("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",y=h>=51||!i((function(){var e=[];return e[d]=!1,e.concat()[0]!==e})),g=f("concat"),b=function(e){if(!a(e))return!1;var t=e[d];return void 0!==t?!!t:o(e)},x=!y||!g;r({target:"Array",proto:!0,forced:x},{concat:function(e){var t,n,r,i,o,a=s(this),f=l(a,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?a:arguments[t],b(o)){if(i=u(o.length),p+i>m)throw TypeError(v);for(n=0;n<i;n++,p++)n in o&&c(f,p,o[n])}else{if(p>=m)throw TypeError(v);c(f,p++,o)}return f.length=p,f}})},"0ZTe":function(e,t,n){var r=n("wy8a"),i=n("quyA"),o=n("Em2t"),a=n("dt0z");function s(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return s[e]()+u}}e.exports=s},"0eqD":function(e,t){},"0gSV":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var r=n("GXnB"),i=n("Ztfv");function o(e,t){return function(n,o,a){var s=new r.Metadata(e,t);"number"===typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}t.tagged=o},"0iz5":function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),o=n("9/5/"),a=n.n(o),s=n("hKI/"),u=n.n(s);function c(){return"undefined"===typeof document||"undefined"===typeof document.visibilityState||"hidden"!==document.visibilityState}function l(){return"undefined"===typeof navigator.onLine||navigator.onLine}var f=new Map,p=function(e,t,n){var r=f.get(e);(null===r||void 0===r?void 0:r.timer)&&clearTimeout(r.timer);var i=void 0;t>-1&&(i=setTimeout((function(){f["delete"](e)}),t)),f.set(e,{data:n,timer:i,startTime:(new Date).getTime()})},h=function(e){var t=f.get(e);return{data:null===t||void 0===t?void 0:t.data,startTime:null===t||void 0===t?void 0:t.startTime}},d=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a},m=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e};function v(e,t){var n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n||(n=!0,e.apply(void 0,m(r)),setTimeout((function(){n=!1}),t))}}var y=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a},g=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e};function b(e){var t=Object(r["useRef"])((function(){throw new Error("Cannot call an event handler while rendering.")}));t.current=e;var n=Object(r["useCallback"])((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.current;if(r)return r.apply(void 0,g(e))}),[t]);if("function"===typeof e)return n}var x=b,_=function(e,t){var n=Object(r["useRef"])(!1);Object(r["useEffect"])((function(){return function(){n.current=!1}}),[]),Object(r["useEffect"])((function(){if(n.current)return e();n.current=!0}),t)},w=_,S=[];function O(e){return S.push(e),function(){var t=S.indexOf(e);S.splice(t,1)}}var E=!1;if("undefined"!==typeof window&&window.addEventListener&&!E){var k=function(){if(c()&&l())for(var e=0;e<S.length;e++){var t=S[e];t()}};window.addEventListener("visibilitychange",k,!1),window.addEventListener("focus",k,!1),E=!0}var C=O,j=[];function T(e){return j.push(e),function(){var t=j.indexOf(e);j.splice(t,1)}}var A=!1;if("undefined"!==typeof window&&window.addEventListener&&!A){var P=function(){if(c())for(var e=0;e<j.length;e++){var t=j[e];t()}};window.addEventListener("visibilitychange",P,!1),A=!0}var M=T,I=function(){return I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},I.apply(this,arguments)},L=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a},R=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(L(arguments[t]));return e},D="AHOOKS_USE_REQUEST_DEFAULT_KEY",N=function(){function e(e,t,n,r){this.count=0,this.pollingWhenVisibleFlag=!1,this.pollingTimer=void 0,this.loadingDelayTimer=void 0,this.unsubscribe=[],this.that=this,this.state={loading:!1,params:[],data:void 0,error:void 0,run:this.run.bind(this.that),mutate:this.mutate.bind(this.that),refresh:this.refresh.bind(this.that),cancel:this.cancel.bind(this.that),unmount:this.unmount.bind(this.that)},this.service=e,this.config=t,this.subscribe=n,r&&(this.state=I(I({},this.state),r)),this.debounceRun=this.config.debounceInterval?a()(this._run,this.config.debounceInterval):void 0,this.throttleRun=this.config.throttleInterval?u()(this._run,this.config.throttleInterval):void 0,this.limitRefresh=v(this.refresh.bind(this),this.config.focusTimespan),this.config.pollingInterval&&this.unsubscribe.push(M(this.rePolling.bind(this))),this.config.refreshOnWindowFocus&&this.unsubscribe.push(C(this.limitRefresh.bind(this)))}return e.prototype.setState=function(e){void 0===e&&(e={}),this.state=I(I({},this.state),e),this.subscribe(this.state)},e.prototype._run=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.pollingTimer&&clearTimeout(this.pollingTimer),this.loadingDelayTimer&&clearTimeout(this.loadingDelayTimer),this.count+=1;var r=this.count;return this.setState({loading:!this.config.loadingDelay,params:t}),this.config.loadingDelay&&(this.loadingDelayTimer=setTimeout((function(){e.setState({loading:!0})}),this.config.loadingDelay)),this.service.apply(this,R(t)).then((function(n){if(r!==e.count)return new Promise((function(){}));e.loadingDelayTimer&&clearTimeout(e.loadingDelayTimer);var i=e.config.formatResult?e.config.formatResult(n):n;return e.setState({data:i,error:void 0,loading:!1}),e.config.onSuccess&&e.config.onSuccess(i,t),i}))["catch"]((function(n){if(r!==e.count)return new Promise((function(){}));if(e.loadingDelayTimer&&clearTimeout(e.loadingDelayTimer),e.setState({data:void 0,error:n,loading:!1}),e.config.onError&&e.config.onError(n,t),e.config.throwOnError)throw n;return console.error(n),Promise.reject("useRequest has caught the exception, if you need to handle the exception yourself, you can set options.throwOnError to true.")}))["finally"]((function(){if(r===e.count&&e.config.pollingInterval){if(!c()&&!e.config.pollingWhenHidden)return void(e.pollingWhenVisibleFlag=!0);e.pollingTimer=setTimeout((function(){e._run.apply(e,R(t))}),e.config.pollingInterval)}}))},e.prototype.run=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.debounceRun?(this.debounceRun.apply(this,R(e)),Promise.resolve(null)):this.throttleRun?(this.throttleRun.apply(this,R(e)),Promise.resolve(null)):this._run.apply(this,R(e))},e.prototype.cancel=function(){this.debounceRun&&this.debounceRun.cancel(),this.throttleRun&&this.throttleRun.cancel(),this.loadingDelayTimer&&clearTimeout(this.loadingDelayTimer),this.pollingTimer&&clearTimeout(this.pollingTimer),this.pollingWhenVisibleFlag=!1,this.count+=1,this.setState({loading:!1})},e.prototype.refresh=function(){return this.run.apply(this,R(this.state.params))},e.prototype.rePolling=function(){this.pollingWhenVisibleFlag&&(this.pollingWhenVisibleFlag=!1,this.refresh())},e.prototype.mutate=function(e){"function"===typeof e?this.setState({data:e(this.state.data)||{}}):this.setState({data:e})},e.prototype.unmount=function(){this.cancel(),this.unsubscribe.forEach((function(e){e()}))},e}();function z(e,t){var n,i=t||{},o=i.refreshDeps,a=void 0===o?[]:o,s=i.manual,u=void 0!==s&&s,c=i.onSuccess,l=void 0===c?function(){}:c,f=i.onError,d=void 0===f?function(){}:f,m=i.defaultLoading,v=void 0!==m&&m,y=i.loadingDelay,g=i.pollingInterval,b=void 0===g?0:g,_=i.pollingWhenHidden,S=void 0===_||_,O=i.defaultParams,E=void 0===O?[]:O,k=i.refreshOnWindowFocus,C=void 0!==k&&k,j=i.focusTimespan,T=void 0===j?5e3:j,A=i.fetchKey,P=i.cacheKey,M=i.cacheTime,z=void 0===M?3e5:M,F=i.staleTime,B=void 0===F?0:F,U=i.debounceInterval,V=i.throttleInterval,H=i.initialData,q=i.ready,G=void 0===q||q,W=i.throwOnError,Z=void 0!==W&&W,Y=Object(r["useRef"])(D),X=x(e),K=x(l),J=x(d),Q=x(A);"formatResult"in i&&(n=i.formatResult);var $=x(n),ee={formatResult:$,onSuccess:K,onError:J,loadingDelay:y,pollingInterval:b,pollingWhenHidden:S,refreshOnWindowFocus:!u&&C,focusTimespan:T,debounceInterval:U,throttleInterval:V,throwOnError:Z},te=x((function(e,t){ie((function(n){return n[e]=t,I({},n)}))})),ne=L(Object(r["useState"])((function(){var e;if(P){var t=null===(e=h(P))||void 0===e?void 0:e.data;if(t){Y.current=t.newstFetchKey;var n={};return Object.keys(t.fetches).forEach((function(e){var r=t.fetches[e],i=new N(X,ee,te.bind(null,e),{loading:r.loading,params:r.params,data:r.data,error:r.error});n[e]=i.state})),n}}return{}})),2),re=ne[0],ie=ne[1],oe=Object(r["useRef"])(re);oe.current=re;var ae=Object(r["useRef"])(),se=Object(r["useCallback"])((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(G){if(Q){var n=Q.apply(void 0,R(e));Y.current=void 0===n?D:n}var r=Y.current,i=oe.current[r];if(!i){var o=new N(X,ee,te.bind(null,r),{data:H});i=o.state,ie((function(e){return e[r]=i,I({},e)}))}return i.run.apply(i,R(e))}ae.current=e}),[A,te,G]),ue=Object(r["useRef"])(se);ue.current=se,w((function(){P&&p(P,z,{fetches:re,newstFetchKey:Y.current})}),[P,re]);var ce=Object(r["useRef"])(!1);w((function(){G&&(!ce.current&&ae.current&&ue.current.apply(ue,R(ae.current)),ce.current=!0)}),[G]),Object(r["useEffect"])((function(){var e;if(!u)if(Object.keys(re).length>0){var t=P&&(null===(e=h(P))||void 0===e?void 0:e.startTime)||0;-1===B||(new Date).getTime()-t<=B||Object.values(re).forEach((function(e){e.refresh()}))}else ue.current.apply(ue,R(E))}),[]);var le=Object(r["useCallback"])((function(){Object.values(oe.current).forEach((function(e){e.unmount()})),Y.current=D,ie({}),oe.current={}}),[ie]);w((function(){u||Object.values(oe.current).forEach((function(e){e.refresh()}))}),R(a)),Object(r["useEffect"])((function(){return function(){Object.values(oe.current).forEach((function(e){e.unmount()}))}}),[]);var fe=Object(r["useCallback"])((function(e){return function(){console.warn("You should't call "+e+" when service not executed once.")}}),[]);return I(I({loading:G&&!u||v,data:H,error:void 0,params:[],cancel:fe("cancel"),refresh:fe("refresh"),mutate:fe("mutate")},re[Y.current]||{}),{run:se,fetches:re,reset:le})}var F=z,B=function(){return B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},B.apply(this,arguments)},U=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},V=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a},H=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(V(arguments[t]));return e};function q(e,t){var n=t.refreshDeps,i=void 0===n?[]:n,o=t.ref,a=t.isNoMore,s=t.threshold,u=void 0===s?100:s,c=(t.fetchKey,U(t,["refreshDeps","ref","isNoMore","threshold","fetchKey"])),l=V(Object(r["useState"])(!1),2),f=l[0],p=l[1];Object(r["useEffect"])((function(){t.fetchKey&&console.warn("useRequest loadMore mode don't need fetchKey!")}),[]);var h=F(e,B(B({},c),{fetchKey:function(e){var t;return(null===(t=null===e||void 0===e?void 0:e.list)||void 0===t?void 0:t.length)||0},onSuccess:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];p(!1),t.onSuccess&&t.onSuccess.apply(t,H(e))}})),d=h.data,m=h.run,v=h.params,y=h.reset,g=h.loading,b=h.fetches,x=Object(r["useCallback"])((function(){y();var e=V(v),t=e.slice(1);m.apply(void 0,H([void 0],t))}),[m,y,v]),_=Object(r["useRef"])(x);_.current=x,w((function(){t.manual||_.current()}),H(i));var S=Object(r["useMemo"])((function(){var e=[],t=d;return Object.values(b).forEach((function(n){var r,i;(null===(r=n.data)||void 0===r?void 0:r.list)&&(e=e.concat(null===(i=n.data)||void 0===i?void 0:i.list)),n.loading||(t=n.data)})),B(B({},t),{list:e})}),[b,d]),O=!!a&&(!g&&!f&&a(S)),E=Object(r["useCallback"])((function(){if(!O){p(!0);var e=V(v),t=e.slice(1);m.apply(void 0,H([S],t))}}),[O,m,S,v]),k=function(){!g&&!f&&o&&o.current&&o.current.scrollHeight-o.current.scrollTop<=o.current.clientHeight+u&&E()},C=Object(r["useRef"])(k);return C.current=k,Object(r["useEffect"])((function(){if(!o||!o.current)return function(){};var e=function(){return C.current()};return o.current.addEventListener("scroll",e),function(){o&&o.current&&o.current.removeEventListener("scroll",e)}}),[C]),B(B({},h),{data:S,reload:x,loading:g&&0===S.list.length,loadMore:E,loadingMore:f,noMore:O})}var G=q,W=function(){return W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},W.apply(this,arguments)},Z=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Y=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a},X=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Y(arguments[t]));return e};function K(e,t){t.paginated;var n=t.defaultPageSize,i=void 0===n?10:n,o=t.refreshDeps,a=void 0===o?[]:o,s=t.fetchKey,u=Z(t,["paginated","defaultPageSize","refreshDeps","fetchKey"]);Object(r["useEffect"])((function(){s&&console.error("useRequest pagination's fetchKey will not work!")}),[]);var c=F(e,W({defaultParams:[{current:1,pageSize:i}]},u)),l=c.data,f=c.params,p=c.run,h=c.loading,d=Z(c,["data","params","run","loading"]),m=f&&f[0]?f[0]:{},v=m.current,y=void 0===v?1:v,g=m.pageSize,b=void 0===g?i:g,x=m.sorter,_=void 0===x?{}:x,S=m.filters,O=void 0===S?{}:S,E=Object(r["useCallback"])((function(e){var t=Y(f),n=t[0],r=t.slice(1);p.apply(void 0,X([W(W({},n),e)],r))}),[p,f]),k=(null===l||void 0===l?void 0:l.total)||0,C=Object(r["useMemo"])((function(){return Math.ceil(k/b)}),[b,k]),j=Object(r["useCallback"])((function(e,t){var n=e<=0?1:e,r=t<=0?1:t,i=Math.ceil(k/r);n>i&&(n=i),E({current:e,pageSize:t})}),[k,E]),T=Object(r["useCallback"])((function(e){j(e,b)}),[j,b]),A=Object(r["useCallback"])((function(e){j(y,e)}),[j,y]),P=Object(r["useRef"])(T);P.current=T,w((function(){t.manual||P.current(1)}),X(a));var M=Object(r["useCallback"])((function(e,t,n){E({current:e.current,pageSize:e.pageSize||i,filters:t,sorter:n})}),[O,_,E]);return W({loading:h,data:l,params:f,run:p,pagination:{current:y,pageSize:b,total:k,totalPage:C,onChange:j,changeCurrent:T,changePageSize:A},tableProps:{dataSource:(null===l||void 0===l?void 0:l.list)||[],loading:h,onChange:M,pagination:{current:y,pageSize:b,total:k}},sorter:_,filters:O},d)}var J=K,Q=i.a.createContext({});Q.displayName="UseRequestConfigContext";var $=Q,ee=function(){return ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ee.apply(this,arguments)},te=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ne=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a},re=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ne(arguments[t]));return e};function ie(e,t){void 0===t&&(t={});var n=Object(r["useContext"])($),i=ee(ee({},n),t),o=i.paginated,a=i.loadMore,s=i.requestMethod,u=Object(r["useRef"])(o),c=Object(r["useRef"])(a);if(u.current!==o)throw Error("You should not modify the paginated of options");if(c.current!==a)throw Error("You should not modify the loadMore of options");u.current=o,c.current=a;var l,f=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fetch.apply(void 0,re(e)).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)}))},p=s||f;switch(typeof e){case"string":l=function(){return p(e)};break;case"object":var h=e.url,d=te(e,["url"]);l=function(){return s?s(e):f(h,d)};break;default:l=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new Promise((function(n,r){var i=e.apply(void 0,re(t)),o=i;if(!i.then)switch(typeof i){case"string":o=p(i);break;case"object":var a=i.url,u=te(i,["url"]);o=s?s(i):f(a,u);break}o.then(n)["catch"](r)}))}}return a?G(l,i):o?J(l,i):F(l,i)}$.Provider,t["a"]=ie},"0jNN":function(e,t,n){"use strict";var r=n("sxOR"),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e){while(e.length>1){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)"undefined"!==typeof n[i]&&r.push(n[i]);t.obj[t.prop]=r}}},u=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n},c=function e(t,n,r){if(!n)return t;if("object"!==typeof n){if(o(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var a=t;return o(t)&&!o(n)&&(a=u(t,r)),o(t)&&o(n)?(n.forEach((function(n,o){if(i.call(t,o)){var a=t[o];a&&"object"===typeof a&&n&&"object"===typeof n?t[o]=e(a,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var a=n[o];return i.call(t,o)?t[o]=e(t[o],a,r):t[o]=a,t}),a)},l=function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},f=function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},p=function(e,t,n,i,o){if(0===e.length)return e;var s=e;if("symbol"===typeof e?s=Symbol.prototype.toString.call(e):"string"!==typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var u="",c=0;c<s.length;++c){var l=s.charCodeAt(c);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===r.RFC1738&&(40===l||41===l)?u+=s.charAt(c):l<128?u+=a[l]:l<2048?u+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?u+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(c+=1,l=65536+((1023&l)<<10|1023&s.charCodeAt(c)),u+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return u},h=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],o=i.obj[i.prop],a=Object.keys(o),u=0;u<a.length;++u){var c=a[u],l=o[c];"object"===typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:o,prop:c}),n.push(l))}return s(t),e},d=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},m=function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},v=function(e,t){return[].concat(e,t)},y=function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)};e.exports={arrayToObject:u,assign:l,combine:v,compact:h,decode:f,encode:p,isBuffer:m,isRegExp:d,maybeMap:y,merge:c}},"0lAh":function(e,t,n){"use strict";n.r(t);var r=n("k1fw"),i=n("q1tI"),o=n.n(i),a=n("dEAq"),s=n("Zxc8"),u=n("Rsk4"),c=n("nKUr"),l=o.a.memo(u["default"]["docs-map"].component);t["default"]=e=>(o.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),Object(c["jsx"])(c["Fragment"],{children:Object(c["jsxs"])(o.a.Fragment,{children:[Object(c["jsx"])("div",{className:"markdown",children:Object(c["jsxs"])("h2",{id:"hello-react",children:[Object(c["jsx"])(a["AnchorLink"],{to:"#hello-react","aria-hidden":"true",tabIndex:-1,children:Object(c["jsx"])("span",{className:"icon icon-link"})}),"Hello react!"]})}),Object(c["jsx"])(s["default"],Object(r["a"])(Object(r["a"])({},u["default"]["docs-map"].previewerProps),{},{children:Object(c["jsx"])(l,{})}))]})}))},"0pSW":function(e,t,n){var r=n("MMxC"),i=n("ls1J"),o=n("f1E4"),a=i.get,s=i.toKey;r({target:"Reflect",stat:!0},{getOwnMetadata:function(e,t){var n=arguments.length<3?void 0:s(arguments[2]);return a(e,o(t),n)}})},"0qr0":function(e,t,n){var r=n("EzR6"),i=n("FCfD");e.exports=function(e){return r(i(e))}},"0wsv":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return f}));var r=6371008.8,i={centimeters:100*r,centimetres:100*r,degrees:r/111325,feet:3.28084*r,inches:39.37*r,kilometers:r/1e3,kilometres:r/1e3,meters:r,metres:r,miles:r/1609.344,millimeters:1e3*r,millimetres:1e3*r,nauticalmiles:r/1852,radians:1,yards:1.0936*r};function o(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function a(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!l(e[0])||!l(e[1]))throw new Error("coordinates must contain numbers");var r={type:"Point",coordinates:e};return o(r,t,n)}function s(e,t,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var r={type:"LineString",coordinates:e};return o(r,t,n)}function u(e,t){void 0===t&&(t="kilometers");var n=i[t];if(!n)throw new Error(t+" units is invalid");return e*n}function c(e){var t=e%360;return t*Math.PI/180}function l(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function f(e){return!!e&&e.constructor===Object}},"0x2o":function(e,t,n){"use strict";n("MgzW");var r=n("q1tI"),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},"0ycA":function(e,t){function n(){return[]}e.exports=n},1:function(e,t){},"1+5i":function(e,t,n){var r=n("w/wX"),i=n("sEf8"),o=n("mdPL"),a=o&&o.isSet,s=a?i(a):r;e.exports=s},"16Al":function(e,t,n){"use strict";var r=n("WbBG");function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},"17x9":function(e,t,n){e.exports=n("16Al")()},"1A8y":function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n("1OyB"),i=n("vuIU"),o=n("md7G"),a=n("foSv"),s=n("Ji7U"),u=n("JX7q"),c=n("ODXe"),l=n("bl9R");function f(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function p(e,t){var n=l["transformMat4"]([],t,e);return l["scale"](n,n,1/n[3]),n}var h=n("ZaHm"),d=n("ZxFD"),m=n("n+fv");function v(e,t){if(!e)throw new Error(t||"viewport-mercator-project: assertion failed.")}var y=Math.PI,g=y/4,b=y/180,x=180/y,_=512,w=4003e4,S=1.5;function O(e){return Math.pow(2,e)}function E(e,t){var n=Object(c["a"])(e,2),r=n[0],i=n[1];v(Number.isFinite(r)&&Number.isFinite(t)),v(Number.isFinite(i)&&i>=-90&&i<=90,"invalid latitude"),t*=_;var o=r*b,a=i*b,s=t*(o+y)/(2*y),u=t*(y-Math.log(Math.tan(g+.5*a)))/(2*y);return[s,u]}function k(e,t){var n=Object(c["a"])(e,2),r=n[0],i=n[1];t*=_;var o=r/t*(2*y)-y,a=2*(Math.atan(Math.exp(y-i/t*(2*y)))-g);return[o*x,a*x]}function C(e){var t=e.latitude,n=e.longitude,r=e.zoom,i=e.scale,o=e.highPrecision,a=void 0!==o&&o;i=void 0!==i?i:O(r),v(Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(i));var s={},u=_*i,c=Math.cos(t*b),l=u/360,f=l/c,p=u/w/c;if(s.pixelsPerMeter=[p,-p,p],s.metersPerPixel=[1/p,-1/p,1/p],s.pixelsPerDegree=[l,-f,p],s.degreesPerPixel=[1/l,-1/f,1/p],a){var h=b*Math.tan(t*b)/c,d=l*h/2,m=u/w*h,y=m/f*p;s.pixelsPerDegree2=[0,-d,m],s.pixelsPerMeter2=[y,0,y]}return s}function j(e){var t=e.height,n=e.pitch,r=e.bearing,i=e.altitude,o=e.center,a=void 0===o?null:o,s=e.flipY,u=void 0!==s&&s,c=f();return h["translate"](c,c,[0,0,-i]),h["scale"](c,c,[1,1,1/t]),h["rotateX"](c,c,-n*b),h["rotateZ"](c,c,r*b),u&&h["scale"](c,c,[1,-1,1]),a&&h["translate"](c,c,m["negate"]([],a)),c}function T(e){var t=e.width,n=e.height,r=e.altitude,i=void 0===r?S:r,o=e.pitch,a=void 0===o?0:o,s=e.nearZMultiplier,u=void 0===s?1:s,c=e.farZMultiplier,l=void 0===c?1:c,f=a*b,p=Math.atan(.5/i),h=Math.sin(p)*i/Math.sin(Math.PI/2-f-p),d=Math.cos(Math.PI/2-f)*h+i;return{fov:2*Math.atan(n/2/i),aspect:t/n,focalDistance:i,near:u,far:d*l}}function A(e){var t=e.width,n=e.height,r=e.pitch,i=e.altitude,o=e.nearZMultiplier,a=e.farZMultiplier,s=T({width:t,height:n,altitude:i,pitch:r,nearZMultiplier:o,farZMultiplier:a}),u=s.fov,c=s.aspect,l=s.near,f=s.far,p=h["perspective"]([],u,c,l,f);return p}function P(e,t){var n=Object(c["a"])(e,3),r=n[0],i=n[1],o=n[2],a=void 0===o?0:o;return v(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(a)),p(t,[r,i,a,1])}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Object(c["a"])(e,3),i=r[0],o=r[1],a=r[2];if(v(Number.isFinite(i)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(a)){var s=p(t,[i,o,a,1]);return s}var u=p(t,[i,o,0,1]),l=p(t,[i,o,1,1]),f=u[2],h=l[2],m=f===h?0:((n||0)-f)/(h-f);return d["lerp"]([],u,l,m)}var I=f(),L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width,i=t.height,o=t.viewMatrix,a=void 0===o?I:o,s=t.projectionMatrix,u=void 0===s?I:s;Object(r["a"])(this,e),this.width=n||1,this.height=i||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=a,this.projectionMatrix=u;var c=f();h["multiply"](c,c,this.projectionMatrix),h["multiply"](c,c,this.viewMatrix),this.viewProjectionMatrix=c;var l=f();h["scale"](l,l,[this.width/2,-this.height/2,1]),h["translate"](l,l,[1,-1,0]),h["multiply"](l,l,this.viewProjectionMatrix);var p=h["invert"](f(),l);if(!p)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=l,this.pixelUnprojectionMatrix=p,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return Object(i["a"])(e,[{key:"equals",value:function(t){return t instanceof e&&(t.width===this.width&&t.height===this.height&&h["equals"](t.projectionMatrix,this.projectionMatrix)&&h["equals"](t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,i=this.projectPosition(e),o=P(i,this.pixelProjectionMatrix),a=Object(c["a"])(o,2),s=a[0],u=a[1],l=r?u:this.height-u;return 2===e.length?[s,l]:[s,l,o[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,i=t.targetZ,o=Object(c["a"])(e,3),a=o[0],s=o[1],u=o[2],l=r?s:this.height-s,f=i&&i*this.pixelsPerMeter,p=M([a,l,u],this.pixelUnprojectionMatrix,f),h=this.unprojectPosition(p),d=Object(c["a"])(h,3),m=d[0],v=d[1],y=d[2];return Number.isFinite(u)?[m,v,y]:Number.isFinite(i)?[m,v,i]:[m,v]}},{key:"projectPosition",value:function(e){var t=this.projectFlat(e),n=Object(c["a"])(t,2),r=n[0],i=n[1],o=(e[2]||0)*this.pixelsPerMeter;return[r,i,o]}},{key:"unprojectPosition",value:function(e){var t=this.unprojectFlat(e),n=Object(c["a"])(t,2),r=n[0],i=n[1],o=(e[2]||0)/this.pixelsPerMeter;return[r,i,o]}},{key:"projectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]||this.scale;return e}},{key:"unprojectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]||this.scale;return e}}]),e}();function R(e){var t=e.width,n=e.height,r=e.bounds,i=e.minExtent,o=void 0===i?0:i,a=e.maxZoom,s=void 0===a?24:a,u=e.padding,l=void 0===u?0:u,f=e.offset,p=void 0===f?[0,0]:f,h=Object(c["a"])(r,2),d=Object(c["a"])(h[0],2),m=d[0],y=d[1],g=Object(c["a"])(h[1],2),b=g[0],x=g[1];if(Number.isFinite(l)){var _=l;l={top:_,bottom:_,left:_,right:_}}else v(Number.isFinite(l.top)&&Number.isFinite(l.bottom)&&Number.isFinite(l.left)&&Number.isFinite(l.right));var w=new D({width:t,height:n,longitude:0,latitude:0,zoom:0}),S=w.project([m,x]),O=w.project([b,y]),E=[Math.max(Math.abs(O[0]-S[0]),o),Math.max(Math.abs(O[1]-S[1]),o)],k=[t-l.left-l.right-2*Math.abs(p[0]),n-l.top-l.bottom-2*Math.abs(p[1])];v(k[0]>0&&k[1]>0);var C=k[0]/E[0],j=k[1]/E[1],T=(l.right-l.left)/2/C,A=(l.bottom-l.top)/2/j,P=[(O[0]+S[0])/2+T,(O[1]+S[1])/2+A],M=w.unproject(P),I=w.zoom+Math.log2(Math.abs(Math.min(C,j)));return{longitude:M[0],latitude:M[1],zoom:Math.min(I,s)}}var D=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.width,s=n.height,c=n.latitude,l=void 0===c?0:c,f=n.longitude,p=void 0===f?0:f,h=n.zoom,d=void 0===h?0:h,m=n.pitch,v=void 0===m?0:m,y=n.bearing,g=void 0===y?0:y,b=n.altitude,x=void 0===b?1.5:b,_=n.nearZMultiplier,w=n.farZMultiplier;Object(r["a"])(this,t),i=i||1,s=s||1;var S=O(d);x=Math.max(.75,x);var k=E([p,l],S);k[2]=0;var T=A({width:i,height:s,pitch:v,bearing:g,altitude:x,nearZMultiplier:_||1/s,farZMultiplier:w||1.01}),P=j({height:s,center:k,pitch:v,bearing:g,altitude:x,flipY:!0});return e=Object(o["a"])(this,Object(a["a"])(t).call(this,{width:i,height:s,viewMatrix:P,projectionMatrix:T})),e.latitude=l,e.longitude=p,e.zoom=d,e.pitch=v,e.bearing=g,e.altitude=x,e.scale=S,e.center=k,e.pixelsPerMeter=C(Object(u["a"])(Object(u["a"])(e))).pixelsPerMeter[2],Object.freeze(Object(u["a"])(Object(u["a"])(e))),e}return Object(s["a"])(t,e),Object(i["a"])(t,[{key:"projectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return E(e,t)}},{key:"unprojectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return k(e,t)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,n=e.pos,r=M(n,this.pixelUnprojectionMatrix),i=E(t,this.scale),o=d["add"]([],i,d["negate"]([],r)),a=d["add"]([],this.center,o);return k(a,this.scale)}},{key:"getLocationAtPoint",value:function(e){var t=e.lngLat,n=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"fitBounds",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=R(Object.assign({width:r,height:i,bounds:e},n)),a=o.longitude,s=o.latitude,u=o.zoom;return new t({width:r,height:i,longitude:a,latitude:s,zoom:u})}}]),t}(L)},"1ABj":function(e,t){function n(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"1Cbe":function(e,t,n){var r=n("2kyd"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"1GGQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("lSNA"),i=n.n(r);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={top:0,right:0,bottom:0,left:0};if("number"===typeof e)return{top:e,right:e,bottom:e,left:e};if(Array.isArray(e)){if(4===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]}}return a(a({},t),e)}},"1H91":function(e,t,n){"use strict";var r=n("7BAe"),i=n("cTDu"),o=n("Y3g6"),a=n("bF+Q"),s=n("oa35"),u=n("arQb"),c=n("9SZg");e.exports=function(e){var t,n,l,f,p,h,d=i(e),m="function"==typeof this?this:Array,v=arguments.length,y=v>1?arguments[1]:void 0,g=void 0!==y,b=c(d),x=0;if(g&&(y=r(y,v>2?arguments[2]:void 0,2)),void 0==b||m==Array&&a(b))for(t=s(d.length),n=new m(t);t>x;x++)h=g?y(d[x],x):d[x],u(n,x,h);else for(f=b.call(d),p=f.next,n=new m;!(l=p.call(f)).done;x++)h=g?o(f,y,[l.value,x],!0):l.value,u(n,x,h);return n.length=x,n}},"1OyB":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},"1WJl":function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}},"1aI8":function(e,t,n){var r,i,o,a=n("ZkJ9"),s=n("ukPv"),u=n("tSXo"),c=n("lz10"),l=n("jtLI"),f=n("CjUg"),p=n("6ixQ"),h=s.WeakMap,d=function(e){return o(e)?i(e):r(e,{})},m=function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(a){var v=new h,y=v.get,g=v.has,b=v.set;r=function(e,t){return b.call(v,e,t),t},i=function(e){return y.call(v,e)||{}},o=function(e){return g.call(v,e)}}else{var x=f("state");p[x]=!0,r=function(e,t){return c(e,x,t),t},i=function(e){return l(e,x)?e[x]:{}},o=function(e){return l(e,x)}}e.exports={set:r,get:i,has:o,enforce:d,getterFor:m}},"1hJj":function(e,t,n){var r=n("e4Nc"),i=n("ftKO"),o=n("3A9y");function a(e){var t=-1,n=null==e?0:e.length;this.__data__=new r;while(++t<n)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},"1jPx":function(e,t,n){"use strict";var r=n("8OQV"),i=n("FVwB").exportTypedArrayStaticMethod,o=n("Sn4z");i("from",o,r)},"1jvM":function(e,t){},"1nhP":function(e,t,n){var r=n("m0kY");e.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},"1vuE":function(e,t,n){var r=n("eNh0");r("flat")},"25BE":function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,"a",(function(){return r}))},"29mP":function(e,t,n){var r=n("nFn1"),i=n("ukPv"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},"2FZw":function(e,t,n){var r=n("oa35"),i=n("+rjg"),o=n("FCfD"),a=Math.ceil,s=function(e){return function(t,n,s){var u,c,l=String(o(t)),f=l.length,p=void 0===s?" ":String(s),h=r(n);return h<=f||""==p?l:(u=h-f,c=i.call(p,a(u/p.length)),c.length>u&&(c=c.slice(0,u)),e?l+c:c+l)}};e.exports={start:s(!1),end:s(!0)}},"2KAr":function(e,t,n){var r=n("tny8"),i=n("YfKC"),o=n("k/J9"),a=n("M8HR").UNSUPPORTED_Y;r&&("g"!=/./g.flags||a)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:o})},"2N97":function(e,t,n){"use strict";var r=n("xbqb"),i=n("Lw8S");function o(){var e=n("q1tI");return o=function(){return e},e}function a(e,t){return f(e)||l(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function f(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var p,h="data-prefers-color",d="dumi:prefers-color",m=function(){function e(){var t=this;r(this,e),this.color=void 0,this.callbacks=[],this.color=localStorage.getItem(d)||document.documentElement.getAttribute(h),["light","dark"].forEach((function(e){var n=t.getColorMedia(e),r=function(n){n.matches&&"auto"===t.color&&(document.documentElement.setAttribute(h,e),t.applyCallbacks())};n.addEventListener?n.addEventListener("change",r):n.addListener&&n.addListener(r)}))}return i(e,[{key:"getColorMedia",value:function(e){return window.matchMedia("(prefers-color-scheme: ".concat(e,")"))}},{key:"isColorMode",value:function(e){return this.getColorMedia(e).matches}},{key:"applyCallbacks",value:function(){var e=this;this.callbacks.forEach((function(t){return t(e.color)}))}},{key:"listen",value:function(e){this.callbacks.push(e)}},{key:"unlisten",value:function(e){this.callbacks.splice(this.callbacks.indexOf(e),1)}},{key:"set",value:function(e){return this.color=e,localStorage.setItem(d,e),this.applyCallbacks(),"auto"===e?document.documentElement.setAttribute(h,this.isColorMode("dark")?"dark":"light"):document.documentElement.setAttribute(h,e),e}}]),e}(),v=function(){var e=(0,o().useState)(),t=a(e,2),n=t[0],r=t[1],i=(0,o().useCallback)((function(e){p.set(e)}),[]);return(0,o().useEffect)((function(){return p=p||new m,p.listen(r),r(p.color),function(){return p.unlisten(r)}}),[]),[n,i]};t["default"]=v},"2aV/":function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),u=n("7BAe"),c=n("/dTS"),l=n("PPXv"),f=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{mapValues:function(e){var t=a(this),n=l(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Map"))),p=s(i.set);return f(n,(function(e,n){p.call(i,e,r(n,e,t))}),void 0,!0,!0),i}})},"2ajD":function(e,t){function n(e){return e!==e}e.exports=n},"2gN3":function(e,t,n){var r=n("Kz5y"),i=r["__core-js_shared__"];e.exports=i},"2kyd":function(e,t,n){var r=n("ukPv"),i=n("xxaU"),o=n("jtLI"),a=n("evbn"),s=n("Fs9M"),u=n("wgKq"),c=i("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||a;e.exports=function(e){return o(c,e)||(s&&o(l,e)?c[e]=l[e]:c[e]=f("Symbol."+e)),c[e]}},"2mql":function(e,t,n){"use strict";var r=n("TOwV"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function c(e){return r.isMemo(e)?s:u[e["$$typeof"]]||i}u[r.ForwardRef]=a,u[r.Memo]=s;var l=Object.defineProperty,f=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,m=Object.prototype;function v(e,t,n){if("string"!==typeof t){if(m){var r=d(t);r&&r!==m&&v(e,r,n)}var i=f(t);p&&(i=i.concat(p(t)));for(var a=c(e),s=c(t),u=0;u<i.length;++u){var y=i[u];if(!o[y]&&(!n||!n[y])&&(!s||!s[y])&&(!a||!a[y])){var g=h(t,y);try{l(e,y,g)}catch(b){}}}}return e}e.exports=v},"33TD":function(e,t,n){"use strict";var r=n("1Cbe"),i=n("Ei+o");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},"33yf":function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),a="/"===o(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("Q2Ig"))},"3A9y":function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},"3Fdi":function(e,t){var n=Function.prototype,r=n.toString;function i(e){if(null!=e){try{return r.call(e)}catch(t){}try{return e+""}catch(t){}}return""}e.exports=i},"3L66":function(e,t,n){var r=n("MMmD"),i=n("ExA7");function o(e){return i(e)&&r(e)}e.exports=o},"3QDa":function(e,t,n){"use strict";var r=n("5wUe");function i(){var e=n("q1tI");return i=function(){return e},e}function o(){var e=s(n("x2v5"));return o=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=s(n("nLCz"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return h(e)||p(e,t)||l(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function h(e){if(Array.isArray(e))return e}function d(e,t,n){return Object.entries(o()["default"][e]).reduce((function(e,i){var o=r(i,2),a=o[0],s=o[1];return e[a]=s.map((function(e){var r=Object.assign({},e);return Object.keys(e).forEach((function(e){if(/^description(\.|$)/.test(e)){var i=e.match(/^description\.?(.*)$/),o=u(i,2),a=o[1];a&&a!==t||!a&&!n?delete r[e]:r.description=r[e]}})),r})),e}),{})}var m=function(e){var t=(0,i().useContext)(a["default"]),n=t.locale,r=t.config.locales,o=!r.length||r[0].name===n,s=(0,i().useState)(d(e,n,o)),c=u(s,2),l=c[0],f=c[1];return(0,i().useEffect)((function(){f(d(e,n,o))}),[e,n,o]),l};t["default"]=m},"3UWB":function(e,t,n){var r=n("MMxC");r({target:"Math",stat:!0},{isubh:function(e,t,n,r){var i=e>>>0,o=t>>>0,a=n>>>0;return o-(r>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},"3Us1":function(e,t,n){var r=n("Mi8B");r("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"3cYt":function(e,t){function n(e){return function(t){return null==e?void 0:e[t]}}e.exports=n},"3dYF":function(e,t){},"3dhw":function(e,t,n){"use strict";var r=n("NMFW"),i=n("f1E4"),o=n("MVys"),a=n("k/J9"),s="toString",u=RegExp.prototype,c=u[s],l=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),f=c.name!=s;(l||f)&&r(RegExp.prototype,s,(function(){var e=i(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in u)?a.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},"3yxH":function(e,t,n){"use strict";n("tJVT"),n("8ml+"),n("q1tI"),n("45oE"),n("nKUr")},"406g":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var r=n("z4Hk"),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},"43iI":function(e,t,n){"use strict";var r=n("MMxC"),i=n("2FZw").end,o=n("y9mK");r({target:"String",proto:!0,forced:o},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"45oE":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("q1tI"),i=Object(r["createContext"])({});function o(){return Object(r["useContext"])(i)}},"4Mzw":function(e,t,n){var r=n("ukPv"),i=n("kiNa");i(r.JSON,"JSON",!0)},"4ZJM":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){"use strict";var e,t,n;function r(r,i){if(e)if(t){var o="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",a={};e(a),n=i(a),"undefined"!==typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else t=i;else e=i}return r(["exports"],(function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=r;function r(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}r.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},r.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},r.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},r.prototype.solveCurveX=function(e,t){var n,r,i,o,a;for(void 0===t&&(t=1e-6),i=e,a=0;a<8;a++){if(o=this.sampleCurveX(i)-e,Math.abs(o)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=e)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-e)<t)return i;e>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var i=o;function o(e,t){this.x=e,this.y=t}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(e){return e instanceof o?e:Array.isArray(e)?new o(e[0],e[1]):e};var a="undefined"!=typeof self?self:{},s=Math.pow(2,53)-1;function u(e,t,r,i){var o=new n(e,t,r,i);return function(e){return o.solve(e)}}var c=u(.25,.1,.25,1);function l(e,t,n){return Math.min(n,Math.max(t,e))}function f(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function p(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var o=i[r];for(var a in o)e[a]=o[a]}return e}var h=1;function d(){return h++}function m(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function v(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function y(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function g(e,t){return-1!==e.indexOf(t,e.length-t.length)}function b(e,t,n){var r={};for(var i in e)r[i]=t.call(n||this,e[i],i,e);return r}function x(e,t,n){var r={};for(var i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r}function _(e){return Array.isArray(e)?e.map(_):"object"==typeof e&&e?b(e,_):e}var w={};function S(e){w[e]||("undefined"!=typeof console&&console.warn(e),w[e]=!0)}function O(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function E(e){for(var t=0,n=0,r=e.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)t+=((a=e[i]).x-(o=e[n]).x)*(o.y+a.y);return t}function k(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function C(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,n,r,i){var o=r||i;return t[n]=!o||o.toLowerCase(),""})),t["max-age"]){var n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t}var j=null;function T(e){if(null==j){var t=e.navigator?e.navigator.userAgent:null;j=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return j}function A(e){try{var t=a[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var P,M,I,L,R=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),D=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,N=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,z={now:R,frame:function(e){var t=D(e);return{cancel:function(){return N(t)}}},getImageData:function(e,t){void 0===t&&(t=0);var n=a.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=e.width,n.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:function(e){return P||(P=a.document.createElement("a")),P.href=e,P.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return!!a.matchMedia&&(null==M&&(M=a.matchMedia("(prefers-reduced-motion: reduce)")),M.matches)}},F={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},B={supported:!1,testSupport:function(e){!U&&L&&(V?H(e):I=e)}},U=!1,V=!1;function H(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,L),e.isContextLost())return;B.supported=!0}catch(e){}e.deleteTexture(t),U=!0}a.document&&((L=a.document.createElement("img")).onload=function(){I&&H(I),I=null,V=!0},L.onerror=function(){U=!0,I=null},L.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var q="01",G=function(e,t){this._transformRequestFn=e,this._customAccessToken=t,this._createSkuToken()};function W(e){return 0===e.indexOf("mapbox:")}G.prototype._createSkuToken=function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",q,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},G.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},G.prototype.transformRequest=function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}},G.prototype.normalizeStyleURL=function(e,t){if(!W(e))return e;var n=K(e);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)},G.prototype.normalizeGlyphsURL=function(e,t){if(!W(e))return e;var n=K(e);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)},G.prototype.normalizeSourceURL=function(e,t){if(!W(e))return e;var n=K(e);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||t)},G.prototype.normalizeSpriteURL=function(e,t,n,r){var i=K(e);return W(e)?(i.path="/styles/v1"+i.path+"/sprite"+t+n,this._makeAPIURL(i,this._customAccessToken||r)):(i.path+=""+t+n,J(i))},G.prototype.normalizeTileURL=function(e,t){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!W(e))return e;var n=K(e);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,(z.devicePixelRatio>=2||512===t?"@2x":"")+(B.supported?".webp":"$1")),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path;var r=this._customAccessToken||function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t].match(/^access_token=(.*)$/);if(r)return r[1]}return null}(n.params)||F.ACCESS_TOKEN;return F.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,r)},G.prototype.canonicalizeTileURL=function(e,t){var n=K(e);if(!n.path.match(/(^\/v4\/)/)||!n.path.match(/\.[\w]+$/))return e;var r="mapbox://tiles/";r+=n.path.replace("/v4/","");var i=n.params;return t&&(i=i.filter((function(e){return!e.match(/^access_token=/)}))),i.length&&(r+="?"+i.join("&")),r},G.prototype.canonicalizeTileset=function(e,t){for(var n=!!t&&W(t),r=[],i=0,o=e.tiles||[];i<o.length;i+=1){var a=o[i];Y(a)?r.push(this.canonicalizeTileURL(a,n)):r.push(a)}return r},G.prototype._makeAPIURL=function(e,t){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=K(F.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,"http"===e.protocol){var i=e.params.indexOf("secure");i>=0&&e.params.splice(i,1)}if("/"!==r.path&&(e.path=""+r.path+e.path),!F.REQUIRE_ACCESS_TOKEN)return J(e);if(!(t=t||F.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return e.params=e.params.filter((function(e){return-1===e.indexOf("access_token")})),e.params.push("access_token="+t),J(e)};var Z=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Y(e){return Z.test(e)}var X=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function K(e){var t=e.match(X);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function J(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function Q(e){if(!e)return null;var t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(a.atob(t[1]).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return null}}var $=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};$.prototype.getStorageKey=function(e){var t,n=Q(F.ACCESS_TOKEN);return t=n&&n.u?a.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))}))):F.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+t:"mapbox.eventData:"+t},$.prototype.fetchEventData=function(){var e=A("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{var r=a.localStorage.getItem(t);r&&(this.eventData=JSON.parse(r));var i=a.localStorage.getItem(n);i&&(this.anonId=i)}catch(e){S("Unable to read from LocalStorage")}},$.prototype.saveEventData=function(){var e=A("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{a.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){S("Unable to write to LocalStorage")}},$.prototype.processRequests=function(e){},$.prototype.postEvent=function(e,t,n,r){var i=this;if(F.EVENTS_URL){var o=K(F.EVENTS_URL);o.params.push("access_token="+(r||F.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.1",skuId:q,userId:this.anonId},s=t?p(a,t):a,u={url:J(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=_e(u,(function(e){i.pendingRequest=null,n(e),i.saveEventData(),i.processRequests(r)}))}},$.prototype.queueRequest=function(e,t){this.queue.push(e),this.processRequests(t)};var ee,te,ne=function(e){function t(){e.call(this,"map.load"),this.success={},this.skuToken=""}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postMapLoadEvent=function(e,t,n,r){this.skuToken=n,(F.EVENTS_URL&&r||F.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return W(e)||Y(e)})))&&this.queueRequest({id:t,timestamp:Date.now()},r)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),v(this.anonId)||(this.anonId=m()),this.postEvent(i,{skuToken:this.skuToken},(function(e){e||r&&(t.success[r]=!0)}),e))}},t}($),re=new(function(e){function t(t){e.call(this,"appUserTurnstile"),this._customAccessToken=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postTurnstileEvent=function(e,t){F.EVENTS_URL&&F.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return W(e)||Y(e)}))&&this.queueRequest(Date.now(),t)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=Q(F.ACCESS_TOKEN),r=n?n.u:F.ACCESS_TOKEN,i=r!==this.eventData.tokenU;v(this.anonId)||(this.anonId=m(),i=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),u=(o-this.eventData.lastSuccess)/864e5;i=i||u>=1||u<-1||a.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},(function(e){e||(t.eventData.lastSuccess=o,t.eventData.tokenU=r)}),e)}},t}($)),ie=re.postTurnstileEvent.bind(re),oe=new ne,ae=oe.postMapLoadEvent.bind(oe),se=500,ue=50;function ce(){a.caches&&!ee&&(ee=a.caches.open("mapbox-tiles"))}function le(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var fe,pe=1/0;function he(){return null==fe&&(fe=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof a.createImageBitmap),fe}var de={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(de);var me,ve,ye=function(e){function t(t,n,r){401===n&&Y(r)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,t),this.status=n,this.url=r,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error),ge=k()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===a.location.protocol?a.parent:a).location.href},be=function(e,t){if(!(/^file:/.test(n=e.url)||/^file:/.test(ge())&&!/^\w+:/.test(n))){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return function(e,t){var n,r=new a.AbortController,i=new a.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:ge(),signal:r.signal}),o=!1,s=!1,u=(n=i.url).indexOf("sku=")>0&&Y(n);"json"===e.type&&i.headers.set("Accept","application/json");var c=function(n,r,o){if(!s){if(n&&"SecurityError"!==n.message&&S(n),r&&o)return l(r);var c=Date.now();a.fetch(i).then((function(n){if(n.ok){var r=u?n.clone():null;return l(n,r,c)}return t(new ye(n.statusText,n.status,e.url))}))["catch"]((function(e){20!==e.code&&t(new Error(e.message))}))}},l=function(n,r,u){("arrayBuffer"===e.type?n.arrayBuffer():"json"===e.type?n.json():n.text()).then((function(e){s||(r&&u&&function(e,t,n){if(ce(),ee){var r={status:t.status,statusText:t.statusText,headers:new a.Headers};t.headers.forEach((function(e,t){return r.headers.set(t,e)}));var i=C(t.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-n<42e4||function(e,t){if(void 0===te)try{new Response(new ReadableStream),te=!0}catch(e){te=!1}te?t(e.body):e.blob().then(t)}(t,(function(t){var n=new a.Response(t,r);ce(),ee&&ee.then((function(t){return t.put(le(e.url),n)}))["catch"]((function(e){return S(e.message)}))})))}}(i,r,u),o=!0,t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires")))}))["catch"]((function(e){s||t(new Error(e.message))}))};return u?function(e,t){if(ce(),!ee)return t(null);var n=le(e.url);ee.then((function(e){e.match(n).then((function(r){var i=function(e){if(!e)return!1;var t=new Date(e.headers.get("Expires")||0),n=C(e.headers.get("Cache-Control")||"");return t>Date.now()&&!n["no-cache"]}(r);e["delete"](n),i&&e.put(n,r.clone()),t(null,r,i)}))["catch"](t)}))["catch"](t)}(i,c):c(null,null),{cancel:function(){s=!0,o||r.abort()}}}(e,t);if(k()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var n;return function(e,t){var n=new a.XMLHttpRequest;for(var r in n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer"),e.headers)n.setRequestHeader(r,e.headers[r]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else t(new ye(n.statusText,n.status,e.url))},n.send(e.body),{cancel:function(){return n.abort()}}}(e,t)},xe=function(e,t){return be(p(e,{type:"arrayBuffer"}),t)},_e=function(e,t){return be(p(e,{method:"POST"}),t)},we="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";me=[],ve=0;var Se=function e(t,n){if(B.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),ve>=F.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:t,callback:n,cancelled:!1,cancel:function(){this.cancelled=!0}};return me.push(r),r}ve++;var i=!1,o=function(){if(!i)for(i=!0,ve--;me.length&&ve<F.MAX_PARALLEL_IMAGE_REQUESTS;){var t=me.shift();t.cancelled||(t.cancel=e(t.requestParameters,t.callback).cancel)}},s=xe(t,(function(e,t,r,i){o(),e?n(e):t&&(he()?function(e,t){var n=new a.Blob([new Uint8Array(e)],{type:"image/png"});a.createImageBitmap(n).then((function(e){t(null,e)}))["catch"]((function(e){t(new Error("Could not load image because of "+e.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(t,n):function(e,t,n,r){var i=new a.Image,o=a.URL;i.onload=function(){t(null,i),o.revokeObjectURL(i.src),i.onload=null,a.requestAnimationFrame((function(){i.src=we}))},i.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var s=new a.Blob([new Uint8Array(e)],{type:"image/png"});i.cacheControl=n,i.expires=r,i.src=e.byteLength?o.createObjectURL(s):we}(t,n,r,i))}));return{cancel:function(){s.cancel(),o()}}};function Oe(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function Ee(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}var ke=function(e,t){void 0===t&&(t={}),p(this,t),this.type=e},Ce=function(e){function t(t,n){void 0===n&&(n={}),e.call(this,"error",p({error:t},n))}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(ke),je=function(){};je.prototype.on=function(e,t){return this._listeners=this._listeners||{},Oe(e,t,this._listeners),this},je.prototype.off=function(e,t){return Ee(e,t,this._listeners),Ee(e,t,this._oneTimeListeners),this},je.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},Oe(e,t,this._oneTimeListeners),this},je.prototype.fire=function(e,t){"string"==typeof e&&(e=new ke(e,t||{}));var n=e.type;if(this.listens(n)){e.target=this;for(var r=0,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];r<i.length;r+=1)i[r].call(this,e);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];o<a.length;o+=1){var s=a[o];Ee(n,s,this._oneTimeListeners),s.call(this,e)}var u=this._eventedParent;u&&(p(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),u.fire(e))}else e instanceof Ce&&console.error(e.error);return this},je.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},je.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var Te={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Ae=function(e,t,n,r){this.message=(e?e+": ":"")+n,r&&(this.identifier=r),null!=t&&t.__line__&&(this.line=t.__line__)};function Pe(e){var t=e.value;return t?[new Ae(e.key,t,"constants have been deprecated as of v8")]:[]}function Me(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var o=i[r];for(var a in o)e[a]=o[a]}return e}function Ie(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Le(e){if(Array.isArray(e))return e.map(Le);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var n in e)t[n]=Le(e[n]);return t}return Ie(e)}var Re=function(e){function t(t,n){e.call(this,n),this.message=n,this.key=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Error),De=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.bindings[i[0]]=i[1]}};De.prototype.concat=function(e){return new De(this,e)},De.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},De.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var Ne={kind:"null"},ze={kind:"number"},Fe={kind:"string"},Be={kind:"boolean"},Ue={kind:"color"},Ve={kind:"object"},He={kind:"value"},qe={kind:"collator"},Ge={kind:"formatted"},We={kind:"resolvedImage"};function Ze(e,t){return{kind:"array",itemType:e,N:t}}function Ye(e){if("array"===e.kind){var t=Ye(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var Xe=[Ne,ze,Fe,Be,Ue,Ge,Ve,Ze(He),We];function Ke(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Ke(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var n=0,r=Xe;n<r.length;n+=1)if(!Ke(r[n],t))return null}return"Expected "+Ye(e)+" but found "+Ye(t)+" instead."}function Je(e,t){return t.some((function(t){return t.kind===e.kind}))}function Qe(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}var $e=t((function(e,t){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return r("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function o(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function a(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{t.parseCSSColor=function(e){var t,s=e.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(t=parseInt(s.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===s.length&&(t=parseInt(s.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var u=s.indexOf("("),c=s.indexOf(")");if(-1!==u&&c+1===s.length){var l=s.substr(0,u),f=s.substr(u+1,c-(u+1)).split(","),p=1;switch(l){case"rgba":if(4!==f.length)return null;p=o(f.pop());case"rgb":return 3!==f.length?null:[i(f[0]),i(f[1]),i(f[2]),p];case"hsla":if(4!==f.length)return null;p=o(f.pop());case"hsl":if(3!==f.length)return null;var h=(parseFloat(f[0])%360+360)%360/360,d=o(f[1]),m=o(f[2]),v=m<=.5?m*(d+1):m+d-m*d,y=2*m-v;return[r(255*a(y,v,h+1/3)),r(255*a(y,v,h)),r(255*a(y,v,h-1/3)),p];default:return null}}return null}}catch(e){}})).parseCSSColor,et=function(e,t,n,r){void 0===r&&(r=1),this.r=e,this.g=t,this.b=n,this.a=r};et.parse=function(e){if(e){if(e instanceof et)return e;if("string"==typeof e){var t=$e(e);if(t)return new et(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},et.prototype.toString=function(){var e=this.toArray(),t=e[1],n=e[2],r=e[3];return"rgba("+Math.round(e[0])+","+Math.round(t)+","+Math.round(n)+","+r+")"},et.prototype.toArray=function(){var e=this.a;return 0===e?[0,0,0,0]:[255*this.r/e,255*this.g/e,255*this.b/e,e]},et.black=new et(0,0,0,1),et.white=new et(1,1,1,1),et.transparent=new et(0,0,0,0),et.red=new et(1,0,0,1);var tt=function(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};tt.prototype.compare=function(e,t){return this.collator.compare(e,t)},tt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var nt=function(e,t,n,r,i){this.text=e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=i},rt=function(e){this.sections=e};rt.fromString=function(e){return new rt([new nt(e,null,null,null,null)])},rt.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))},rt.factory=function(e){return e instanceof rt?e:rt.fromString(e)},rt.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")},rt.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];if(r.image)e.push(["image",r.image.name]);else{e.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),e.push(i)}}return e};var it=function(e){this.name=e.name,this.available=e.available};function ot(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[e,t,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function at(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof et)return!0;if(e instanceof tt)return!0;if(e instanceof rt)return!0;if(e instanceof it)return!0;if(Array.isArray(e)){for(var t=0,n=e;t<n.length;t+=1)if(!at(n[t]))return!1;return!0}if("object"==typeof e){for(var r in e)if(!at(e[r]))return!1;return!0}return!1}function st(e){if(null===e)return Ne;if("string"==typeof e)return Fe;if("boolean"==typeof e)return Be;if("number"==typeof e)return ze;if(e instanceof et)return Ue;if(e instanceof tt)return qe;if(e instanceof rt)return Ge;if(e instanceof it)return We;if(Array.isArray(e)){for(var t,n=e.length,r=0,i=e;r<i.length;r+=1){var o=st(i[r]);if(t){if(t===o)continue;t=He;break}t=o}return Ze(t||He,n)}return Ve}function ut(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof et||e instanceof rt||e instanceof it?e.toString():JSON.stringify(e)}it.prototype.toString=function(){return this.name},it.fromString=function(e){return e?new it({name:e,available:!1}):null},it.prototype.serialize=function(){return["image",this.name]};var ct=function(e,t){this.type=e,this.value=t};ct.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!at(e[1]))return t.error("invalid value");var n=e[1],r=st(n),i=t.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new ct(r,n)},ct.prototype.evaluate=function(){return this.value},ct.prototype.eachChild=function(){},ct.prototype.outputDefined=function(){return!0},ct.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof et?["rgba"].concat(this.value.toArray()):this.value instanceof rt?this.value.serialize():this.value};var lt=function(e){this.name="ExpressionEvaluationError",this.message=e};lt.prototype.toJSON=function(){return this.message};var ft={string:Fe,number:ze,boolean:Be,object:Ve},pt=function(e,t){this.type=e,this.args=t};pt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n,r=1,i=e[0];if("array"===i){var o,a;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in ft)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);o=ft[s],r++}else o=He;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);a=e[2],r++}n=Ze(o,a)}else n=ft[i];for(var u=[];r<e.length;r++){var c=t.parse(e[r],r,He);if(!c)return null;u.push(c)}return new pt(n,u)},pt.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var n=this.args[t].evaluate(e);if(!Ke(this.type,st(n)))return n;if(t===this.args.length-1)throw new lt("Expected value to be of type "+Ye(this.type)+", but found "+Ye(st(n))+" instead.")}return null},pt.prototype.eachChild=function(e){this.args.forEach(e)},pt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},pt.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);var r=e.N;("number"==typeof r||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map((function(e){return e.serialize()})))};var ht=function(e){this.type=Ge,this.sections=e};ht.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");for(var r=[],i=!1,o=1;o<=e.length-1;++o){var a=e[o];if(i&&"object"==typeof a&&!Array.isArray(a)){i=!1;var s=null;if(a["font-scale"]&&!(s=t.parse(a["font-scale"],1,ze)))return null;var u=null;if(a["text-font"]&&!(u=t.parse(a["text-font"],1,Ze(Fe))))return null;var c=null;if(a["text-color"]&&!(c=t.parse(a["text-color"],1,Ue)))return null;var l=r[r.length-1];l.scale=s,l.font=u,l.textColor=c}else{var f=t.parse(e[o],1,He);if(!f)return null;var p=f.type.kind;if("string"!==p&&"value"!==p&&"null"!==p&&"resolvedImage"!==p)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:f,scale:null,font:null,textColor:null})}}return new ht(r)},ht.prototype.evaluate=function(e){return new rt(this.sections.map((function(t){var n=t.content.evaluate(e);return st(n)===We?new nt("",n,null,null,null):new nt(ut(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))},ht.prototype.eachChild=function(e){for(var t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e(r.content),r.scale&&e(r.scale),r.font&&e(r.font),r.textColor&&e(r.textColor)}},ht.prototype.outputDefined=function(){return!1},ht.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),e.push(i)}return e};var dt=function(e){this.type=We,this.input=e};dt.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,Fe);return n?new dt(n):t.error("No image name provided.")},dt.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=it.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n},dt.prototype.eachChild=function(e){e(this.input)},dt.prototype.outputDefined=function(){return!1},dt.prototype.serialize=function(){return["image",this.input.serialize()]};var mt={"to-boolean":Be,"to-color":Ue,"to-number":ze,"to-string":Fe},vt=function(e,t){this.type=e,this.args=t};vt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");for(var r=mt[n],i=[],o=1;o<e.length;o++){var a=t.parse(e[o],o,He);if(!a)return null;i.push(a)}return new vt(r,i)},vt.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(t=i[r].evaluate(e))instanceof et)return t;if("string"==typeof t){var o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&!(n=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":ot(t[0],t[1],t[2],t[3])))return new et(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new lt(n||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,u=this.args;s<u.length;s+=1){if(null===(a=u[s].evaluate(e)))return 0;var c=Number(a);if(!isNaN(c))return c}throw new lt("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?rt.fromString(ut(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?it.fromString(ut(this.args[0].evaluate(e))):ut(this.args[0].evaluate(e))},vt.prototype.eachChild=function(e){this.args.forEach(e)},vt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},vt.prototype.serialize=function(){if("formatted"===this.type.kind)return new ht([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new dt(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};var yt=["Unknown","Point","LineString","Polygon"],gt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};gt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},gt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?yt[this.feature.type]:this.feature.type:null},gt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},gt.prototype.canonicalID=function(){return this.canonical},gt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},gt.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=et.parse(e)),t};var bt=function(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r};bt.prototype.evaluate=function(e){return this._evaluate(e,this.args)},bt.prototype.eachChild=function(e){this.args.forEach(e)},bt.prototype.outputDefined=function(){return!1},bt.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},bt.parse=function(e,t){var n,r=e[0],i=bt.definitions[r];if(!i)return t.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter((function(t){var n=t[0];return!Array.isArray(n)||n.length===e.length-1})),u=null,c=0,l=s;c<l.length;c+=1){var f=l[c],p=f[0],h=f[1];u=new Ut(t.registry,t.path,null,t.scope);for(var d=[],m=!1,v=1;v<e.length;v++){var y=e[v],g=Array.isArray(p)?p[v-1]:p.type,b=u.parse(y,1+d.length,g);if(!b){m=!0;break}d.push(b)}if(!m)if(Array.isArray(p)&&p.length!==d.length)u.error("Expected "+p.length+" arguments, but found "+d.length+" instead.");else{for(var x=0;x<d.length;x++){var _=Array.isArray(p)?p[x]:p.type,w=d[x];u.concat(x+1).checkSubtype(_,w.type)}if(0===u.errors.length)return new bt(r,o,h,d)}}if(1===s.length)(n=t.errors).push.apply(n,u.errors);else{for(var S=(s.length?s:a).map((function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(Ye).join(", ")+")":"("+Ye(t.type)+"...)"})).join(" | "),O=[],E=1;E<e.length;E++){var k=t.parse(e[E],1+O.length);if(!k)return null;O.push(Ye(k.type))}t.error("Expected arguments of type "+S+", but found ("+O.join(", ")+") instead.")}return null},bt.register=function(e,t){for(var n in bt.definitions=t,t)e[n]=bt};var xt=function(e,t,n){this.type=qe,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t};function _t(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function wt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function St(e,t){var n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(n*i*8192),Math.round(r*i*8192)]}function Ot(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function Et(e,t){for(var n,r,i,o,a,s,u,c=!1,l=0,f=t.length;l<f;l++)for(var p=t[l],h=0,d=p.length;h<d-1;h++){if((o=(n=e)[0]-(r=p[h])[0])*(u=n[1]-(i=p[h+1])[1])-(s=n[0]-i[0])*(a=n[1]-r[1])==0&&o*s<=0&&a*u<=0)return!1;Ot(e,p[h],p[h+1])&&(c=!c)}return c}function kt(e,t){for(var n=0;n<t.length;n++)if(Et(e,t[n]))return!0;return!1}function Ct(e,t,n,r){var i=r[0]-n[0],o=r[1]-n[1],a=(e[0]-n[0])*o-i*(e[1]-n[1]),s=(t[0]-n[0])*o-i*(t[1]-n[1]);return a>0&&s<0||a<0&&s>0}function jt(e,t,n){for(var r=0,i=n;r<i.length;r+=1)for(var o=i[r],a=0;a<o.length-1;++a)if(0!=(f=[(l=o[a+1])[0]-(c=o[a])[0],l[1]-c[1]])[0]*(p=[(u=t)[0]-(s=e)[0],u[1]-s[1]])[1]-f[1]*p[0]&&Ct(s,u,c,l)&&Ct(c,l,s,u))return!0;var s,u,c,l,f,p;return!1}function Tt(e,t){for(var n=0;n<e.length;++n)if(!Et(e[n],t))return!1;for(var r=0;r<e.length-1;++r)if(jt(e[r],e[r+1],t))return!1;return!0}function At(e,t){for(var n=0;n<t.length;n++)if(Tt(e,t[n]))return!0;return!1}function Pt(e,t,n){for(var r=[],i=0;i<e.length;i++){for(var o=[],a=0;a<e[i].length;a++){var s=St(e[i][a],n);_t(t,s),o.push(s)}r.push(o)}return r}function Mt(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=Pt(e[i],t,n);r.push(o)}return r}function It(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){var i=.5*r,o=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;0===o&&(o=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=o}_t(t,e)}function Lt(e,t,n,r){for(var i=8192*Math.pow(2,r.z),o=[8192*r.x,8192*r.y],a=[],s=0,u=e;s<u.length;s+=1)for(var c=0,l=u[s];c<l.length;c+=1){var f=l[c],p=[f.x+o[0],f.y+o[1]];It(p,t,n,i),a.push(p)}return a}function Rt(e,t,n,r){for(var i,o=8192*Math.pow(2,r.z),a=[8192*r.x,8192*r.y],s=[],u=0,c=e;u<c.length;u+=1){for(var l=[],f=0,p=c[u];f<p.length;f+=1){var h=p[f],d=[h.x+a[0],h.y+a[1]];_t(t,d),l.push(d)}s.push(l)}if(t[2]-t[0]<=o/2){(i=t)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var m=0,v=s;m<v.length;m+=1)for(var y=0,g=v[m];y<g.length;y+=1)It(g[y],t,n,o)}return s}xt.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");var r=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Be);if(!r)return null;var i=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Be);if(!i)return null;var o=null;return n.locale&&!(o=t.parse(n.locale,1,Fe))?null:new xt(r,i,o)},xt.prototype.evaluate=function(e){return new tt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},xt.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},xt.prototype.outputDefined=function(){return!1},xt.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var Dt=function(e,t){this.type=Be,this.geojson=e,this.geometries=t};function Nt(e){if(e instanceof bt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Dt)return!1;var t=!0;return e.eachChild((function(e){t&&!Nt(e)&&(t=!1)})),t}function zt(e){if(e instanceof bt&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!zt(e)&&(t=!1)})),t}function Ft(e,t){if(e instanceof bt&&t.indexOf(e.name)>=0)return!1;var n=!0;return e.eachChild((function(e){n&&!Ft(e,t)&&(n=!1)})),n}Dt.parse=function(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(at(e[1])){var n=e[1];if("FeatureCollection"===n.type)for(var r=0;r<n.features.length;++r){var i=n.features[r].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new Dt(n,n.features[r].geometry)}else if("Feature"===n.type){var o=n.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new Dt(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new Dt(n,n)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Dt.prototype.evaluate=function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var o=Pt(t.coordinates,r,i),a=Lt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var s=0,u=a;s<u.length;s+=1)if(!Et(u[s],o))return!1}if("MultiPolygon"===t.type){var c=Mt(t.coordinates,r,i),l=Lt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var f=0,p=l;f<p.length;f+=1)if(!kt(p[f],c))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var o=Pt(t.coordinates,r,i),a=Rt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var s=0,u=a;s<u.length;s+=1)if(!Tt(u[s],o))return!1}if("MultiPolygon"===t.type){var c=Mt(t.coordinates,r,i),l=Rt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var f=0,p=l;f<p.length;f+=1)if(!At(p[f],c))return!1}return!0}(e,this.geometries)}return!1},Dt.prototype.eachChild=function(){},Dt.prototype.outputDefined=function(){return!0},Dt.prototype.serialize=function(){return["within",this.geojson]};var Bt=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};Bt.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var n=e[1];return t.scope.has(n)?new Bt(n,t.scope.get(n)):t.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},Bt.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},Bt.prototype.eachChild=function(){},Bt.prototype.outputDefined=function(){return!1},Bt.prototype.serialize=function(){return["var",this.name]};var Ut=function(e,t,n,r,i){void 0===t&&(t=[]),void 0===r&&(r=new De),void 0===i&&(i=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return"["+e+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function Vt(e,t){for(var n,r=e.length-1,i=0,o=r,a=0;i<=o;)if((n=e[a=Math.floor((i+o)/2)])<=t){if(a===r||t<e[a+1])return a;i=a+1}else{if(!(n>t))throw new lt("Input is not a number.");o=a-1}return 0}Ut.prototype.parse=function(e,t,n,r,i){return void 0===i&&(i={}),t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)},Ut.prototype._parse=function(e,t){function n(e,t,n){return"assert"===n?new pt(t,[e]):"coerce"===n?new vt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=e[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[r];if(i){var o=i.parse(e,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=n(o,a,t.typeAnnotation||"coerce");else o=n(o,a,t.typeAnnotation||"assert")}if(!(o instanceof ct)&&"resolvedImage"!==o.type.kind&&function e(t){if(t instanceof Bt)return e(t.boundExpression);if(t instanceof bt&&"error"===t.name)return!1;if(t instanceof xt)return!1;if(t instanceof Dt)return!1;var n=t instanceof vt||t instanceof pt,r=!0;return t.eachChild((function(t){r=n?r&&e(t):r&&t instanceof ct})),!!r&&Nt(t)&&Ft(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var u=new gt;try{o=new ct(o.type,o.evaluate(u))}catch(e){return this.error(e.message),null}}return o}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof e+" instead.")},Ut.prototype.concat=function(e,t,n){var r="number"==typeof e?this.path.concat(e):this.path,i=n?this.scope.concat(n):this.scope;return new Ut(this.registry,r,t||null,i,this.errors)},Ut.prototype.error=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=""+this.key+t.map((function(e){return"["+e+"]"})).join("");this.errors.push(new Re(r,e))},Ut.prototype.checkSubtype=function(e,t){var n=Ke(e,t);return n&&this.error(n),n};var Ht=function(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[1];this.labels.push(o[0]),this.outputs.push(a)}};function qt(e,t,n){return e*(1-n)+t*n}Ht.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var n=t.parse(e[1],1,ze);if(!n)return null;var r=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(var o=1;o<e.length;o+=2){var a=1===o?-1/0:e[o],s=e[o+1],u=o,c=o+1;if("number"!=typeof a)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(r.length&&r[r.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var l=t.parse(s,c,i);if(!l)return null;i=i||l.type,r.push([a,l])}return new Ht(i,n,r)},Ht.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;return r>=t[i-1]?n[i-1].evaluate(e):n[Vt(t,r)].evaluate(e)},Ht.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},Ht.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},Ht.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var Gt=Object.freeze({__proto__:null,number:qt,color:function(e,t,n){return new et(qt(e.r,t.r,n),qt(e.g,t.g,n),qt(e.b,t.b,n),qt(e.a,t.a,n))},array:function(e,t,n){return e.map((function(e,r){return qt(e,t[r],n)}))}}),Wt=6/29*3*(6/29),Zt=Math.PI/180,Yt=180/Math.PI;function Xt(e){return e>.008856451679035631?Math.pow(e,1/3):e/Wt+4/29}function Kt(e){return e>6/29?e*e*e:Wt*(e-4/29)}function Jt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Qt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function $t(e){var t=Qt(e.r),n=Qt(e.g),r=Qt(e.b),i=Xt((.4124564*t+.3575761*n+.1804375*r)/.95047),o=Xt((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-Xt((.0193339*t+.119192*n+.9503041*r)/1.08883)),alpha:e.a}}function en(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*Kt(t),n=.95047*Kt(n),r=1.08883*Kt(r),new et(Jt(3.2404542*n-1.5371385*t-.4985314*r),Jt(-.969266*n+1.8760108*t+.041556*r),Jt(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function tn(e,t,n){var r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var nn={forward:$t,reverse:en,interpolate:function(e,t,n){return{l:qt(e.l,t.l,n),a:qt(e.a,t.a,n),b:qt(e.b,t.b,n),alpha:qt(e.alpha,t.alpha,n)}}},rn={forward:function(e){var t=$t(e),n=t.l,r=t.a,i=t.b,o=Math.atan2(i,r)*Yt;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:e.a}},reverse:function(e){var t=e.h*Zt,n=e.c;return en({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:tn(e.h,t.h,n),c:qt(e.c,t.c,n),l:qt(e.l,t.l,n),alpha:qt(e.alpha,t.alpha,n)}}},on=Object.freeze({__proto__:null,lab:nn,hcl:rn}),an=function(e,t,n,r,i){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],u=s[1];this.labels.push(s[0]),this.outputs.push(u)}};function sn(e,t,n,r){var i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}an.interpolationFactor=function(e,t,r,i){var o=0;if("exponential"===e.name)o=sn(t,e.base,r,i);else if("linear"===e.name)o=sn(t,1,r,i);else if("cubic-bezier"===e.name){var a=e.controlPoints;o=new n(a[0],a[1],a[2],a[3]).solve(sn(t,1,r,i))}return o},an.parse=function(e,t){var n=e[0],r=e[1],i=e[2],o=e.slice(3);if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var a=r[1];if("number"!=typeof a)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:a}}else{if("cubic-bezier"!==r[0])return t.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some((function(e){return"number"!=typeof e||e<0||e>1})))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(i=t.parse(i,2,ze)))return null;var u=[],c=null;"interpolate-hcl"===n||"interpolate-lab"===n?c=Ue:t.expectedType&&"value"!==t.expectedType.kind&&(c=t.expectedType);for(var l=0;l<o.length;l+=2){var f=o[l],p=o[l+1],h=l+3,d=l+4;if("number"!=typeof f)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(u.length&&u[u.length-1][0]>=f)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);var m=t.parse(p,d,c);if(!m)return null;c=c||m.type,u.push([f,m])}return"number"===c.kind||"color"===c.kind||"array"===c.kind&&"number"===c.itemType.kind&&"number"==typeof c.N?new an(c,n,r,i,u):t.error("Type "+Ye(c)+" is not interpolatable.")},an.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);var o=Vt(t,r),a=an.interpolationFactor(this.interpolation,r,t[o],t[o+1]),s=n[o].evaluate(e),u=n[o+1].evaluate(e);return"interpolate"===this.operator?Gt[this.type.kind.toLowerCase()](s,u,a):"interpolate-hcl"===this.operator?rn.reverse(rn.interpolate(rn.forward(s),rn.forward(u),a)):nn.reverse(nn.interpolate(nn.forward(s),nn.forward(u),a))},an.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},an.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},an.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t};var un=function(e,t){this.type=e,this.args=t};un.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var n=null,r=t.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=e.slice(1);o<a.length;o+=1){var s=t.parse(a[o],1+i.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,i.push(s)}var u=r&&i.some((function(e){return Ke(r,e.type)}));return new un(u?He:n,i)},un.prototype.evaluate=function(e){for(var t,n=null,r=0,i=0,o=this.args;i<o.length&&(r++,(n=o[i].evaluate(e))&&n instanceof it&&!n.available&&(t||(t=n.name),n=null,r===this.args.length&&(n=t)),null===n);i+=1);return n},un.prototype.eachChild=function(e){this.args.forEach(e)},un.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},un.prototype.serialize=function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e};var cn=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};cn.prototype.evaluate=function(e){return this.result.evaluate(e)},cn.prototype.eachChild=function(e){for(var t=0,n=this.bindings;t<n.length;t+=1)e(n[t][1]);e(this.result)},cn.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var n=[],r=1;r<e.length-1;r+=2){var i=e[r];if("string"!=typeof i)return t.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=t.parse(e[r+1],r+1);if(!o)return null;n.push([i,o])}var a=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return a?new cn(n,a):null},cn.prototype.outputDefined=function(){return this.result.outputDefined()},cn.prototype.serialize=function(){for(var e=["let"],t=0,n=this.bindings;t<n.length;t+=1){var r=n[t];e.push(r[0],r[1].serialize())}return e.push(this.result.serialize()),e};var ln=function(e,t,n){this.type=e,this.index=t,this.input=n};ln.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,ze),r=t.parse(e[2],2,Ze(t.expectedType||He));return n&&r?new ln(r.type.itemType,n,r):null},ln.prototype.evaluate=function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new lt("Array index out of bounds: "+t+" < 0.");if(t>=n.length)throw new lt("Array index out of bounds: "+t+" > "+(n.length-1)+".");if(t!==Math.floor(t))throw new lt("Array index must be an integer, but found "+t+" instead.");return n[t]},ln.prototype.eachChild=function(e){e(this.index),e(this.input)},ln.prototype.outputDefined=function(){return!1},ln.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var fn=function(e,t){this.type=Be,this.needle=e,this.haystack=t};fn.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,He),r=t.parse(e[2],2,He);return n&&r?Je(n.type,[Be,Fe,ze,Ne,He])?new fn(n,r):t.error("Expected first argument to be of type boolean, string, number or null, but found "+Ye(n.type)+" instead"):null},fn.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!Qe(t,["boolean","string","number","null"]))throw new lt("Expected first argument to be of type boolean, string, number or null, but found "+Ye(st(t))+" instead.");if(!Qe(n,["string","array"]))throw new lt("Expected second argument to be of type array or string, but found "+Ye(st(n))+" instead.");return n.indexOf(t)>=0},fn.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},fn.prototype.outputDefined=function(){return!0},fn.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var pn=function(e,t,n){this.type=ze,this.needle=e,this.haystack=t,this.fromIndex=n};pn.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,He),r=t.parse(e[2],2,He);if(!n||!r)return null;if(!Je(n.type,[Be,Fe,ze,Ne,He]))return t.error("Expected first argument to be of type boolean, string, number or null, but found "+Ye(n.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,ze);return i?new pn(n,r,i):null}return new pn(n,r)},pn.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Qe(t,["boolean","string","number","null"]))throw new lt("Expected first argument to be of type boolean, string, number or null, but found "+Ye(st(t))+" instead.");if(!Qe(n,["string","array"]))throw new lt("Expected second argument to be of type array or string, but found "+Ye(st(n))+" instead.");if(this.fromIndex){var r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)},pn.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},pn.prototype.outputDefined=function(){return!1},pn.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var hn=function(e,t,n,r,i,o){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};hn.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var n,r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var i={},o=[],a=2;a<e.length-1;a+=2){var s=e[a],u=e[a+1];Array.isArray(s)||(s=[s]);var c=t.concat(a);if(0===s.length)return c.error("Expected at least one branch label.");for(var l=0,f=s;l<f.length;l+=1){var p=f[l];if("number"!=typeof p&&"string"!=typeof p)return c.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return c.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof p&&Math.floor(p)!==p)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,st(p)))return null}else n=st(p);if(void 0!==i[String(p)])return c.error("Branch labels must be unique.");i[String(p)]=o.length}var h=t.parse(u,a,r);if(!h)return null;r=r||h.type,o.push(h)}var d=t.parse(e[1],1,He);if(!d)return null;var m=t.parse(e[e.length-1],e.length-1,r);return m?"value"!==d.type.kind&&t.concat(1).checkSubtype(n,d.type)?null:new hn(n,r,d,i,o,m):null},hn.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(st(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},hn.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},hn.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()},hn.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i];void 0===(f=r[this.cases[a]])?(r[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[f][1].push(a)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},u=0,c=n;u<c.length;u+=1){var l=c[u],f=l[0],p=l[1];t.push(1===p.length?s(p[0]):p.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var dn=function(e,t,n){this.type=e,this.branches=t,this.otherwise=n};dn.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var r=[],i=1;i<e.length-1;i+=2){var o=t.parse(e[i],i,Be);if(!o)return null;var a=t.parse(e[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var s=t.parse(e[e.length-1],e.length-1,n);return s?new dn(n,r,s):null},dn.prototype.evaluate=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[1];if(r[0].evaluate(e))return i.evaluate(e)}return this.otherwise.evaluate(e)},dn.prototype.eachChild=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[1];e(r[0]),e(i)}e(this.otherwise)},dn.prototype.outputDefined=function(){return this.branches.every((function(e){return e[1].outputDefined()}))&&this.otherwise.outputDefined()},dn.prototype.serialize=function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e};var mn=function(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r};function vn(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function yn(e,t,n,r){return 0===r.compare(t,n)}function gn(e,t,n){var r="=="!==e&&"!="!==e;return function(){function i(e,t,n){this.type=Be,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return i.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var n=e[0],o=t.parse(e[1],1,He);if(!o)return null;if(!vn(n,o.type))return t.concat(1).error('"'+n+"\" comparisons are not supported for type '"+Ye(o.type)+"'.");var a=t.parse(e[2],2,He);if(!a)return null;if(!vn(n,a.type))return t.concat(2).error('"'+n+"\" comparisons are not supported for type '"+Ye(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot compare types '"+Ye(o.type)+"' and '"+Ye(a.type)+"'.");r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new pt(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new pt(o.type,[a])));var s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,qe)))return null}return new i(o,a,s)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=st(o),u=st(a);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new lt('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var c=st(o),l=st(a);if("string"!==c.kind||"string"!==l.kind)return t(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):t(i,o,a)},i.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},i}()}mn.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,He),r=t.parse(e[2],2,ze);if(!n||!r)return null;if(!Je(n.type,[Ze(He),Fe,He]))return t.error("Expected first argument to be of type array or string, but found "+Ye(n.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,ze);return i?new mn(n.type,n,r,i):null}return new mn(n.type,n,r)},mn.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Qe(t,["string","array"]))throw new lt("Expected first argument to be of type array or string, but found "+Ye(st(t))+" instead.");if(this.endIndex){var r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)},mn.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},mn.prototype.outputDefined=function(){return!1},mn.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var bn=gn("==",(function(e,t,n){return t===n}),yn),xn=gn("!=",(function(e,t,n){return t!==n}),(function(e,t,n,r){return!yn(0,t,n,r)})),_n=gn("<",(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),wn=gn(">",(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),Sn=gn("<=",(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),On=gn(">=",(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0})),En=function(e,t,n,r,i){this.type=Fe,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};En.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,ze);if(!n)return null;var r=e[2];if("object"!=typeof r||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");var i=null;if(r.locale&&!(i=t.parse(r.locale,1,Fe)))return null;var o=null;if(r.currency&&!(o=t.parse(r.currency,1,Fe)))return null;var a=null;if(r["min-fraction-digits"]&&!(a=t.parse(r["min-fraction-digits"],1,ze)))return null;var s=null;return r["max-fraction-digits"]&&!(s=t.parse(r["max-fraction-digits"],1,ze))?null:new En(n,i,o,a,s)},En.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},En.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},En.prototype.outputDefined=function(){return!1},En.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var kn=function(e){this.type=ze,this.input=e};kn.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error("Expected argument of type string or array, but found "+Ye(n.type)+" instead."):new kn(n):null},kn.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new lt("Expected value to be of type string or array, but found "+Ye(st(t))+" instead.")},kn.prototype.eachChild=function(e){e(this.input)},kn.prototype.outputDefined=function(){return!1},kn.prototype.serialize=function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e};var Cn={"==":bn,"!=":xn,">":wn,"<":_n,">=":On,"<=":Sn,array:pt,at:ln,boolean:pt,case:dn,coalesce:un,collator:xt,format:ht,image:dt,in:fn,"index-of":pn,interpolate:an,"interpolate-hcl":an,"interpolate-lab":an,length:kn,let:cn,literal:ct,match:hn,number:pt,"number-format":En,object:pt,slice:mn,step:Ht,string:pt,"to-boolean":vt,"to-color":vt,"to-number":vt,"to-string":vt,var:Bt,within:Dt};function jn(e,t){var n=t[0],r=t[1],i=t[2],o=t[3];n=n.evaluate(e),r=r.evaluate(e),i=i.evaluate(e);var a=o?o.evaluate(e):1,s=ot(n,r,i,a);if(s)throw new lt(s);return new et(n/255*a,r/255*a,i/255*a,a)}function Tn(e,t){return e in t}function An(e,t){var n=t[e];return void 0===n?null:n}function Pn(e){return{type:e}}function Mn(e){return{result:"success",value:e}}function In(e){return{result:"error",value:e}}function Ln(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Rn(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Dn(e){return!!e.expression&&e.expression.interpolated}function Nn(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function zn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Fn(e){return e}function Bn(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function Un(e,t,n,r,i){return Bn(typeof n===i?r[n]:void 0,e["default"],t["default"])}function Vn(e,t,n){if("number"!==Nn(n))return Bn(e["default"],t["default"]);var r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var i=Vt(e.stops.map((function(e){return e[0]})),n);return e.stops[i][1]}function Hn(e,t,n){var r=void 0!==e.base?e.base:1;if("number"!==Nn(n))return Bn(e["default"],t["default"]);var i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];var o=Vt(e.stops.map((function(e){return e[0]})),n),a=function(e,t,n,r){var i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}(n,r,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],u=e.stops[o+1][1],c=Gt[t.type]||Fn;if(e.colorSpace&&"rgb"!==e.colorSpace){var l=on[e.colorSpace];c=function(e,t){return l.reverse(l.interpolate(l.forward(e),l.forward(t),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s.evaluate.apply(void 0,e),r=u.evaluate.apply(void 0,e);if(void 0!==n&&void 0!==r)return c(n,r,a)}}:c(s,u,a)}function qn(e,t,n){return"color"===t.type?n=et.parse(n):"formatted"===t.type?n=rt.fromString(n.toString()):"resolvedImage"===t.type?n=it.fromString(n.toString()):Nn(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),Bn(n,e["default"],t["default"])}bt.register(Cn,{error:[{kind:"error"},[Fe],function(e,t){throw new lt(t[0].evaluate(e))}],typeof:[Fe,[He],function(e,t){return Ye(st(t[0].evaluate(e)))}],"to-rgba":[Ze(ze,4),[Ue],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[Ue,[ze,ze,ze],jn],rgba:[Ue,[ze,ze,ze,ze],jn],has:{type:Be,overloads:[[[Fe],function(e,t){return Tn(t[0].evaluate(e),e.properties())}],[[Fe,Ve],function(e,t){var n=t[1];return Tn(t[0].evaluate(e),n.evaluate(e))}]]},get:{type:He,overloads:[[[Fe],function(e,t){return An(t[0].evaluate(e),e.properties())}],[[Fe,Ve],function(e,t){var n=t[1];return An(t[0].evaluate(e),n.evaluate(e))}]]},"feature-state":[He,[Fe],function(e,t){return An(t[0].evaluate(e),e.featureState||{})}],properties:[Ve,[],function(e){return e.properties()}],"geometry-type":[Fe,[],function(e){return e.geometryType()}],id:[He,[],function(e){return e.id()}],zoom:[ze,[],function(e){return e.globals.zoom}],"heatmap-density":[ze,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[ze,[],function(e){return e.globals.lineProgress||0}],accumulated:[He,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[ze,Pn(ze),function(e,t){for(var n=0,r=0,i=t;r<i.length;r+=1)n+=i[r].evaluate(e);return n}],"*":[ze,Pn(ze),function(e,t){for(var n=1,r=0,i=t;r<i.length;r+=1)n*=i[r].evaluate(e);return n}],"-":{type:ze,overloads:[[[ze,ze],function(e,t){var n=t[1];return t[0].evaluate(e)-n.evaluate(e)}],[[ze],function(e,t){return-t[0].evaluate(e)}]]},"/":[ze,[ze,ze],function(e,t){var n=t[1];return t[0].evaluate(e)/n.evaluate(e)}],"%":[ze,[ze,ze],function(e,t){var n=t[1];return t[0].evaluate(e)%n.evaluate(e)}],ln2:[ze,[],function(){return Math.LN2}],pi:[ze,[],function(){return Math.PI}],e:[ze,[],function(){return Math.E}],"^":[ze,[ze,ze],function(e,t){var n=t[1];return Math.pow(t[0].evaluate(e),n.evaluate(e))}],sqrt:[ze,[ze],function(e,t){return Math.sqrt(t[0].evaluate(e))}],log10:[ze,[ze],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN10}],ln:[ze,[ze],function(e,t){return Math.log(t[0].evaluate(e))}],log2:[ze,[ze],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN2}],sin:[ze,[ze],function(e,t){return Math.sin(t[0].evaluate(e))}],cos:[ze,[ze],function(e,t){return Math.cos(t[0].evaluate(e))}],tan:[ze,[ze],function(e,t){return Math.tan(t[0].evaluate(e))}],asin:[ze,[ze],function(e,t){return Math.asin(t[0].evaluate(e))}],acos:[ze,[ze],function(e,t){return Math.acos(t[0].evaluate(e))}],atan:[ze,[ze],function(e,t){return Math.atan(t[0].evaluate(e))}],min:[ze,Pn(ze),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[ze,Pn(ze),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[ze,[ze],function(e,t){return Math.abs(t[0].evaluate(e))}],round:[ze,[ze],function(e,t){var n=t[0].evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[ze,[ze],function(e,t){return Math.floor(t[0].evaluate(e))}],ceil:[ze,[ze],function(e,t){return Math.ceil(t[0].evaluate(e))}],"filter-==":[Be,[Fe,He],function(e,t){var n=t[0],r=t[1];return e.properties()[n.value]===r.value}],"filter-id-==":[Be,[He],function(e,t){var n=t[0];return e.id()===n.value}],"filter-type-==":[Be,[Fe],function(e,t){var n=t[0];return e.geometryType()===n.value}],"filter-<":[Be,[Fe,He],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[Be,[He],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[Be,[Fe,He],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i>o}],"filter-id->":[Be,[He],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[Be,[Fe,He],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[Be,[He],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[Be,[Fe,He],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[Be,[He],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[Be,[He],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[Be,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[Be,[Ze(Fe)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[Be,[Ze(He)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[Be,[Fe,Ze(He)],function(e,t){var n=t[0];return t[1].value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[Be,[Fe,Ze(He)],function(e,t){var n=t[0],r=t[1];return function(e,t,n,r){for(;n<=r;){var i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:Be,overloads:[[[Be,Be],function(e,t){var n=t[1];return t[0].evaluate(e)&&n.evaluate(e)}],[Pn(Be),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(!r[n].evaluate(e))return!1;return!0}]]},any:{type:Be,overloads:[[[Be,Be],function(e,t){var n=t[1];return t[0].evaluate(e)||n.evaluate(e)}],[Pn(Be),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(r[n].evaluate(e))return!0;return!1}]]},"!":[Be,[Be],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[Be,[Fe],function(e,t){var n=e.globals&&e.globals.isSupportedScript;return!n||n(t[0].evaluate(e))}],upcase:[Fe,[Fe],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[Fe,[Fe],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[Fe,Pn(He),function(e,t){return t.map((function(t){return ut(t.evaluate(e))})).join("")}],"resolved-locale":[Fe,[qe],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var Gn=function(e,t){this.expression=e,this._warningHistory={},this._evaluator=new gt,this._defaultValue=t?function(e){return"color"===e.type&&zn(e["default"])?new et(0,0,0,0):"color"===e.type?et.parse(e["default"])||null:void 0===e["default"]?null:e["default"]}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null};function Wn(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Cn}function Zn(e,t){var n=new Ut(Cn,[],t?function(e){var t={color:Ue,string:Fe,number:ze,enum:Fe,boolean:Be,formatted:Ge,resolvedImage:We};return"array"===e.type?Ze(t[e.value]||He,e.length):t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?Mn(new Gn(r,t)):In(n.errors)}Gn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,o){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)},Gn.prototype.evaluate=function(e,t,n,r,i,o){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new lt("Expected value to be one of "+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var Yn=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!zt(t.expression)};Yn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)},Yn.prototype.evaluate=function(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)};var Xn=function(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!zt(t.expression),this.interpolationType=r};function Kn(e,t){if("error"===(e=Zn(e,t)).result)return e;var n=e.value.expression,r=Nt(n);if(!r&&!Ln(t))return In([new Re("","data expressions not supported")]);var i=Ft(n,["zoom"]);if(!i&&!Rn(t))return In([new Re("","zoom expressions not supported")]);var o=function e(t){var n=null;if(t instanceof cn)n=e(t.result);else if(t instanceof un)for(var r=0,i=t.args;r<i.length&&!(n=e(i[r]));r+=1);else(t instanceof Ht||t instanceof an)&&t.input instanceof bt&&"zoom"===t.input.name&&(n=t);return n instanceof Re||t.eachChild((function(t){var r=e(t);r instanceof Re?n=r:!n&&r?n=new Re("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new Re("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}(n);return o||i?o instanceof Re?In([o]):o instanceof an&&!Dn(t)?In([new Re("",'"interpolate" expressions cannot be used with this property')]):Mn(o?new Xn(r?"camera":"composite",e.value,o.labels,o instanceof an?o.interpolation:void 0):new Yn(r?"constant":"source",e.value)):In([new Re("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Xn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)},Xn.prototype.evaluate=function(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)},Xn.prototype.interpolationFactor=function(e,t,n){return this.interpolationType?an.interpolationFactor(this.interpolationType,e,t,n):0};var Jn=function(e,t){this._parameters=e,this._specification=t,Me(this,function e(t,n){var r,i,o,a="color"===n.type,s=t.stops&&"object"==typeof t.stops[0][0],u=s||!(s||void 0!==t.property),c=t.type||(Dn(n)?"exponential":"interval");if(a&&((t=Me({},t)).stops&&(t.stops=t.stops.map((function(e){return[e[0],et.parse(e[1])]}))),t["default"]=et.parse(t["default"]?t["default"]:n["default"])),t.colorSpace&&"rgb"!==t.colorSpace&&!on[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===c)r=Hn;else if("interval"===c)r=Vn;else if("categorical"===c){r=Un,i=Object.create(null);for(var l=0,f=t.stops;l<f.length;l+=1){var p=f[l];i[p[0]]=p[1]}o=typeof t.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'+c+'"');r=qn}if(s){for(var h={},d=[],m=0;m<t.stops.length;m++){var v=t.stops[m],y=v[0].zoom;void 0===h[y]&&(h[y]={zoom:y,type:t.type,property:t.property,default:t["default"],stops:[]},d.push(y)),h[y].stops.push([v[0].value,v[1]])}for(var g=[],b=0,x=d;b<x.length;b+=1){var _=x[b];g.push([h[_].zoom,e(h[_],n)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:an.interpolationFactor.bind(void 0,w),zoomStops:g.map((function(e){return e[0]})),evaluate:function(e,r){var i=e.zoom;return Hn({stops:g,base:t.base},n,i).evaluate(i,r)}}}if(u){var S="exponential"===c?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:S,interpolationFactor:an.interpolationFactor.bind(void 0,S),zoomStops:t.stops.map((function(e){return e[0]})),evaluate:function(e){return r(t,n,e.zoom,i,o)}}}return{kind:"source",evaluate:function(e,a){var s=a&&a.properties?a.properties[t.property]:void 0;return void 0===s?Bn(t["default"],n["default"]):r(t,n,s,i,o)}}}(this._parameters,this._specification))};function Qn(e){var t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec,s=[],u=Nn(n);if("object"!==u)return[new Ae(t,n,"object expected, "+u+" found")];for(var c in n){var l=c.split(".")[0],f=r[l]||r["*"],p=void 0;if(i[l])p=i[l];else if(r[l])p=Sr;else if(i["*"])p=i["*"];else{if(!r["*"]){s.push(new Ae(t,n[c],'unknown property "'+c+'"'));continue}p=Sr}s=s.concat(p({key:(t?t+".":t)+c,value:n[c],valueSpec:f,style:o,styleSpec:a,object:n,objectKey:c},n))}for(var h in r)i[h]||r[h].required&&void 0===r[h]["default"]&&void 0===n[h]&&s.push(new Ae(t,n,'missing required property "'+h+'"'));return s}function $n(e){var t=e.value,n=e.valueSpec,r=e.style,i=e.styleSpec,o=e.key,a=e.arrayElementValidator||Sr;if("array"!==Nn(t))return[new Ae(o,t,"array expected, "+Nn(t)+" found")];if(n.length&&t.length!==n.length)return[new Ae(o,t,"array length "+n.length+" expected, length "+t.length+" found")];if(n["min-length"]&&t.length<n["min-length"])return[new Ae(o,t,"array length at least "+n["min-length"]+" expected, length "+t.length+" found")];var s={type:n.value,values:n.values};i.$version<7&&(s["function"]=n["function"]),"object"===Nn(n.value)&&(s=n.value);for(var u=[],c=0;c<t.length;c++)u=u.concat(a({array:t,arrayIndex:c,value:t[c],valueSpec:s,style:r,styleSpec:i,key:o+"["+c+"]"}));return u}function er(e){var t=e.key,n=e.value,r=e.valueSpec,i=Nn(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new Ae(t,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new Ae(t,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new Ae(t,n,n+" is greater than the maximum value "+r.maximum)]:[]}function tr(e){var t,n,r,i=e.valueSpec,o=Ie(e.value.type),a={},s="categorical"!==o&&void 0===e.value.property,u=!s,c="array"===Nn(e.value.stops)&&"array"===Nn(e.value.stops[0])&&"object"===Nn(e.value.stops[0][0]),l=Qn({key:e.key,value:e.value,valueSpec:e.styleSpec["function"],style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===o)return[new Ae(e.key,e.value,'identity function may not have a "stops" property')];var t=[],n=e.value;return t=t.concat($n({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:f})),"array"===Nn(n)&&0===n.length&&t.push(new Ae(e.key,n,"array must have at least one stop")),t},default:function(e){return Sr({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===o&&s&&l.push(new Ae(e.key,e.value,'missing required property "property"')),"identity"===o||e.value.stops||l.push(new Ae(e.key,e.value,'missing required property "stops"')),"exponential"===o&&e.valueSpec.expression&&!Dn(e.valueSpec)&&l.push(new Ae(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(u&&!Ln(e.valueSpec)?l.push(new Ae(e.key,e.value,"property functions not supported")):s&&!Rn(e.valueSpec)&&l.push(new Ae(e.key,e.value,"zoom functions not supported"))),"categorical"!==o&&!c||void 0!==e.value.property||l.push(new Ae(e.key,e.value,'"property" property is required')),l;function f(e){var t=[],o=e.value,s=e.key;if("array"!==Nn(o))return[new Ae(s,o,"array expected, "+Nn(o)+" found")];if(2!==o.length)return[new Ae(s,o,"array length 2 expected, length "+o.length+" found")];if(c){if("object"!==Nn(o[0]))return[new Ae(s,o,"object expected, "+Nn(o[0])+" found")];if(void 0===o[0].zoom)return[new Ae(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new Ae(s,o,"object stop key must have value")];if(r&&r>Ie(o[0].zoom))return[new Ae(s,o[0].zoom,"stop zoom values must appear in ascending order")];Ie(o[0].zoom)!==r&&(r=Ie(o[0].zoom),n=void 0,a={}),t=t.concat(Qn({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:er,value:p}}))}else t=t.concat(p({key:s+"[0]",value:o[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},o));return Wn(Le(o[1]))?t.concat([new Ae(s+"[1]",o[1],"expressions are not allowed in function stops.")]):t.concat(Sr({key:s+"[1]",value:o[1],valueSpec:i,style:e.style,styleSpec:e.styleSpec}))}function p(e,r){var s=Nn(e.value),u=Ie(e.value),c=null!==e.value?e.value:r;if(t){if(s!==t)return[new Ae(e.key,c,s+" stop domain type must match previous stop domain type "+t)]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Ae(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var l="number expected, "+s+" found";return Ln(i)&&void 0===o&&(l+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ae(e.key,c,l)]}return"categorical"!==o||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==o&&"number"===s&&void 0!==n&&u<n?[new Ae(e.key,c,"stop domain values must appear in ascending order")]:(n=u,"categorical"===o&&u in a?[new Ae(e.key,c,"stop domain values must be unique")]:(a[u]=!0,[])):[new Ae(e.key,c,"integer expected, found "+u)]}}function nr(e){var t=("property"===e.expressionContext?Kn:Zn)(Le(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new Ae(""+e.key+t.key,e.value,t.message)}));var n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new Ae(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===e.expressionContext&&"layout"===e.propertyType&&!zt(n))return[new Ae(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!zt(n))return[new Ae(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!Ft(n,["zoom","feature-state"]))return[new Ae(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!Nt(n))return[new Ae(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function rr(e){var t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Ie(n))&&i.push(new Ae(t,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(Ie(n))&&i.push(new Ae(t,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function ir(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,n=e.slice(1);t<n.length;t+=1){var r=n[t];if(!ir(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}Jn.deserialize=function(e){return new Jn(e._parameters,e._specification)},Jn.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var or={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ar(e){if(null==e)return{filter:function(){return!0},needGeometry:!1};ir(e)||(e=ur(e));var t=Zn(e,or);if("error"===t.result)throw new Error(t.value.map((function(e){return e.key+": "+e.message})).join(", "));return{filter:function(e,n,r){return t.value.evaluate(e,n,{},r)},needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(var n=1;n<t.length;n++)if(e(t[n]))return!0;return!1}(e)}}function sr(e,t){return e<t?-1:e>t?1:0}function ur(e){if(!e)return!0;var t,n=e[0];return e.length<=1?"any"!==n:"=="===n?cr(e[1],e[2],"=="):"!="===n?pr(cr(e[1],e[2],"==")):"<"===n||">"===n||"<="===n||">="===n?cr(e[1],e[2],n):"any"===n?(t=e.slice(1),["any"].concat(t.map(ur))):"all"===n?["all"].concat(e.slice(1).map(ur)):"none"===n?["all"].concat(e.slice(1).map(ur).map(pr)):"in"===n?lr(e[1],e.slice(2)):"!in"===n?pr(lr(e[1],e.slice(2))):"has"===n?fr(e[1]):"!has"===n?pr(fr(e[1])):"within"!==n||e}function cr(e,t,n){switch(e){case"$type":return["filter-type-"+n,t];case"$id":return["filter-id-"+n,t];default:return["filter-"+n,e,t]}}function lr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(sr)]]:["filter-in-small",e,["literal",t]]}}function fr(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function pr(e){return["!",e]}function hr(e){return ir(Le(e.value))?nr(Me({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var n=t.value,r=t.key;if("array"!==Nn(n))return[new Ae(r,n,"array expected, "+Nn(n)+" found")];var i,o=t.styleSpec,a=[];if(n.length<1)return[new Ae(r,n,"filter array must have at least 1 element")];switch(a=a.concat(rr({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:t.style,styleSpec:t.styleSpec})),Ie(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Ie(n[1])&&a.push(new Ae(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new Ae(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=Nn(n[1]))&&a.push(new Ae(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=Nn(n[s]),"$type"===Ie(n[1])?a=a.concat(rr({key:r+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new Ae(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var u=1;u<n.length;u++)a=a.concat(e({key:r+"["+u+"]",value:n[u],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":i=Nn(n[1]),2!==n.length?a.push(new Ae(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new Ae(r+"[1]",n[1],"string expected, "+i+" found"));break;case"within":i=Nn(n[1]),2!==n.length?a.push(new Ae(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"object"!==i&&a.push(new Ae(r+"[1]",n[1],"object expected, "+i+" found"))}return a}(e)}function dr(e,t){var n=e.key,r=e.style,i=e.styleSpec,o=e.value,a=e.objectKey,s=i[t+"_"+e.layerType];if(!s)return[];var u=a.match(/^(.*)-transition$/);if("paint"===t&&u&&s[u[1]]&&s[u[1]].transition)return Sr({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var c,l=e.valueSpec||s[a];if(!l)return[new Ae(n,o,'unknown property "'+a+'"')];if("string"===Nn(o)&&Ln(l)&&!l.tokens&&(c=/^{([^}]+)}$/.exec(o)))return[new Ae(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(c[1])+" }`.")];var f=[];return"symbol"===e.layerType&&("text-field"===a&&r&&!r.glyphs&&f.push(new Ae(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&zn(Le(o))&&"identity"===Ie(o.type)&&f.push(new Ae(n,o,'"text-font" does not support identity functions'))),f.concat(Sr({key:e.key,value:o,valueSpec:l,style:r,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:a}))}function mr(e){return dr(e,"paint")}function vr(e){return dr(e,"layout")}function yr(e){var t=[],n=e.value,r=e.key,i=e.style,o=e.styleSpec;n.type||n.ref||t.push(new Ae(r,n,'either "type" or "ref" is required'));var a,s=Ie(n.type),u=Ie(n.ref);if(n.id)for(var c=Ie(n.id),l=0;l<e.arrayIndex;l++){var f=i.layers[l];Ie(f.id)===c&&t.push(new Ae(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+f.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(e){e in n&&t.push(new Ae(r,n[e],'"'+e+'" is prohibited for ref layers'))})),i.layers.forEach((function(e){Ie(e.id)===u&&(a=e)})),a?a.ref?t.push(new Ae(r,n.ref,"ref cannot reference another ref layer")):s=Ie(a.type):t.push(new Ae(r,n.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(n.source){var p=i.sources&&i.sources[n.source],h=p&&Ie(p.type);p?"vector"===h&&"raster"===s?t.push(new Ae(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===h&&"raster"!==s?t.push(new Ae(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==h||n["source-layer"]?"raster-dem"===h&&"hillshade"!==s?t.push(new Ae(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===h&&p.lineMetrics||t.push(new Ae(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new Ae(r,n,'layer "'+n.id+'" must specify a "source-layer"')):t.push(new Ae(r,n.source,'source "'+n.source+'" not found'))}else t.push(new Ae(r,n,'missing required property "source"'));return t=t.concat(Qn({key:r,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Sr({key:r+".type",value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"})},filter:hr,layout:function(e){return Qn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return vr(Me({layerType:s},e))}}})},paint:function(e){return Qn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return mr(Me({layerType:s},e))}}})}}}))}function gr(e){var t=e.value,n=e.key,r=Nn(t);return"string"!==r?[new Ae(n,t,"string expected, "+r+" found")]:[]}var br={promoteId:function(e){var t=e.key,n=e.value;if("string"===Nn(n))return gr({key:t,value:n});var r=[];for(var i in n)r.push.apply(r,gr({key:t+"."+i,value:n[i]}));return r}};function xr(e){var t=e.value,n=e.key,r=e.styleSpec,i=e.style;if(!t.type)return[new Ae(n,t,'"type" is required')];var o,a=Ie(t.type);switch(a){case"vector":case"raster":case"raster-dem":return Qn({key:n,value:t,valueSpec:r["source_"+a.replace("-","_")],style:e.style,styleSpec:r,objectElementValidators:br});case"geojson":if(o=Qn({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:br}),t.cluster)for(var s in t.clusterProperties){var u=t.clusterProperties[s],c=u[0],l="string"==typeof c?[c,["accumulated"],["get",s]]:c;o.push.apply(o,nr({key:n+"."+s+".map",value:u[1],expressionContext:"cluster-map"})),o.push.apply(o,nr({key:n+"."+s+".reduce",value:l,expressionContext:"cluster-reduce"}))}return o;case"video":return Qn({key:n,value:t,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return Qn({key:n,value:t,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new Ae(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return rr({key:n+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function _r(e){var t=e.value,n=e.styleSpec,r=n.light,i=e.style,o=[],a=Nn(t);if(void 0===t)return o;if("object"!==a)return o.concat([new Ae("light",t,"object expected, "+a+" found")]);for(var s in t){var u=s.match(/^(.*)-transition$/);o=o.concat(u&&r[u[1]]&&r[u[1]].transition?Sr({key:s,value:t[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?Sr({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}):[new Ae(s,t[s],'unknown property "'+s+'"')])}return o}var wr={"*":function(){return[]},array:$n,boolean:function(e){var t=e.value,n=e.key,r=Nn(t);return"boolean"!==r?[new Ae(n,t,"boolean expected, "+r+" found")]:[]},number:er,color:function(e){var t=e.key,n=e.value,r=Nn(n);return"string"!==r?[new Ae(t,n,"color expected, "+r+" found")]:null===$e(n)?[new Ae(t,n,'color expected, "'+n+'" found')]:[]},constants:Pe,enum:rr,filter:hr,function:tr,layer:yr,object:Qn,source:xr,light:_r,string:gr,formatted:function(e){return 0===gr(e).length?[]:nr(e)},resolvedImage:function(e){return 0===gr(e).length?[]:nr(e)}};function Sr(e){var t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&zn(Ie(t))?tr(e):n.expression&&Wn(Le(t))?nr(e):n.type&&wr[n.type]?wr[n.type](e):Qn(Me({},e,{valueSpec:n.type?r[n.type]:n}))}function Or(e){var t=e.value,n=e.key,r=gr(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new Ae(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new Ae(n,t,'"glyphs" url must include a "{range}" token'))),r}function Er(e,t){void 0===t&&(t=Te);var n=[];return n=n.concat(Sr({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Or,"*":function(){return[]}}})),e.constants&&(n=n.concat(Pe({key:"constants",value:e.constants,style:e,styleSpec:t}))),kr(n)}function kr(e){return[].concat(e).sort((function(e,t){return e.line-t.line}))}function Cr(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return kr(e.apply(this,t))}}Er.source=Cr(xr),Er.light=Cr(_r),Er.layer=Cr(yr),Er.filter=Cr(hr),Er.paintProperty=Cr(mr),Er.layoutProperty=Cr(vr);var jr=Er,Tr=jr.light,Ar=jr.paintProperty,Pr=jr.layoutProperty;function Mr(e,t){var n=!1;if(t&&t.length)for(var r=0,i=t;r<i.length;r+=1)e.fire(new Ce(new Error(i[r].message))),n=!0;return n}var Ir=Lr;function Lr(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(n=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[3+o],s=i[3+o+1];r.push(a===s?null:i.subarray(a,s))}var u=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],u),this.bboxes=i.subarray(u),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var c=0;c<this.d*this.d;c++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var l=n/t*e;this.min=-l,this.max=e+l}Lr.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Lr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Lr.prototype._insertCell=function(e,t,n,r,i,o){this.cells[i].push(o)},Lr.prototype.query=function(e,t,n,r,i){var o=this.min,a=this.max;if(e<=o&&t<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,r,this._queryCell,s,{},i),s},Lr.prototype._queryCell=function(e,t,n,r,i,o,a,s){var u=this.cells[i];if(null!==u)for(var c=this.keys,l=this.bboxes,f=0;f<u.length;f++){var p=u[f];if(void 0===a[p]){var h=4*p;(s?s(l[h+0],l[h+1],l[h+2],l[h+3]):e<=l[h+2]&&t<=l[h+3]&&n>=l[h+0]&&r>=l[h+1])?(a[p]=!0,o.push(c[p])):a[p]=!1}}},Lr.prototype._forEachCell=function(e,t,n,r,i,o,a,s){for(var u=this._convertToCellCoord(e),c=this._convertToCellCoord(t),l=this._convertToCellCoord(n),f=this._convertToCellCoord(r),p=u;p<=l;p++)for(var h=c;h<=f;h++){var d=this.d*h+p;if((!s||s(this._convertFromCellCoord(p),this._convertFromCellCoord(h),this._convertFromCellCoord(p+1),this._convertFromCellCoord(h+1)))&&i.call(this,e,t,n,r,d,o,a,s))return}},Lr.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},Lr.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Lr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(t+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=t,a=0;a<e.length;a++){var s=e[a];i[3+a]=o,i.set(s,o),o+=s.length}return i[3+e.length]=o,i.set(this.keys,o),i[3+e.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var Rr=a.ImageData,Dr=a.ImageBitmap,Nr={};function zr(e,t,n){void 0===n&&(n={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),Nr[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}for(var Fr in zr("Object",Object),Ir.serialize=function(e,t){var n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},Ir.deserialize=function(e){return new Ir(e.buffer)},zr("Grid",Ir),zr("Color",et),zr("Error",Error),zr("ResolvedImage",it),zr("StylePropertyFunction",Jn),zr("StyleExpression",Gn,{omit:["_evaluator"]}),zr("ZoomDependentExpression",Xn),zr("ZoomConstantExpression",Yn),zr("CompoundExpression",bt,{omit:["_evaluate"]}),Cn)Cn[Fr]._classRegistryKey||zr("Expression_"+Fr,Cn[Fr]);function Br(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Ur(e){return Dr&&e instanceof Dr}function Vr(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Br(e)||Ur(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var n=e;return t&&t.push(n.buffer),n}if(e instanceof Rr)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var r=[],i=0,o=e;i<o.length;i+=1)r.push(Vr(o[i],t));return r}if("object"==typeof e){var a=e.constructor,s=a._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var u=a.serialize?a.serialize(e,t):{};if(!a.serialize){for(var c in e)if(e.hasOwnProperty(c)&&!(Nr[s].omit.indexOf(c)>=0)){var l=e[c];u[c]=Nr[s].shallow.indexOf(c)>=0?l:Vr(l,t)}e instanceof Error&&(u.message=e.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(u.$name=s),u}throw new Error("can't serialize object of type "+typeof e)}function Hr(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Br(e)||Ur(e)||ArrayBuffer.isView(e)||e instanceof Rr)return e;if(Array.isArray(e))return e.map(Hr);if("object"==typeof e){var t=e.$name||"Object",n=Nr[t].klass;if(!n)throw new Error("can't deserialize unregistered class "+t);if(n.deserialize)return n.deserialize(e);for(var r=Object.create(n.prototype),i=0,o=Object.keys(e);i<o.length;i+=1){var a=o[i];if("$name"!==a){var s=e[a];r[a]=Nr[t].shallow.indexOf(a)>=0?s:Hr(s)}}return r}throw new Error("can't deserialize object of type "+typeof e)}var qr=function(){this.first=!0};qr.prototype.update=function(e,t){var n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))};var Gr={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function Wr(e){for(var t=0,n=e;t<n.length;t+=1)if(Zr(n[t].charCodeAt(0)))return!0;return!1}function Zr(e){return!(746!==e&&747!==e&&(e<4352||!(Gr["Bopomofo Extended"](e)||Gr.Bopomofo(e)||Gr["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||Gr["CJK Compatibility Ideographs"](e)||Gr["CJK Compatibility"](e)||Gr["CJK Radicals Supplement"](e)||Gr["CJK Strokes"](e)||!(!Gr["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Gr["CJK Unified Ideographs Extension A"](e)||Gr["CJK Unified Ideographs"](e)||Gr["Enclosed CJK Letters and Months"](e)||Gr["Hangul Compatibility Jamo"](e)||Gr["Hangul Jamo Extended-A"](e)||Gr["Hangul Jamo Extended-B"](e)||Gr["Hangul Jamo"](e)||Gr["Hangul Syllables"](e)||Gr.Hiragana(e)||Gr["Ideographic Description Characters"](e)||Gr.Kanbun(e)||Gr["Kangxi Radicals"](e)||Gr["Katakana Phonetic Extensions"](e)||Gr.Katakana(e)&&12540!==e||!(!Gr["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Gr["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Gr["Unified Canadian Aboriginal Syllabics"](e)||Gr["Unified Canadian Aboriginal Syllabics Extended"](e)||Gr["Vertical Forms"](e)||Gr["Yijing Hexagram Symbols"](e)||Gr["Yi Syllables"](e)||Gr["Yi Radicals"](e))))}function Yr(e){return!(Zr(e)||function(e){return!!(Gr["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Gr["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Gr["Letterlike Symbols"](e)||Gr["Number Forms"](e)||Gr["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Gr["Control Pictures"](e)&&9251!==e||Gr["Optical Character Recognition"](e)||Gr["Enclosed Alphanumerics"](e)||Gr["Geometric Shapes"](e)||Gr["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||Gr["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Gr["CJK Symbols and Punctuation"](e)||Gr.Katakana(e)||Gr["Private Use Area"](e)||Gr["CJK Compatibility Forms"](e)||Gr["Small Form Variants"](e)||Gr["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Xr(e){return e>=1424&&e<=2303||Gr["Arabic Presentation Forms-A"](e)||Gr["Arabic Presentation Forms-B"](e)}function Kr(e,t){return!(!t&&Xr(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Gr.Khmer(e))}function Jr(e){for(var t=0,n=e;t<n.length;t+=1)if(Xr(n[t].charCodeAt(0)))return!0;return!1}var Qr=null,$r="unavailable",ei=null,ti=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&($r="error"),Qr&&Qr(e)};function ni(){ri.fire(new ke("pluginStateChange",{pluginStatus:$r,pluginURL:ei}))}var ri=new je,ii=function(){return $r},oi=function(){if("deferred"!==$r||!ei)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");$r="loading",ni(),ei&&xe({url:ei},(function(e){e?ti(e):($r="loaded",ni())}))},ai={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===$r||null!=ai.applyArabicShaping},isLoading:function(){return"loading"===$r},setState:function(e){$r=e.pluginStatus,ei=e.pluginURL},isParsed:function(){return null!=ai.applyArabicShaping&&null!=ai.processBidirectionalText&&null!=ai.processStyledBidirectionalText},getPluginURL:function(){return ei}},si=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new qr,this.transition={})};si.prototype.isSupportedScript=function(e){return function(e,t){for(var n=0,r=e;n<r.length;n+=1)if(!Kr(r[n].charCodeAt(0),t))return!1;return!0}(e,ai.isLoaded())},si.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},si.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}};var ui=function(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(zn(e))return new Jn(e,t);if(Wn(e)){var n=Kn(e,t);if("error"===n.result)throw new Error(n.value.map((function(e){return e.key+": "+e.message})).join(", "));return n.value}var r=e;return"string"==typeof e&&"color"===t.type&&(r=et.parse(e)),{kind:"constant",evaluate:function(){return r}}}(void 0===t?e.specification["default"]:t,e.specification)};ui.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},ui.prototype.possiblyEvaluate=function(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)};var ci=function(e){this.property=e,this.value=new ui(e,void 0)};ci.prototype.transitioned=function(e,t){return new fi(this.property,this.value,t,p({},e.transition,this.transition),e.now)},ci.prototype.untransitioned=function(){return new fi(this.property,this.value,null,{},0)};var li=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};li.prototype.getValue=function(e){return _(this._values[e].value.value)},li.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new ci(this._values[e].property)),this._values[e].value=new ui(this._values[e].property,null===t?void 0:_(t))},li.prototype.getTransition=function(e){return _(this._values[e].transition)},li.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new ci(this._values[e].property)),this._values[e].transition=_(t)||void 0},li.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i);var o=this.getTransition(r);void 0!==o&&(e[r+"-transition"]=o)}return e},li.prototype.transitioned=function(e,t){for(var n=new pi(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(e,t._values[o])}return n},li.prototype.untransitioned=function(){for(var e=new pi(this._properties),t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t];e._values[r]=this._values[r].untransitioned()}return e};var fi=function(e,t,n,r,i){this.property=e,this.value=t,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,e.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};fi.prototype.possiblyEvaluate=function(e,t,n){var r=e.now||0,i=this.value.possiblyEvaluate(e,t,n),o=this.prior;if(o){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return o.possiblyEvaluate(e,t,n);var a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,n),i,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}(a))}return i};var pi=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};pi.prototype.possiblyEvaluate=function(e,t,n){for(var r=new mi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(e,t,n)}return r},pi.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1)if(this._values[t[e]].prior)return!0;return!1};var hi=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};hi.prototype.getValue=function(e){return _(this._values[e].value)},hi.prototype.setValue=function(e,t){this._values[e]=new ui(this._values[e].property,null===t?void 0:_(t))},hi.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i)}return e},hi.prototype.possiblyEvaluate=function(e,t,n){for(var r=new mi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(e,t,n)}return r};var di=function(e,t,n){this.property=e,this.value=t,this.parameters=n};di.prototype.isConstant=function(){return"constant"===this.value.kind},di.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},di.prototype.evaluate=function(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)};var mi=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};mi.prototype.get=function(e){return this._values[e]};var vi=function(e){this.specification=e};vi.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},vi.prototype.interpolate=function(e,t,n){var r=Gt[this.specification.type];return r?r(e,t,n):e};var yi=function(e,t){this.specification=e,this.overrides=t};yi.prototype.possiblyEvaluate=function(e,t,n,r){return new di(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)},yi.prototype.interpolate=function(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new di(this,{kind:"constant",value:void 0},e.parameters);var r=Gt[this.specification.type];return r?new di(this,{kind:"constant",value:r(e.value.value,t.value.value,n)},e.parameters):e},yi.prototype.evaluate=function(e,t,n,r,i,o){return"constant"===e.kind?e.value:e.evaluate(t,n,r,i,o)};var gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(e,t,n,r){if(void 0===e.value)return new di(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r),o="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,t);return new di(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new di(this,{kind:"constant",value:s},t)}return new di(this,e.expression,t)},t.prototype.evaluate=function(e,t,n,r,i,o){if("source"===e.kind){var a=e.evaluate(t,n,r,i,o);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value},t.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},t.prototype.interpolate=function(e){return e},t}(yi),bi=function(e){this.specification=e};bi.prototype.possiblyEvaluate=function(e,t,n,r){if(void 0!==e.value){if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new si(Math.floor(t.zoom-1),t)),e.expression.evaluate(new si(Math.floor(t.zoom),t)),e.expression.evaluate(new si(Math.floor(t.zoom+1),t)),t)}},bi.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},bi.prototype.interpolate=function(e){return e};var xi=function(e){this.specification=e};xi.prototype.possiblyEvaluate=function(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)},xi.prototype.interpolate=function(){return!1};var _i=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){var n=e[t];n.specification.overridable&&this.overridableProperties.push(t);var r=this.defaultPropertyValues[t]=new ui(n,void 0),i=this.defaultTransitionablePropertyValues[t]=new ci(n);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=r.possiblyEvaluate({})}};zr("DataDrivenProperty",yi),zr("DataConstantProperty",vi),zr("CrossFadedDataDrivenProperty",gi),zr("CrossFadedProperty",bi),zr("ColorRampProperty",xi);var wi=function(e){function t(t,n){if(e.call(this),this.id=t.id,this.type=t.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==t.type&&(this.metadata=(t=t).metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),n.layout&&(this._unevaluatedLayout=new hi(n.layout)),n.paint)){for(var r in this._transitionablePaint=new li(n.paint),t.paint)this.setPaintProperty(r,t.paint[r],{validate:!1});for(var i in t.layout)this.setLayoutProperty(i,t.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new mi(n.paint)}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,n){void 0===n&&(n={}),null!=t&&this._validate(Pr,"layers."+this.id+".layout."+e,e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)},t.prototype.getPaintProperty=function(e){return g(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,n){if(void 0===n&&(n={}),null!=t&&this._validate(Ar,"layers."+this.id+".paint."+e,e,t,n))return!1;if(g(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0),!1;var r=this._transitionablePaint._values[e],i="cross-faded-data-driven"===r.property.specification["property-type"],o=r.value.isDataDriven(),a=r.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var s=this._transitionablePaint._values[e].value;return s.isDataDriven()||o||i||this._handleOverridablePaintPropertyUpdate(e,a,s)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype._handleOverridablePaintPropertyUpdate=function(e,t,n){return!1},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),x(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))},t.prototype._validate=function(e,t,n,r,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&Mr(this,e.call(jr,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:Te,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof di&&Ln(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1},t}(je),Si={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Oi=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ei=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function ki(e,t){void 0===t&&(t=1);var n=0,r=0;return{members:e.map((function(e){var i=Si[e.type].BYTES_PER_ELEMENT,o=n=Ci(n,Math.max(t,i)),a=e.components||1;return r=Math.max(r,i),n+=i*a,{name:e.name,type:e.type,components:a,offset:o}})),size:Ci(n,Math.max(r,t)),alignment:t}}function Ci(e,t){return Math.ceil(e/t)*t}Ei.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},Ei.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},Ei.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ei.prototype.clear=function(){this.length=0},Ei.prototype.resize=function(e){this.reserve(e),this.length=e},Ei.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},Ei.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var ji=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e},t}(Ei);ji.prototype.bytesPerElement=4,zr("StructArrayLayout2i4",ji);var Ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var o=4*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,e},t}(Ei);Ti.prototype.bytesPerElement=8,zr("StructArrayLayout4i8",Ti);var Ai=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)},t.prototype.emplace=function(e,t,n,r,i,o,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e},t}(Ei);Ai.prototype.bytesPerElement=12,zr("StructArrayLayout2i4i12",Ai);var Pi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)},t.prototype.emplace=function(e,t,n,r,i,o,a){var s=4*e,u=8*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.uint8[u+4]=r,this.uint8[u+5]=i,this.uint8[u+6]=o,this.uint8[u+7]=a,e},t}(Ei);Pi.prototype.bytesPerElement=8,zr("StructArrayLayout2i4ub8",Pi);var Mi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e},t}(Ei);Mi.prototype.bytesPerElement=8,zr("StructArrayLayout2f8",Mi);var Ii=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,u,c){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,n,r,i,o,a,s,u,c)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,u,c,l){var f=10*e;return this.uint16[f+0]=t,this.uint16[f+1]=n,this.uint16[f+2]=r,this.uint16[f+3]=i,this.uint16[f+4]=o,this.uint16[f+5]=a,this.uint16[f+6]=s,this.uint16[f+7]=u,this.uint16[f+8]=c,this.uint16[f+9]=l,e},t}(Ei);Ii.prototype.bytesPerElement=20,zr("StructArrayLayout10ui20",Ii);var Li=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,u,c,l,f){var p=this.length;return this.resize(p+1),this.emplace(p,e,t,n,r,i,o,a,s,u,c,l,f)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,u,c,l,f,p){var h=12*e;return this.int16[h+0]=t,this.int16[h+1]=n,this.int16[h+2]=r,this.int16[h+3]=i,this.uint16[h+4]=o,this.uint16[h+5]=a,this.uint16[h+6]=s,this.uint16[h+7]=u,this.int16[h+8]=c,this.int16[h+9]=l,this.int16[h+10]=f,this.int16[h+11]=p,e},t}(Ei);Li.prototype.bytesPerElement=24,zr("StructArrayLayout4i4ui4i24",Li);var Ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e},t}(Ei);Ri.prototype.bytesPerElement=12,zr("StructArrayLayout3f12",Ri);var Di=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint32[1*e+0]=t,e},t}(Ei);Di.prototype.bytesPerElement=4,zr("StructArrayLayout1ul4",Di);var Ni=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,u){var c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,r,i,o,a,s,u)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,u,c){var l=10*e,f=5*e;return this.int16[l+0]=t,this.int16[l+1]=n,this.int16[l+2]=r,this.int16[l+3]=i,this.int16[l+4]=o,this.int16[l+5]=a,this.uint32[f+3]=s,this.uint16[l+8]=u,this.uint16[l+9]=c,e},t}(Ei);Ni.prototype.bytesPerElement=20,zr("StructArrayLayout6i1ul2ui20",Ni);var zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)},t.prototype.emplace=function(e,t,n,r,i,o,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e},t}(Ei);zi.prototype.bytesPerElement=12,zr("StructArrayLayout2i2i2i12",zi);var Fi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i)},t.prototype.emplace=function(e,t,n,r,i,o){var a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.int16[s+6]=i,this.int16[s+7]=o,e},t}(Ei);Fi.prototype.bytesPerElement=16,zr("StructArrayLayout2f1f2i16",Fi);var Bi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=n,this.float32[a+1]=r,this.float32[a+2]=i,e},t}(Ei);Bi.prototype.bytesPerElement=12,zr("StructArrayLayout2ub2f12",Bi);var Ui=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,this.uint16[i+2]=r,e},t}(Ei);Ui.prototype.bytesPerElement=6,zr("StructArrayLayout3ui6",Ui);var Vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,u,c,l,f,p,h,d,m,v){var y=this.length;return this.resize(y+1),this.emplace(y,e,t,n,r,i,o,a,s,u,c,l,f,p,h,d,m,v)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,u,c,l,f,p,h,d,m,v,y){var g=24*e,b=12*e,x=48*e;return this.int16[g+0]=t,this.int16[g+1]=n,this.uint16[g+2]=r,this.uint16[g+3]=i,this.uint32[b+2]=o,this.uint32[b+3]=a,this.uint32[b+4]=s,this.uint16[g+10]=u,this.uint16[g+11]=c,this.uint16[g+12]=l,this.float32[b+7]=f,this.float32[b+8]=p,this.uint8[x+36]=h,this.uint8[x+37]=d,this.uint8[x+38]=m,this.uint32[b+10]=v,this.int16[g+22]=y,e},t}(Ei);Vi.prototype.bytesPerElement=48,zr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Vi);var Hi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,u,c,l,f,p,h,d,m,v,y,g,b,x,_,w,S,O,E,k,C){var j=this.length;return this.resize(j+1),this.emplace(j,e,t,n,r,i,o,a,s,u,c,l,f,p,h,d,m,v,y,g,b,x,_,w,S,O,E,k,C)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,u,c,l,f,p,h,d,m,v,y,g,b,x,_,w,S,O,E,k,C,j){var T=34*e,A=17*e;return this.int16[T+0]=t,this.int16[T+1]=n,this.int16[T+2]=r,this.int16[T+3]=i,this.int16[T+4]=o,this.int16[T+5]=a,this.int16[T+6]=s,this.int16[T+7]=u,this.uint16[T+8]=c,this.uint16[T+9]=l,this.uint16[T+10]=f,this.uint16[T+11]=p,this.uint16[T+12]=h,this.uint16[T+13]=d,this.uint16[T+14]=m,this.uint16[T+15]=v,this.uint16[T+16]=y,this.uint16[T+17]=g,this.uint16[T+18]=b,this.uint16[T+19]=x,this.uint16[T+20]=_,this.uint16[T+21]=w,this.uint16[T+22]=S,this.uint32[A+12]=O,this.float32[A+13]=E,this.float32[A+14]=k,this.float32[A+15]=C,this.float32[A+16]=j,e},t}(Ei);Hi.prototype.bytesPerElement=68,zr("StructArrayLayout8i15ui1ul4f68",Hi);var qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.float32[1*e+0]=t,e},t}(Ei);qi.prototype.bytesPerElement=4,zr("StructArrayLayout1f4",qi);var Gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,e},t}(Ei);Gi.prototype.bytesPerElement=6,zr("StructArrayLayout3i6",Gi);var Wi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=4*e;return this.uint32[2*e+0]=t,this.uint16[i+2]=n,this.uint16[i+3]=r,e},t}(Ei);Wi.prototype.bytesPerElement=8,zr("StructArrayLayout1ul2ui8",Wi);var Zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e},t}(Ei);Zi.prototype.bytesPerElement=4,zr("StructArrayLayout2ui4",Zi);var Yi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint16[1*e+0]=t,e},t}(Ei);Yi.prototype.bytesPerElement=2,zr("StructArrayLayout1ui2",Yi);var Xi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var o=4*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,e},t}(Ei);Xi.prototype.bytesPerElement=16,zr("StructArrayLayout4f16",Xi);var Ki=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,n),t}(Oi);Ki.prototype.size=20;var Ji=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Ki(this,e)},t}(Ni);zr("CollisionBoxArray",Ji);var Qi=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(e){this._structArray.uint8[this._pos1+37]=e},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(e){this._structArray.uint8[this._pos1+38]=e},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+10]=e},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(t.prototype,n),t}(Oi);Qi.prototype.size=48;var $i=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Qi(this,e)},t}(Vi);zr("PlacedSymbolArray",$i);var eo=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+12]=e},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},n.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(t.prototype,n),t}(Oi);eo.prototype.size=68;var to=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new eo(this,e)},t}(Hi);zr("SymbolInstanceArray",to);var no=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t}(qi);zr("GlyphOffsetArray",no);var ro=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t}(Gi);zr("SymbolLineVertexArray",ro);var io=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(t.prototype,n),t}(Oi);io.prototype.size=8;var oo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new io(this,e)},t}(Wi);zr("FeatureIndexArray",oo);var ao=ki([{name:"a_pos",components:2,type:"Int16"}],4).members,so=function(e){void 0===e&&(e=[]),this.segments=e};function uo(e,t){return 256*(e=l(Math.floor(e),0,255))+l(Math.floor(t),0,255)}so.prototype.prepareSegment=function(e,t,n,r){var i=this.segments[this.segments.length-1];return e>so.MAX_VERTEX_ARRAY_LENGTH&&S("Max vertices per segment is "+so.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!i||i.vertexLength+e>so.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i},so.prototype.get=function(){return this.segments},so.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var n=t[e];for(var r in n.vaos)n.vaos[r].destroy()}},so.simpleSegment=function(e,t,n,r){return new so([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},so.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,zr("SegmentVector",so);var co=ki([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),lo=t((function(e){e.exports=function(e,t){var n,r,i,o,a,s,u,c;for(r=e.length-(n=3&e.length),i=t,a=3432918353,s=461845907,c=0;c<r;)u=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,i=27492+(65535&(o=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&e.charCodeAt(c+2))<<16;case 2:u^=(255&e.charCodeAt(c+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(c)))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),fo=t((function(e){e.exports=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),po=lo,ho=fo;po.murmur3=lo,po.murmur2=ho;var mo=function(){this.ids=[],this.positions=[],this.indexed=!1};mo.prototype.add=function(e,t,n,r){this.ids.push(yo(e)),this.positions.push(t,n,r)},mo.prototype.getPositions=function(e){for(var t=yo(e),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=t?r=i:n=i+1}for(var o=[];this.ids[n]===t;)o.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return o},mo.serialize=function(e,t){var n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return function e(t,n,r,i){for(;r<i;){for(var o=t[r+i>>1],a=r-1,s=i+1;;){do{a++}while(t[a]<o);do{s--}while(t[s]>o);if(a>=s)break;go(t,a,s),go(n,3*a,3*s),go(n,3*a+1,3*s+1),go(n,3*a+2,3*s+2)}s-r<i-s?(e(t,n,r,s),r=s+1):(e(t,n,s+1,i),i=s)}}(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}},mo.deserialize=function(e){var t=new mo;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t};var vo=Math.pow(2,53)-1;function yo(e){var t=+e;return!isNaN(t)&&t<=vo?t:po(String(e))}function go(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}zr("FeaturePositionMap",mo);var bo=function(e,t){this.gl=e.gl,this.location=t},xo=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}(bo),_o=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}(bo),wo=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}(bo),So=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}(bo),Oo=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}(bo),Eo=function(e){function t(t,n){e.call(this,t,n),this.current=et.transparent}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}(bo),ko=new Float32Array(16),Co=function(e){function t(t,n){e.call(this,t,n),this.current=ko}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}(bo);function jo(e){return[uo(255*e.r,255*e.g),uo(255*e.b,255*e.a)]}var To=function(e,t,n){this.value=e,this.uniformNames=t.map((function(e){return"u_"+e})),this.type=n};To.prototype.setUniform=function(e,t,n){e.set(n.constantOr(this.value))},To.prototype.getBinding=function(e,t,n){return"color"===this.type?new Eo(e,t):new _o(e,t)};var Ao=function(e,t){this.uniformNames=t.map((function(e){return"u_"+e})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Ao.prototype.setConstantPatternPositions=function(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr},Ao.prototype.setUniform=function(e,t,n,r){var i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&e.set(i)},Ao.prototype.getBinding=function(e,t,n){return"u_pattern"===n.substr(0,9)?new Oo(e,t):new _o(e,t)};var Po=function(e,t,n,r){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new r};Po.prototype.populatePaintArray=function(e,t,n,r,i){var o=this.paintVertexArray.length,a=this.expression.evaluate(new si(0),t,{},r,[],i);this.paintVertexArray.resize(e),this._setPaintValue(o,e,a)},Po.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(e,t,i)},Po.prototype._setPaintValue=function(e,t,n){if("color"===this.type)for(var r=jo(n),i=e;i<t;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var o=e;o<t;o++)this.paintVertexArray.emplace(o,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},Po.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Po.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Mo=function(e,t,n,r,i,o){this.expression=e,this.uniformNames=t.map((function(e){return"u_"+e+"_t"})),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new o};Mo.prototype.populatePaintArray=function(e,t,n,r,i){var o=this.expression.evaluate(new si(this.zoom),t,{},r,[],i),a=this.expression.evaluate(new si(this.zoom+1),t,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,o,a)},Mo.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:this.zoom},n,r),o=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(e,t,i,o)},Mo.prototype._setPaintValue=function(e,t,n,r){if("color"===this.type)for(var i=jo(n),o=jo(r),a=e;a<t;a++)this.paintVertexArray.emplace(a,i[0],i[1],o[0],o[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}},Mo.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Mo.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Mo.prototype.setUniform=function(e,t){var n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,r=l(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(r)},Mo.prototype.getBinding=function(e,t,n){return new _o(e,t)};var Io=function(e,t,n,r,i,o){this.expression=e,this.type=t,this.useIntegerZoom=n,this.zoom=r,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Io.prototype.populatePaintArray=function(e,t,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)},Io.prototype.updatePaintArray=function(e,t,n,r,i){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],i)},Io.prototype._setPaintValues=function(e,t,n,r){if(r&&n){var i=r[n.min],o=r[n.mid],a=r[n.max];if(i&&o&&a)for(var s=e;s<t;s++)this.zoomInPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],o.pixelRatio,i.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],a.tl[0],a.tl[1],a.br[0],a.br[1],o.pixelRatio,a.pixelRatio)}},Io.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,co.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,co.members,this.expression.isStateDependent))},Io.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Lo=function(e,t,n){this.binders={},this._buffers=[];var r=[];for(var i in e.paint._values)if(n(i)){var o=e.paint.get(i);if(o instanceof di&&Ln(o.property.specification)){var a=Do(i,e.type),s=o.value,u=o.property.specification.type,c=o.property.useIntegerZoom,l=o.property.specification["property-type"],f="cross-faded"===l||"cross-faded-data-driven"===l;if("constant"===s.kind)this.binders[i]=f?new Ao(s.value,a):new To(s.value,a,u),r.push("/u_"+i);else if("source"===s.kind||f){var p=No(i,u,"source");this.binders[i]=f?new Io(s,u,c,t,p,e.id):new Po(s,a,u,p),r.push("/a_"+i)}else{var h=No(i,u,"composite");this.binders[i]=new Mo(s,a,u,c,t,h),r.push("/z_"+i)}}}this.cacheKey=r.sort().join("")};Lo.prototype.getMaxValue=function(e){var t=this.binders[e];return t instanceof Po||t instanceof Mo?t.maxValue:0},Lo.prototype.populatePaintArrays=function(e,t,n,r,i){for(var o in this.binders){var a=this.binders[o];(a instanceof Po||a instanceof Mo||a instanceof Io)&&a.populatePaintArray(e,t,n,r,i)}},Lo.prototype.setConstantPatternPositions=function(e,t){for(var n in this.binders){var r=this.binders[n];r instanceof Ao&&r.setConstantPatternPositions(e,t)}},Lo.prototype.updatePaintArrays=function(e,t,n,r,i){var o=!1;for(var a in e)for(var s=0,u=t.getPositions(a);s<u.length;s+=1){var c=u[s],l=n.feature(c.index);for(var f in this.binders){var p=this.binders[f];if((p instanceof Po||p instanceof Mo||p instanceof Io)&&!0===p.expression.isStateDependent){var h=r.paint.get(f);p.expression=h.value,p.updatePaintArray(c.start,c.end,l,e[a],i),o=!0}}}return o},Lo.prototype.defines=function(){var e=[];for(var t in this.binders){var n=this.binders[t];(n instanceof To||n instanceof Ao)&&e.push.apply(e,n.uniformNames.map((function(e){return"#define HAS_UNIFORM_"+e})))}return e},Lo.prototype.getBinderAttributes=function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof Po||n instanceof Mo)for(var r=0;r<n.paintVertexAttributes.length;r++)e.push(n.paintVertexAttributes[r].name);else if(n instanceof Io)for(var i=0;i<co.members.length;i++)e.push(co.members[i].name)}return e},Lo.prototype.getBinderUniforms=function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof To||n instanceof Ao||n instanceof Mo)for(var r=0,i=n.uniformNames;r<i.length;r+=1)e.push(i[r])}return e},Lo.prototype.getPaintVertexBuffers=function(){return this._buffers},Lo.prototype.getUniforms=function(e,t){var n=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof To||i instanceof Ao||i instanceof Mo)for(var o=0,a=i.uniformNames;o<a.length;o+=1){var s=a[o];if(t[s]){var u=i.getBinding(e,t[s],s);n.push({name:s,property:r,binding:u})}}}return n},Lo.prototype.setUniforms=function(e,t,n,r){for(var i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.name,u=a.property;this.binders[u].setUniform(a.binding,r,n.get(u),s)}},Lo.prototype.updatePaintBuffers=function(e){for(var t in this._buffers=[],this.binders){var n=this.binders[t];if(e&&n instanceof Io){var r=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(n instanceof Po||n instanceof Mo)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},Lo.prototype.upload=function(e){for(var t in this.binders){var n=this.binders[t];(n instanceof Po||n instanceof Mo||n instanceof Io)&&n.upload(e)}this.updatePaintBuffers()},Lo.prototype.destroy=function(){for(var e in this.binders){var t=this.binders[e];(t instanceof Po||t instanceof Mo||t instanceof Io)&&t.destroy()}};var Ro=function(e,t,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var r=0,i=e;r<i.length;r+=1){var o=i[r];this.programConfigurations[o.id]=new Lo(o,t,n)}this.needsUpload=!1,this._featureMap=new mo,this._bufferOffset=0};function Do(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function No(e,t,n){var r={color:{source:Mi,composite:Xi},number:{source:qi,composite:Mi}},i=function(e){return{"line-pattern":{source:Ii,composite:Ii},"fill-pattern":{source:Ii,composite:Ii},"fill-extrusion-pattern":{source:Ii,composite:Ii}}[e]}(e);return i&&i[n]||r[t][n]}Ro.prototype.populatePaintArrays=function(e,t,n,r,i,o){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(e,t,r,i,o);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0},Ro.prototype.updatePaintArrays=function(e,t,n,r){for(var i=0,o=n;i<o.length;i+=1){var a=o[i];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(e,this._featureMap,t,a,r)||this.needsUpload}},Ro.prototype.get=function(e){return this.programConfigurations[e]},Ro.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},Ro.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},zr("ConstantBinder",To),zr("CrossFadedConstantBinder",Ao),zr("SourceExpressionBinder",Po),zr("CrossFadedCompositeBinder",Io),zr("CompositeExpressionBinder",Mo),zr("ProgramConfiguration",Lo,{omit:["_buffers"]}),zr("ProgramConfigurationSet",Ro);var zo=Math.pow(2,14)-1,Fo=-zo-1;function Bo(e){for(var t=8192/e.extent,n=e.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o],s=Math.round(a.x*t),u=Math.round(a.y*t);a.x=l(s,Fo,zo),a.y=l(u,Fo,zo),(s<a.x||s>a.x+1||u<a.y||u>a.y+1)&&S("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function Uo(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Bo(e):[]}}function Vo(e,t,n,r,i){e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)}var Ho=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new ji,this.indexArray=new Ui,this.segments=new so,this.programConfigurations=new Ro(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function qo(e,t){for(var n=0;n<e.length;n++)if($o(t,e[n]))return!0;for(var r=0;r<t.length;r++)if($o(e,t[r]))return!0;return!!Yo(e,t)}function Go(e,t,n){return!!$o(e,t)||!!Ko(t,e,n)}function Wo(e,t){if(1===e.length)return Qo(t,e[0]);for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)if($o(e,r[i]))return!0;for(var o=0;o<e.length;o++)if(Qo(t,e[o]))return!0;for(var a=0;a<t.length;a++)if(Yo(e,t[a]))return!0;return!1}function Zo(e,t,n){if(e.length>1){if(Yo(e,t))return!0;for(var r=0;r<t.length;r++)if(Ko(t[r],e,n))return!0}for(var i=0;i<e.length;i++)if(Ko(e[i],t,n))return!0;return!1}function Yo(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],i=e[n+1],o=0;o<t.length-1;o++)if(Xo(r,i,t[o],t[o+1]))return!0;return!1}function Xo(e,t,n,r){return O(e,n,r)!==O(t,n,r)&&O(e,t,n)!==O(e,t,r)}function Ko(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var i=1;i<t.length;i++)if(Jo(e,t[i-1],t[i])<r)return!0;return!1}function Jo(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(i<0?t:i>1?n:n.sub(t)._mult(i)._add(t))}function Qo(e,t){for(var n,r,i,o=!1,a=0;a<e.length;a++)for(var s=0,u=(n=e[a]).length-1;s<n.length;u=s++)(r=n[s]).y>t.y!=(i=n[u]).y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function $o(e,t){for(var n=!1,r=0,i=e.length-1;r<e.length;i=r++){var o=e[r],a=e[i];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function ea(e,t,n){var r=n[0],i=n[2];if(e.x<r.x&&t.x<r.x||e.x>i.x&&t.x>i.x||e.y<r.y&&t.y<r.y||e.y>i.y&&t.y>i.y)return!1;var o=O(e,t,n[0]);return o!==O(e,t,n[1])||o!==O(e,t,n[2])||o!==O(e,t,n[3])}function ta(e,t,n){var r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function na(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function ra(e,t,n,r,o){if(!t[0]&&!t[1])return e;var a=i.convert(t)._mult(o);"viewport"===n&&a._rotate(-r);for(var s=[],u=0;u<e.length;u++)s.push(e[u].sub(a));return s}Ho.prototype.populate=function(e,t,n){var r=this.layers[0],i=[],o=null;"circle"===r.type&&(o=r.layout.get("circle-sort-key"));for(var a=0,s=e;a<s.length;a+=1){var u=s[a],c=u.feature,l=u.id,f=u.index,p=u.sourceLayerIndex,h=this.layers[0]._featureFilter.needGeometry,d=Uo(c,h);if(this.layers[0]._featureFilter.filter(new si(this.zoom),d,n)){var m=o?o.evaluate(d,{},n):void 0,v={id:l,properties:c.properties,type:c.type,sourceLayerIndex:p,index:f,geometry:h?d.geometry:Bo(c),patterns:{},sortKey:m};i.push(v)}}o&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var y=0,g=i;y<g.length;y+=1){var b=g[y],x=b.geometry,_=b.index,w=b.sourceLayerIndex,S=e[_].feature;this.addFeature(b,x,_,n),t.featureIndex.insert(S,x,_,w,this.index)}},Ho.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Ho.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ho.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ho.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ao),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ho.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ho.prototype.addFeature=function(e,t,n,r){for(var i=0,o=t;i<o.length;i+=1)for(var a=0,s=o[i];a<s.length;a+=1){var u=s[a],c=u.x,l=u.y;if(!(c<0||c>=8192||l<0||l>=8192)){var f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),p=f.vertexLength;Vo(this.layoutVertexArray,c,l,-1,-1),Vo(this.layoutVertexArray,c,l,1,-1),Vo(this.layoutVertexArray,c,l,1,1),Vo(this.layoutVertexArray,c,l,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),f.vertexLength+=4,f.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r)},zr("CircleBucket",Ho,{omit:["layers"]});var ia=new _i({"circle-sort-key":new yi(Te.layout_circle["circle-sort-key"])}),oa={paint:new _i({"circle-radius":new yi(Te.paint_circle["circle-radius"]),"circle-color":new yi(Te.paint_circle["circle-color"]),"circle-blur":new yi(Te.paint_circle["circle-blur"]),"circle-opacity":new yi(Te.paint_circle["circle-opacity"]),"circle-translate":new vi(Te.paint_circle["circle-translate"]),"circle-translate-anchor":new vi(Te.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new vi(Te.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new vi(Te.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new yi(Te.paint_circle["circle-stroke-width"]),"circle-stroke-color":new yi(Te.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new yi(Te.paint_circle["circle-stroke-opacity"])}),layout:ia},aa="undefined"!=typeof Float32Array?Float32Array:Array;function sa(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ua(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],p=t[9],h=t[10],d=t[11],m=t[12],v=t[13],y=t[14],g=t[15],b=n[0],x=n[1],_=n[2],w=n[3];return e[0]=b*r+x*s+_*f+w*m,e[1]=b*i+x*u+_*p+w*v,e[2]=b*o+x*c+_*h+w*y,e[3]=b*a+x*l+_*d+w*g,e[4]=(b=n[4])*r+(x=n[5])*s+(_=n[6])*f+(w=n[7])*m,e[5]=b*i+x*u+_*p+w*v,e[6]=b*o+x*c+_*h+w*y,e[7]=b*a+x*l+_*d+w*g,e[8]=(b=n[8])*r+(x=n[9])*s+(_=n[10])*f+(w=n[11])*m,e[9]=b*i+x*u+_*p+w*v,e[10]=b*o+x*c+_*h+w*y,e[11]=b*a+x*l+_*d+w*g,e[12]=(b=n[12])*r+(x=n[13])*s+(_=n[14])*f+(w=n[15])*m,e[13]=b*i+x*u+_*p+w*v,e[14]=b*o+x*c+_*h+w*y,e[15]=b*a+x*l+_*d+w*g,e}Math.hypot||(Math.hypot=function(){for(var e=arguments,t=0,n=arguments.length;n--;)t+=e[n]*e[n];return Math.sqrt(t)});var ca,la=ua;function fa(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}ca=new aa(3),aa!=Float32Array&&(ca[0]=0,ca[1]=0,ca[2]=0),function(){var e=new aa(4);aa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var pa=(function(){var e=new aa(2);aa!=Float32Array&&(e[0]=0,e[1]=0)}(),function(e){function t(t){e.call(this,t,oa)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Ho(e)},t.prototype.queryRadius=function(e){var t=e;return ta("circle-radius",this,t)+ta("circle-stroke-width",this,t)+na(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,o,a,s){for(var u=ra(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),c=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),l="map"===this.paint.get("circle-pitch-alignment"),f=l?u:function(e,t){return e.map((function(e){return ha(e,t)}))}(u,s),p=l?c*a:c,h=0,d=r;h<d.length;h+=1)for(var m=0,v=d[h];m<v.length;m+=1){var y=v[m],g=l?y:ha(y,s),b=p,x=fa([],[y.x,y.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?b*=x[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(b*=o.cameraToCenterDistance/x[3]),Go(f,g,b))return!0}return!1},t}(wi));function ha(e,t){var n=fa([],[e.x,e.y,0,1],t);return new i(n[0]/n[3],n[1]/n[3])}var da=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Ho);function ma(e,t,n,r){var i=t.width,o=t.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return e.width=i,e.height=o,e.data=r,e}function va(e,t,n){var r=t.width,i=t.height;if(r!==e.width||i!==e.height){var o=ma({},{width:r,height:i},n);ya(e,o,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,r),height:Math.min(e.height,i)},n),e.width=r,e.height=i,e.data=o.data}}function ya(e,t,n,r,i,o){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=e.data,s=t.data,u=0;u<i.height;u++)for(var c=((n.y+u)*e.width+n.x)*o,l=((r.y+u)*t.width+r.x)*o,f=0;f<i.width*o;f++)s[l+f]=a[c+f];return t}zr("HeatmapBucket",da,{omit:["layers"]});var ga=function(e,t){ma(this,e,1,t)};ga.prototype.resize=function(e){va(this,e,1)},ga.prototype.clone=function(){return new ga({width:this.width,height:this.height},new Uint8Array(this.data))},ga.copy=function(e,t,n,r,i){ya(e,t,n,r,i,1)};var ba=function(e,t){ma(this,e,4,t)};ba.prototype.resize=function(e){va(this,e,4)},ba.prototype.replace=function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e},ba.prototype.clone=function(){return new ba({width:this.width,height:this.height},new Uint8Array(this.data))},ba.copy=function(e,t,n,r,i){ya(e,t,n,r,i,4)},zr("AlphaImage",ga),zr("RGBAImage",ba);var xa={paint:new _i({"heatmap-radius":new yi(Te.paint_heatmap["heatmap-radius"]),"heatmap-weight":new yi(Te.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new vi(Te.paint_heatmap["heatmap-intensity"]),"heatmap-color":new xi(Te.paint_heatmap["heatmap-color"]),"heatmap-opacity":new vi(Te.paint_heatmap["heatmap-opacity"])})};function _a(e){var t={},n=e.resolution||256,r=e.clips?e.clips.length:1,i=e.image||new ba({width:n,height:r}),o=function(n,r,o){t[e.evaluationKey]=o;var a=e.expression.evaluate(t);i.data[n+r+0]=Math.floor(255*a.r/a.a),i.data[n+r+1]=Math.floor(255*a.g/a.a),i.data[n+r+2]=Math.floor(255*a.b/a.a),i.data[n+r+3]=Math.floor(255*a.a)};if(e.clips)for(var a=0,s=0;a<r;++a,s+=4*n)for(var u=0,c=0;u<n;u++,c+=4){var l=u/(n-1),f=e.clips[a];o(s,c,f.start*(1-l)+f.end*l)}else for(var p=0,h=0;p<n;p++,h+=4)o(0,h,p/(n-1));return i}var wa=function(e){function t(t){e.call(this,t,xa),this._updateColorRamp()}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new da(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){"heatmap-color"===e&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){this.colorRamp=_a({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(wi),Sa={paint:new _i({"hillshade-illumination-direction":new vi(Te.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new vi(Te.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new vi(Te.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new vi(Te.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new vi(Te.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new vi(Te.paint_hillshade["hillshade-accent-color"])})},Oa=function(e){function t(t){e.call(this,t,Sa)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(wi),Ea=ki([{name:"a_pos",components:2,type:"Int16"}],4).members,ka=ja,Ca=ja;function ja(e,t,n){n=n||2;var r,i,o,a,s,u,c,l=t&&t.length,f=l?t[0]*n:e.length,p=Ta(e,0,f,n,!0),h=[];if(!p||p.next===p.prev)return h;if(l&&(p=function(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=Ta(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(Ba(a));for(s.sort(Da),i=0;i<s.length;i++)Na(s[i],n),n=Aa(n,n.next);return n}(e,t,p,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var d=n;d<f;d+=n)(s=e[d])<r&&(r=s),(u=e[d+1])<i&&(i=u),s>o&&(o=s),u>a&&(a=u);c=0!==(c=Math.max(o-r,a-i))?1/c:0}return Pa(p,h,n,r,i,c),h}function Ta(e,t,n,r,i){var o,a;if(i===$a(e,t,n,r)>0)for(o=t;o<n;o+=r)a=Ka(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=Ka(o,e[o],e[o+1],a);return a&&qa(a,a.next)&&(Ja(a),a=a.next),a}function Aa(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!qa(r,r.next)&&0!==Ha(r.prev,r,r.next))r=r.next;else{if(Ja(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Pa(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Fa(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(u=c;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(e,r,i,o);for(var s,u,c=e;e.prev!==e.next;)if(s=e.prev,u=e.next,o?Ia(e,r,i,o):Ma(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),Ja(e),e=u.next,c=u.next;else if((e=u)===c){a?1===a?Pa(e=La(Aa(e),t,n),t,n,r,i,o,2):2===a&&Ra(e,t,n,r,i,o):Pa(Aa(e),t,n,r,i,o,1);break}}}function Ma(e){var t=e.prev,n=e,r=e.next;if(Ha(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Ua(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Ha(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Ia(e,t,n,r){var i=e.prev,o=e,a=e.next;if(Ha(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,c=Fa(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,t,n,r),l=Fa(s,u,t,n,r),f=e.prevZ,p=e.nextZ;f&&f.z>=c&&p&&p.z<=l;){if(f!==e.prev&&f!==e.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Ha(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==e.prev&&p!==e.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Ha(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=c;){if(f!==e.prev&&f!==e.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Ha(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=l;){if(p!==e.prev&&p!==e.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Ha(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function La(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!qa(i,o)&&Ga(i,r,r.next,o)&&Ya(i,o)&&Ya(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),Ja(r),Ja(r.next),r=e=o),r=r.next}while(r!==e);return Aa(r)}function Ra(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Va(a,s)){var u=Xa(a,s);return a=Aa(a,a.next),u=Aa(u,u.next),Pa(a,t,n,r,i,o),void Pa(u,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function Da(e,t){return e.x-t.x}function Na(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var u,c=n,l=n.x,f=n.y,p=1/0;r=n;do{i>=r.x&&r.x>=l&&i!==r.x&&Ua(o<f?i:a,o,l,f,o<f?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),Ya(r,e)&&(u<p||u===p&&(r.x>n.x||r.x===n.x&&za(n,r)))&&(n=r,p=u)),r=r.next}while(r!==c);return n}(e,t)){var n=Xa(t,e);Aa(t,t.next),Aa(n,n.next)}}function za(e,t){return Ha(e.prev,e,t.prev)<0&&Ha(t.next,e,e.next)<0}function Fa(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Ba(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Ua(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Va(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Ga(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Ya(e,t)&&Ya(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Ha(e.prev,e,t.prev)||Ha(e,t.prev,t))||qa(e,t)&&Ha(e.prev,e,e.next)>0&&Ha(t.prev,t,t.next)>0)}function Ha(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function qa(e,t){return e.x===t.x&&e.y===t.y}function Ga(e,t,n,r){var i=Za(Ha(e,t,n)),o=Za(Ha(e,t,r)),a=Za(Ha(n,r,e)),s=Za(Ha(n,r,t));return i!==o&&a!==s||!(0!==i||!Wa(e,n,t))||!(0!==o||!Wa(e,r,t))||!(0!==a||!Wa(n,e,r))||!(0!==s||!Wa(n,t,r))}function Wa(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Za(e){return e>0?1:e<0?-1:0}function Ya(e,t){return Ha(e.prev,e,e.next)<0?Ha(e,t,e.next)>=0&&Ha(e,e.prev,t)>=0:Ha(e,t,e.prev)<0||Ha(e,e.next,t)<0}function Xa(e,t){var n=new Qa(e.i,e.x,e.y),r=new Qa(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Ka(e,t,n,r){var i=new Qa(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ja(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Qa(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $a(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}function es(e,t,n,r,i){!function e(t,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,u=Math.log(a),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(a-c)/a)*(s-a/2<0?-1:1);e(t,n,Math.max(r,Math.floor(n-s*c/a+l)),Math.min(i,Math.floor(n+(a-s)*c/a+l)),o)}var f=t[n],p=r,h=i;for(ts(t,r,n),o(t[i],f)>0&&ts(t,r,i);p<h;){for(ts(t,p,h),p++,h--;o(t[p],f)<0;)p++;for(;o(t[h],f)>0;)h--}0===o(t[r],f)?ts(t,r,h):ts(t,++h,i),h<=n&&(r=h+1),n<=h&&(i=h-1)}}(e,t,n||0,r||e.length-1,i||ns)}function ts(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function ns(e,t){return e<t?-1:e>t?1:0}function rs(e,t){var n=e.length;if(n<=1)return[e];for(var r,i,o=[],a=0;a<n;a++){var s=E(e[a]);0!==s&&(e[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&o.push(r),r=[e[a]]):r.push(e[a]))}if(r&&o.push(r),t>1)for(var u=0;u<o.length;u++)o[u].length<=t||(es(o[u],t,1,o[u].length-1,is),o[u]=o[u].slice(0,t));return o}function is(e,t){return t.area-e.area}function os(e,t,n){for(var r=n.patternDependencies,i=!1,o=0,a=t;o<a.length;o+=1){var s=a[o].paint.get(e+"-pattern");s.isConstant()||(i=!0);var u=s.constantOr(null);u&&(i=!0,r[u.to]=!0,r[u.from]=!0)}return i}function as(e,t,n,r,i){for(var o=i.patternDependencies,a=0,s=t;a<s.length;a+=1){var u=s[a],c=u.paint.get(e+"-pattern").value;if("constant"!==c.kind){var l=c.evaluate({zoom:r-1},n,{},i.availableImages),f=c.evaluate({zoom:r},n,{},i.availableImages),p=c.evaluate({zoom:r+1},n,{},i.availableImages);f=f&&f.name?f.name:f,p=p&&p.name?p.name:p,o[l=l&&l.name?l.name:l]=!0,o[f]=!0,o[p]=!0,n.patterns[u.id]={min:l,mid:f,max:p}}}return n}ja.deviation=function(e,t,n,r){var i=t&&t.length,o=Math.abs($a(e,0,i?t[0]*n:e.length,n));if(i)for(var a=0,s=t.length;a<s;a++)o-=Math.abs($a(e,t[a]*n,a<s-1?t[a+1]*n:e.length,n));var u=0;for(a=0;a<r.length;a+=3){var c=r[a]*n,l=r[a+1]*n,f=r[a+2]*n;u+=Math.abs((e[c]-e[f])*(e[l+1]-e[c+1])-(e[c]-e[l])*(e[f+1]-e[c+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},ja.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&n.holes.push(r+=e[i-1].length)}return n},ka["default"]=Ca;var ss=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ji,this.indexArray=new Ui,this.indexArray2=new Zi,this.programConfigurations=new Ro(e.layers,e.zoom),this.segments=new so,this.segments2=new so,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};ss.prototype.populate=function(e,t,n){this.hasPattern=os("fill",this.layers,t);for(var r=this.layers[0].layout.get("fill-sort-key"),i=[],o=0,a=e;o<a.length;o+=1){var s=a[o],u=s.feature,c=s.id,l=s.index,f=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,h=Uo(u,p);if(this.layers[0]._featureFilter.filter(new si(this.zoom),h,n)){var d=r?r.evaluate(h,{},n,t.availableImages):void 0,m={id:c,properties:u.properties,type:u.type,sourceLayerIndex:f,index:l,geometry:p?h.geometry:Bo(u),patterns:{},sortKey:d};i.push(m)}}r&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var v=0,y=i;v<y.length;v+=1){var g=y[v],b=g.geometry,x=g.index,_=g.sourceLayerIndex;if(this.hasPattern){var w=as("fill",this.layers,g,this.zoom,t);this.patternFeatures.push(w)}else this.addFeature(g,b,x,n,{});t.featureIndex.insert(e[x].feature,b,x,_,this.index)}},ss.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},ss.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,t,n)}},ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ss.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ea),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ss.prototype.addFeature=function(e,t,n,r,i){for(var o=0,a=rs(t,500);o<a.length;o+=1){for(var s=a[o],u=0,c=0,l=s;c<l.length;c+=1)u+=l[c].length;for(var f=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray),p=f.vertexLength,h=[],d=[],m=0,v=s;m<v.length;m+=1){var y=v[m];if(0!==y.length){y!==s[0]&&d.push(h.length/2);var g=this.segments2.prepareSegment(y.length,this.layoutVertexArray,this.indexArray2),b=g.vertexLength;this.layoutVertexArray.emplaceBack(y[0].x,y[0].y),this.indexArray2.emplaceBack(b+y.length-1,b),h.push(y[0].x),h.push(y[0].y);for(var x=1;x<y.length;x++)this.layoutVertexArray.emplaceBack(y[x].x,y[x].y),this.indexArray2.emplaceBack(b+x-1,b+x),h.push(y[x].x),h.push(y[x].y);g.vertexLength+=y.length,g.primitiveLength+=y.length}}for(var _=ka(h,d),w=0;w<_.length;w+=3)this.indexArray.emplaceBack(p+_[w],p+_[w+1],p+_[w+2]);f.vertexLength+=u,f.primitiveLength+=_.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},zr("FillBucket",ss,{omit:["layers","patternFeatures"]});var us=new _i({"fill-sort-key":new yi(Te.layout_fill["fill-sort-key"])}),cs={paint:new _i({"fill-antialias":new vi(Te.paint_fill["fill-antialias"]),"fill-opacity":new yi(Te.paint_fill["fill-opacity"]),"fill-color":new yi(Te.paint_fill["fill-color"]),"fill-outline-color":new yi(Te.paint_fill["fill-outline-color"]),"fill-translate":new vi(Te.paint_fill["fill-translate"]),"fill-translate-anchor":new vi(Te.paint_fill["fill-translate-anchor"]),"fill-pattern":new gi(Te.paint_fill["fill-pattern"])}),layout:us},ls=function(e){function t(t){e.call(this,t,cs)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new ss(e)},t.prototype.queryRadius=function(){return na(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,o,a){return Wo(ra(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)},t.prototype.isTileClipped=function(){return!0},t}(wi),fs=ki([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,ps=hs;function hs(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(ds,this,t)}function ds(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function ms(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)r+=((n=e[a]).x-(t=e[i]).x)*(t.y+n.y);return r}hs.types=["Unknown","Point","LineString","Polygon"],hs.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,o=0,a=0,s=0,u=[];e.pos<n;){if(o<=0){var c=e.readVarint();r=7&c,o=c>>3}if(o--,1===r||2===r)a+=e.readSVarint(),s+=e.readSVarint(),1===r&&(t&&u.push(t),t=[]),t.push(new i(a,s));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&u.push(t),u},hs.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,u=1/0,c=-1/0;e.pos<t;){if(r<=0){var l=e.readVarint();n=7&l,r=l>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=e.readSVarint())<u&&(u=o),o>c&&(c=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,c]},hs.prototype.toGeoJSON=function(e,t,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*e,s=this.extent*t,u=this.loadGeometry(),c=hs.types[this.type];function l(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var f=[];for(r=0;r<u.length;r++)f[r]=u[r][0];l(u=f);break;case 2:for(r=0;r<u.length;r++)l(u[r]);break;case 3:for(u=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=ms(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}return n&&i.push(n),i}(u),r=0;r<u.length;r++)for(i=0;i<u[r].length;i++)l(u[r][i])}1===u.length?u=u[0]:c="Multi"+c;var p={type:"Feature",geometry:{type:c,coordinates:u},properties:this.properties};return"id"in this&&(p.id=this.id),p};var vs=ys;function ys(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(gs,this,t),this.length=this._features.length}function gs(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}function bs(e,t,n){if(3===e){var r=new vs(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}ys.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new ps(this._pbf,t,this.extent,this._keys,this._values)};var xs={VectorTile:function(e,t){this.layers=e.readFields(bs,{},t)},VectorTileFeature:ps,VectorTileLayer:vs},_s=xs.VectorTileFeature.types,ws=Math.pow(2,13);function Ss(e,t,n,r,i,o,a,s){e.emplaceBack(t,n,2*Math.floor(r*ws)+a,i*ws*2,o*ws*2,Math.round(s))}var Os=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Ai,this.indexArray=new Ui,this.programConfigurations=new Ro(e.layers,e.zoom),this.segments=new so,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function Es(e,t){return e.x===t.x&&(e.x<0||e.x>8192)||e.y===t.y&&(e.y<0||e.y>8192)}Os.prototype.populate=function(e,t,n){this.features=[],this.hasPattern=os("fill-extrusion",this.layers,t);for(var r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.id,u=o.index,c=o.sourceLayerIndex,l=this.layers[0]._featureFilter.needGeometry,f=Uo(a,l);if(this.layers[0]._featureFilter.filter(new si(this.zoom),f,n)){var p={id:s,sourceLayerIndex:c,index:u,geometry:l?f.geometry:Bo(a),properties:a.properties,type:a.type,patterns:{}};this.hasPattern?this.features.push(as("fill-extrusion",this.layers,p,this.zoom,t)):this.addFeature(p,p.geometry,u,n,{}),t.featureIndex.insert(a,p.geometry,u,c,this.index,!0)}}},Os.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.features;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,t,n)}},Os.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Os.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Os.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Os.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,fs),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Os.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Os.prototype.addFeature=function(e,t,n,r,i){for(var o=0,a=rs(t,500);o<a.length;o+=1){for(var s=a[o],u=0,c=0,l=s;c<l.length;c+=1)u+=l[c].length;for(var f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,h=s;p<h.length;p+=1){var d=h[p];if(0!==d.length&&!((M=d).every((function(e){return e.x<0}))||M.every((function(e){return e.x>8192}))||M.every((function(e){return e.y<0}))||M.every((function(e){return e.y>8192}))))for(var m=0,v=0;v<d.length;v++){var y=d[v];if(v>=1){var g=d[v-1];if(!Es(y,g)){f.vertexLength+4>so.MAX_VERTEX_ARRAY_LENGTH&&(f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var b=y.sub(g)._perp()._unit(),x=g.dist(y);m+x>32768&&(m=0),Ss(this.layoutVertexArray,y.x,y.y,b.x,b.y,0,0,m),Ss(this.layoutVertexArray,y.x,y.y,b.x,b.y,0,1,m),Ss(this.layoutVertexArray,g.x,g.y,b.x,b.y,0,0,m+=x),Ss(this.layoutVertexArray,g.x,g.y,b.x,b.y,0,1,m);var _=f.vertexLength;this.indexArray.emplaceBack(_,_+2,_+1),this.indexArray.emplaceBack(_+1,_+2,_+3),f.vertexLength+=4,f.primitiveLength+=2}}}}if(f.vertexLength+u>so.MAX_VERTEX_ARRAY_LENGTH&&(f=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray)),"Polygon"===_s[e.type]){for(var w=[],S=[],O=f.vertexLength,E=0,k=s;E<k.length;E+=1){var C=k[E];if(0!==C.length){C!==s[0]&&S.push(w.length/2);for(var j=0;j<C.length;j++){var T=C[j];Ss(this.layoutVertexArray,T.x,T.y,0,0,1,1,0),w.push(T.x),w.push(T.y)}}}for(var A=ka(w,S),P=0;P<A.length;P+=3)this.indexArray.emplaceBack(O+A[P],O+A[P+2],O+A[P+1]);f.primitiveLength+=A.length/3,f.vertexLength+=u}}var M;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},zr("FillExtrusionBucket",Os,{omit:["layers","features"]});var ks={paint:new _i({"fill-extrusion-opacity":new vi(Te["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new yi(Te["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new vi(Te["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new vi(Te["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new gi(Te["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new yi(Te["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new yi(Te["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new vi(Te["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Cs=function(e){function t(t){e.call(this,t,ks)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Os(e)},t.prototype.queryRadius=function(){return na(this.paint.get("fill-extrusion-translate"))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(e,t,n,r,o,a,s,u){var c=ra(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),l=this.paint.get("fill-extrusion-height").evaluate(t,n),f=this.paint.get("fill-extrusion-base").evaluate(t,n),p=function(e,t,n,r){for(var o=[],a=0,s=e;a<s.length;a+=1){var u=s[a],c=[u.x,u.y,0,1];fa(c,c,t),o.push(new i(c[0]/c[3],c[1]/c[3]))}return o}(c,u),h=function(e,t,n,r){for(var o=[],a=[],s=r[8]*t,u=r[9]*t,c=r[10]*t,l=r[11]*t,f=r[8]*n,p=r[9]*n,h=r[10]*n,d=r[11]*n,m=0,v=e;m<v.length;m+=1){for(var y=[],g=[],b=0,x=v[m];b<x.length;b+=1){var _=x[b],w=_.x,S=_.y,O=r[0]*w+r[4]*S+r[12],E=r[1]*w+r[5]*S+r[13],k=r[2]*w+r[6]*S+r[14],C=r[3]*w+r[7]*S+r[15],j=k+c,T=C+l,A=O+f,P=E+p,M=k+h,I=C+d,L=new i((O+s)/T,(E+u)/T);L.z=j/T,y.push(L);var R=new i(A/I,P/I);R.z=M/I,g.push(R)}o.push(y),a.push(g)}return[o,a]}(r,f,l,u);return function(e,t,n){var r=1/0;Wo(n,t)&&(r=Ts(n,t[0]));for(var i=0;i<t.length;i++)for(var o=t[i],a=e[i],s=0;s<o.length-1;s++){var u=o[s],c=[u,o[s+1],a[s+1],a[s],u];qo(n,c)&&(r=Math.min(r,Ts(n,c)))}return r!==1/0&&r}(h[0],h[1],p)},t}(wi);function js(e,t){return e.x*t.x+e.y*t.y}function Ts(e,t){if(1===e.length){for(var n,r=0,i=t[r++];!n||i.equals(n);)if(!(n=t[r++]))return 1/0;for(;r<t.length;r++){var o=t[r],a=e[0],s=n.sub(i),u=o.sub(i),c=a.sub(i),l=js(s,s),f=js(s,u),p=js(u,u),h=js(c,s),d=js(c,u),m=l*p-f*f,v=(p*h-f*d)/m,y=(l*d-f*h)/m,g=i.z*(1-v-y)+n.z*v+o.z*y;if(isFinite(g))return g}return 1/0}for(var b=1/0,x=0,_=t;x<_.length;x+=1)b=Math.min(b,_[x].z);return b}var As=ki([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Ps=ki([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Ms=xs.VectorTileFeature.types,Is=Math.cos(Math.PI/180*37.5),Ls=Math.pow(2,14)/.5,Rs=function(e){var t=this;this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(e){t.gradients[e.id]={}})),this.layoutVertexArray=new Pi,this.layoutVertexArray2=new Mi,this.indexArray=new Ui,this.programConfigurations=new Ro(e.layers,e.zoom),this.segments=new so,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};Rs.prototype.populate=function(e,t,n){this.hasPattern=os("line",this.layers,t);for(var r=this.layers[0].layout.get("line-sort-key"),i=[],o=0,a=e;o<a.length;o+=1){var s=a[o],u=s.feature,c=s.id,l=s.index,f=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,h=Uo(u,p);if(this.layers[0]._featureFilter.filter(new si(this.zoom),h,n)){var d=r?r.evaluate(h,{},n):void 0,m={id:c,properties:u.properties,type:u.type,sourceLayerIndex:f,index:l,geometry:p?h.geometry:Bo(u),patterns:{},sortKey:d};i.push(m)}}r&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var v=0,y=i;v<y.length;v+=1){var g=y[v],b=g.geometry,x=g.index,_=g.sourceLayerIndex;if(this.hasPattern){var w=as("line",this.layers,g,this.zoom,t);this.patternFeatures.push(w)}else this.addFeature(g,b,x,n,{});t.featureIndex.insert(e[x].feature,b,x,_,this.index)}},Rs.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Rs.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,t,n)}},Rs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Rs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Rs.prototype.upload=function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Ps)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,As),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Rs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Rs.prototype.lineFeatureClips=function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}},Rs.prototype.addFeature=function(e,t,n,r,i){var o=this.layers[0].layout,a=o.get("line-join").evaluate(e,{}),s=o.get("line-cap"),u=o.get("line-miter-limit"),c=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(var l=0,f=t;l<f.length;l+=1)this.addLine(f[l],e,a,s,u,c);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Rs.prototype.addLine=function(e,t,n,r,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var a=0;a<e.length-1;a++)this.totalDistance+=e[a].dist(e[a+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===Ms[t.type],u=e.length;u>=2&&e[u-1].equals(e[u-2]);)u--;for(var c=0;c<u-1&&e[c].equals(e[c+1]);)c++;if(!(u<(s?3:2))){"bevel"===n&&(i=1.05);var l,f=this.overscaling<=16?122880/(512*this.overscaling):0,p=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray),h=void 0,d=void 0,m=void 0,v=void 0;this.e1=this.e2=-1,s&&(v=e[c].sub(l=e[u-2])._unit()._perp());for(var y=c;y<u;y++)if(!(d=y===u-1?s?e[c+1]:void 0:e[y+1])||!e[y].equals(d)){v&&(m=v),l&&(h=l),l=e[y],v=d?d.sub(l)._unit()._perp():m;var g=(m=m||v).add(v);0===g.x&&0===g.y||g._unit();var b=m.x*v.x+m.y*v.y,x=g.x*v.x+g.y*v.y,_=0!==x?1/x:1/0,w=2*Math.sqrt(2-2*x),S=x<Is&&h&&d,O=m.x*v.y-m.y*v.x>0;if(S&&y>c){var E=l.dist(h);if(E>2*f){var k=l.sub(l.sub(h)._mult(f/E)._round());this.updateDistance(h,k),this.addCurrentVertex(k,m,0,0,p),h=k}}var C=h&&d,j=C?n:s?"butt":r;if(C&&"round"===j&&(_<o?j="miter":_<=2&&(j="fakeround")),"miter"===j&&_>i&&(j="bevel"),"bevel"===j&&(_>2&&(j="flipbevel"),_<i&&(j="miter")),h&&this.updateDistance(h,l),"miter"===j)g._mult(_),this.addCurrentVertex(l,g,0,0,p);else if("flipbevel"===j){if(_>100)g=v.mult(-1);else{var T=_*m.add(v).mag()/m.sub(v).mag();g._perp()._mult(T*(O?-1:1))}this.addCurrentVertex(l,g,0,0,p),this.addCurrentVertex(l,g.mult(-1),0,0,p)}else if("bevel"===j||"fakeround"===j){var A=-Math.sqrt(_*_-1),P=O?A:0,M=O?0:A;if(h&&this.addCurrentVertex(l,m,P,M,p),"fakeround"===j)for(var I=Math.round(180*w/Math.PI/20),L=1;L<I;L++){var R=L/I;if(.5!==R){var D=R-.5;R+=R*D*(R-1)*((1.0904+b*(b*(3.55645-1.43519*b)-3.2452))*D*D+(.848013+b*(.215638*b-1.06021)))}var N=v.sub(m)._mult(R)._add(m)._unit()._mult(O?-1:1);this.addHalfVertex(l,N.x,N.y,!1,O,0,p)}d&&this.addCurrentVertex(l,v,-P,-M,p)}else if("butt"===j)this.addCurrentVertex(l,g,0,0,p);else if("square"===j){var z=h?1:-1;this.addCurrentVertex(l,g,z,z,p)}else"round"===j&&(h&&(this.addCurrentVertex(l,m,0,0,p),this.addCurrentVertex(l,m,1,1,p,!0)),d&&(this.addCurrentVertex(l,v,-1,-1,p,!0),this.addCurrentVertex(l,v,0,0,p)));if(S&&y<u-1){var F=l.dist(d);if(F>2*f){var B=l.add(d.sub(l)._mult(f/F)._round());this.updateDistance(l,B),this.addCurrentVertex(B,v,0,0,p),l=B}}}}},Rs.prototype.addCurrentVertex=function(e,t,n,r,i,o){void 0===o&&(o=!1);var a=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,o,!1,n,i),this.addHalfVertex(e,a,s,o,!0,-r,i),this.distance>Ls/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,n,r,i,o))},Rs.prototype.addHalfVertex=function(e,t,n,r,i,o,a){var s=.5*(this.lineClips?this.scaledDistance*(Ls-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e.x<<1)+(r?1:0),(e.y<<1)+(i?1:0),Math.round(63*t)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1)|(63&s)<<2,s>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var u=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),a.primitiveLength++),i?this.e2=u:this.e1=u},Rs.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Rs.prototype.updateDistance=function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()},zr("LineBucket",Rs,{omit:["layers","patternFeatures"]});var Ds=new _i({"line-cap":new vi(Te.layout_line["line-cap"]),"line-join":new yi(Te.layout_line["line-join"]),"line-miter-limit":new vi(Te.layout_line["line-miter-limit"]),"line-round-limit":new vi(Te.layout_line["line-round-limit"]),"line-sort-key":new yi(Te.layout_line["line-sort-key"])}),Ns={paint:new _i({"line-opacity":new yi(Te.paint_line["line-opacity"]),"line-color":new yi(Te.paint_line["line-color"]),"line-translate":new vi(Te.paint_line["line-translate"]),"line-translate-anchor":new vi(Te.paint_line["line-translate-anchor"]),"line-width":new yi(Te.paint_line["line-width"]),"line-gap-width":new yi(Te.paint_line["line-gap-width"]),"line-offset":new yi(Te.paint_line["line-offset"]),"line-blur":new yi(Te.paint_line["line-blur"]),"line-dasharray":new bi(Te.paint_line["line-dasharray"]),"line-pattern":new gi(Te.paint_line["line-pattern"]),"line-gradient":new xi(Te.paint_line["line-gradient"])}),layout:Ds},zs=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(t,n){return n=new si(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),e.prototype.possiblyEvaluate.call(this,t,n)},t.prototype.evaluate=function(t,n,r,i){return n=p({},n,{zoom:Math.floor(n.zoom)}),e.prototype.evaluate.call(this,t,n,r,i)},t}(yi))(Ns.paint.properties["line-width"].specification);zs.useIntegerZoom=!0;var Fs=function(e){function t(t){e.call(this,t,Ns),this.gradientVersion=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){"line-gradient"===e&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Ht,this.gradientVersion=(this.gradientVersion+1)%s)},t.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n),this.paint._values["line-floorwidth"]=zs.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new Rs(e)},t.prototype.queryRadius=function(e){var t=e,n=Bs(ta("line-width",this,t),ta("line-gap-width",this,t)),r=ta("line-offset",this,t);return n/2+Math.abs(r)+na(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,o,a,s){var u=ra(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),c=s/2*Bs(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),l=this.paint.get("line-offset").evaluate(t,n);return l&&(r=function(e,t){for(var n=[],r=new i(0,0),o=0;o<e.length;o++){for(var a=e[o],s=[],u=0;u<a.length;u++){var c=a[u],l=a[u+1],f=0===u?r:c.sub(a[u-1])._unit()._perp(),p=u===a.length-1?r:l.sub(c)._unit()._perp(),h=f._add(p)._unit();h._mult(1/(h.x*p.x+h.y*p.y)),s.push(h._mult(t)._add(c))}n.push(s)}return n}(r,l*s)),function(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];if(e.length>=3)for(var o=0;o<i.length;o++)if($o(e,i[o]))return!0;if(Zo(e,i,n))return!0}return!1}(u,r,c)},t.prototype.isTileClipped=function(){return!0},t}(wi);function Bs(e,t){return t>0?t+2*e:e}var Us=ki([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Vs=ki([{name:"a_projected_pos",components:3,type:"Float32"}],4),Hs=(ki([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),ki([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),qs=(ki([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),ki([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Gs=ki([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Ws(e,t,n){return e.sections.forEach((function(e){e.text=function(e,t,n){var r=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?e=e.toLocaleUpperCase():"lowercase"===r&&(e=e.toLocaleLowerCase()),ai.applyArabicShaping&&(e=ai.applyArabicShaping(e)),e}(e.text,t,n)})),e}ki([{name:"triangle",components:3,type:"Uint16"}]),ki([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ki([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ki([{type:"Float32",name:"offsetX"}]),ki([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Zs={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Ys=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,p=n?-1:1,h=e[t+f];for(f+=p,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=p,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},Xs=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=d,a/=256,c-=8);e[n+h-d]|=128*m},Ks=Js;function Js(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Js.Varint=0,Js.Fixed64=1,Js.Bytes=2,Js.Fixed32=5;var Qs="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function $s(e){return e.type===Js.Bytes?e.readVarint()+e.pos:e.pos+1}function eu(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function tu(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function nu(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function ru(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function iu(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function ou(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function au(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function su(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function uu(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function cu(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function lu(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function fu(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function pu(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function hu(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function du(e,t,n){1===e&&n.readMessage(mu,t)}function mu(e,t,n){if(3===e){var r=n.readMessage(vu,{}),i=r.width,o=r.height,a=r.left,s=r.top,u=r.advance;t.push({id:r.id,bitmap:new ga({width:i+6,height:o+6},r.bitmap),metrics:{width:i,height:o,left:a,top:s,advance:u}})}}function vu(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function yu(e){for(var t=0,n=0,r=0,i=e;r<i.length;r+=1){var o=i[r];t+=o.w*o.h,n=Math.max(n,o.w)}e.sort((function(e,t){return t.h-e.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}],s=0,u=0,c=0,l=e;c<l.length;c+=1)for(var f=l[c],p=a.length-1;p>=0;p--){var h=a[p];if(!(f.w>h.w||f.h>h.h)){if(f.x=h.x,f.y=h.y,u=Math.max(u,f.y+f.h),s=Math.max(s,f.x+f.w),f.w===h.w&&f.h===h.h){var d=a.pop();p<a.length&&(a[p]=d)}else f.h===h.h?(h.x+=f.w,h.w-=f.w):f.w===h.w?(h.y+=f.h,h.h-=f.h):(a.push({x:h.x+f.w,y:h.y,w:h.w-f.w,h:f.h}),h.y+=f.h,h.h-=f.h);break}}return{w:s,h:u,fill:t/(s*u)||0}}Js.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=fu(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=hu(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=fu(this.buf,this.pos)+4294967296*fu(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=fu(this.buf,this.pos)+4294967296*hu(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=Ys(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Ys(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return eu(e,r,t);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return eu(e,r,t);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return eu(e,r,t);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return eu(e,r,t);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return eu(e,r,t);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return eu(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Qs?function(e,t,n){return Qs.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var r="",i=t;i<n;){var o,a,s,u=e[i],c=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l>n)break;1===l?u<128&&(c=u):2===l?128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)<=127&&(c=null):3===l?(a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&((c=(15&u)<<12|(63&o)<<6|63&a)<=2047||c>=55296&&c<=57343)&&(c=null)):4===l&&(a=e[i+2],s=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&s)&&((c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,l=1):c>65535&&(c-=65536,r+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),r+=String.fromCharCode(c),i+=l}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Js.Bytes)return e.push(this.readVarint(t));var n=$s(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Js.Bytes)return e.push(this.readSVarint());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Js.Bytes)return e.push(this.readBoolean());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Js.Bytes)return e.push(this.readFloat());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Js.Bytes)return e.push(this.readDouble());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Js.Bytes)return e.push(this.readFixed32());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Js.Bytes)return e.push(this.readSFixed32());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Js.Bytes)return e.push(this.readFixed64());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Js.Bytes)return e.push(this.readSFixed64());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Js.Varint)for(;this.buf[this.pos++]>127;);else if(t===Js.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Js.Fixed32)this.pos+=4;else{if(t!==Js.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),pu(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),pu(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),pu(this.buf,-1&e,this.pos),pu(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),pu(this.buf,-1&e,this.pos),pu(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&tu(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),Xs(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Xs(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&tu(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,Js.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,nu,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,ru,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,au,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,iu,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,ou,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,su,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,uu,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,cu,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,lu,t)},writeBytesField:function(e,t){this.writeTag(e,Js.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Js.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Js.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Js.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Js.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Js.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Js.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Js.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Js.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Js.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var gu=function(e,t){var n=t.pixelRatio,r=t.version,i=t.stretchX,o=t.stretchY,a=t.content;this.paddedRect=e,this.pixelRatio=n,this.stretchX=i,this.stretchY=o,this.content=a,this.version=r},bu={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};bu.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},bu.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},bu.tlbr.get=function(){return this.tl.concat(this.br)},bu.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(gu.prototype,bu);var xu=function(e,t){var n={},r={};this.haveRenderCallbacks=[];var i=[];this.addImages(e,n,i),this.addImages(t,r,i);var o=yu(i),a=new ba({width:o.w||1,height:o.h||1});for(var s in e){var u=e[s],c=n[s].paddedRect;ba.copy(u.data,a,{x:0,y:0},{x:c.x+1,y:c.y+1},u.data)}for(var l in t){var f=t[l],p=r[l].paddedRect,h=p.x+1,d=p.y+1,m=f.data.width,v=f.data.height;ba.copy(f.data,a,{x:0,y:0},{x:h,y:d},f.data),ba.copy(f.data,a,{x:0,y:v-1},{x:h,y:d-1},{width:m,height:1}),ba.copy(f.data,a,{x:0,y:0},{x:h,y:d+v},{width:m,height:1}),ba.copy(f.data,a,{x:m-1,y:0},{x:h-1,y:d},{width:1,height:v}),ba.copy(f.data,a,{x:0,y:0},{x:h+m,y:d},{width:1,height:v})}this.image=a,this.iconPositions=n,this.patternPositions=r};xu.prototype.addImages=function(e,t,n){for(var r in e){var i=e[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),t[r]=new gu(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},xu.prototype.patchUpdatedImages=function(e,t){for(var n in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)},xu.prototype.patchUpdatedImage=function(e,t,n){if(e&&t&&e.version!==t.version){e.version=t.version;var r=e.tl;n.update(t.data,void 0,{x:r[0],y:r[1]})}},zr("ImagePosition",gu),zr("ImageAtlas",xu);var _u={horizontal:1,vertical:2,horizontalOnly:3},wu=function(){this.scale=1,this.fontStack="",this.imageName=null};wu.forText=function(e,t){var n=new wu;return n.scale=e||1,n.fontStack=t,n},wu.forImage=function(e){var t=new wu;return t.imageName=e,t};var Su=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Ou(e,t,n,r,i,o,a,s,u,c,l,f,p,h,d,m){var v,y=Su.fromFeature(e,i);f===_u.vertical&&y.verticalizePunctuation();var g=ai.processBidirectionalText,b=ai.processStyledBidirectionalText;if(g&&1===y.sections.length){v=[];for(var x=0,_=g(y.toString(),Pu(y,c,o,t,r,h,d));x<_.length;x+=1){var w=_[x],S=new Su;S.text=w,S.sections=y.sections;for(var O=0;O<w.length;O++)S.sectionIndex.push(0);v.push(S)}}else if(b){v=[];for(var E=0,k=b(y.text,y.sectionIndex,Pu(y,c,o,t,r,h,d));E<k.length;E+=1){var C=k[E],j=new Su;j.text=C[0],j.sectionIndex=C[1],j.sections=y.sections,v.push(j)}}else v=function(e,t){for(var n=[],r=e.text,i=0,o=0,a=t;o<a.length;o+=1){var s=a[o];n.push(e.substring(i,s)),i=s}return i<r.length&&n.push(e.substring(i,r.length)),n}(y,Pu(y,c,o,t,r,h,d));var T=[],A={positionedLines:T,text:y.toString(),top:l[1],bottom:l[1],left:l[0],right:l[0],writingMode:f,iconsInText:!1,verticalizable:!1};return function(e,t,n,r,i,o,a,s,u,c,l,f){for(var p=0,h=-17,d=0,m=0,v="right"===s?1:"left"===s?0:.5,y=0,g=0,b=i;g<b.length;g+=1){var x=b[g];x.trim();var _=x.getMaxScale(),w=24*(_-1),S={positionedGlyphs:[],lineOffset:0};e.positionedLines[y]=S;var O=S.positionedGlyphs,E=0;if(x.length()){for(var k=0;k<x.length();k++){var C=x.getSection(k),j=x.getSectionIndex(k),T=x.getCharCode(k),A=0,P=null,M=null,I=null,L=24,R=!(u===_u.horizontal||!l&&!Zr(T)||l&&(Eu[T]||(q=T,Gr.Arabic(q)||Gr["Arabic Supplement"](q)||Gr["Arabic Extended-A"](q)||Gr["Arabic Presentation Forms-A"](q)||Gr["Arabic Presentation Forms-B"](q))));if(C.imageName){var D=r[C.imageName];if(!D)continue;I=C.imageName,e.iconsInText=e.iconsInText||!0,M=D.paddedRect;var N=D.displaySize;C.scale=24*C.scale/f,A=w+(24-N[1]*C.scale),L=(P={width:N[0],height:N[1],left:1,top:-3,advance:R?N[1]:N[0]}).advance;var z=R?N[0]*C.scale-24*_:N[1]*C.scale-24*_;z>0&&z>E&&(E=z)}else{var F=n[C.fontStack],B=F&&F[T];if(B&&B.rect)M=B.rect,P=B.metrics;else{var U=t[C.fontStack],V=U&&U[T];if(!V)continue;P=V.metrics}A=24*(_-C.scale)}R?(e.verticalizable=!0,O.push({glyph:T,imageName:I,x:p,y:h+A,vertical:R,scale:C.scale,fontStack:C.fontStack,sectionIndex:j,metrics:P,rect:M}),p+=L*C.scale+c):(O.push({glyph:T,imageName:I,x:p,y:h+A,vertical:R,scale:C.scale,fontStack:C.fontStack,sectionIndex:j,metrics:P,rect:M}),p+=P.advance*C.scale+c)}0!==O.length&&(d=Math.max(p-c,d),Iu(O,0,O.length-1,v,E)),p=0;var H=o*_+E;S.lineOffset=Math.max(E,w),h+=H,m=Math.max(H,m),++y}else h+=o,++y}var q,G=h- -17,W=Mu(a),Z=W.horizontalAlign,Y=W.verticalAlign;(function(e,t,n,r,i,o,a,s,u){var c,l=(t-n)*i;c=o!==a?-s*r- -17:(-r*u+.5)*a;for(var f=0,p=e;f<p.length;f+=1)for(var h=0,d=p[f].positionedGlyphs;h<d.length;h+=1){var m=d[h];m.x+=l,m.y+=c}})(e.positionedLines,v,Z,Y,d,m,o,G,i.length),e.top+=-Y*G,e.bottom=e.top+G,e.left+=-Z*d,e.right=e.left+d}(A,t,n,r,v,a,s,u,f,c,p,m),!function(e){for(var t=0,n=e;t<n.length;t+=1)if(0!==n[t].positionedGlyphs.length)return!1;return!0}(T)&&A}Su.fromFeature=function(e,t){for(var n=new Su,r=0;r<e.sections.length;r++){var i=e.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,t)}return n},Su.prototype.length=function(){return this.text.length},Su.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},Su.prototype.getSectionIndex=function(e){return this.sectionIndex[e]},Su.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},Su.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n+1)||null,i=e.charCodeAt(n-1)||null;t+=r&&Yr(r)&&!Zs[e[n+1]]||i&&Yr(i)&&!Zs[e[n-1]]||!Zs[e[n]]?e[n]:Zs[e[n]]}return t}(this.text)},Su.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&Eu[this.text.charCodeAt(t)];t++)e++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=e&&Eu[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(e,n),this.sectionIndex=this.sectionIndex.slice(e,n)},Su.prototype.substring=function(e,t){var n=new Su;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n},Su.prototype.toString=function(){return this.text},Su.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce((function(t,n){return Math.max(t,e.sections[n].scale)}),0)},Su.prototype.addTextSection=function(e,t){this.text+=e.text,this.sections.push(wu.forText(e.scale,e.fontStack||t));for(var n=this.sections.length-1,r=0;r<e.text.length;++r)this.sectionIndex.push(n)},Su.prototype.addImageSection=function(e){var t=e.image?e.image.name:"";if(0!==t.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(wu.forImage(t)),this.sectionIndex.push(this.sections.length-1)):S("Reached maximum number of images 6401")}else S("Can't add FormattedSection with an empty image.")},Su.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Eu={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},ku={};function Cu(e,t,n,r,i,o){if(t.imageName){var a=r[t.imageName];return a?a.displaySize[0]*t.scale*24/o+i:0}var s=n[t.fontStack],u=s&&s[e];return u?u.metrics.advance*t.scale+i:0}function ju(e,t,n,r){var i=Math.pow(e-t,2);return r?e<t?i/2:2*i:i+Math.abs(n)*n}function Tu(e,t,n){var r=0;return 10===e&&(r-=1e4),n&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function Au(e,t,n,r,i,o){for(var a=null,s=ju(t,n,i,o),u=0,c=r;u<c.length;u+=1){var l=c[u],f=ju(t-l.x,n,i,o)+l.badness;f<=s&&(a=l,s=f)}return{index:e,x:t,priorBreak:a,badness:s}}function Pu(e,t,n,r,i,o,a){if("point"!==o)return[];if(!e)return[];for(var s,u=[],c=function(e,t,n,r,i,o){for(var a=0,s=0;s<e.length();s++){var u=e.getSection(s);a+=Cu(e.getCharCode(s),u,r,i,t,o)}return a/Math.max(1,Math.ceil(a/n))}(e,t,n,r,i,a),l=e.text.indexOf("\u200b")>=0,f=0,p=0;p<e.length();p++){var h=e.getSection(p),d=e.getCharCode(p);if(Eu[d]||(f+=Cu(d,h,r,i,t,a)),p<e.length()-1){var m=!((s=d)<11904||!(Gr["Bopomofo Extended"](s)||Gr.Bopomofo(s)||Gr["CJK Compatibility Forms"](s)||Gr["CJK Compatibility Ideographs"](s)||Gr["CJK Compatibility"](s)||Gr["CJK Radicals Supplement"](s)||Gr["CJK Strokes"](s)||Gr["CJK Symbols and Punctuation"](s)||Gr["CJK Unified Ideographs Extension A"](s)||Gr["CJK Unified Ideographs"](s)||Gr["Enclosed CJK Letters and Months"](s)||Gr["Halfwidth and Fullwidth Forms"](s)||Gr.Hiragana(s)||Gr["Ideographic Description Characters"](s)||Gr["Kangxi Radicals"](s)||Gr["Katakana Phonetic Extensions"](s)||Gr.Katakana(s)||Gr["Vertical Forms"](s)||Gr["Yi Radicals"](s)||Gr["Yi Syllables"](s)));(ku[d]||m||h.imageName)&&u.push(Au(p+1,f,c,u,Tu(d,e.getCharCode(p+1),m&&l),!1))}}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(Au(e.length(),f,c,u,0,!0))}function Mu(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Iu(e,t,n,r,i){if(r||i)for(var o=e[n],a=(e[n].x+o.metrics.advance*o.scale)*r,s=t;s<=n;s++)e[s].x-=a,e[s].y+=i}function Lu(e,t,n,r,i,o){var a,s=e.image;if(s.content){var u=s.content,c=s.pixelRatio||1;a=[u[0]/c,u[1]/c,s.displaySize[0]-u[2]/c,s.displaySize[1]-u[3]/c]}var l,f,p,h,d=t.left*o,m=t.right*o;"width"===n||"both"===n?(h=i[0]+d-r[3],f=i[0]+m+r[1]):f=(h=i[0]+(d+m-s.displaySize[0])/2)+s.displaySize[0];var v=t.top*o,y=t.bottom*o;return"height"===n||"both"===n?(l=i[1]+v-r[0],p=i[1]+y+r[2]):p=(l=i[1]+(v+y-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:l,right:f,bottom:p,left:h,collisionPadding:a}}ku[10]=!0,ku[32]=!0,ku[38]=!0,ku[40]=!0,ku[41]=!0,ku[43]=!0,ku[45]=!0,ku[47]=!0,ku[173]=!0,ku[183]=!0,ku[8203]=!0,ku[8208]=!0,ku[8211]=!0,ku[8231]=!0;var Ru=function(e){function t(t,n,r,i){e.call(this,t,n),this.angle=r,void 0!==i&&(this.segment=i)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(i);function Du(e,t){var n=t.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new si(e+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,o=0;o<r.length&&r[o]<=e;)o++;for(var a=o=Math.max(0,o-1);a<r.length&&r[a]<e+1;)a++;a=Math.min(r.length-1,a);var s=r[o],u=r[a];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:u,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:u,minSize:n.evaluate(new si(s)),maxSize:n.evaluate(new si(u)),interpolationType:i}}function Nu(e,t,n){var r=t.uSize,i=n.lowerSize;return"source"===e.kind?i/128:"composite"===e.kind?qt(i/128,n.upperSize/128,t.uSizeT):r}function zu(e,t){var n=0,r=0;if("constant"===e.kind)r=e.layoutSize;else if("source"!==e.kind){var i=e.interpolationType,o=i?l(an.interpolationFactor(i,t,e.minZoom,e.maxZoom),0,1):0;"camera"===e.kind?r=qt(e.minSize,e.maxSize,o):n=o}return{uSizeT:n,uSize:r}}zr("Anchor",Ru);var Fu=Object.freeze({__proto__:null,getSizeData:Du,evaluateSizeForFeature:Nu,evaluateSizeForZoom:zu,SIZE_PACK_FACTOR:128});function Bu(e,t,n,r,i){if(void 0===t.segment)return!0;for(var o=t,a=t.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;for(var u=[],c=0;s<n/2;){var l=e[a],f=e[a+1];if(!f)return!1;var p=e[a-1].angleTo(l)-l.angleTo(f);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:p}),c+=p;s-u[0].distance>r;)c-=u.shift().angleDelta;if(c>i)return!1;a++,s+=l.dist(f)}return!0}function Uu(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function Vu(e,t,n){return e?.6*t*n:0}function Hu(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function qu(e,t,n,r,i,o){for(var a=Vu(n,i,o),s=Hu(n,r)*o,u=0,c=Uu(e)/2,l=0;l<e.length-1;l++){var f=e[l],p=e[l+1],h=f.dist(p);if(u+h>c){var d=(c-u)/h,m=qt(f.x,p.x,d),v=qt(f.y,p.y,d),y=new Ru(m,v,p.angleTo(f),l);return y._round(),!a||Bu(e,y,s,a,t)?y:void 0}u+=h}}function Gu(e,t,n,r,i,o,a,s,u){var c=Vu(r,o,a),l=Hu(r,i),f=l*a,p=0===e[0].x||e[0].x===u||0===e[0].y||e[0].y===u;return t-f<t/4&&(t=f+t/4),function e(t,n,r,i,o,a,s,u,c){for(var l=a/2,f=Uu(t),p=0,h=n-r,d=[],m=0;m<t.length-1;m++){for(var v=t[m],y=t[m+1],g=v.dist(y),b=y.angleTo(v);h+r<p+g;){var x=((h+=r)-p)/g,_=qt(v.x,y.x,x),w=qt(v.y,y.y,x);if(_>=0&&_<c&&w>=0&&w<c&&h-l>=0&&h+l<=f){var S=new Ru(_,w,b,m);S._round(),i&&!Bu(t,S,a,i,o)||d.push(S)}}p+=g}return u||d.length||s||(d=e(t,p/2,r,i,o,a,s,!0,c)),d}(e,p?t/2*s%t:(l/2+2*o)*a*s%t,t,c,n,f,p,!1,u)}function Wu(e,t,n,r,o){for(var a=[],s=0;s<e.length;s++)for(var u=e[s],c=void 0,l=0;l<u.length-1;l++){var f=u[l],p=u[l+1];f.x<t&&p.x<t||(f.x<t?f=new i(t,f.y+(t-f.x)/(p.x-f.x)*(p.y-f.y))._round():p.x<t&&(p=new i(t,f.y+(t-f.x)/(p.x-f.x)*(p.y-f.y))._round()),f.y<n&&p.y<n||(f.y<n?f=new i(f.x+(n-f.y)/(p.y-f.y)*(p.x-f.x),n)._round():p.y<n&&(p=new i(f.x+(n-f.y)/(p.y-f.y)*(p.x-f.x),n)._round()),f.x>=r&&p.x>=r||(f.x>=r?f=new i(r,f.y+(r-f.x)/(p.x-f.x)*(p.y-f.y))._round():p.x>=r&&(p=new i(r,f.y+(r-f.x)/(p.x-f.x)*(p.y-f.y))._round()),f.y>=o&&p.y>=o||(f.y>=o?f=new i(f.x+(o-f.y)/(p.y-f.y)*(p.x-f.x),o)._round():p.y>=o&&(p=new i(f.x+(o-f.y)/(p.y-f.y)*(p.x-f.x),o)._round()),c&&f.equals(c[c.length-1])||a.push(c=[f]),c.push(p)))))}return a}function Zu(e,t,n,r){var o=[],a=e.image,s=a.pixelRatio,u=a.paddedRect.w-2,c=a.paddedRect.h-2,l=e.right-e.left,f=e.bottom-e.top,p=a.stretchX||[[0,u]],h=a.stretchY||[[0,c]],d=function(e,t){return e+t[1]-t[0]},m=p.reduce(d,0),v=h.reduce(d,0),y=u-m,g=c-v,b=0,x=m,_=0,w=v,S=0,O=y,E=0,k=g;if(a.content&&r){var C=a.content;b=Yu(p,0,C[0]),_=Yu(h,0,C[1]),x=Yu(p,C[0],C[2]),w=Yu(h,C[1],C[3]),S=C[0]-b,E=C[1]-_,O=C[2]-C[0]-x,k=C[3]-C[1]-w}var j=function(r,o,u,c){var p=Ku(r.stretch-b,x,l,e.left),h=Ju(r.fixed-S,O,r.stretch,m),d=Ku(o.stretch-_,w,f,e.top),y=Ju(o.fixed-E,k,o.stretch,v),g=Ku(u.stretch-b,x,l,e.left),C=Ju(u.fixed-S,O,u.stretch,m),j=Ku(c.stretch-_,w,f,e.top),T=Ju(c.fixed-E,k,c.stretch,v),A=new i(p,d),P=new i(g,d),M=new i(g,j),I=new i(p,j),L=new i(h/s,y/s),R=new i(C/s,T/s),D=t*Math.PI/180;if(D){var N=Math.sin(D),z=Math.cos(D),F=[z,-N,N,z];A._matMult(F),P._matMult(F),I._matMult(F),M._matMult(F)}var B=r.stretch+r.fixed,U=o.stretch+o.fixed;return{tl:A,tr:P,bl:I,br:M,tex:{x:a.paddedRect.x+1+B,y:a.paddedRect.y+1+U,w:u.stretch+u.fixed-B,h:c.stretch+c.fixed-U},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:L,pixelOffsetBR:R,minFontScaleX:O/s/l,minFontScaleY:k/s/f,isSDF:n}};if(r&&(a.stretchX||a.stretchY))for(var T=Xu(p,y,m),A=Xu(h,g,v),P=0;P<T.length-1;P++)for(var M=T[P],I=T[P+1],L=0;L<A.length-1;L++)o.push(j(M,A[L],I,A[L+1]));else o.push(j({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:u+1},{fixed:0,stretch:c+1}));return o}function Yu(e,t,n){for(var r=0,i=0,o=e;i<o.length;i+=1){var a=o[i];r+=Math.max(t,Math.min(n,a[1]))-Math.max(t,Math.min(n,a[0]))}return r}function Xu(e,t,n){for(var r=[{fixed:-1,stretch:0}],i=0,o=e;i<o.length;i+=1){var a=o[i],s=a[0],u=a[1],c=r[r.length-1];r.push({fixed:s-c.stretch,stretch:c.stretch}),r.push({fixed:s-c.stretch,stretch:c.stretch+(u-s)})}return r.push({fixed:t+1,stretch:n}),r}function Ku(e,t,n,r){return e/t*n+r}function Ju(e,t,n,r){return e-t*n/r}var Qu=function(e,t,n,r,o,a,s,u,c,l){if(this.boxStartIndex=e.length,c){var f=a.top,p=a.bottom,h=a.collisionPadding;h&&(f-=h[1],p+=h[3]);var d=p-f;d>0&&(d=Math.max(10,d),this.circleDiameter=d)}else{var m=a.top*s-u,v=a.bottom*s+u,y=a.left*s-u,g=a.right*s+u,b=a.collisionPadding;if(b&&(y-=b[0]*s,m-=b[1]*s,g+=b[2]*s,v+=b[3]*s),l){var x=new i(y,m),_=new i(g,m),w=new i(y,v),S=new i(g,v),O=l*Math.PI/180;x._rotate(O),_._rotate(O),w._rotate(O),S._rotate(O),y=Math.min(x.x,_.x,w.x,S.x),g=Math.max(x.x,_.x,w.x,S.x),m=Math.min(x.y,_.y,w.y,S.y),v=Math.max(x.y,_.y,w.y,S.y)}e.emplaceBack(t.x,t.y,y,m,g,v,n,r,o)}this.boxEndIndex=e.length},$u=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=ec),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function ec(e,t){return e<t?-1:e>t?1:0}function tc(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);for(var r=1/0,o=1/0,a=-1/0,s=-1/0,u=e[0],c=0;c<u.length;c++){var l=u[c];(!c||l.x<r)&&(r=l.x),(!c||l.y<o)&&(o=l.y),(!c||l.x>a)&&(a=l.x),(!c||l.y>s)&&(s=l.y)}var f=Math.min(a-r,s-o),p=f/2,h=new $u([],nc);if(0===f)return new i(r,o);for(var d=r;d<a;d+=f)for(var m=o;m<s;m+=f)h.push(new rc(d+p,m+p,p,e));for(var v=function(e){for(var t=0,n=0,r=0,i=e[0],o=0,a=i.length,s=a-1;o<a;s=o++){var u=i[o],c=i[s],l=u.x*c.y-c.x*u.y;n+=(u.x+c.x)*l,r+=(u.y+c.y)*l,t+=3*l}return new rc(n/t,r/t,0,e)}(e),y=h.length;h.length;){var g=h.pop();(g.d>v.d||!v.d)&&(v=g,n&&console.log("found best %d after %d probes",Math.round(1e4*g.d)/1e4,y)),g.max-v.d<=t||(h.push(new rc(g.p.x-(p=g.h/2),g.p.y-p,p,e)),h.push(new rc(g.p.x+p,g.p.y-p,p,e)),h.push(new rc(g.p.x-p,g.p.y+p,p,e)),h.push(new rc(g.p.x+p,g.p.y+p,p,e)),y+=4)}return n&&(console.log("num probes: "+y),console.log("best distance: "+v.d)),v.p}function nc(e,t){return t.max-e.max}function rc(e,t,n,r){this.p=new i(e,t),this.h=n,this.d=function(e,t){for(var n=!1,r=1/0,i=0;i<t.length;i++)for(var o=t[i],a=0,s=o.length,u=s-1;a<s;u=a++){var c=o[a],l=o[u];c.y>e.y!=l.y>e.y&&e.x<(l.x-c.x)*(e.y-c.y)/(l.y-c.y)+c.x&&(n=!n),r=Math.min(r,Jo(e,c,l))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}$u.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},$u.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},$u.prototype.peek=function(){return this.data[0]},$u.prototype._up=function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,o=t[i];if(n(r,o)>=0)break;t[e]=o,e=i}t[e]=r},$u.prototype._down=function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var o=1+(e<<1),a=t[o],s=o+1;if(s<this.length&&n(t[s],a)<0&&(o=s,a=t[s]),n(a,i)>=0)break;t[e]=a,e=o}t[e]=i};var ic=Number.POSITIVE_INFINITY;function oc(e,t){return t[1]!==ic?function(e,t,n){var r=0,i=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(e){case"top-right":case"bottom-right":case"right":r=-t;break;case"top-left":case"bottom-left":case"left":r=t}return[r,i]}(e,t[0],t[1]):function(e,t){var n=0,r=0;t<0&&(t=0);var i=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=t;break;case"right":n=-t}return[n,r]}(e,t[0])}function ac(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function sc(e,t,n,r,o,a,s,u,c,l,f,p,h,d,m){var v=function(e,t,n,r,o,a,s,u){for(var c=r.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,l=[],f=0,p=t.positionedLines;f<p.length;f+=1)for(var h=p[f],d=0,m=h.positionedGlyphs;d<m.length;d+=1){var v=m[d];if(v.rect){var y=v.rect||{},g=4,b=!0,x=1,_=0,w=(o||u)&&v.vertical,S=v.metrics.advance*v.scale/2;if(u&&t.verticalizable&&(_=h.lineOffset/2-(v.imageName?-(24-v.metrics.width*v.scale)/2:24*(v.scale-1))),v.imageName){var O=s[v.imageName];b=O.sdf,g=1/(x=O.pixelRatio)}var E=o?[v.x+S,v.y]:[0,0],k=o?[0,0]:[v.x+S+n[0],v.y+n[1]-_],C=[0,0];w&&(C=k,k=[0,0]);var j=(v.metrics.left-g)*v.scale-S+k[0],T=(-v.metrics.top-g)*v.scale+k[1],A=j+y.w*v.scale/x,P=T+y.h*v.scale/x,M=new i(j,T),I=new i(A,T),L=new i(j,P),R=new i(A,P);if(w){var D=new i(-S,S- -17),N=-Math.PI/2,z=12-S,F=new i(22-z,-(v.imageName?z:0)),B=new(Function.prototype.bind.apply(i,[null].concat(C)));M._rotateAround(N,D)._add(F)._add(B),I._rotateAround(N,D)._add(F)._add(B),L._rotateAround(N,D)._add(F)._add(B),R._rotateAround(N,D)._add(F)._add(B)}if(c){var U=Math.sin(c),V=Math.cos(c),H=[V,-U,U,V];M._matMult(H),I._matMult(H),L._matMult(H),R._matMult(H)}var q=new i(0,0),G=new i(0,0);l.push({tl:M,tr:I,bl:L,br:R,tex:y,writingMode:t.writingMode,glyphOffset:E,sectionIndex:v.sectionIndex,isSDF:b,pixelOffsetTL:q,pixelOffsetBR:G,minFontScaleX:0,minFontScaleY:0})}}return l}(0,n,u,o,a,s,r,e.allowVerticalPlacement),y=e.textSizeData,g=null;"source"===y.kind?(g=[128*o.layout.get("text-size").evaluate(s,{})])[0]>32640&&S(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===y.kind&&((g=[128*d.compositeTextSizes[0].evaluate(s,{},m),128*d.compositeTextSizes[1].evaluate(s,{},m)])[0]>32640||g[1]>32640)&&S(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),e.addSymbols(e.text,v,g,u,a,s,l,t,c.lineStartIndex,c.lineLength,h,m);for(var b=0,x=f;b<x.length;b+=1)p[x[b]]=e.text.placedSymbolArray.length-1;return 4*v.length}function uc(e){for(var t in e)return e[t];return null}function cc(e,t,n,r){var i=e.compareText;if(t in i){for(var o=i[t],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[t]=[];return i[t].push(r),!1}var lc=xs.VectorTileFeature.types,fc=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function pc(e,t,n,r,i,o,a,s,u,c,l,f,p){var h=s?Math.min(32640,Math.round(s[0])):0,d=s?Math.min(32640,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*i),o,a,(h<<1)+(u?1:0),d,16*c,16*l,256*f,256*p)}function hc(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function dc(e){for(var t=0,n=e.sections;t<n.length;t+=1)if(Jr(n[t].text))return!0;return!1}var mc=function(e){this.layoutVertexArray=new Li,this.indexArray=new Ui,this.programConfigurations=e,this.segments=new so,this.dynamicLayoutVertexArray=new Ri,this.opacityVertexArray=new Di,this.placedSymbolArray=new $i};mc.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},mc.prototype.upload=function(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Us.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Vs.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,fc,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))},mc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},zr("SymbolBuffers",mc);var vc=function(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new so,this.collisionVertexArray=new Bi};vc.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Hs.members,!0)},vc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},zr("CollisionBuffers",vc);var yc=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=sa([]),this.placementViewportMatrix=sa([]);var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Du(this.zoom,t["text-size"]),this.iconSizeData=Du(this.zoom,t["icon-size"]);var n=this.layers[0].layout,r=n.get("symbol-sort-key"),i=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==r.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((function(e){return _u[e]}))),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=e.sourceID};yc.prototype.createArrays=function(){this.text=new mc(new Ro(this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new mc(new Ro(this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.glyphOffsetArray=new no,this.lineVertexArray=new ro,this.symbolInstances=new to},yc.prototype.calculateGlyphDependencies=function(e,t,n,r,i){for(var o=0;o<e.length;o++)if(t[e.charCodeAt(o)]=!0,(n||r)&&i){var a=Zs[e.charAt(o)];a&&(t[a.charCodeAt(0)]=!0)}},yc.prototype.populate=function(e,t,n){var r=this.layers[0],i=r.layout,o=i.get("text-font"),a=i.get("text-field"),s=i.get("icon-image"),u=("constant"!==a.value.kind||a.value.value instanceof rt&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),c="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,l=i.get("symbol-sort-key");if(this.features=[],u||c){for(var f=t.iconDependencies,p=t.glyphDependencies,h=t.availableImages,d=new si(this.zoom),m=0,v=e;m<v.length;m+=1){var y=v[m],g=y.feature,b=y.id,x=y.index,_=y.sourceLayerIndex,w=r._featureFilter.needGeometry,S=Uo(g,w);if(r._featureFilter.filter(d,S,n)){w||(S.geometry=Bo(g));var O=void 0;if(u){var E=r.getValueAndResolveTokens("text-field",S,n,h),k=rt.factory(E);dc(k)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ii()||this.hasRTLText&&ai.isParsed())&&(O=Ws(k,r,S))}var C=void 0;if(c){var j=r.getValueAndResolveTokens("icon-image",S,n,h);C=j instanceof it?j:it.fromString(j)}if(O||C){var T=this.sortFeaturesByKey?l.evaluate(S,{},n):void 0;if(this.features.push({id:b,text:O,icon:C,index:x,sourceLayerIndex:_,geometry:S.geometry,properties:g.properties,type:lc[g.type],sortKey:T}),C&&(f[C.name]=!0),O){var A=o.evaluate(S,{},n).join(","),P="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(_u.vertical)>=0;for(var M=0,I=O.sections;M<I.length;M+=1){var L=I[M];if(L.image)f[L.image.name]=!0;else{var R=Wr(O.toString()),D=L.fontStack||A,N=p[D]=p[D]||{};this.calculateGlyphDependencies(L.text,N,P,this.allowVerticalPlacement,R)}}}}}}"line"===i.get("symbol-placement")&&(this.features=function(e){var t={},n={},r=[],i=0;function o(t){r.push(e[t]),i++}function a(e,t,i){var o=n[e];return delete n[e],n[t]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(e,n,i){var o=t[n];return delete t[n],t[e]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function u(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return e+":"+r.x+":"+r.y}for(var c=0;c<e.length;c++){var l=e[c],f=l.geometry,p=l.text?l.text.toString():null;if(p){var h=u(p,f),d=u(p,f,!0);if(h in n&&d in t&&n[h]!==t[d]){var m=s(h,d,f),v=a(h,d,r[m].geometry);delete t[h],delete n[d],n[u(p,r[v].geometry,!0)]=v,r[m].geometry=null}else h in n?a(h,d,f):d in t?s(h,d,f):(o(c),t[h]=i-1,n[d]=i-1)}else o(c)}return r.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}},yc.prototype.update=function(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))},yc.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},yc.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},yc.prototype.upload=function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},yc.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},yc.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},yc.prototype.addToLineVertexArray=function(e,t){var n=this.lineVertexArray.length;if(void 0!==e.segment){for(var r=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]),o={},a=e.segment+1;a<t.length;a++)o[a]={x:t[a].x,y:t[a].y,tileUnitDistanceFromAnchor:r},a<t.length-1&&(r+=t[a+1].dist(t[a]));for(var s=e.segment||0;s>=0;s--)o[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=t[s-1].dist(t[s]));for(var u=0;u<t.length;u++){var c=o[u];this.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},yc.prototype.addSymbols=function(e,t,n,r,i,o,a,s,u,c,l,f){for(var p=e.indexArray,h=e.layoutVertexArray,d=e.segments.prepareSegment(4*t.length,h,p,this.canOverlap?o.sortKey:void 0),m=this.glyphOffsetArray.length,v=d.vertexLength,y=this.allowVerticalPlacement&&a===_u.vertical?Math.PI/2:0,g=o.text&&o.text.sections,b=0;b<t.length;b++){var x=t[b],_=x.tl,w=x.tr,S=x.bl,O=x.br,E=x.tex,k=x.pixelOffsetTL,C=x.pixelOffsetBR,j=x.minFontScaleX,T=x.minFontScaleY,A=x.glyphOffset,P=x.isSDF,M=x.sectionIndex,I=d.vertexLength,L=A[1];pc(h,s.x,s.y,_.x,L+_.y,E.x,E.y,n,P,k.x,k.y,j,T),pc(h,s.x,s.y,w.x,L+w.y,E.x+E.w,E.y,n,P,C.x,k.y,j,T),pc(h,s.x,s.y,S.x,L+S.y,E.x,E.y+E.h,n,P,k.x,C.y,j,T),pc(h,s.x,s.y,O.x,L+O.y,E.x+E.w,E.y+E.h,n,P,C.x,C.y,j,T),hc(e.dynamicLayoutVertexArray,s,y),p.emplaceBack(I,I+1,I+2),p.emplaceBack(I+1,I+2,I+3),d.vertexLength+=4,d.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(A[0]),b!==t.length-1&&M===t[b+1].sectionIndex||e.programConfigurations.populatePaintArrays(h.length,o,o.index,{},f,g&&g[M])}e.placedSymbolArray.emplaceBack(s.x,s.y,m,this.glyphOffsetArray.length-m,v,u,c,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,0,!1,0,l)},yc.prototype._addCollisionDebugVertex=function(e,t,n,r,i,o){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))},yc.prototype.addCollisionDebugVertices=function(e,t,n,r,o,a,s){var u=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),c=u.vertexLength,l=o.layoutVertexArray,f=o.collisionVertexArray,p=s.anchorX,h=s.anchorY;this._addCollisionDebugVertex(l,f,a,p,h,new i(e,t)),this._addCollisionDebugVertex(l,f,a,p,h,new i(n,t)),this._addCollisionDebugVertex(l,f,a,p,h,new i(n,r)),this._addCollisionDebugVertex(l,f,a,p,h,new i(e,r)),u.vertexLength+=4;var d=o.indexArray;d.emplaceBack(c,c+1),d.emplaceBack(c+1,c+2),d.emplaceBack(c+2,c+3),d.emplaceBack(c+3,c),u.primitiveLength+=4},yc.prototype.addDebugCollisionBoxes=function(e,t,n,r){for(var i=e;i<t;i++){var o=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(o.x1,o.y1,o.x2,o.y2,r?this.textCollisionBox:this.iconCollisionBox,o.anchorPoint,n)}},yc.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new vc(zi,qs.members,Zi),this.iconCollisionBox=new vc(zi,qs.members,Zi);for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}},yc.prototype._deserializeCollisionBoxesForSymbol=function(e,t,n,r,i,o,a,s,u){for(var c={},l=t;l<n;l++){var f=e.get(l);c.textBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},c.textFeatureIndex=f.featureIndex;break}for(var p=r;p<i;p++){var h=e.get(p);c.verticalTextBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,anchorPointX:h.anchorPointX,anchorPointY:h.anchorPointY},c.verticalTextFeatureIndex=h.featureIndex;break}for(var d=o;d<a;d++){var m=e.get(d);c.iconBox={x1:m.x1,y1:m.y1,x2:m.x2,y2:m.y2,anchorPointX:m.anchorPointX,anchorPointY:m.anchorPointY},c.iconFeatureIndex=m.featureIndex;break}for(var v=s;v<u;v++){var y=e.get(v);c.verticalIconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,anchorPointX:y.anchorPointX,anchorPointY:y.anchorPointY},c.verticalIconFeatureIndex=y.featureIndex;break}return c},yc.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},yc.prototype.hasTextData=function(){return this.text.segments.get().length>0},yc.prototype.hasIconData=function(){return this.icon.segments.get().length>0},yc.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},yc.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},yc.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},yc.prototype.addIndicesForPlacedSymbol=function(e,t){for(var n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)e.indexArray.emplaceBack(i,i+1,i+2),e.indexArray.emplaceBack(i+1,i+2,i+3)},yc.prototype.getSortedSymbolIndexes=function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),n=Math.cos(e),r=[],i=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var s=this.symbolInstances.get(a);r.push(0|Math.round(t*s.anchorX+n*s.anchorY)),i.push(s.featureIndex)}return o.sort((function(e,t){return r[e]-r[t]||i[t]-i[e]})),o},yc.prototype.addToSortKeyRanges=function(e,t){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})},yc.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,r=this.symbolInstanceIndexes;n<r.length;n+=1){var i=this.symbolInstances.get(r[n]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(e,n,r){e>=0&&r.indexOf(e)===n&&t.addIndicesForPlacedSymbol(t.text,e)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},zr("SymbolBucket",yc,{omit:["layers","collisionBoxArray","features","compareText"]}),yc.MAX_GLYPHS=65535,yc.addDynamicAttributes=hc;var gc=new _i({"symbol-placement":new vi(Te.layout_symbol["symbol-placement"]),"symbol-spacing":new vi(Te.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new vi(Te.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new yi(Te.layout_symbol["symbol-sort-key"]),"symbol-z-order":new vi(Te.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new vi(Te.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new vi(Te.layout_symbol["icon-ignore-placement"]),"icon-optional":new vi(Te.layout_symbol["icon-optional"]),"icon-rotation-alignment":new vi(Te.layout_symbol["icon-rotation-alignment"]),"icon-size":new yi(Te.layout_symbol["icon-size"]),"icon-text-fit":new vi(Te.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new vi(Te.layout_symbol["icon-text-fit-padding"]),"icon-image":new yi(Te.layout_symbol["icon-image"]),"icon-rotate":new yi(Te.layout_symbol["icon-rotate"]),"icon-padding":new vi(Te.layout_symbol["icon-padding"]),"icon-keep-upright":new vi(Te.layout_symbol["icon-keep-upright"]),"icon-offset":new yi(Te.layout_symbol["icon-offset"]),"icon-anchor":new yi(Te.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new vi(Te.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new vi(Te.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new vi(Te.layout_symbol["text-rotation-alignment"]),"text-field":new yi(Te.layout_symbol["text-field"]),"text-font":new yi(Te.layout_symbol["text-font"]),"text-size":new yi(Te.layout_symbol["text-size"]),"text-max-width":new yi(Te.layout_symbol["text-max-width"]),"text-line-height":new vi(Te.layout_symbol["text-line-height"]),"text-letter-spacing":new yi(Te.layout_symbol["text-letter-spacing"]),"text-justify":new yi(Te.layout_symbol["text-justify"]),"text-radial-offset":new yi(Te.layout_symbol["text-radial-offset"]),"text-variable-anchor":new vi(Te.layout_symbol["text-variable-anchor"]),"text-anchor":new yi(Te.layout_symbol["text-anchor"]),"text-max-angle":new vi(Te.layout_symbol["text-max-angle"]),"text-writing-mode":new vi(Te.layout_symbol["text-writing-mode"]),"text-rotate":new yi(Te.layout_symbol["text-rotate"]),"text-padding":new vi(Te.layout_symbol["text-padding"]),"text-keep-upright":new vi(Te.layout_symbol["text-keep-upright"]),"text-transform":new yi(Te.layout_symbol["text-transform"]),"text-offset":new yi(Te.layout_symbol["text-offset"]),"text-allow-overlap":new vi(Te.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new vi(Te.layout_symbol["text-ignore-placement"]),"text-optional":new vi(Te.layout_symbol["text-optional"])}),bc={paint:new _i({"icon-opacity":new yi(Te.paint_symbol["icon-opacity"]),"icon-color":new yi(Te.paint_symbol["icon-color"]),"icon-halo-color":new yi(Te.paint_symbol["icon-halo-color"]),"icon-halo-width":new yi(Te.paint_symbol["icon-halo-width"]),"icon-halo-blur":new yi(Te.paint_symbol["icon-halo-blur"]),"icon-translate":new vi(Te.paint_symbol["icon-translate"]),"icon-translate-anchor":new vi(Te.paint_symbol["icon-translate-anchor"]),"text-opacity":new yi(Te.paint_symbol["text-opacity"]),"text-color":new yi(Te.paint_symbol["text-color"],{runtimeType:Ue,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new yi(Te.paint_symbol["text-halo-color"]),"text-halo-width":new yi(Te.paint_symbol["text-halo-width"]),"text-halo-blur":new yi(Te.paint_symbol["text-halo-blur"]),"text-translate":new vi(Te.paint_symbol["text-translate"]),"text-translate-anchor":new vi(Te.paint_symbol["text-translate-anchor"])}),layout:gc},xc=function(e){this.type=e.property.overrides?e.property.overrides.runtimeType:Ne,this.defaultValue=e};xc.prototype.evaluate=function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification["default"]},xc.prototype.eachChild=function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)},xc.prototype.outputDefined=function(){return!1},xc.prototype.serialize=function(){return null},zr("FormatSectionOverride",xc,{omit:["defaultValue"]});var _c=function(e){function t(t){e.call(this,t,bc)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,n){if(e.prototype.recalculate.call(this,t,n),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){for(var i=[],o=0,a=r;o<a.length;o+=1){var s=a[o];i.indexOf(s)<0&&i.push(s)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},t.prototype.getValueAndResolveTokens=function(e,t,n,r){var i=this.layout.get(e).evaluate(t,{},n,r),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||Wn(o.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,n){return n in e?String(e[n]):""}))}(t.properties,i)},t.prototype.createBucket=function(e){return new yc(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype._setPaintOverrides=function(){for(var e=0,n=bc.paint.overridableProperties;e<n.length;e+=1){var r=n[e];if(t.hasPaintOverride(this.layout,r)){var i,o=this.paint.get(r),a=new xc(o),s=new Gn(a,o.property.specification);i="constant"===o.value.kind||"source"===o.value.kind?new Yn("source",s):new Xn("composite",s,o.value.zoomStops,o.value._interpolationType),this.paint._values[r]=new di(o.property,i,o.parameters)}}},t.prototype._handleOverridablePaintPropertyUpdate=function(e,n,r){return!(!this.layout||n.isDataDriven()||r.isDataDriven())&&t.hasPaintOverride(this.layout,e)},t.hasPaintOverride=function(e,t){var n=e.get("text-field"),r=bc.paint.properties[t],i=!1,o=function(e){for(var t=0,n=e;t<n.length;t+=1)if(r.overrides&&r.overrides.hasOverride(n[t]))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof rt)o(n.value.value.sections);else if("source"===n.value.kind){var a=function e(t){i||(t instanceof ct&&st(t.value)===Ge?o(t.value.sections):t instanceof ht?o(t.sections):t.eachChild(e))},s=n.value;s._styleExpression&&a(s._styleExpression.expression)}return i},t}(wi),wc={paint:new _i({"background-color":new vi(Te.paint_background["background-color"]),"background-pattern":new bi(Te.paint_background["background-pattern"]),"background-opacity":new vi(Te.paint_background["background-opacity"])})},Sc=function(e){function t(t){e.call(this,t,wc)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(wi),Oc={paint:new _i({"raster-opacity":new vi(Te.paint_raster["raster-opacity"]),"raster-hue-rotate":new vi(Te.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new vi(Te.paint_raster["raster-brightness-min"]),"raster-brightness-max":new vi(Te.paint_raster["raster-brightness-max"]),"raster-saturation":new vi(Te.paint_raster["raster-saturation"]),"raster-contrast":new vi(Te.paint_raster["raster-contrast"]),"raster-resampling":new vi(Te.paint_raster["raster-resampling"]),"raster-fade-duration":new vi(Te.paint_raster["raster-fade-duration"])})},Ec=function(e){function t(t){e.call(this,t,Oc)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(wi),kc=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},t.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},t}(wi),Cc={circle:pa,heatmap:wa,hillshade:Oa,fill:ls,"fill-extrusion":Cs,line:Fs,symbol:_c,background:Sc,raster:Ec},jc=a.HTMLImageElement,Tc=a.HTMLCanvasElement,Ac=a.HTMLVideoElement,Pc=a.ImageData,Mc=a.ImageBitmap,Ic=function(e,t,n,r){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,r)};Ic.prototype.update=function(e,t,n){var r=e.width,i=e.height,o=!(this.size&&this.size[0]===r&&this.size[1]===i||n),a=this.context,s=a.gl;if(this.useMipmap=Boolean(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),o)this.size=[r,i],e instanceof jc||e instanceof Tc||e instanceof Ac||e instanceof Pc||Mc&&e instanceof Mc?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,e.data);else{var u=n||{x:0,y:0},c=u.x,l=u.y;e instanceof jc||e instanceof Tc||e instanceof Ac||e instanceof Pc||Mc&&e instanceof Mc?s.texSubImage2D(s.TEXTURE_2D,0,c,l,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,c,l,r,i,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Ic.prototype.bind=function(e,t,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),e!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrap=t)},Ic.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Ic.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Lc=function(e){var t=this;this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){t._triggered=!1,t._callback()})};Lc.prototype.trigger=function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))},Lc.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Rc=function(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},y(["receive","process"],this),this.invoker=new Lc(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=k()?e:a};function Dc(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}Rc.prototype.send=function(e,t,n,r,i){var o=this;void 0===i&&(i=!1);var a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[a]=n);var s=T(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:e,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:Vr(t,s)},s),{cancel:function(){n&&delete o.callbacks[a],o.target.postMessage({id:a,type:"<cancel>",targetMapId:r,sourceMapId:o.mapId})}}},Rc.prototype.receive=function(e){var t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[n];var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r()}else k()||t.mustQueue?(this.tasks[n]=t,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,t)},Rc.prototype.process=function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}},Rc.prototype.processTask=function(e,t){var n=this;if("<response>"===t.type){var r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r(Hr(t.error)):r(null,Hr(t.data)))}else{var i=!1,o=T(this.globalScope)?void 0:[],a=t.hasCallback?function(t,r){i=!0,delete n.cancelCallbacks[e],n.target.postMessage({id:e,type:"<response>",sourceMapId:n.mapId,error:t?Vr(t):null,data:Vr(r,o)},o)}:function(e){i=!0},s=null,u=Hr(t.data);if(this.parent[t.type])s=this.parent[t.type](t.sourceMapId,u,a);else if(this.parent.getWorkerSource){var c=t.type.split(".");s=this.parent.getWorkerSource(t.sourceMapId,c[0],u.source)[c[1]](u,a)}else a(new Error("Could not find function "+t.type));!i&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}},Rc.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Nc=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};Nc.prototype.setNorthEast=function(e){return this._ne=e instanceof zc?new zc(e.lng,e.lat):zc.convert(e),this},Nc.prototype.setSouthWest=function(e){return this._sw=e instanceof zc?new zc(e.lng,e.lat):zc.convert(e),this},Nc.prototype.extend=function(e){var t,n,r=this._sw,i=this._ne;if(e instanceof zc)t=e,n=e;else{if(!(e instanceof Nc))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(Nc.convert(e)):this.extend(zc.convert(e)):this;if(n=e._ne,!(t=e._sw)||!n)return this}return r||i?(r.lng=Math.min(t.lng,r.lng),r.lat=Math.min(t.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new zc(t.lng,t.lat),this._ne=new zc(n.lng,n.lat)),this},Nc.prototype.getCenter=function(){return new zc((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Nc.prototype.getSouthWest=function(){return this._sw},Nc.prototype.getNorthEast=function(){return this._ne},Nc.prototype.getNorthWest=function(){return new zc(this.getWest(),this.getNorth())},Nc.prototype.getSouthEast=function(){return new zc(this.getEast(),this.getSouth())},Nc.prototype.getWest=function(){return this._sw.lng},Nc.prototype.getSouth=function(){return this._sw.lat},Nc.prototype.getEast=function(){return this._ne.lng},Nc.prototype.getNorth=function(){return this._ne.lat},Nc.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Nc.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Nc.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Nc.prototype.contains=function(e){var t=zc.convert(e),n=t.lng,r=t.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i},Nc.convert=function(e){return!e||e instanceof Nc?e:new Nc(e)};var zc=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};zc.prototype.wrap=function(){return new zc(f(this.lng,-180,180),this.lat)},zc.prototype.toArray=function(){return[this.lng,this.lat]},zc.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},zc.prototype.distanceTo=function(e){var t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return 6371008.8*Math.acos(Math.min(i,1))},zc.prototype.toBounds=function(e){void 0===e&&(e=0);var t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new Nc(new zc(this.lng-n,this.lat-t),new zc(this.lng+n,this.lat+t))},zc.convert=function(e){if(e instanceof zc)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new zc(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new zc(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Fc=2*Math.PI*6371008.8;function Bc(e){return Fc*Math.cos(e*Math.PI/180)}function Uc(e){return(180+e)/360}function Vc(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Hc(e,t){return e/Bc(t)}function qc(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}var Gc=function(e,t,n){void 0===n&&(n=0),this.x=+e,this.y=+t,this.z=+n};Gc.fromLngLat=function(e,t){void 0===t&&(t=0);var n=zc.convert(e);return new Gc(Uc(n.lng),Vc(n.lat),Hc(t,n.lat))},Gc.prototype.toLngLat=function(){return new zc(360*this.x-180,qc(this.y))},Gc.prototype.toAltitude=function(){return this.z*Bc(qc(this.y))},Gc.prototype.meterInMercatorCoordinateUnits=function(){return 1/Fc*(e=qc(this.y),1/Math.cos(e*Math.PI/180));var e};var Wc=function(e,t,n){this.z=e,this.x=t,this.y=n,this.key=Xc(0,e,e,t,n)};Wc.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},Wc.prototype.url=function(e,t){var n,r,i,o,a,s=(r=this.y,i=this.z,o=Dc(256*(n=this.x),256*(r=Math.pow(2,i)-r-1),i),a=Dc(256*(n+1),256*(r+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),u=function(e,t,n){for(var r,i="",o=e;o>0;o--)i+=(t&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",s)},Wc.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new i(8192*(e.x*t-this.x),8192*(e.y*t-this.y))},Wc.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Zc=function(e,t){this.wrap=e,this.canonical=t,this.key=Xc(e,t.z,t.z,t.x,t.y)},Yc=function(e,t,n,r,i){this.overscaledZ=e,this.wrap=t,this.canonical=new Wc(n,+r,+i),this.key=Xc(t,e,n,r,i)};function Xc(e,t,n,r,i){(e*=2)<0&&(e=-1*e-1);var o=1<<n;return(o*o*e+o*i+r).toString(36)+n.toString(36)+t.toString(36)}Yc.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},Yc.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new Yc(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Yc(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},Yc.prototype.calculateScaledKey=function(e,t){var n=this.canonical.z-e;return e>this.canonical.z?Xc(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):Xc(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)},Yc.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},Yc.prototype.children=function(e){if(this.overscaledZ>=e)return[new Yc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new Yc(t,this.wrap,t,n,r),new Yc(t,this.wrap,t,n+1,r),new Yc(t,this.wrap,t,n,r+1),new Yc(t,this.wrap,t,n+1,r+1)]},Yc.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},Yc.prototype.wrapped=function(){return new Yc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Yc.prototype.unwrapTo=function(e){return new Yc(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},Yc.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Yc.prototype.toUnwrapped=function(){return new Zc(this.wrap,this.canonical)},Yc.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Yc.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new Gc(e.x-this.wrap,e.y))},zr("CanonicalTileID",Wc),zr("OverscaledTileID",Yc,{omit:["posMatrix"]});var Kc=function(e,t,n){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return S('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=t.height;var r=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=n||"mapbox";for(var i=0;i<r;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(r,i)]=this.data[this._idx(r-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,r)]=this.data[this._idx(i,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]};Kc.prototype.get=function(e,t){var n=new Uint8Array(this.data.buffer),r=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])},Kc.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Kc.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},Kc.prototype._unpackMapbox=function(e,t,n){return(256*e*256+256*t+n)/10-1e4},Kc.prototype._unpackTerrarium=function(e,t,n){return 256*e+t+n/256-32768},Kc.prototype.getPixels=function(){return new ba({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Kc.prototype.backfillBorder=function(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var r=t*this.dim,i=t*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(t){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=-t*this.dim,u=-n*this.dim,c=o;c<a;c++)for(var l=r;l<i;l++)this.data[this._idx(l,c)]=e.data[this._idx(l+s,c+u)]},zr("DEMData",Kc);var Jc=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}};Jc.prototype.encode=function(e){return this._stringToNumber[e]},Jc.prototype.decode=function(e){return this._numberToString[e]};var Qc=function(e,t,n,r,i){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,this.id=i},$c={geometry:{configurable:!0}};$c.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},$c.geometry.set=function(e){this._geometry=e},Qc.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(Qc.prototype,$c);var el=function(){this.state={},this.stateChanges={},this.deletedStates={}};el.prototype.updateState=function(e,t,n){var r=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},p(this.stateChanges[e][r],n),null===this.deletedStates[e])for(var i in this.deletedStates[e]={},this.state[e])i!==r&&(this.deletedStates[e][i]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][r])for(var o in this.deletedStates[e][r]={},this.state[e][r])n[o]||(this.deletedStates[e][r][o]=null);else for(var a in n)this.deletedStates[e]&&this.deletedStates[e][r]&&null===this.deletedStates[e][r][a]&&delete this.deletedStates[e][r][a]},el.prototype.removeFeatureState=function(e,t,n){if(null!==this.deletedStates[e]){var r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}},el.prototype.getState=function(e,t){var n=String(t),r=p({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var i=this.deletedStates[e][t];if(null===i)return{};for(var o in i)delete r[o]}return r},el.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},el.prototype.coalesceChanges=function(e,t){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),p(this.state[r][o],this.stateChanges[r][o]),i[o]=this.state[r][o];n[r]=i}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var u in this.state[a])s[u]={},this.state[a][u]={};else for(var c in this.deletedStates[a]){if(null===this.deletedStates[a][c])this.state[a][c]={};else for(var l=0,f=Object.keys(this.deletedStates[a][c]);l<f.length;l+=1)delete this.state[a][c][f[l]];s[c]=this.state[a][c]}n[a]=n[a]||{},p(n[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var h in e)e[h].setFeatureState(n,t)};var tl=function(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Ir(8192,16,0),this.grid3D=new Ir(8192,16,0),this.featureIndexArray=new oo,this.promoteId=t};function nl(e,t,n,r,i){return b(e,(function(e,o){var a=t instanceof mi?t.get(o):null;return a&&a.evaluate?a.evaluate(n,r,i):a}))}function rl(e){for(var t=1/0,n=1/0,r=-1/0,i=-1/0,o=0,a=e;o<a.length;o+=1){var s=a[o];t=Math.min(t,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),i=Math.max(i,s.y)}return{minX:t,minY:n,maxX:r,maxY:i}}function il(e,t){return t-e}tl.prototype.insert=function(e,t,n,r,i,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=o?this.grid3D:this.grid,u=0;u<t.length;u++){for(var c=t[u],l=[1/0,1/0,-1/0,-1/0],f=0;f<c.length;f++){var p=c[f];l[0]=Math.min(l[0],p.x),l[1]=Math.min(l[1],p.y),l[2]=Math.max(l[2],p.x),l[3]=Math.max(l[3],p.y)}l[0]<8192&&l[1]<8192&&l[2]>=0&&l[3]>=0&&s.insert(a,l[0],l[1],l[2],l[3])}},tl.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new xs.VectorTile(new Ks(this.rawTileData)).layers,this.sourceLayerCoder=new Jc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},tl.prototype.query=function(e,t,n,r){var o=this;this.loadVTLayers();for(var a=e.params||{},s=8192/e.tileSize/e.scale,u=ar(a.filter),c=e.queryGeometry,l=e.queryPadding*s,f=rl(c),p=this.grid.query(f.minX-l,f.minY-l,f.maxX+l,f.maxY+l),h=rl(e.cameraQueryGeometry),d=this.grid3D.query(h.minX-l,h.minY-l,h.maxX+l,h.maxY+l,(function(t,n,r,o){return function(e,t,n,r,o){for(var a=0,s=e;a<s.length;a+=1){var u=s[a];if(t<=u.x&&n<=u.y&&r>=u.x&&o>=u.y)return!0}var c=[new i(t,n),new i(t,o),new i(r,o),new i(r,n)];if(e.length>2)for(var l=0,f=c;l<f.length;l+=1)if($o(e,f[l]))return!0;for(var p=0;p<e.length-1;p++)if(ea(e[p],e[p+1],c))return!0;return!1}(e.cameraQueryGeometry,t-l,n-l,r+l,o+l)})),m=0,v=d;m<v.length;m+=1)p.push(v[m]);p.sort(il);for(var y,g={},b=function(i){var l=p[i];if(l!==y){y=l;var f=o.featureIndexArray.get(l),h=null;o.loadMatchingFeature(g,f.bucketIndex,f.sourceLayerIndex,f.featureIndex,u,a.layers,a.availableImages,t,n,r,(function(t,n,r){return h||(h=Bo(t)),n.queryIntersectsFeature(c,t,r,h,o.z,e.transform,s,e.pixelPosMatrix)}))}},x=0;x<p.length;x++)b(x);return g},tl.prototype.loadMatchingFeature=function(e,t,n,r,i,o,a,s,u,c,l){var f=this.bucketLayerIDs[t];if(!o||function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(o,f)){var h=this.sourceLayerCoder.decode(n),d=this.vtLayers[h].feature(r);if(i.needGeometry){var m=Uo(d,!0);if(!i.filter(new si(this.tileID.overscaledZ),m,this.tileID.canonical))return}else if(!i.filter(new si(this.tileID.overscaledZ),d))return;for(var v=this.getId(d,h),y=0;y<f.length;y++){var g=f[y];if(!(o&&o.indexOf(g)<0)){var b=s[g];if(b){var x={};void 0!==v&&c&&(x=c.getState(b.sourceLayer||"_geojsonTileLayer",v));var _=p({},u[g]);_.paint=nl(_.paint,b.paint,d,x,a),_.layout=nl(_.layout,b.layout,d,x,a);var w=!l||l(d,b,x);if(w){var S=new Qc(d,this.z,this.x,this.y,v);S.layer=_;var O=e[g];void 0===O&&(O=e[g]=[]),O.push({featureIndex:r,feature:S,intersectionZ:w})}}}}}},tl.prototype.lookupSymbolFeatures=function(e,t,n,r,i,o,a,s){var u={};this.loadVTLayers();for(var c=ar(i),l=0,f=e;l<f.length;l+=1)this.loadMatchingFeature(u,n,r,f[l],c,o,a,s,t);return u},tl.prototype.hasLayer=function(e){for(var t=0,n=this.bucketLayerIDs;t<n.length;t+=1)for(var r=0,i=n[t];r<i.length;r+=1)if(e===i[r])return!0;return!1},tl.prototype.getId=function(e,t){var n=e.id;return this.promoteId&&"boolean"==typeof(n=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]])&&(n=Number(n)),n},zr("FeatureIndex",tl,{omit:["rawTileData","sourceLayerCoder"]});var ol=function(e,t){this.tileID=e,this.uid=d(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ol.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<z.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},ol.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ol.prototype.loadVectorData=function(e,t,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var r in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var n={};if(!t)return n;for(var r=function(){var e=o[i],r=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==r.length){e.layers=r,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return r.filter((function(t){return t.id===e}))[0]})));for(var a=0,s=r;a<s.length;a+=1)n[s[a].id]=e}},i=0,o=e;i<o.length;i+=1)r();return n}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof yc){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var a=this.buckets[o];if(a instanceof yc&&a.hasRTLText){this.hasRTLText=!0,ai.isLoading()||ai.isLoaded()||"deferred"!==ii()||oi();break}}for(var s in this.queryPadding=0,this.buckets){var u=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(u))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new Ji},ol.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ol.prototype.getBucket=function(e){return this.buckets[e.id]},ol.prototype.upload=function(e){for(var t in this.buckets){var n=this.buckets[t];n.uploadPending()&&n.upload(e)}var r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ic(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ic(e,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},ol.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},ol.prototype.queryRenderedFeatures=function(e,t,n,r,i,o,a,s,u,c){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:c,transform:s,params:a,queryPadding:this.queryPadding*u},e,t,n):{}},ol.prototype.querySourceFeatures=function(e,t){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var r=n.loadVTLayers(),i=t?t.sourceLayer:"",o=r._geojsonTileLayer||r[i];if(o)for(var a=ar(t&&t.filter),s=this.tileID.canonical,u=s.z,c=s.x,l=s.y,f={z:u,x:c,y:l},p=0;p<o.length;p++){var h=o.feature(p);if(a.needGeometry){var d=Uo(h,!0);if(!a.filter(new si(this.tileID.overscaledZ),d,this.tileID.canonical))continue}else if(!a.filter(new si(this.tileID.overscaledZ),h))continue;var m=n.getId(h,i),v=new Qc(h,u,c,l,m);v.tile=f,e.push(v)}}},ol.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ol.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ol.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var n=C(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{var o=this.expirationTime-t;o?this.expirationTime=r+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ol.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ol.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(t.style.hasLayer(r)){var i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=e[o];if(a&&s&&0!==Object.keys(s).length){i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});var u=t&&t.style&&t.style.getLayer(r);u&&(this.queryPadding=Math.max(this.queryPadding,u.queryRadius(i)))}}}},ol.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},ol.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<z.now()},ol.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ol.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=z.now()+e},ol.prototype.setDependencies=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1)n[i[r]]=!0;this.dependencies[e]=n},ol.prototype.hasDependency=function(e,t){for(var n=0,r=e;n<r.length;n+=1){var i=this.dependencies[r[n]];if(i)for(var o=0,a=t;o<a.length;o+=1)if(i[a[o]])return!0}return!1};var al=a.performance,sl=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},al.mark(this._marks.start)};sl.prototype.finish=function(){al.mark(this._marks.end);var e=al.getEntriesByName(this._marks.measure);return 0===e.length&&(al.measure(this._marks.measure,this._marks.start,this._marks.end),e=al.getEntriesByName(this._marks.measure),al.clearMarks(this._marks.start),al.clearMarks(this._marks.end),al.clearMeasures(this._marks.measure)),e},e.Actor=Rc,e.AlphaImage=ga,e.CanonicalTileID=Wc,e.CollisionBoxArray=Ji,e.Color=et,e.DEMData=Kc,e.DataConstantProperty=vi,e.DictionaryCoder=Jc,e.EXTENT=8192,e.ErrorEvent=Ce,e.EvaluationParameters=si,e.Event=ke,e.Evented=je,e.FeatureIndex=tl,e.FillBucket=ss,e.FillExtrusionBucket=Os,e.ImageAtlas=xu,e.ImagePosition=gu,e.LineBucket=Rs,e.LngLat=zc,e.LngLatBounds=Nc,e.MercatorCoordinate=Gc,e.ONE_EM=24,e.OverscaledTileID=Yc,e.Point=i,e.Point$1=i,e.Properties=_i,e.Protobuf=Ks,e.RGBAImage=ba,e.RequestManager=G,e.RequestPerformance=sl,e.ResourceType=de,e.SegmentVector=so,e.SourceFeatureState=el,e.StructArrayLayout1ui2=Yi,e.StructArrayLayout2f1f2i16=Fi,e.StructArrayLayout2i4=ji,e.StructArrayLayout3ui6=Ui,e.StructArrayLayout4i8=Ti,e.SymbolBucket=yc,e.Texture=Ic,e.Tile=ol,e.Transitionable=li,e.Uniform1f=_o,e.Uniform1i=xo,e.Uniform2f=wo,e.Uniform3f=So,e.Uniform4f=Oo,e.UniformColor=Eo,e.UniformMatrix4f=Co,e.UnwrappedTileID=Zc,e.ValidationError=Ae,e.WritingMode=_u,e.ZoomHistory=qr,e.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},e.addDynamicAttributes=hc,e.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);var r=e.length,i=new Array(e.length),o=null;e.forEach((function(e,a){t(e,(function(e,t){e&&(o=e),i[a]=t,0==--r&&n(o,i)}))}))},e.bezier=u,e.bindAll=y,e.browser=z,e.cacheEntryPossiblyAdded=function(e){++pe>ue&&(e.getActor().send("enforceCacheSizeLimit",se),pe=0)},e.clamp=l,e.clearTileCache=function(e){var t=a.caches["delete"]("mapbox-tiles");e&&t["catch"](e).then((function(){return e()}))},e.clipLine=Wu,e.clone=function(e){var t=new aa(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=_,e.clone$2=function(e){var t=new aa(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.collisionCircleLayout=Gs,e.config=F,e.create=function(){var e=new aa(16);return aa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=function(){var e=new aa(9);return aa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},e.create$2=function(){var e=new aa(4);return aa!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createCommonjsModule=t,e.createExpression=Zn,e.createLayout=ki,e.createStyleLayer=function(e){return"custom"===e.type?new kc(e):new Cc[e.type](e)},e.cross=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e},e.deepEqual=function e(t,n){if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var i in t)if(!e(t[i],n[i]))return!1;return!0}return t===n},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=c,e.emitValidationErrors=Mr,e.endsWith=g,e.enforceCacheSizeLimit=function(e){ce(),ee&&ee.then((function(t){t.keys().then((function(n){for(var r=0;r<n.length-e;r++)t["delete"](n[r])}))}))},e.evaluateSizeForFeature=Nu,e.evaluateSizeForZoom=zu,e.evaluateVariableOffset=oc,e.evented=ri,e.extend=p,e.featureFilter=ar,e.filterObject=x,e.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.getAnchorAlignment=Mu,e.getAnchorJustification=ac,e.getArrayBuffer=xe,e.getImage=Se,e.getJSON=function(e,t){return be(p(e,{type:"json"}),t)},e.getRTLTextPluginStatus=ii,e.getReferrer=ge,e.getVideo=function(e,t){var n,r,i=a.document.createElement("video");i.muted=!0,i.onloadstart=function(){t(null,i)};for(var o=0;o<e.length;o++){var s=a.document.createElement("source");n=e[o],r=void 0,(r=a.document.createElement("a")).href=n,(r.protocol!==a.document.location.protocol||r.host!==a.document.location.host)&&(i.crossOrigin="Anonymous"),s.src=e[o],i.appendChild(s)}return{cancel:function(){}}},e.identity=sa,e.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],p=t[10],h=t[11],d=t[12],m=t[13],v=t[14],y=t[15],g=n*s-r*a,b=n*u-i*a,x=n*c-o*a,_=r*u-i*s,w=r*c-o*s,S=i*c-o*u,O=l*m-f*d,E=l*v-p*d,k=l*y-h*d,C=f*v-p*m,j=f*y-h*m,T=p*y-h*v,A=g*T-b*j+x*C+_*k-w*E+S*O;return A?(e[0]=(s*T-u*j+c*C)*(A=1/A),e[1]=(i*j-r*T-o*C)*A,e[2]=(m*S-v*w+y*_)*A,e[3]=(p*w-f*S-h*_)*A,e[4]=(u*k-a*T-c*E)*A,e[5]=(n*T-i*k+o*E)*A,e[6]=(v*x-d*S-y*b)*A,e[7]=(l*S-p*x+h*b)*A,e[8]=(a*j-s*k+c*O)*A,e[9]=(r*k-n*j-o*O)*A,e[10]=(d*w-m*x+y*g)*A,e[11]=(f*x-l*w-h*g)*A,e[12]=(s*E-a*C-u*O)*A,e[13]=(n*C-r*E+i*O)*A,e[14]=(m*b-d*_-v*g)*A,e[15]=(l*_-f*b+p*g)*A,e):null},e.isChar=Gr,e.isMapboxURL=W,e.keysDifference=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n},e.makeRequest=be,e.mapObject=b,e.mercatorXfromLng=Uc,e.mercatorYfromLat=Vc,e.mercatorZfromAltitude=Hc,e.mul=la,e.multiply=ua,e.mvt=xs,e.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e},e.number=qt,e.offscreenCanvasSupported=he,e.ortho=function(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*c,e[15]=1,e},e.parseGlyphPBF=function(e){return new Ks(e).readFields(du,[])},e.pbf=Ks,e.performSymbolLayout=function(e,t,n,r,i,o,a){e.createArrays(),e.tilePixelRatio=8192/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var s=e.layers[0].layout,u=e.layers[0]._unevaluatedLayout._values,c={};if("composite"===e.textSizeData.kind){var l=e.textSizeData,f=l.maxZoom;c.compositeTextSizes=[u["text-size"].possiblyEvaluate(new si(l.minZoom),a),u["text-size"].possiblyEvaluate(new si(f),a)]}if("composite"===e.iconSizeData.kind){var p=e.iconSizeData,h=p.maxZoom;c.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new si(p.minZoom),a),u["icon-size"].possiblyEvaluate(new si(h),a)]}c.layoutTextSize=u["text-size"].possiblyEvaluate(new si(e.zoom+1),a),c.layoutIconSize=u["icon-size"].possiblyEvaluate(new si(e.zoom+1),a),c.textMaxSize=u["text-size"].possiblyEvaluate(new si(18));for(var d=24*s.get("text-line-height"),m="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),v=s.get("text-keep-upright"),y=s.get("text-size"),g=function(){var o=x[b],u=s.get("text-font").evaluate(o,{},a).join(","),l=y.evaluate(o,{},a),f=c.layoutTextSize.evaluate(o,{},a),p=c.layoutIconSize.evaluate(o,{},a),h={horizontal:{},vertical:void 0},g=o.text,_=[0,0];if(g){var w=g.toString(),O=24*s.get("text-letter-spacing").evaluate(o,{},a),E=function(e){for(var t=0,n=e;t<n.length;t+=1)if(r=n[t].charCodeAt(0),Gr.Arabic(r)||Gr["Arabic Supplement"](r)||Gr["Arabic Extended-A"](r)||Gr["Arabic Presentation Forms-A"](r)||Gr["Arabic Presentation Forms-B"](r))return!1;var r;return!0}(w)?O:0,k=s.get("text-anchor").evaluate(o,{},a),C=s.get("text-variable-anchor");if(!C){var j=s.get("text-radial-offset").evaluate(o,{},a);_=j?oc(k,[24*j,ic]):s.get("text-offset").evaluate(o,{},a).map((function(e){return 24*e}))}var T=m?"center":s.get("text-justify").evaluate(o,{},a),A=s.get("symbol-placement"),P="point"===A?24*s.get("text-max-width").evaluate(o,{},a):0,M=function(){e.allowVerticalPlacement&&Wr(w)&&(h.vertical=Ou(g,t,n,i,u,P,d,k,"left",E,_,_u.vertical,!0,A,f,l))};if(!m&&C){for(var I="auto"===T?C.map((function(e){return ac(e)})):[T],L=!1,R=0;R<I.length;R++){var D=I[R];if(!h.horizontal[D])if(L)h.horizontal[D]=h.horizontal[0];else{var N=Ou(g,t,n,i,u,P,d,"center",D,E,_,_u.horizontal,!1,A,f,l);N&&(h.horizontal[D]=N,L=1===N.positionedLines.length)}}M()}else{"auto"===T&&(T=ac(k));var z=Ou(g,t,n,i,u,P,d,k,T,E,_,_u.horizontal,!1,A,f,l);z&&(h.horizontal[T]=z),M(),Wr(w)&&m&&v&&(h.vertical=Ou(g,t,n,i,u,P,d,k,T,E,_,_u.vertical,!1,A,f,l))}}var F=void 0,B=!1;if(o.icon&&o.icon.name){var U=r[o.icon.name];U&&(F=function(e,t,n){var r=Mu(n),i=t[0]-e.displaySize[0]*r.horizontalAlign,o=t[1]-e.displaySize[1]*r.verticalAlign;return{image:e,top:o,bottom:o+e.displaySize[1],left:i,right:i+e.displaySize[0]}}(i[o.icon.name],s.get("icon-offset").evaluate(o,{},a),s.get("icon-anchor").evaluate(o,{},a)),B=U.sdf,void 0===e.sdfIcons?e.sdfIcons=U.sdf:e.sdfIcons!==U.sdf&&S("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(U.pixelRatio!==e.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}var V=uc(h.horizontal)||h.vertical;e.iconsInText=!!V&&V.iconsInText,(V||F)&&function(e,t,n,r,i,o,a,s,u,c,l){var f=o.textMaxSize.evaluate(t,{});void 0===f&&(f=a);var p,h=e.layers[0].layout,d=h.get("icon-offset").evaluate(t,{},l),m=uc(n.horizontal),v=a/24,y=e.tilePixelRatio*v,g=e.tilePixelRatio*f/24,b=e.tilePixelRatio*s,x=e.tilePixelRatio*h.get("symbol-spacing"),_=h.get("text-padding")*e.tilePixelRatio,w=h.get("icon-padding")*e.tilePixelRatio,O=h.get("text-max-angle")/180*Math.PI,E="map"===h.get("text-rotation-alignment")&&"point"!==h.get("symbol-placement"),k="map"===h.get("icon-rotation-alignment")&&"point"!==h.get("symbol-placement"),C=h.get("symbol-placement"),j=x/2,T=h.get("icon-text-fit");r&&"none"!==T&&(e.allowVerticalPlacement&&n.vertical&&(p=Lu(r,n.vertical,T,h.get("icon-text-fit-padding"),d,v)),m&&(r=Lu(r,m,T,h.get("icon-text-fit-padding"),d,v)));var A=function(s,f){f.x<0||f.x>=8192||f.y<0||f.y>=8192||function(e,t,n,r,i,o,a,s,u,c,l,f,p,h,d,m,v,y,g,b,x,_,w,O,E){var k,C,j,T,A,P=e.addToLineVertexArray(t,n),M=0,I=0,L=0,R=0,D=-1,N=-1,z={},F=po(""),B=0,U=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(B=(k=s.layout.get("text-offset").evaluate(x,{},O).map((function(e){return 24*e})))[0],U=k[1]):(B=24*s.layout.get("text-radial-offset").evaluate(x,{},O),U=ic),e.allowVerticalPlacement&&r.vertical){var V=s.layout.get("text-rotate").evaluate(x,{},O)+90;T=new Qu(u,t,c,l,f,r.vertical,p,h,d,V),a&&(A=new Qu(u,t,c,l,f,a,v,y,d,V))}if(i){var H=s.layout.get("icon-rotate").evaluate(x,{}),q="none"!==s.layout.get("icon-text-fit"),G=Zu(i,H,w,q),W=a?Zu(a,H,w,q):void 0;j=new Qu(u,t,c,l,f,i,v,y,!1,H),M=4*G.length;var Z=e.iconSizeData,Y=null;"source"===Z.kind?(Y=[128*s.layout.get("icon-size").evaluate(x,{})])[0]>32640&&S(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===Z.kind&&((Y=[128*_.compositeIconSizes[0].evaluate(x,{},O),128*_.compositeIconSizes[1].evaluate(x,{},O)])[0]>32640||Y[1]>32640)&&S(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),e.addSymbols(e.icon,G,Y,b,g,x,!1,t,P.lineStartIndex,P.lineLength,-1,O),D=e.icon.placedSymbolArray.length-1,W&&(I=4*W.length,e.addSymbols(e.icon,W,Y,b,g,x,_u.vertical,t,P.lineStartIndex,P.lineLength,-1,O),N=e.icon.placedSymbolArray.length-1)}for(var X in r.horizontal){var K=r.horizontal[X];if(!C){F=po(K.text);var J=s.layout.get("text-rotate").evaluate(x,{},O);C=new Qu(u,t,c,l,f,K,p,h,d,J)}var Q=1===K.positionedLines.length;if(L+=sc(e,t,K,o,s,d,x,m,P,r.vertical?_u.horizontal:_u.horizontalOnly,Q?Object.keys(r.horizontal):[X],z,D,_,O),Q)break}r.vertical&&(R+=sc(e,t,r.vertical,o,s,d,x,m,P,_u.vertical,["vertical"],z,N,_,O));var $=C?C.boxStartIndex:e.collisionBoxArray.length,ee=C?C.boxEndIndex:e.collisionBoxArray.length,te=T?T.boxStartIndex:e.collisionBoxArray.length,ne=T?T.boxEndIndex:e.collisionBoxArray.length,re=j?j.boxStartIndex:e.collisionBoxArray.length,ie=j?j.boxEndIndex:e.collisionBoxArray.length,oe=A?A.boxStartIndex:e.collisionBoxArray.length,ae=A?A.boxEndIndex:e.collisionBoxArray.length,se=-1,ue=function(e,t){return e&&e.circleDiameter?Math.max(e.circleDiameter,t):t};se=ue(C,se),se=ue(T,se),se=ue(j,se);var ce=(se=ue(A,se))>-1?1:0;ce&&(se*=E/24),e.glyphOffsetArray.length>=yc.MAX_GLYPHS&&S("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,x.sortKey),e.symbolInstances.emplaceBack(t.x,t.y,z.right>=0?z.right:-1,z.center>=0?z.center:-1,z.left>=0?z.left:-1,z.vertical||-1,D,N,F,$,ee,te,ne,re,ie,oe,ae,c,L,R,M,I,ce,0,p,B,U,se)}(e,f,s,n,r,i,p,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,y,_,E,u,b,w,k,d,t,o,c,l,a)};if("line"===C)for(var P=0,M=Wu(t.geometry,0,0,8192,8192);P<M.length;P+=1)for(var I=M[P],L=0,R=Gu(I,x,O,n.vertical||m,r,24,g,e.overscaling,8192);L<R.length;L+=1){var D=R[L];m&&cc(e,m.text,j,D)||A(I,D)}else if("line-center"===C)for(var N=0,z=t.geometry;N<z.length;N+=1){var F=z[N];if(F.length>1){var B=qu(F,O,n.vertical||m,r,24,g);B&&A(F,B)}}else if("Polygon"===t.type)for(var U=0,V=rs(t.geometry,0);U<V.length;U+=1){var H=V[U],q=tc(H,16);A(H[0],new Ru(q.x,q.y,0))}else if("LineString"===t.type)for(var G=0,W=t.geometry;G<W.length;G+=1){var Z=W[G];A(Z,new Ru(Z[0].x,Z[0].y,0))}else if("Point"===t.type)for(var Y=0,X=t.geometry;Y<X.length;Y+=1)for(var K=0,J=X[Y];K<J.length;K+=1){var Q=J[K];A([Q],new Ru(Q.x,Q.y,0))}}(e,o,h,F,r,c,f,p,_,B,a)},b=0,x=e.features;b<x.length;b+=1)g();o&&e.generateCollisionDebugBuffers()},e.perspective=function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+r)*(o=1/(r-i)),e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e},e.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=e[i])}return n},e.plugin=ai,e.polygonIntersectsPolygon=qo,e.postMapLoadEvent=ae,e.postTurnstileEvent=ie,e.potpack=yu,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=zr,e.registerForPluginStateChange=function(e){return e({pluginStatus:$r,pluginURL:ei}),ri.on("pluginStateChange",e),e},e.renderColorRamp=_a,e.rotate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*s,e[1]=i*u+a*s,e[2]=r*-s+o*u,e[3]=i*-s+a*u,e},e.rotateX=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*r,e[5]=a*i+l*r,e[6]=s*i+f*r,e[7]=u*i+p*r,e[8]=c*i-o*r,e[9]=l*i-a*r,e[10]=f*i-s*r,e[11]=p*i-u*r,e},e.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],c=t[4],l=t[5],f=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*r,e[1]=a*i+l*r,e[2]=s*i+f*r,e[3]=u*i+p*r,e[4]=c*i-o*r,e[5]=l*i-a*r,e[6]=f*i-s*r,e[7]=p*i-u*r,e},e.scale=function(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},e.scale$2=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},e.setCacheLimits=function(e,t){se=e,ue=t},e.setRTLTextPlugin=function(e,t,n){if(void 0===n&&(n=!1),"deferred"===$r||"loading"===$r||"loaded"===$r)throw new Error("setRTLTextPlugin cannot be called multiple times.");ei=z.resolveURL(e),$r="deferred",Qr=t,ni(),n||oi()},e.sphericalToCartesian=function(e){var t=e[0],n=e[1],r=e[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:t*Math.cos(n)*Math.sin(r),y:t*Math.sin(n)*Math.sin(r),z:t*Math.cos(r)}},e.sqrLen=function(e){var t=e[0],n=e[1];return t*t+n*n},e.styleSpec=Te,e.sub=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},e.symbolSize=Fu,e.transformMat3=function(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e},e.transformMat4=fa,e.translate=function(e,t,n){var r,i,o,a,s,u,c,l,f,p,h,d,m=n[0],v=n[1],y=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*y+t[12],e[13]=t[1]*m+t[5]*v+t[9]*y+t[13],e[14]=t[2]*m+t[6]*v+t[10]*y+t[14],e[15]=t[3]*m+t[7]*v+t[11]*y+t[15]):(i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],p=t[9],h=t[10],d=t[11],e[0]=r=t[0],e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=p,e[10]=h,e[11]=d,e[12]=r*m+s*v+f*y+t[12],e[13]=i*m+u*v+p*y+t[13],e[14]=o*m+c*v+h*y+t[14],e[15]=a*m+l*v+d*y+t[15]),e},e.triggerPluginCompletionEvent=ti,e.uniqueId=d,e.validateCustomStyleLayer=function(e){var t=[],n=e.id;return void 0===n&&t.push({message:"layers."+n+': missing required property "id"'}),void 0===e.render&&t.push({message:"layers."+n+': missing required method "render"'}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),t},e.validateLight=Tr,e.validateStyle=jr,e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.vectorTile=xs,e.version="1.13.1",e.warnOnce=S,e.webpSupported=B,e.window=a,e.wrap=f})),r(["./shared"],(function(e){function t(e){var n=typeof e;if("number"===n||"boolean"===n||"string"===n||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var r="[",i=0,o=e;i<o.length;i+=1)r+=t(o[i])+",";return r+"]"}for(var a=Object.keys(e).sort(),s="{",u=0;u<a.length;u++)s+=JSON.stringify(a[u])+":"+t(e[a[u]])+",";return s+"}"}function n(n){for(var r="",i=0,o=e.refProperties;i<o.length;i+=1)r+="/"+t(n[o[i]]);return r}var r=function(e){this.keyCache={},e&&this.replace(e)};r.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},r.prototype.update=function(t,r){for(var i=this,o=0,a=t;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var u=this._layers[s.id]=e.createStyleLayer(s);u._featureFilter=e.featureFilter(u.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var c=0,l=r;c<l.length;c+=1){var f=l[c];delete this.keyCache[f],delete this._layerConfigs[f],delete this._layers[f]}this.familiesBySource={};for(var p=0,h=function(e,t){for(var r={},i=0;i<e.length;i++){var o=t&&t[e[i].id]||n(e[i]);t&&(t[e[i].id]=o);var a=r[o];a||(a=r[o]=[]),a.push(e[i])}var s=[];for(var u in r)s.push(r[u]);return s}(e.values(this._layerConfigs),this.keyCache);p<h.length;p+=1){var d=h[p].map((function(e){return i._layers[e.id]})),m=d[0];if("none"!==m.visibility){var v=m.source||"",y=this.familiesBySource[v];y||(y=this.familiesBySource[v]={});var g=m.sourceLayer||"_geojsonTileLayer",b=y[g];b||(b=y[g]=[]),b.push(d)}}};var i=function(t){var n={},r=[];for(var i in t){var o=t[i],a=n[i]={};for(var s in o){var u=o[+s];if(u&&0!==u.bitmap.width&&0!==u.bitmap.height){var c={x:0,y:0,w:u.bitmap.width+2,h:u.bitmap.height+2};r.push(c),a[s]={rect:c,metrics:u.metrics}}}}var l=e.potpack(r),f=new e.AlphaImage({width:l.w||1,height:l.h||1});for(var p in t){var h=t[p];for(var d in h){var m=h[+d];if(m&&0!==m.bitmap.width&&0!==m.bitmap.height){var v=n[p][d].rect;e.AlphaImage.copy(m.bitmap,f,{x:0,y:0},{x:v.x+1,y:v.y+1},m.bitmap)}}}this.image=f,this.positions=n};e.register("GlyphAtlas",i);var o=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId};function a(t,n,r){for(var i=new e.EvaluationParameters(n),o=0,a=t;o<a.length;o+=1)a[o].recalculate(i,r)}function s(t,n){var r=e.getArrayBuffer(t.request,(function(t,r,i,o){t?n(t):r&&n(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(r)),rawData:r,cacheControl:i,expires:o})}));return function(){r.cancel(),n()}}o.prototype.parse=function(t,n,r,o,s){var u=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var c=new e.DictionaryCoder(Object.keys(t.layers).sort()),l=new e.FeatureIndex(this.tileID,this.promoteId);l.bucketLayerIDs=[];var f,p,h,d,m={},v={featureIndex:l,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},y=n.familiesBySource[this.source];for(var g in y){var b=t.layers[g];if(b){1===b.version&&e.warnOnce('Vector tile source "'+this.source+'" layer "'+g+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var x=c.encode(g),_=[],w=0;w<b.length;w++){var S=b.feature(w),O=l.getId(S,g);_.push({feature:S,id:O,index:w,sourceLayerIndex:x})}for(var E=0,k=y[g];E<k.length;E+=1){var C=k[E],j=C[0];j.minzoom&&this.zoom<Math.floor(j.minzoom)||j.maxzoom&&this.zoom>=j.maxzoom||"none"!==j.visibility&&(a(C,this.zoom,r),(m[j.id]=j.createBucket({index:l.bucketLayerIDs.length,layers:C,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:x,sourceID:this.source})).populate(_,v,this.tileID.canonical),l.bucketLayerIDs.push(C.map((function(e){return e.id}))))}}}var T=e.mapObject(v.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(T).length?o.send("getGlyphs",{uid:this.uid,stacks:T},(function(e,t){f||(f=e,p=t,M.call(u))})):p={};var A=Object.keys(v.iconDependencies);A.length?o.send("getImages",{icons:A,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){f||(f=e,h=t,M.call(u))})):h={};var P=Object.keys(v.patternDependencies);function M(){if(f)return s(f);if(p&&h&&d){var t=new i(p),n=new e.ImageAtlas(h,d);for(var o in m){var u=m[o];u instanceof e.SymbolBucket?(a(u.layers,this.zoom,r),e.performSymbolLayout(u,p,t.positions,h,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):u.hasPattern&&(u instanceof e.LineBucket||u instanceof e.FillBucket||u instanceof e.FillExtrusionBucket)&&(a(u.layers,this.zoom,r),u.addFeatures(v,this.tileID.canonical,n.patternPositions))}this.status="done",s(null,{buckets:e.values(m).filter((function(e){return!e.isEmpty()})),featureIndex:l,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:n,glyphMap:this.returnDependencies?p:null,iconMap:this.returnDependencies?h:null,glyphPositions:this.returnDependencies?t.positions:null})}}P.length?o.send("getImages",{icons:P,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){f||(f=e,d=t,M.call(u))})):d={},M.call(this)};var u=function(e,t,n,r){this.actor=e,this.layerIndex=t,this.availableImages=n,this.loadVectorData=r||s,this.loading={},this.loaded={}};u.prototype.loadTile=function(t,n){var r=this,i=t.uid;this.loading||(this.loading={});var a=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request),s=this.loading[i]=new o(t);s.abort=this.loadVectorData(t,(function(t,o){if(delete r.loading[i],t||!o)return s.status="done",r.loaded[i]=s,n(t);var u=o.rawData,c={};o.expires&&(c.expires=o.expires),o.cacheControl&&(c.cacheControl=o.cacheControl);var l={};if(a){var f=a.finish();f&&(l.resourceTiming=JSON.parse(JSON.stringify(f)))}s.vectorTile=o.vectorTile,s.parse(o.vectorTile,r.layerIndex,r.availableImages,r.actor,(function(t,r){if(t||!r)return n(t);n(null,e.extend({rawTileData:u.slice(0)},r,c,l))})),r.loaded=r.loaded||{},r.loaded[i]=s}))},u.prototype.reloadTile=function(e,t){var n=this,r=this.loaded,i=e.uid,o=this;if(r&&r[i]){var a=r[i];a.showCollisionBoxes=e.showCollisionBoxes;var s=function(e,r){var i=a.reloadCallback;i&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,n.availableImages,o.actor,i)),t(e,r)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},u.prototype.abortTile=function(e,t){var n=this.loading,r=e.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),t()},u.prototype.removeTile=function(e,t){var n=this.loaded,r=e.uid;n&&n[r]&&delete n[r],t()};var c=e.window.ImageBitmap,l=function(){this.loaded={}};function f(e,t){if(0!==e.length){p(e[0],t);for(var n=1;n<e.length;n++)p(e[n],!t)}}function p(e,t){for(var n=0,r=0,i=e.length,o=i-1;r<i;o=r++)n+=(e[r][0]-e[o][0])*(e[o][1]+e[r][1]);n>=0!=!!t&&e.reverse()}l.prototype.loadTile=function(t,n){var r=t.uid,i=t.encoding,o=t.rawImageData,a=c&&o instanceof c?this.getImageData(o):o,s=new e.DEMData(r,a,i);this.loaded=this.loaded||{},this.loaded[r]=s,n(null,s)},l.prototype.getImageData=function(t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,t.width+2,t.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:n.width,height:n.height},n.data)},l.prototype.removeTile=function(e){var t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]};var h=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,d=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};d.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],n=0,r=this._feature.geometry;n<r.length;n+=1){var i=r[n];t.push([new e.Point$1(i[0],i[1])])}return t}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var u=[],c=0,l=s[a];c<l.length;c+=1){var f=l[c];u.push(new e.Point$1(f[0],f[1]))}o.push(u)}return o},d.prototype.toGeoJSON=function(e,t,n){return h.call(this,e,t,n)};var m=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t};m.prototype.feature=function(e){return new d(this._features[e])};var v=e.vectorTile.VectorTileFeature,y=g;function g(e,t){this.options=t||{},this.features=e,this.length=e.length}function b(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}g.prototype.feature=function(e){return new b(this.features[e],this.options.extent)},b.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var n=0;n<t.length;n++){for(var r=t[n],i=[],o=0;o<r.length;o++)i.push(new e.Point$1(r[o][0],r[o][1]));this.geometry.push(i)}return this.geometry},b.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var u=a[s];t=Math.min(t,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.y)}return[t,r,n,i]},b.prototype.toGeoJSON=v.prototype.toGeoJSON;var x=w,_=y;function w(t){var n=new e.pbf;return function(e,t){for(var n in e.layers)t.writeMessage(3,S,e.layers[n])}(t,n),n.finish()}function S(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,O,r);var i=r.keys;for(n=0;n<i.length;n++)t.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)t.writeMessage(4,T,o[n])}function O(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,E,e),t.writeVarintField(3,n.type),t.writeMessage(4,j,n)}function E(e,t){var n=e.feature,r=e.keys,i=e.values,o=e.keycache,a=e.valuecache;for(var s in n.properties){var u=o[s];void 0===u&&(r.push(s),o[s]=u=r.length-1),t.writeVarint(u);var c=n.properties[s],l=typeof c;"string"!==l&&"boolean"!==l&&"number"!==l&&(c=JSON.stringify(c));var f=l+":"+c,p=a[f];void 0===p&&(i.push(c),a[f]=p=i.length-1),t.writeVarint(p)}}function k(e,t){return(t<<3)+(7&e)}function C(e){return e<<1^e>>31}function j(e,t){for(var n=e.loadGeometry(),r=e.type,i=0,o=0,a=n.length,s=0;s<a;s++){var u=n[s],c=1;1===r&&(c=u.length),t.writeVarint(k(1,c));for(var l=3===r?u.length-1:u.length,f=0;f<l;f++){1===f&&1!==r&&t.writeVarint(k(2,l-1));var p=u[f].x-i,h=u[f].y-o;t.writeVarint(C(p)),t.writeVarint(C(h)),i+=p,o+=h}3===r&&t.writeVarint(k(7,1))}}function T(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function A(e,t,n,r){P(e,n,r),P(t,2*n,2*r),P(t,2*n+1,2*r+1)}function P(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function M(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}x.fromVectorTileJs=w,x.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var r in e)n[r]=new y(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return w({layers:n})},x.GeoJSONWrapper=_;var I=function(e){return e[0]},L=function(e){return e[1]},R=function(e,t,n,r,i){void 0===t&&(t=I),void 0===n&&(n=L),void 0===r&&(r=64),void 0===i&&(i=Float64Array),this.nodeSize=r,this.points=e;for(var o=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(e.length),s=this.coords=new i(2*e.length),u=0;u<e.length;u++)a[u]=u,s[2*u]=t(e[u]),s[2*u+1]=n(e[u]);!function e(t,n,r,i,o,a){if(!(o-i<=r)){var s=i+o>>1;!function e(t,n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=r-i+1,c=Math.log(s),l=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*l*(s-l)/s)*(u-s/2<0?-1:1);e(t,n,r,Math.max(i,Math.floor(r-u*l/s+f)),Math.min(o,Math.floor(r+(s-u)*l/s+f)),a)}var p=n[2*r+a],h=i,d=o;for(A(t,n,i,r),n[2*o+a]>p&&A(t,n,i,o);h<d;){for(A(t,n,h,d),h++,d--;n[2*h+a]<p;)h++;for(;n[2*d+a]>p;)d--}n[2*i+a]===p?A(t,n,i,d):A(t,n,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}(t,n,s,i,o,a%2),e(t,n,r,i,s-1,a+1),e(t,n,r,s+1,o,a+1)}}(a,s,r,0,a.length-1,0)};R.prototype.range=function(e,t,n,r){return function(e,t,n,r,i,o,a){for(var s,u,c=[0,e.length-1,0],l=[];c.length;){var f=c.pop(),p=c.pop(),h=c.pop();if(p-h<=a)for(var d=h;d<=p;d++)u=t[2*d+1],(s=t[2*d])>=n&&s<=i&&u>=r&&u<=o&&l.push(e[d]);else{var m=Math.floor((h+p)/2);u=t[2*m+1],(s=t[2*m])>=n&&s<=i&&u>=r&&u<=o&&l.push(e[m]);var v=(f+1)%2;(0===f?n<=s:r<=u)&&(c.push(h),c.push(m-1),c.push(v)),(0===f?i>=s:o>=u)&&(c.push(m+1),c.push(p),c.push(v))}}return l}(this.ids,this.coords,e,t,n,r,this.nodeSize)},R.prototype.within=function(e,t,n){return function(e,t,n,r,i,o){for(var a=[0,e.length-1,0],s=[],u=i*i;a.length;){var c=a.pop(),l=a.pop(),f=a.pop();if(l-f<=o)for(var p=f;p<=l;p++)M(t[2*p],t[2*p+1],n,r)<=u&&s.push(e[p]);else{var h=Math.floor((f+l)/2),d=t[2*h],m=t[2*h+1];M(d,m,n,r)<=u&&s.push(e[h]);var v=(c+1)%2;(0===c?n-i<=d:r-i<=m)&&(a.push(f),a.push(h-1),a.push(v)),(0===c?n+i>=d:r+i>=m)&&(a.push(h+1),a.push(l),a.push(v))}}return s}(this.ids,this.coords,e,t,n,this.nodeSize)};var D={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},N=function(e){this.options=q(Object.create(D),e),this.trees=new Array(this.options.maxZoom+1)};function z(e,t,n,r,i){return{x:e,y:t,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function F(e,t){var n=e.geometry.coordinates,r=n[1];return{x:V(n[0]),y:H(r),zoom:1/0,index:t,parentId:-1}}function B(e){return{type:"Feature",id:e.id,properties:U(e),geometry:{type:"Point",coordinates:[(r=e.x,360*(r-.5)),(t=e.y,n=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var t,n,r}function U(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return q(q({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function V(e){return e/360+.5}function H(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function q(e,t){for(var n in t)e[n]=t[n];return e}function G(e){return e.x}function W(e){return e.y}function Z(e,t,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var u=((e-n)*a+(t-r)*s)/(a*a+s*s);u>1?(n=i,r=o):u>0&&(n+=a*u,r+=s*u)}return(a=e-n)*a+(s=t-r)*s}function Y(e,t,n,r){var i={id:void 0===e?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)X(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<t.length;r++)X(e,t[r]);else if("MultiPolygon"===n)for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)X(e,t[r][i])}(i),i}function X(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function K(e,t,n,r){if(t.geometry){var i=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],u=t.id;if(n.promoteId?u=t.properties[n.promoteId]:n.generateId&&(u=r||0),"Point"===o)J(i,s);else if("MultiPoint"===o)for(var c=0;c<i.length;c++)J(i[c],s);else if("LineString"===o)Q(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(c=0;c<i.length;c++)Q(i[c],s=[],a,!1),e.push(Y(u,"LineString",s,t.properties));return}$(i,s,a,!1)}else if("Polygon"===o)$(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(c=0;c<t.geometry.geometries.length;c++)K(e,{id:u,geometry:t.geometry.geometries[c],properties:t.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<i.length;c++){var l=[];$(i[c],l,a,!0),s.push(l)}}e.push(Y(u,o,s,t.properties))}}function J(e,t){t.push(ee(e[0])),t.push(te(e[1])),t.push(0)}function Q(e,t,n,r){for(var i,o,a=0,s=0;s<e.length;s++){var u=ee(e[s][0]),c=te(e[s][1]);t.push(u),t.push(c),t.push(0),s>0&&(a+=r?(i*c-u*o)/2:Math.sqrt(Math.pow(u-i,2)+Math.pow(c-o,2))),i=u,o=c}var l=t.length-3;t[2]=1,function e(t,n,r,i){for(var o,a=i,s=r-n>>1,u=r-n,c=t[n],l=t[n+1],f=t[r],p=t[r+1],h=n+3;h<r;h+=3){var d=Z(t[h],t[h+1],c,l,f,p);if(d>a)o=h,a=d;else if(d===a){var m=Math.abs(h-s);m<u&&(o=h,u=m)}}a>i&&(o-n>3&&e(t,n,o,i),t[o+2]=a,r-o>3&&e(t,o,r,i))}(t,0,l,n),t[l+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function $(e,t,n,r){for(var i=0;i<e.length;i++){var o=[];Q(e[i],o,n,r),t.push(o)}}function ee(e){return e/360+.5}function te(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ne(e,t,n,r,i,o,a,s){if(r/=t,o>=(n/=t)&&a<r)return e;if(a<n||o>=r)return null;for(var u=[],c=0;c<e.length;c++){var l=e[c],f=l.geometry,p=l.type,h=0===i?l.minX:l.minY,d=0===i?l.maxX:l.maxY;if(h>=n&&d<r)u.push(l);else if(!(d<n||h>=r)){var m=[];if("Point"===p||"MultiPoint"===p)re(f,m,n,r,i);else if("LineString"===p)ie(f,m,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===p)ae(f,m,n,r,i,!1);else if("Polygon"===p)ae(f,m,n,r,i,!0);else if("MultiPolygon"===p)for(var v=0;v<f.length;v++){var y=[];ae(f[v],y,n,r,i,!0),y.length&&m.push(y)}if(m.length){if(s.lineMetrics&&"LineString"===p){for(v=0;v<m.length;v++)u.push(Y(l.id,p,m[v],l.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===m.length?(p="LineString",m=m[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===m.length?"Point":"MultiPoint"),u.push(Y(l.id,p,m,l.tags))}}}return u.length?u:null}function re(e,t,n,r,i){for(var o=0;o<e.length;o+=3){var a=e[o+i];a>=n&&a<=r&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function ie(e,t,n,r,i,o,a){for(var s,u,c=oe(e),l=0===i?ue:ce,f=e.start,p=0;p<e.length-3;p+=3){var h=e[p],d=e[p+1],m=e[p+2],v=e[p+3],y=e[p+4],g=0===i?h:d,b=0===i?v:y,x=!1;a&&(s=Math.sqrt(Math.pow(h-v,2)+Math.pow(d-y,2))),g<n?b>n&&(u=l(c,h,d,v,y,n),a&&(c.start=f+s*u)):g>r?b<r&&(u=l(c,h,d,v,y,r),a&&(c.start=f+s*u)):se(c,h,d,m),b<n&&g>=n&&(u=l(c,h,d,v,y,n),x=!0),b>r&&g<=r&&(u=l(c,h,d,v,y,r),x=!0),!o&&x&&(a&&(c.end=f+s*u),t.push(c),c=oe(e)),a&&(f+=s)}var _=e.length-3;h=e[_],d=e[_+1],m=e[_+2],(g=0===i?h:d)>=n&&g<=r&&se(c,h,d,m),_=c.length-3,o&&_>=3&&(c[_]!==c[0]||c[_+1]!==c[1])&&se(c,c[0],c[1],c[2]),c.length&&t.push(c)}function oe(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ae(e,t,n,r,i,o){for(var a=0;a<e.length;a++)ie(e[a],t,n,r,i,o,!1)}function se(e,t,n,r){e.push(t),e.push(n),e.push(r)}function ue(e,t,n,r,i,o){var a=(o-t)/(r-t);return e.push(o),e.push(n+(i-n)*a),e.push(1),a}function ce(e,t,n,r,i,o){var a=(o-n)/(i-n);return e.push(t+(r-t)*a),e.push(o),e.push(1),a}function le(e,t){for(var n=[],r=0;r<e.length;r++){var i,o=e[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=fe(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(fe(o.geometry[s],t))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var u=[],c=0;c<o.geometry[s].length;c++)u.push(fe(o.geometry[s][c],t));i.push(u)}n.push(Y(o.id,a,i,o.tags))}return n}function fe(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function pe(e,t){if(e.transformed)return e;var n,r,i,o=1<<e.z,a=e.x,s=e.y;for(n=0;n<e.features.length;n++){var u=e.features[n],c=u.geometry,l=u.type;if(u.geometry=[],1===l)for(r=0;r<c.length;r+=2)u.geometry.push(he(c[r],c[r+1],t,o,a,s));else for(r=0;r<c.length;r++){var f=[];for(i=0;i<c[r].length;i+=2)f.push(he(c[r][i],c[r][i+1],t,o,a,s));u.geometry.push(f)}}return e.transformed=!0,e}function he(e,t,n,r,i,o){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-o))]}function de(e,t,n,r,i){for(var o=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,me(a,e[s],o,i);var u=e[s].minX,c=e[s].minY,l=e[s].maxX,f=e[s].maxY;u<a.minX&&(a.minX=u),c<a.minY&&(a.minY=c),l>a.maxX&&(a.maxX=l),f>a.maxY&&(a.maxY=f)}return a}function me(e,t,n,r){var i=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)ve(a,i,e,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)ve(a,i[s],e,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var u=0;u<i.length;u++){var c=i[u];for(s=0;s<c.length;s++)ve(a,c[s],e,n,!0,0===s)}if(a.length){var l=t.tags||null;if("LineString"===o&&r.lineMetrics){for(var f in l={},t.tags)l[f]=t.tags[f];l.mapbox_clip_start=i.start/i.size,l.mapbox_clip_end=i.end/i.size}var p={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:l};null!==t.id&&(p.id=t.id),e.features.push(p)}}function ve(e,t,n,r,i,o){var a=r*r;if(r>0&&t.size<(i?a:r))n.numPoints+=t.length/3;else{for(var s=[],u=0;u<t.length;u+=3)(0===r||t[u+2]>a)&&(n.numSimplified++,s.push(t[u]),s.push(t[u+1])),n.numPoints++;i&&function(e,t){for(var n=0,r=0,i=e.length,o=i-2;r<i;o=r,r+=2)n+=(e[r]-e[o])*(e[r+1]+e[o+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var a=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=a,e[i-1-r]=s}}(s,o),e.push(s)}}function ye(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)K(n,e.features[r],t,r);else K(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(e,t){var n=t.buffer/t.extent,r=e,i=ne(e,1,-1-n,n,0,-1,2,t),o=ne(e,1,1-n,2+n,0,-1,2,t);return(i||o)&&(r=ne(e,1,-n,1+n,0,-1,2,t)||[],i&&(r=le(i,1).concat(r)),o&&(r=r.concat(le(o,-1)))),r}(r,t)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ge(e,t,n){return 32*((1<<e)*n+t)+e}function be(e,t){var n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return t(null,null);var i=new m(r.features),o=x(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),t(null,{vectorTile:i,rawData:o.buffer})}N.prototype.load=function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,o=t.nodeSize;n&&console.time("total time");var a="prepare "+e.length+" points";n&&console.time(a),this.points=e;for(var s=[],u=0;u<e.length;u++)e[u].geometry&&s.push(F(e[u],u));this.trees[i+1]=new R(s,G,W,o,Float32Array),n&&console.timeEnd(a);for(var c=i;c>=r;c--){var l=+Date.now();s=this._cluster(s,c),this.trees[c]=new R(s,G,W,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",c,s.length,+Date.now()-l)}return n&&console.timeEnd("total time"),this},N.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],t),s=this.getClusters([-180,r,i,o],t);return a.concat(s)}for(var u=this.trees[this._limitZoom(t)],c=[],l=0,f=u.range(V(n),H(o),V(i),H(r));l<f.length;l+=1){var p=u.points[f[l]];c.push(p.numPoints?B(p):this.points[p.index])}return c},N.prototype.getChildren=function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[t];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],u=0,c=i.within(o.x,o.y,a);u<c.length;u+=1){var l=i.points[c[u]];l.parentId===e&&s.push(l.numPoints?B(l):this.points[l.index])}if(0===s.length)throw new Error(r);return s},N.prototype.getLeaves=function(e,t,n){var r=[];return this._appendLeaves(r,e,t=t||10,n=n||0,0),r},N.prototype.getTile=function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),o=this.options,a=o.radius/o.extent,s=(n-a)/i,u=(n+1+a)/i,c={features:[]};return this._addTileFeatures(r.range((t-a)/i,s,(t+1+a)/i,u),r.points,t,n,i,c),0===t&&this._addTileFeatures(r.range(1-a/i,s,1,u),r.points,i,n,i,c),t===i-1&&this._addTileFeatures(r.range(0,s,a/i,u),r.points,-1,n,i,c),c.features.length?c:null},N.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},N.prototype._appendLeaves=function(e,t,n,r,i){for(var o=0,a=this.getChildren(t);o<a.length;o+=1){var s=a[o],u=s.properties;if(u&&u.cluster?i+u.point_count<=r?i+=u.point_count:i=this._appendLeaves(e,u.cluster_id,n,r,i):i<r?i++:e.push(s),e.length===n)break}return i},N.prototype._addTileFeatures=function(e,t,n,r,i,o){for(var a=0,s=e;a<s.length;a+=1){var u=t[s[a]],c=u.numPoints,l={type:1,geometry:[[Math.round(this.options.extent*(u.x*i-n)),Math.round(this.options.extent*(u.y*i-r))]],tags:c?U(u):this.points[u.index].properties},f=void 0;c?f=u.id:this.options.generateId?f=u.index:this.points[u.index].id&&(f=this.points[u.index].id),void 0!==f&&(l.id=f),o.features.push(l)}},N.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))},N.prototype._cluster=function(e,t){for(var n=[],r=this.options,i=r.reduce,o=r.minPoints,a=r.radius/(r.extent*Math.pow(2,t)),s=0;s<e.length;s++){var u=e[s];if(!(u.zoom<=t)){u.zoom=t;for(var c=this.trees[t+1],l=c.within(u.x,u.y,a),f=u.numPoints||1,p=f,h=0,d=l;h<d.length;h+=1){var m=c.points[d[h]];m.zoom>t&&(p+=m.numPoints||1)}if(p>=o){for(var v=u.x*f,y=u.y*f,g=i&&f>1?this._map(u,!0):null,b=(s<<5)+(t+1)+this.points.length,x=0,_=l;x<_.length;x+=1){var w=c.points[_[x]];if(!(w.zoom<=t)){w.zoom=t;var S=w.numPoints||1;v+=w.x*S,y+=w.y*S,w.parentId=b,i&&(g||(g=this._map(u,!0)),i(g,this._map(w)))}}u.parentId=b,n.push(z(v/p,y/p,b,p,g))}else if(n.push(u),p>1)for(var O=0,E=l;O<E.length;O+=1){var k=c.points[E[O]];k.zoom<=t||(k.zoom=t,n.push(k))}}}return n},N.prototype._getOriginId=function(e){return e-this.points.length>>5},N.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},N.prototype._map=function(e,t){if(e.numPoints)return t?q({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?q({},r):r},ye.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ye.prototype.splitTile=function(e,t,n,r,i,o,a){for(var s=[e,t,n,r],u=this.options,c=u.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var l=1<<t,f=ge(t,n,r),p=this.tiles[f];if(!p&&(c>1&&console.time("creation"),p=this.tiles[f]=de(e,t,n,r,u),this.tileCoords.push({z:t,x:n,y:r}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var h="z"+t;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(p.source=e,i){if(t===u.maxZoom||t===i)continue;var d=1<<i-t;if(n!==Math.floor(o/d)||r!==Math.floor(a/d))continue}else if(t===u.indexMaxZoom||p.numPoints<=u.indexMaxPoints)continue;if(p.source=null,0!==e.length){c>1&&console.time("clipping");var m,v,y,g,b,x,_=.5*u.buffer/u.extent,w=.5-_,S=.5+_,O=1+_;m=v=y=g=null,b=ne(e,l,n-_,n+S,0,p.minX,p.maxX,u),x=ne(e,l,n+w,n+O,0,p.minX,p.maxX,u),e=null,b&&(m=ne(b,l,r-_,r+S,1,p.minY,p.maxY,u),v=ne(b,l,r+w,r+O,1,p.minY,p.maxY,u),b=null),x&&(y=ne(x,l,r-_,r+S,1,p.minY,p.maxY,u),g=ne(x,l,r+w,r+O,1,p.minY,p.maxY,u),x=null),c>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*n,2*r),s.push(v||[],t+1,2*n,2*r+1),s.push(y||[],t+1,2*n+1,2*r),s.push(g||[],t+1,2*n+1,2*r+1)}}},ye.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,o=r.debug;if(e<0||e>24)return null;var a=1<<e,s=ge(e,t=(t%a+a)%a,n);if(this.tiles[s])return pe(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var u,c=e,l=t,f=n;!u&&c>0;)c--,l=Math.floor(l/2),f=Math.floor(f/2),u=this.tiles[ge(c,l,f)];return u&&u.source?(o>1&&console.log("found parent tile z%d-%d-%d",c,l,f),o>1&&console.time("drilling down"),this.splitTile(u.source,c,l,f,e,t,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?pe(this.tiles[s],i):null):null};var xe=function(t){function n(e,n,r,i){t.call(this,e,n,r,be),i&&(this.loadGeoJSON=i)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(r&&r.request&&r.request.collectResourceTiming)&&new e.RequestPerformance(r.request);this.loadGeoJSON(r,(function(o,a){if(o||!a)return n(o);if("object"!=typeof a)return n(new Error("Input data given to '"+r.source+"' is not a valid GeoJSON object."));!function e(t,n){var r,i=t&&t.type;if("FeatureCollection"===i)for(r=0;r<t.features.length;r++)e(t.features[r],n);else if("GeometryCollection"===i)for(r=0;r<t.geometries.length;r++)e(t.geometries[r],n);else if("Feature"===i)e(t.geometry,n);else if("Polygon"===i)f(t.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<t.coordinates.length;r++)f(t.coordinates[r],n);return t}(a,!0);try{if(r.filter){var s=e.createExpression(r.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map((function(e){return e.key+": "+e.message})).join(", "));var u=a.features.filter((function(e){return s.value.evaluate({zoom:0},e)}));a={type:"FeatureCollection",features:u}}t._geoJSONIndex=r.cluster?new N(function(t){var n=t.superclusterOptions,r=t.clusterProperties;if(!r||!n)return n;for(var i={},o={},a={accumulated:null,zoom:0},s={properties:null},u=Object.keys(r),c=0,l=u;c<l.length;c+=1){var f=l[c],p=r[f],h=p[0],d=e.createExpression(p[1]),m=e.createExpression("string"==typeof h?[h,["accumulated"],["get",f]]:h);i[f]=d.value,o[f]=m.value}return n.map=function(e){s.properties=e;for(var t={},n=0,r=u;n<r.length;n+=1){var o=r[n];t[o]=i[o].evaluate(a,s)}return t},n.reduce=function(e,t){s.properties=t;for(var n=0,r=u;n<r.length;n+=1){var i=r[n];a.accumulated=e[i],e[i]=o[i].evaluate(a,s)}},n}(r)).load(a.features):function(e,t){return new ye(e,t)}(a,r.geojsonVtOptions)}catch(o){return n(o)}t.loaded={};var c={};if(i){var l=i.finish();l&&(c.resourceTiming={},c.resourceTiming[r.source]=JSON.parse(JSON.stringify(l)))}n(null,c)}))}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(e,n){var r=this.loaded;return r&&r[e.uid]?t.prototype.reloadTile.call(this,e,n):this.loadTile(e,n)},n.prototype.loadGeoJSON=function(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},n.prototype.getClusterExpansionZoom=function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterChildren=function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterLeaves=function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}},n}(u),_e=function(t){var n=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:xe},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(n.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');n.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return _e.prototype.setReferrer=function(e,t){this.referrer=t},_e.prototype.setImages=function(e,t,n){for(var r in this.availableImages[e]=t,this.workerSources[e]){var i=this.workerSources[e][r];for(var o in i)i[o].availableImages=t}n()},_e.prototype.setLayers=function(e,t,n){this.getLayerIndex(e).replace(t),n()},_e.prototype.updateLayers=function(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()},_e.prototype.loadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).loadTile(t,n)},_e.prototype.loadDEMTile=function(e,t,n){this.getDEMWorkerSource(e,t.source).loadTile(t,n)},_e.prototype.reloadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).reloadTile(t,n)},_e.prototype.abortTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)},_e.prototype.removeTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)},_e.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},_e.prototype.removeSource=function(e,t,n){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var r=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==r.removeSource?r.removeSource(t,n):n()}},_e.prototype.loadWorkerSource=function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}},_e.prototype.syncRTLPluginState=function(t,n,r){try{e.plugin.setState(n);var i=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=i){this.self.importScripts(i);var o=e.plugin.isParsed();r(o?void 0:new Error("RTL Text Plugin failed to import scripts from "+i),o)}}catch(e){r(e.toString())}},_e.prototype.getAvailableImages=function(e){var t=this.availableImages[e];return t||(t=[]),t},_e.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new r),t},_e.prototype.getWorkerSource=function(e,t,n){var r=this;return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][n]||(this.workerSources[e][t][n]=new this.workerSourceTypes[t]({send:function(t,n,i){r.actor.send(t,n,i,e)}},this.getLayerIndex(e),this.getAvailableImages(e))),this.workerSources[e][t][n]},_e.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new l),this.demWorkerSources[e][t]},_e.prototype.enforceCacheSizeLimit=function(t,n){e.enforceCacheSizeLimit(n)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new _e(self)),_e})),r(["./shared"],(function(e){var t=e.createCommonjsModule((function(e){function t(e){return!n(e)}function n(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{t=new Worker(r),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(void 0===r[n=e&&e.failIfMajorPerformanceCaveat]&&(r[n]=function(e){var n=function(e){var n=document.createElement("canvas"),r=Object.create(t.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,n.probablySupportsContext?n.probablySupportsContext("webgl",r)||n.probablySupportsContext("experimental-webgl",r):n.supportsContext?n.supportsContext("webgl",r)||n.supportsContext("experimental-webgl",r):n.getContext("webgl",r)||n.getContext("experimental-webgl",r)}(e);if(!n)return!1;var r=n.createShader(n.VERTEX_SHADER);return!(!r||n.isContextLost())&&(n.shaderSource(r,"void main() {}"),n.compileShader(r),!0===n.getShaderParameter(r,n.COMPILE_STATUS))}(n)),r[n]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var n}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t,window.mapboxgl.notSupportedReason=n);var r={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),n={create:function(t,n,r){var i=e.window.document.createElement(t);return void 0!==n&&(i.className=n),r&&r.appendChild(i),i},createNS:function(t,n){return e.window.document.createElementNS(t,n)}},r=e.window.document&&e.window.document.documentElement.style;function i(e){if(!r)return e[0];for(var t=0;t<e.length;t++)if(e[t]in r)return e[t];return e[0]}var o,a=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){r&&a&&(o=r[a],r[a]="none")},n.enableDrag=function(){r&&a&&(r[a]=o)};var s=i(["transform","WebkitTransform"]);n.setTransform=function(e,t){e.style[s]=t};var u=!1;try{var c=Object.defineProperty({},"passive",{get:function(){u=!0}});e.window.addEventListener("test",c,c),e.window.removeEventListener("test",c,c)}catch(e){u=!1}n.addEventListener=function(e,t,n,r){void 0===r&&(r={}),e.addEventListener(t,n,"passive"in r&&u?r:r.capture)},n.removeEventListener=function(e,t,n,r){void 0===r&&(r={}),e.removeEventListener(t,n,"passive"in r&&u?r:r.capture)};var l=function t(n){n.preventDefault(),n.stopPropagation(),e.window.removeEventListener("click",t,!0)};function f(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}n.suppressClick=function(){e.window.addEventListener("click",l,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",l,!0)}),0)},n.mousePos=function(t,n){var r=t.getBoundingClientRect();return new e.Point(n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop)},n.touchPos=function(t,n){for(var r=t.getBoundingClientRect(),i=[],o=0;o<n.length;o++)i.push(new e.Point(n[o].clientX-r.left-t.clientLeft,n[o].clientY-r.top-t.clientTop));return i},n.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},n.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var p=function(t){function n(){t.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,n=this.requestors;t<n.length;t+=1){var r=n[t];this._notify(r.ids,r.callback)}this.requestors=[]}},n.prototype.getImage=function(e){return this.images[e]},n.prototype.addImage=function(e,t){this._validate(e,t)&&(this.images[e]=t)},n.prototype._validate=function(t,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchX" value'))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchY" value'))),r=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "content" value'))),r=!1),r},n.prototype._validateStretch=function(e,t){if(!e)return!0;for(var n=0,r=0,i=e;r<i.length;r+=1){var o=i[r];if(o[0]<n||o[1]<o[0]||t<o[1])return!1;n=o[1]}return!0},n.prototype._validateContent=function(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))},n.prototype.updateImage=function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0},n.prototype.removeImage=function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(e,t){var n=!0;if(!this.isLoaded())for(var r=0,i=e;r<i.length;r+=1)this.images[i[r]]||(n=!1);this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})},n.prototype._notify=function(t,n){for(var r={},i=0,o=t;i<o.length;i+=1){var a=o[i];this.images[a]||this.fire(new e.Event("styleimagemissing",{id:a}));var s=this.images[a];s?r[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,r)},n.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},n.prototype.getPattern=function(t){var n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},o=new e.ImagePosition(i,r);this.patterns[t]={bin:i,position:o}}return this._updatePatternAtlas(),this.patterns[t].position},n.prototype.bind=function(t){var n=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var t=[];for(var n in this.patterns)t.push(this.patterns[n].bin);var r=e.potpack(t),i=r.w,o=r.h,a=this.atlasImage;for(var s in a.resize({width:i||1,height:o||1}),this.patterns){var u=this.patterns[s].bin,c=u.x+1,l=u.y+1,f=this.images[s].data,p=f.width,h=f.height;e.RGBAImage.copy(f,a,{x:0,y:0},{x:c,y:l},{width:p,height:h}),e.RGBAImage.copy(f,a,{x:0,y:h-1},{x:c,y:l-1},{width:p,height:1}),e.RGBAImage.copy(f,a,{x:0,y:0},{x:c,y:l+h},{width:p,height:1}),e.RGBAImage.copy(f,a,{x:p-1,y:0},{x:c-1,y:l},{width:1,height:h}),e.RGBAImage.copy(f,a,{x:0,y:0},{x:c+p,y:l},{width:1,height:h})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];f(i)&&this.updateImage(r,i)}}},n}(e.Evented),h=v,d=v,m=1e20;function v(e,t,n,r,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function y(e,t,n,r,i,o,a){for(var s=0;s<t;s++){for(var u=0;u<n;u++)r[u]=e[u*t+s];for(g(r,i,o,a,n),u=0;u<n;u++)e[u*t+s]=i[u]}for(u=0;u<n;u++){for(s=0;s<t;s++)r[s]=e[u*t+s];for(g(r,i,o,a,t),s=0;s<t;s++)e[u*t+s]=Math.sqrt(i[s])}}function g(e,t,n,r,i){n[0]=0,r[0]=-m,r[1]=+m;for(var o=1,a=0;o<i;o++){for(var s=(e[o]+o*o-(e[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=r[a];)a--,s=(e[o]+o*o-(e[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,r[a]=s,r[a+1]=+m}for(o=0,a=0;o<i;o++){for(;r[a+1]<o;)a++;t[o]=(o-n[a])*(o-n[a])+e[n[a]]}}v.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=t.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?m:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?m:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(y(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),y(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++)n[r]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[r]-this.gridInner[r])/this.radius+this.cutoff))));return n},h["default"]=d;var b=function(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}};b.prototype.setURL=function(e){this.url=e},b.prototype.getGlyphs=function(t,n){var r=this,i=[];for(var o in t)for(var a=0,s=t[o];a<s.length;a+=1)i.push({stack:o,id:s[a]});e.asyncAll(i,(function(e,t){var n=e.stack,i=e.id,o=r.entries[n];o||(o=r.entries[n]={glyphs:{},requests:{},ranges:{}});var a=o.glyphs[i];if(void 0===a){if(a=r._tinySDF(o,n,i))return o.glyphs[i]=a,void t(null,{stack:n,id:i,glyph:a});var s=Math.floor(i/256);if(256*s>65535)t(new Error("glyphs > 65535 not supported"));else if(o.ranges[s])t(null,{stack:n,id:i,glyph:a});else{var u=o.requests[s];u||(u=o.requests[s]=[],b.loadGlyphRange(n,s,r.url,r.requestManager,(function(e,t){if(t){for(var n in t)r._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=t[+n]);o.ranges[s]=!0}for(var i=0,a=u;i<a.length;i+=1)(0,a[i])(e,t);delete o.requests[s]}))),u.push((function(e,r){e?t(e):r&&t(null,{stack:n,id:i,glyph:r[i]||null})}))}}else t(null,{stack:n,id:i,glyph:a})}),(function(e,t){if(e)n(e);else if(t){for(var r={},i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.stack,u=a.id,c=a.glyph;(r[s]||(r[s]={}))[u]=c&&{id:c.id,bitmap:c.bitmap.clone(),metrics:c.metrics}}n(null,r)}}))},b.prototype._doesCharSupportLocalGlyph=function(t){return!!this.localIdeographFontFamily&&(e.isChar["CJK Unified Ideographs"](t)||e.isChar["Hangul Syllables"](t)||e.isChar.Hiragana(t)||e.isChar.Katakana(t))},b.prototype._tinySDF=function(t,n,r){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var o=t.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=t.tinySDF=new b.TinySDF(24,3,8,.25,i,a)}return{id:r,bitmap:new e.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},b.loadGlyphRange=function(t,n,r,i,o){var a=256*n,s=a+255,u=i.transformRequest(i.normalizeGlyphsURL(r).replace("{fontstack}",t).replace("{range}",a+"-"+s),e.ResourceType.Glyphs);e.getArrayBuffer(u,(function(t,n){if(t)o(t);else if(n){for(var r={},i=0,a=e.parseGlyphPBF(n);i<a.length;i+=1){var s=a[i];r[s.id]=s}o(null,r)}}))},b.TinySDF=h;var x=function(){this.specification=e.styleSpec.light.position};x.prototype.possiblyEvaluate=function(t,n){return e.sphericalToCartesian(t.expression.evaluate(n))},x.prototype.interpolate=function(t,n,r){return{x:e.number(t.x,n.x,r),y:e.number(t.y,n.y,r),z:e.number(t.z,n.z,r)}};var _=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new x,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),w=function(t){function n(n){t.call(this),this._transitionable=new e.Transitionable(_),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(t,n){if(void 0===n&&(n={}),!this._validate(e.validateLight,t,n))for(var r in t){var i=t[r];e.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-"-transition".length),i):this._transitionable.setValue(r,i)}},n.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},n.prototype._validate=function(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},n}(e.Evented),S=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};S.prototype.getDash=function(e,t){var n=e.join(",")+String(t);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(e,t)),this.dashEntry[n]},S.prototype.getDashRanges=function(e,t,n){var r=[],i=e.length%2==1?-e[e.length-1]*n:0,o=e[0]*n,a=!0;r.push({left:i,right:o,isDash:a,zeroLength:0===e[0]});for(var s=e[0],u=1;u<e.length;u++){var c=e[u];r.push({left:i=s*n,right:o=(s+=c)*n,isDash:a=!a,zeroLength:0===c})}return r},S.prototype.addRoundDash=function(e,t,n){for(var r=t/2,i=-n;i<=n;i++)for(var o=this.width*(this.nextRow+n+i),a=0,s=e[a],u=0;u<this.width;u++){u/s.right>1&&(s=e[++a]);var c=Math.abs(u-s.left),l=Math.abs(u-s.right),f=Math.min(c,l),p=void 0,h=i/n*(r+1);if(s.isDash){var d=r-Math.abs(h);p=Math.sqrt(f*f+d*d)}else p=r-Math.sqrt(f*f+h*h);this.data[o+u]=Math.max(0,Math.min(255,p+128))}},S.prototype.addRegularDash=function(e){for(var t=e.length-1;t>=0;--t){var n=e[t],r=e[t+1];n.zeroLength?e.splice(t,1):r&&r.isDash===n.isDash&&(r.left=n.left,e.splice(t,1))}var i=e[0],o=e[e.length-1];i.isDash===o.isDash&&(i.left=o.left-this.width,o.right=i.right+this.width);for(var a=this.width*this.nextRow,s=0,u=e[s],c=0;c<this.width;c++){c/u.right>1&&(u=e[++s]);var l=Math.abs(c-u.left),f=Math.abs(c-u.right),p=Math.min(l,f);this.data[a+c]=Math.max(0,Math.min(255,(u.isDash?p:-p)+128))}},S.prototype.addDash=function(t,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<t.length;a++)o+=t[a];if(0!==o){var s=this.width/o,u=this.getDashRanges(t,this.width,s);n?this.addRoundDash(u,s,r):this.addRegularDash(u)}var c={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,c},S.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))};var O=function t(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var i=this.workerPool.acquire(this.id),o=0;o<i.length;o++){var a=new t.Actor(i[o],r,this.id);a.name="Worker "+o,this.actors.push(a)}};function E(t,n,r){var i=function(i,o){if(i)return r(i);if(o){var a=e.pick(e.extend(o,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(a.vectorLayers=o.vector_layers,a.vectorLayerIds=a.vectorLayers.map((function(e){return e.id}))),a.tiles=n.canonicalizeTileset(a,t.url),r(null,a)}};return t.url?e.getJSON(n.transformRequest(n.normalizeSourceURL(t.url),e.ResourceType.Source),i):e.browser.frame((function(){return i(null,t)}))}O.prototype.broadcast=function(t,n,r){e.asyncAll(this.actors,(function(e,r){e.send(t,n,r)}),r=r||function(){})},O.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},O.prototype.remove=function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)},O.Actor=e.Actor;var k=function(t,n,r){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=r||24};k.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},k.prototype.contains=function(t){var n=Math.pow(2,t.z),r=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=r&&t.x<o&&t.y>=i&&t.y<a};var C=function(t){function n(n,r,i,o){if(t.call(this),this.id=n,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(r,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=E(this._options,this.map._requestManager,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new k(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles,t.map._requestManager._customAccessToken),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken,t.map._requestManager._customAccessToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setSourceProperty=function(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},n.prototype.setTiles=function(e){var t=this;return this.setSourceProperty((function(){t._options.tiles=e})),this},n.prototype.setUrl=function(e){var t=this;return this.setSourceProperty((function(){t.url=e,t._options.url=e})),this},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(r,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function o(r,i){return delete t.request,t.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=n:t.request=t.actor.send("reloadTile",i,o.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",i,o.bind(this)))},n.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)},n.prototype.unloadTile=function(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)},n.prototype.hasTransition=function(){return!1},n}(e.Evented),j=function(t){function n(n,r,i,o){t.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},r),e.extend(this,e.pick(r,["url","scheme","tileSize"]))}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=E(this._options,this.map._requestManager,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new k(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.loadTile=function(t,n){var r=this,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),(function(i,o){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(i)t.state="errored",n(i);else if(o){r.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=r.map.painter.context,s=a.gl;t.texture=r.map.painter.getTileTexture(o.width),t.texture?t.texture.update(o,{useMipmap:!0}):(t.texture=new e.Texture(a,o,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(r.dispatcher),n(null)}}))},n.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},n.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},n.prototype.hasTransition=function(){return!1},n}(e.Evented),T=function(t){function n(n,r,i,o){t.call(this,n,r,i,o),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function i(e,r){e&&(t.state="errored",n(e)),r&&(t.dem=r,t.needsHillshadePrepare=!0,t.state="loaded",n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),function(r,o){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap&&e.offscreenCanvasSupported()?o:e.browser.getImageData(o,1),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:a,encoding:this.encoding};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",s,i.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},n.prototype._getNeighboringTiles=function(t){var n=t.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?t.wrap-1:t.wrap,a=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,u={};return u[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(u[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(u[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),u},n.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})},n}(j),A=function(t){function n(n,r,i,o){t.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(o),this._data=r.data,this._options=e.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;var a=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:e.EXTENT,radius:(r.clusterRadius||50)*a,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)t.fire(new e.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(r.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event("data",r))}}))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setData=function(t){var n=this;return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(t){if(t)n.fire(new e.ErrorEvent(t));else{var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new e.Event("data",r))}})),this},n.prototype.getClusterExpansionZoom=function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this},n.prototype.getClusterChildren=function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this},n.prototype.getClusterLeaves=function(e,t,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},r),this},n.prototype._updateWorkerData=function(t){var n=this;this._loaded=!1;var r=e.extend({},this.workerOptions),i=this._data;"string"==typeof i?(r.request=this.map._requestManager.transformRequest(e.browser.resolveURL(i),e.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.actor.send(this.type+".loadData",r,(function(e,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.actor.send(n.type+".coalesce",{source:r.source},null),t(e))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.loadTile=function(t,n){var r=this,i=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(i,{type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(e,o){return delete t.request,t.unloadVectorData(),t.aborted?n(null):e?n(e):(t.loadVectorData(o,r.map.painter,"reloadTile"===i),n(null))}))},n.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0},n.prototype.unloadTile=function(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})},n.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},n.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(e.Evented),P=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),M=function(t){function n(e,n,r,i){t.call(this),this.id=e,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=n}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(t,n){var r=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(i,o){r._loaded=!0,i?r.fire(new e.ErrorEvent(i)):o&&(r.image=o,t&&(r.coordinates=t),n&&n(),r._finishLoading())}))},n.prototype.loaded=function(){return this._loaded},n.prototype.updateImage=function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(function(){t.texture=null})),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setCoordinates=function(t){var n=this;this.coordinates=t;var r=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0,s=t;a<s.length;a+=1){var u=s[a];n=Math.min(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.x),o=Math.max(o,u.y)}var c=Math.max(i-n,o-r),l=Math.max(0,Math.floor(-Math.log(c)/Math.LN2)),f=Math.pow(2,l);return new e.CanonicalTileID(l,Math.floor((n+i)/2*f),Math.floor((r+o)/2*f))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map((function(e){return n.tileID.getTilePoint(e)._round()}));return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,P.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(e.Evented),I=function(t){function n(e,n,r,i){t.call(this,e,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1;var n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1)this.urls.push(this.map._requestManager.transformRequest(i[r],e.ResourceType.Source).url);e.getVideo(this.urls,(function(n,r){t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(t.video=r,t.video.loop=!0,t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))},n.prototype.pause=function(){this.video&&this.video.pause()},n.prototype.play=function(){this.video&&this.video.play()},n.prototype.seek=function(t){if(this.video){var n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+n.start(0)+" and "+n.end(0)+"-second mark."))):this.video.currentTime=t}},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,P.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(M),L=function(t){function n(n,r,i,o){t.call(this,n,r,i,o),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,P.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var n=t[e];if(isNaN(n)||n<=0)return!0}return!1},n}(M),R={vector:C,raster:j,"raster-dem":T,geojson:A,video:I,image:M,canvas:L};function D(t,n){var r=e.identity([]);return e.translate(r,r,[1,1,0]),e.scale(r,r,[.5*t.width,.5*t.height,1]),e.multiply(r,r,t.calculatePosMatrix(n.toUnwrapped()))}function N(e,t,n,r,i,o){var a=function(e,t,n){if(e)for(var r=0,i=e;r<i.length;r+=1){var o=t[i[r]];if(o&&o.source===n&&"fill-extrusion"===o.type)return!0}else for(var a in t){var s=t[a];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(i&&i.layers,t,e.id),s=o.maxPitchScaleFactor(),u=e.tilesIn(r,s,a);u.sort(z);for(var c=[],l=0,f=u;l<f.length;l+=1){var p=f[l];c.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(t,n,e._state,p.queryGeometry,p.cameraQueryGeometry,p.scale,i,o,s,D(e.transform,p.tileID))})}var h=function(e){for(var t={},n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,u=n[s]=n[s]||{};for(var c in a)for(var l=a[c],f=u[c]=u[c]||{},p=t[c]=t[c]||[],h=0,d=l;h<d.length;h+=1){var m=d[h];f[m.featureIndex]||(f[m.featureIndex]=!0,p.push(m))}}return t}(c);for(var d in h)h[d].forEach((function(t){var n=t.feature,r=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return h}function z(e,t){var n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var F=function(e,t){this.max=e,this.onRemove=t,this.reset()};F.prototype.reset=function(){for(var e in this.data)for(var t=0,n=this.data[e];t<n.length;t+=1){var r=n[t];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},F.prototype.add=function(e,t,n){var r=this,i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:t,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout((function(){r.remove(e,o)}),n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},F.prototype.has=function(e){return e.wrapped().key in this.data},F.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},F.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},F.prototype.getByKey=function(e){var t=this.data[e];return t?t[0].value:null},F.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},F.prototype.remove=function(e,t){if(!this.has(e))return this;var n=e.wrapped().key,r=void 0===t?0:this.data[n].indexOf(t),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},F.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this},F.prototype.filter=function(e){var t=[];for(var n in this.data)for(var r=0,i=this.data[n];r<i.length;r+=1){var o=i[r];e(o.value)||t.push(o)}for(var a=0,s=t;a<s.length;a+=1){var u=s[a];this.remove(u.value.tileID,u)}};var B=function(e,t,n){this.context=e;var r=e.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};B.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},B.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},B.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var U={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},V=function(e,t,n,r){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=r,this.context=e;var i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};V.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},V.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},V.prototype.enableAttributes=function(e,t){for(var n=0;n<this.attributes.length;n++){var r=t.attributes[this.attributes[n].name];void 0!==r&&e.enableVertexAttribArray(r)}},V.prototype.setVertexAttribPointers=function(e,t,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=t.attributes[i.name];void 0!==o&&e.vertexAttribPointer(o,i.components,e[U[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},V.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var H=function(e){this.gl=e.gl,this["default"]=this.getDefault(),this.current=this["default"],this.dirty=!1};H.prototype.get=function(){return this.current},H.prototype.set=function(e){},H.prototype.getDefault=function(){return this["default"]},H.prototype.setDefault=function(){this.set(this["default"])};var q=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(H),G=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(H),W=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(H),Z=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(H),Y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(H),X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(H),K=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(H),J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(H),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(H),$=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(H),ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(H),te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(H),ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(H),re=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(H),ie=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(H),oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(H),ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(H),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(H),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(H),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(H),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(H),fe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(H),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(H),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(H),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(H),me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(H),ve=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(H),ye=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(H),ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(H),be=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(H),xe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(H),_e=function(e){function t(t,n){e.call(this,t),this.context=t,this.parent=n}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t}(H),we=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(_e),Se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(_e),Oe=function(e,t,n,r){this.context=e,this.width=t,this.height=n;var i=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new we(e,i),r&&(this.depthAttachment=new Se(e,i))};Oe.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var n=this.depthAttachment.get();n&&e.deleteRenderbuffer(n)}e.deleteFramebuffer(this.framebuffer)};var Ee=function(e,t,n){this.func=e,this.mask=t,this.range=n};Ee.ReadOnly=!1,Ee.ReadWrite=!0,Ee.disabled=new Ee(519,Ee.ReadOnly,[0,1]);var ke=function(e,t,n,r,i,o){this.test=e,this.ref=t,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};ke.disabled=new ke({func:519,mask:0},0,0,7680,7680,7680);var Ce=function(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n};Ce.disabled=new Ce(Ce.Replace=[1,0],e.Color.transparent,[!1,!1,!1,!1]),Ce.unblended=new Ce(Ce.Replace,e.Color.transparent,[!0,!0,!0,!0]),Ce.alphaBlended=new Ce([1,771],e.Color.transparent,[!0,!0,!0,!0]);var je=function(e,t,n){this.enable=e,this.mode=t,this.frontFace=n};je.disabled=new je(!1,1029,2305),je.backCCW=new je(!0,1029,2305);var Te=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new q(this),this.clearDepth=new G(this),this.clearStencil=new W(this),this.colorMask=new Z(this),this.depthMask=new Y(this),this.stencilMask=new X(this),this.stencilFunc=new K(this),this.stencilOp=new J(this),this.stencilTest=new Q(this),this.depthRange=new $(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new ne(this),this.blendFunc=new re(this),this.blendColor=new ie(this),this.blendEquation=new oe(this),this.cullFace=new ae(this),this.cullFaceSide=new se(this),this.frontFace=new ue(this),this.program=new ce(this),this.activeTexture=new le(this),this.viewport=new fe(this),this.bindFramebuffer=new pe(this),this.bindRenderbuffer=new he(this),this.bindTexture=new de(this),this.bindVertexBuffer=new me(this),this.bindElementBuffer=new ve(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ye(this),this.pixelStoreUnpack=new ge(this),this.pixelStoreUnpackPremultiplyAlpha=new be(this),this.pixelStoreUnpackFlipY=new xe(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)};Te.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Te.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Te.prototype.createIndexBuffer=function(e,t){return new B(this,e,t)},Te.prototype.createVertexBuffer=function(e,t,n){return new V(this,e,t,n)},Te.prototype.createRenderbuffer=function(e,t,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),i},Te.prototype.createFramebuffer=function(e,t,n){return new Oe(this,e,t,n)},Te.prototype.clear=function(e){var t=e.color,n=e.depth,r=this.gl,i=0;t&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},Te.prototype.setCullFace=function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},Te.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},Te.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},Te.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,Ce.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},Te.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ae=function(t){function n(n,r,i){var o=this;t.call(this),this.id=n,this.dispatcher=i,this.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),this.on("error",(function(){o._sourceErrored=!0})),this._source=function(t,n,r,i){var o=new R[n.type](t,n,r,i);if(o.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+o.id);return e.bindAll(["load","abort","unload","serialize","prepare"],o),o}(n,r,i,this),this._tiles={},this._cache=new F(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},n.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},n.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))},n.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return e.values(this._tiles).map((function(e){return e.tileID})).sort(Pe).map((function(e){return e.key}))},n.prototype.getRenderableIds=function(t){var n=this,r=[];for(var i in this._tiles)this._isIdRenderable(i,t)&&r.push(this._tiles[i]);return t?r.sort((function(t,r){var i=t.tileID,o=r.tileID,a=new e.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),s=new e.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x})).map((function(e){return e.tileID.key})):r.map((function(e){return e.tileID})).sort(Pe).map((function(e){return e.key}))},n.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},n.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")},n.prototype._reloadTile=function(e,t){var n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))},n.prototype._tileLoaded=function(t,n,r,i){if(i)return t.state="errored",void(404!==i.status?this._source.fire(new e.ErrorEvent(i,{tile:t})):this.update(this.transform));t.timeAdded=e.browser.now(),"expired"===r&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},n.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),n=0;n<t.length;n++){var r=t[n];if(e.neighboringTiles&&e.neighboringTiles[r]){var i=this.getTileByID(r);o(e,i),o(i,e)}}function o(e,t){e.needsHillshadePrepare=!0;var n=t.tileID.canonical.x-e.tileID.canonical.x,r=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}},n.prototype.getTile=function(e){return this.getTileByID(e.key)},n.prototype.getTileByID=function(e){return this._tiles[e]},n.prototype._retainLoadedChildren=function(e,t,n,r){for(var i in this._tiles){var o=this._tiles[i];if(!(r[i]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>t+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var u=a;u.overscaledZ>t;)if(e[(u=u.scaledTo(u.overscaledZ-1)).key]){r[a.key]=a;break}}}},n.prototype.findLoadedParent=function(e,t){if(e.key in this._loadedParentTiles){var n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(var r=e.overscaledZ-1;r>=t;r--){var i=e.scaledTo(r),o=this._getLoadedTile(i);if(o)return o}},n.prototype._getLoadedTile=function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)},n.prototype.updateCacheSize=function(e){var t=Math.ceil(e.width/this._source.tileSize)+1,n=Math.ceil(e.height/this._source.tileSize)+1,r=Math.floor(t*n*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(i)},n.prototype.handleWrapJump=function(e){var t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),n[i.tileID.key]=i}for(var o in this._tiles=n,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}},n.prototype.update=function(t){var r=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)})):(i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(e){return r._source.hasTile(e)})))):i=[];var o=t.coveringZoomLevel(this._source),a=Math.max(o-n.maxOverzooming,this._source.minzoom),s=Math.max(o+n.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(i,o);if(Me(this._source.type)){for(var c={},l={},f=0,p=Object.keys(u);f<p.length;f+=1){var h=p[f],d=u[h],m=this._tiles[h];if(m&&!(m.fadeEndTime&&m.fadeEndTime<=e.browser.now())){var v=this.findLoadedParent(d,a);v&&(this._addTile(v.tileID),c[v.tileID.key]=v.tileID),l[h]=d}}for(var y in this._retainLoadedChildren(l,o,s,u),c)u[y]||(this._coveredTiles[y]=!0,u[y]=c[y])}for(var g in u)this._tiles[g].clearFadeHold();for(var b=0,x=e.keysDifference(this._tiles,u);b<x.length;b+=1){var _=x[b],w=this._tiles[_];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(_)}this._updateLoadedParentTileCache()}},n.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},n.prototype._updateRetainedTiles=function(e,t){for(var r={},i={},o=Math.max(t-n.maxOverzooming,this._source.minzoom),a=Math.max(t+n.maxUnderzooming,this._source.minzoom),s={},u=0,c=e;u<c.length;u+=1){var l=c[u],f=this._addTile(l);r[l.key]=l,f.hasData()||t<this._source.maxzoom&&(s[l.key]=l)}this._retainLoadedChildren(s,t,a,r);for(var p=0,h=e;p<h.length;p+=1){var d=h[p],m=this._tiles[d.key];if(!m.hasData()){if(t+1>this._source.maxzoom){var v=d.children(this._source.maxzoom)[0],y=this.getTile(v);if(y&&y.hasData()){r[v.key]=v;continue}}else{var g=d.children(this._source.maxzoom);if(r[g[0].key]&&r[g[1].key]&&r[g[2].key]&&r[g[3].key])continue}for(var b=m.wasRequested(),x=d.overscaledZ-1;x>=o;--x){var _=d.scaledTo(x);if(i[_.key])break;if(i[_.key]=!0,!(m=this.getTile(_))&&b&&(m=this._addTile(_)),m&&(r[_.key]=_,b=m.wasRequested(),m.hasData()))break}}}return r},n.prototype._updateLoadedParentTileCache=function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],n=void 0,r=this._tiles[e].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}t.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i))break;r=i}for(var o=0,a=t;o<a.length;o+=1)this._loadedParentTiles[a[o]]=n}},n.prototype._addTile=function(t){var n=this._tiles[t.key];if(n)return n;(n=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));var r=Boolean(n);return r||(n=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,t.key,n.state))),n?(n.uses++,this._tiles[t.key]=n,r||this._source.fire(new e.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(e,t){var n=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout((function(){n._reloadTile(e,"expired"),delete n._timers[e]}),r))},n.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},n.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},n.prototype.tilesIn=function(t,n,r){var i=this,o=[],a=this.transform;if(!a)return o;for(var s=r?a.getCameraQueryGeometry(t):t,u=t.map((function(e){return a.pointCoordinate(e)})),c=s.map((function(e){return a.pointCoordinate(e)})),l=this.getIds(),f=1/0,p=1/0,h=-1/0,d=-1/0,m=0,v=c;m<v.length;m+=1){var y=v[m];f=Math.min(f,y.x),p=Math.min(p,y.y),h=Math.max(h,y.x),d=Math.max(d,y.y)}for(var g=function(t){var r=i._tiles[l[t]];if(!r.holdingForFade()){var s=r.tileID,m=Math.pow(2,a.zoom-r.tileID.overscaledZ),v=n*r.queryPadding*e.EXTENT/r.tileSize/m,y=[s.getTilePoint(new e.MercatorCoordinate(f,p)),s.getTilePoint(new e.MercatorCoordinate(h,d))];if(y[0].x-v<e.EXTENT&&y[0].y-v<e.EXTENT&&y[1].x+v>=0&&y[1].y+v>=0){var g=u.map((function(e){return s.getTilePoint(e)})),b=c.map((function(e){return s.getTilePoint(e)}));o.push({tile:r,tileID:s,queryGeometry:g,cameraQueryGeometry:b,scale:m})}}},b=0;b<l.length;b++)g(b);return o},n.prototype.getVisibleCoordinates=function(e){for(var t=this,n=this.getRenderableIds(e).map((function(e){return t._tiles[e].tileID})),r=0,i=n;r<i.length;r+=1){var o=i[r];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Me(this._source.type))for(var t in this._tiles){var n=this._tiles[t];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=e.browser.now())return!0}return!1},n.prototype.setFeatureState=function(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)},n.prototype.removeFeatureState=function(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)},n.prototype.getFeatureState=function(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)},n.prototype.setDependencies=function(e,t,n){var r=this._tiles[e];r&&r.setDependencies(t,n)},n.prototype.reloadTilesForDependencies=function(e,t){for(var n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(n,"reloading");this._cache.filter((function(n){return!n.hasDependency(e,t)}))},n}(e.Evented);function Pe(e,t){var n=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Me(e){return"raster"===e||"image"===e||"video"===e}function Ie(){return new e.window.Worker(Xi.workerUrl)}Ae.maxOverzooming=10,Ae.maxUnderzooming=3;var Le="mapboxgl_preloaded_worker_pool",Re=function(){this.active={}};Re.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<Re.workerCount;)this.workers.push(new Ie);return this.active[e]=!0,this.workers.slice()},Re.prototype.release=function(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)},Re.prototype.isPreloaded=function(){return!!this.active[Le]},Re.prototype.numActive=function(){return Object.keys(this.active).length};var De,Ne=Math.floor(e.browser.hardwareConcurrency/2);function ze(){return De||(De=new Re),De}function Fe(t,n){var r={};for(var i in t)"ref"!==i&&(r[i]=t[i]);return e.refProperties.forEach((function(e){e in n&&(r[e]=n[e])})),r}function Be(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=Fe(e[r],t[e[r].ref]));return e}Re.workerCount=Math.max(Math.min(Ne,6),1);var Ue={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ve(e,t,n){n.push({command:Ue.addSource,args:[e,t[e]]})}function He(e,t,n){t.push({command:Ue.removeSource,args:[e]}),n[e]=!0}function qe(e,t,n,r){He(e,n,r),Ve(e,t,n)}function Ge(t,n,r){var i;for(i in t[r])if(t[r].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[r][i],n[r][i]))return!1;return!0}function We(t,n,r,i,o,a){var s;for(s in n=n||{},t=t||{})t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}))}function Ze(e){return e.id}function Ye(e,t){return e[t.id]=t,e}var Xe=function(e,t){this.reset(e,t)};Xe.prototype.reset=function(e,t){this.points=e||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Xe.prototype.lerp=function(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);for(var n=1,r=this._distances[n],i=t*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var o=n-1,a=this._distances[o],s=r-a,u=s>0?(i-a)/s:0;return this.points[o].mult(1-u).add(this.points[n].mult(u))};var Ke=function(e,t,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};function Je(t,n,r,i,o){var a=e.create();return n?(e.scale(a,a,[1/o,1/o,1]),r||e.rotateZ(a,a,i.angle)):e.multiply(a,i.labelPlaneMatrix,t),a}function Qe(t,n,r,i,o){if(n){var a=e.clone(t);return e.scale(a,a,[o,o,1]),r||e.rotateZ(a,a,-i.angle),a}return i.glCoordMatrix}function $e(t,n){var r=[t.x,t.y,0,1];lt(r,r,n);var i=r[3];return{point:new e.Point(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function et(e,t){return.5+e/t*.5}function tt(e,t){var n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function nt(t,n,r,i,o,a,s,u){var c=i?t.textSizeData:t.iconSizeData,l=e.evaluateSizeForZoom(c,r.transform.zoom),f=[256/r.width*2+1,256/r.height*2+1],p=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;p.clear();for(var h=t.lineVertexArray,d=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,m=r.transform.width/r.transform.height,v=!1,y=0;y<d.length;y++){var g=d.get(y);if(g.hidden||g.writingMode===e.WritingMode.vertical&&!v)ct(g.numGlyphs,p);else{v=!1;var b=[g.anchorX,g.anchorY,0,1];if(e.transformMat4(b,b,n),tt(b,f)){var x=et(r.transform.cameraToCenterDistance,b[3]),_=e.evaluateSizeForFeature(c,l,g),w=s?_/x:_*x,S=new e.Point(g.anchorX,g.anchorY),O=$e(S,o).point,E={},k=ot(g,w,!1,u,n,o,a,t.glyphOffsetArray,h,p,O,S,E,m);v=k.useVertical,(k.notEnoughRoom||v||k.needsFlipping&&ot(g,w,!0,u,n,o,a,t.glyphOffsetArray,h,p,O,S,E,m).notEnoughRoom)&&ct(g.numGlyphs,p)}else ct(g.numGlyphs,p)}}i?t.text.dynamicLayoutVertexBuffer.updateData(p):t.icon.dynamicLayoutVertexBuffer.updateData(p)}function rt(e,t,n,r,i,o,a,s,u,c,l){var f=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,h=s.lineStartIndex+s.lineLength,d=t.getoffsetX(s.glyphStartIndex),m=t.getoffsetX(f-1),v=st(e*d,n,r,i,o,a,s.segment,p,h,u,c,l);if(!v)return null;var y=st(e*m,n,r,i,o,a,s.segment,p,h,u,c,l);return y?{first:v,last:y}:null}function it(t,n,r,i){return t===e.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(t===e.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function ot(t,n,r,i,o,a,s,u,c,l,f,p,h,d){var m,v=n/24,y=t.lineOffsetX*v,g=t.lineOffsetY*v;if(t.numGlyphs>1){var b=t.glyphStartIndex+t.numGlyphs,x=t.lineStartIndex,_=t.lineStartIndex+t.lineLength,w=rt(v,u,y,g,r,f,p,t,c,a,h);if(!w)return{notEnoughRoom:!0};var S=$e(w.first.point,s).point,O=$e(w.last.point,s).point;if(i&&!r){var E=it(t.writingMode,S,O,d);if(E)return E}m=[w.first];for(var k=t.glyphStartIndex+1;k<b-1;k++)m.push(st(v*u.getoffsetX(k),y,g,r,f,p,t.segment,x,_,c,a,h));m.push(w.last)}else{if(i&&!r){var C=$e(p,o).point,j=t.lineStartIndex+t.segment+1,T=new e.Point(c.getx(j),c.gety(j)),A=$e(T,o),P=A.signedDistanceFromCamera>0?A.point:at(p,T,C,1,o),M=it(t.writingMode,C,P,d);if(M)return M}var I=st(v*u.getoffsetX(t.glyphStartIndex),y,g,r,f,p,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,c,a,h);if(!I)return{notEnoughRoom:!0};m=[I]}for(var L=0,R=m;L<R.length;L+=1){var D=R[L];e.addDynamicAttributes(l,D.point,D.angle)}return{}}function at(e,t,n,r,i){var o=$e(e.add(e.sub(t)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function st(t,n,r,i,o,a,s,u,c,l,f,p){var h=i?t-n:t+n,d=h>0?1:-1,m=0;i&&(d*=-1,m=Math.PI),d<0&&(m+=Math.PI);for(var v=d>0?u+s:u+s+1,y=o,g=o,b=0,x=0,_=Math.abs(h),w=[];b+x<=_;){if((v+=d)<u||v>=c)return null;if(g=y,w.push(y),void 0===(y=p[v])){var S=new e.Point(l.getx(v),l.gety(v)),O=$e(S,f);if(O.signedDistanceFromCamera>0)y=p[v]=O.point;else{var E=v-d;y=at(0===b?a:new e.Point(l.getx(E),l.gety(E)),S,g,_-b+1,f)}}b+=x,x=g.dist(y)}var k=(_-b)/x,C=y.sub(g),j=C.mult(k)._add(g);j._add(C._unit()._perp()._mult(r*d));var T=m+Math.atan2(y.y-g.y,y.x-g.x);return w.push(j),{point:j,angle:T,path:w}}Ke.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ke.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Ke.prototype.insertCircle=function(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)},Ke.prototype._insertBoxCell=function(e,t,n,r,i,o){this.boxCells[i].push(o)},Ke.prototype._insertCircleCell=function(e,t,n,r,i,o){this.circleCells[i].push(o)},Ke.prototype._query=function(e,t,n,r,i,o){if(n<0||e>this.width||r<0||t>this.height)return!i&&[];var a=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var u=0;u<this.circleKeys.length;u++){var c=this.circles[3*u],l=this.circles[3*u+1],f=this.circles[3*u+2];a.push({key:this.circleKeys[u],x1:c-f,y1:l-f,x2:c+f,y2:l+f})}return o?a.filter(o):a}return this._forEachCell(e,t,n,r,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a},Ke.prototype._queryCircle=function(e,t,n,r,i){var o=e-n,a=e+n,s=t-n,u=t+n;if(a<0||o>this.width||u<0||s>this.height)return!r&&[];var c=[];return this._forEachCell(o,s,a,u,this._queryCellCircle,c,{hitTest:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},i),r?c.length>0:c},Ke.prototype.query=function(e,t,n,r,i){return this._query(e,t,n,r,!1,i)},Ke.prototype.hitTest=function(e,t,n,r,i){return this._query(e,t,n,r,!0,i)},Ke.prototype.hitTestCircle=function(e,t,n,r){return this._queryCircle(e,t,n,!0,r)},Ke.prototype._queryCell=function(e,t,n,r,i,o,a,s){var u=a.seenUids,c=this.boxCells[i];if(null!==c)for(var l=this.bboxes,f=0,p=c;f<p.length;f+=1){var h=p[f];if(!u.box[h]){u.box[h]=!0;var d=4*h;if(e<=l[d+2]&&t<=l[d+3]&&n>=l[d+0]&&r>=l[d+1]&&(!s||s(this.boxKeys[h]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[h],x1:l[d],y1:l[d+1],x2:l[d+2],y2:l[d+3]})}}}var m=this.circleCells[i];if(null!==m)for(var v=this.circles,y=0,g=m;y<g.length;y+=1){var b=g[y];if(!u.circle[b]){u.circle[b]=!0;var x=3*b;if(this._circleAndRectCollide(v[x],v[x+1],v[x+2],e,t,n,r)&&(!s||s(this.circleKeys[b]))){if(a.hitTest)return o.push(!0),!0;var _=v[x],w=v[x+1],S=v[x+2];o.push({key:this.circleKeys[b],x1:_-S,y1:w-S,x2:_+S,y2:w+S})}}}},Ke.prototype._queryCellCircle=function(e,t,n,r,i,o,a,s){var u=a.circle,c=a.seenUids,l=this.boxCells[i];if(null!==l)for(var f=this.bboxes,p=0,h=l;p<h.length;p+=1){var d=h[p];if(!c.box[d]){c.box[d]=!0;var m=4*d;if(this._circleAndRectCollide(u.x,u.y,u.radius,f[m+0],f[m+1],f[m+2],f[m+3])&&(!s||s(this.boxKeys[d])))return o.push(!0),!0}}var v=this.circleCells[i];if(null!==v)for(var y=this.circles,g=0,b=v;g<b.length;g+=1){var x=b[g];if(!c.circle[x]){c.circle[x]=!0;var _=3*x;if(this._circlesCollide(y[_],y[_+1],y[_+2],u.x,u.y,u.radius)&&(!s||s(this.circleKeys[x])))return o.push(!0),!0}}},Ke.prototype._forEachCell=function(e,t,n,r,i,o,a,s){for(var u=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),l=this._convertToXCellCoord(n),f=this._convertToYCellCoord(r),p=u;p<=l;p++)for(var h=c;h<=f;h++)if(i.call(this,e,t,n,r,this.xCellCount*h+p,o,a,s))return},Ke.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},Ke.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},Ke.prototype._circlesCollide=function(e,t,n,r,i,o){var a=r-e,s=i-t,u=n+o;return u*u>a*a+s*s},Ke.prototype._circleAndRectCollide=function(e,t,n,r,i,o,a){var s=(o-r)/2,u=Math.abs(e-(r+s));if(u>s+n)return!1;var c=(a-i)/2,l=Math.abs(t-(i+c));if(l>c+n)return!1;if(u<=s||l<=c)return!0;var f=u-s,p=l-c;return f*f+p*p<=n*n};var ut=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ct(e,t){for(var n=0;n<e;n++){var r=t.length;t.resize(r+4),t.float32.set(ut,3*r)}}function lt(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e[3]=n[3]*r+n[7]*i+n[15],e}var ft=function(e,t,n){void 0===t&&(t=new Ke(e.width+200,e.height+200,25)),void 0===n&&(n=new Ke(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};function pt(t,n,r){return n*(e.EXTENT/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}ft.prototype.placeCollisionBox=function(e,t,n,r,i){var o=this.projectAndGetPerspectiveRatio(r,e.anchorPointX,e.anchorPointY),a=n*o.perspectiveRatio,s=e.x1*a+o.point.x,u=e.y1*a+o.point.y,c=e.x2*a+o.point.x,l=e.y2*a+o.point.y;return!this.isInsideGrid(s,u,c,l)||!t&&this.grid.hitTest(s,u,c,l,i)?{box:[],offscreen:!1}:{box:[s,u,c,l],offscreen:this.isOffscreen(s,u,c,l)}},ft.prototype.placeCollisionCircles=function(t,n,r,i,o,a,s,u,c,l,f,p,h){var d=[],m=new e.Point(n.anchorX,n.anchorY),v=$e(m,a),y=et(this.transform.cameraToCenterDistance,v.signedDistanceFromCamera),g=(l?o/y:o*y)/e.ONE_EM,b=$e(m,s).point,x=rt(g,i,n.lineOffsetX*g,n.lineOffsetY*g,!1,b,m,n,r,s,{}),_=!1,w=!1,S=!0;if(x){for(var O=.5*p*y+h,E=new e.Point(-100,-100),k=new e.Point(this.screenRightBoundary,this.screenBottomBoundary),C=new Xe,j=x.first,T=x.last,A=[],P=j.path.length-1;P>=1;P--)A.push(j.path[P]);for(var M=1;M<T.path.length;M++)A.push(T.path[M]);var I=2.5*O;if(u){var L=A.map((function(e){return $e(e,u)}));A=L.some((function(e){return e.signedDistanceFromCamera<=0}))?[]:L.map((function(e){return e.point}))}var R=[];if(A.length>0){for(var D=A[0].clone(),N=A[0].clone(),z=1;z<A.length;z++)D.x=Math.min(D.x,A[z].x),D.y=Math.min(D.y,A[z].y),N.x=Math.max(N.x,A[z].x),N.y=Math.max(N.y,A[z].y);R=D.x>=E.x&&N.x<=k.x&&D.y>=E.y&&N.y<=k.y?[A]:N.x<E.x||D.x>k.x||N.y<E.y||D.y>k.y?[]:e.clipLine([A],E.x,E.y,k.x,k.y)}for(var F=0,B=R;F<B.length;F+=1){var U;C.reset(B[F],.25*O),U=C.length<=.5*O?1:Math.ceil(C.paddedLength/I)+1;for(var V=0;V<U;V++){var H=V/Math.max(U-1,1),q=C.lerp(H),G=q.x+100,W=q.y+100;d.push(G,W,O,0);var Z=G-O,Y=W-O,X=G+O,K=W+O;if(S=S&&this.isOffscreen(Z,Y,X,K),w=w||this.isInsideGrid(Z,Y,X,K),!t&&this.grid.hitTestCircle(G,W,O,f)&&(_=!0,!c))return{circles:[],offscreen:!1,collisionDetected:_}}}}return{circles:!c&&_||!w?[]:d,offscreen:S,collisionDetected:_}},ft.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],r=1/0,i=1/0,o=-1/0,a=-1/0,s=0,u=t;s<u.length;s+=1){var c=u[s],l=new e.Point(c.x+100,c.y+100);r=Math.min(r,l.x),i=Math.min(i,l.y),o=Math.max(o,l.x),a=Math.max(a,l.y),n.push(l)}for(var f={},p={},h=0,d=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a));h<d.length;h+=1){var m=d[h],v=m.key;if(void 0===f[v.bucketInstanceId]&&(f[v.bucketInstanceId]={}),!f[v.bucketInstanceId][v.featureIndex]){var y=[new e.Point(m.x1,m.y1),new e.Point(m.x2,m.y1),new e.Point(m.x2,m.y2),new e.Point(m.x1,m.y2)];e.polygonIntersectsPolygon(n,y)&&(f[v.bucketInstanceId][v.featureIndex]=!0,void 0===p[v.bucketInstanceId]&&(p[v.bucketInstanceId]=[]),p[v.bucketInstanceId].push(v.featureIndex))}}return p},ft.prototype.insertCollisionBox=function(e,t,n,r,i){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},e[0],e[1],e[2],e[3])},ft.prototype.insertCollisionCircles=function(e,t,n,r,i){for(var o=t?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<e.length;s+=4)o.insertCircle(a,e[s],e[s+1],e[s+2])},ft.prototype.projectAndGetPerspectiveRatio=function(t,n,r){var i=[n,r,0,1];return lt(i,i,t),{point:new e.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},ft.prototype.isOffscreen=function(e,t,n,r){return n<100||e>=this.screenRightBoundary||r<100||t>this.screenBottomBoundary},ft.prototype.isInsideGrid=function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary},ft.prototype.getViewportMatrix=function(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t};var ht=function(e,t,n,r){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):r&&n?1:0,this.placed=n};ht.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var dt=function(e,t,n,r,i){this.text=new ht(e?e.text:null,t,n,i),this.icon=new ht(e?e.icon:null,t,r,i)};dt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var mt=function(e,t,n){this.text=e,this.icon=t,this.skipFade=n},vt=function(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]},yt=function(e,t,n,r,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i},gt=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};function bt(t,n,r,i,o){var a=e.getAnchorAlignment(t),s=-(a.horizontalAlign-.5)*n,u=-(a.verticalAlign-.5)*r,c=e.evaluateVariableOffset(t,i);return new e.Point(s+c[0]*o,u+c[1]*o)}function xt(t,n,r,i,o,a){var s=t.x1,u=t.x2,c=t.y1,l=t.y2,f=t.anchorPointX,p=t.anchorPointY,h=new e.Point(n,r);return i&&h._rotate(o?a:-a),{x1:s+h.x,y1:c+h.y,x2:u+h.x,y2:l+h.y,anchorPointX:f,anchorPointY:p}}gt.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var _t=function(e,t,n,r){this.transform=e.clone(),this.collisionIndex=new ft(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new gt(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}};function wt(e,t,n,r,i){e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0)}_t.prototype.getBucketParts=function(t,n,r,i){var o=r.getBucket(n),a=r.latestFeatureIndex;if(o&&a&&n.id===o.layerIds[0]){var s=r.collisionBoxArray,u=o.layers[0].layout,c=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),l=r.tileSize/e.EXTENT,f=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),p="map"===u.get("text-pitch-alignment"),h="map"===u.get("text-rotation-alignment"),d=pt(r,1,this.transform.zoom),m=Je(f,p,h,this.transform,d),v=null;if(p){var y=Qe(f,p,h,this.transform,d);v=e.multiply([],this.transform.labelPlaneMatrix,y)}this.retainedQueryData[o.bucketInstanceId]=new yt(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,r.tileID);var g={bucket:o,layout:u,posMatrix:f,textLabelPlaneMatrix:m,labelToScreenMatrix:v,scale:c,textPixelRatio:l,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(var b=0,x=o.sortKeyRanges;b<x.length;b+=1){var _=x[b];t.push({sortKey:_.sortKey,symbolInstanceStart:_.symbolInstanceStart,symbolInstanceEnd:_.symbolInstanceEnd,parameters:g})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:g})}},_t.prototype.attemptAnchorPlacement=function(e,t,n,r,i,o,a,s,u,c,l,f,p,h,d){var m,v=[f.textOffset0,f.textOffset1],y=bt(e,n,r,v,i),g=this.collisionIndex.placeCollisionBox(xt(t,y.x,y.y,o,a,this.transform.angle),l,s,u,c.predicate);if(!d||0!==this.collisionIndex.placeCollisionBox(xt(d,y.x,y.y,o,a,this.transform.angle),l,s,u,c.predicate).box.length)return g.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID].text&&(m=this.prevPlacement.variableOffsets[f.crossTileID].anchor),this.variableOffsets[f.crossTileID]={textOffset:v,width:n,height:r,anchor:e,textBoxScale:i,prevAnchor:m},this.markUsedJustification(p,e,f,h),p.allowVerticalPlacement&&(this.markUsedOrientation(p,h,f),this.placedOrientations[f.crossTileID]=h),{shift:y,placedGlyphBoxes:g}):void 0},_t.prototype.placeLayerBucketPart=function(t,n,r){var i=this,o=t.parameters,a=o.bucket,s=o.layout,u=o.posMatrix,c=o.textLabelPlaneMatrix,l=o.labelToScreenMatrix,f=o.textPixelRatio,p=o.holdingForFade,h=o.collisionBoxArray,d=o.partiallyEvaluatedTextSize,m=o.collisionGroup,v=s.get("text-optional"),y=s.get("icon-optional"),g=s.get("text-allow-overlap"),b=s.get("icon-allow-overlap"),x="map"===s.get("text-rotation-alignment"),_="map"===s.get("text-pitch-alignment"),w="none"!==s.get("icon-text-fit"),S="viewport-y"===s.get("symbol-z-order"),O=g&&(b||!a.hasIconData()||y),E=b&&(g||!a.hasTextData()||v);!a.collisionArrays&&h&&a.deserializeCollisionBoxes(h);var k=function(t,o){if(!n[t.crossTileID])if(p)i.placements[t.crossTileID]=new mt(!1,!1,!1);else{var h,S=!1,k=!1,C=!0,j=null,T={box:null,offscreen:null},A={box:null,offscreen:null},P=null,M=null,I=0,L=0,R=0;o.textFeatureIndex?I=o.textFeatureIndex:t.useRuntimeCollisionCircles&&(I=t.featureIndex),o.verticalTextFeatureIndex&&(L=o.verticalTextFeatureIndex);var D=o.textBox;if(D){var N=function(n){var r=e.WritingMode.horizontal;if(a.allowVerticalPlacement&&!n&&i.prevPlacement){var o=i.prevPlacement.placedOrientations[t.crossTileID];o&&(i.placedOrientations[t.crossTileID]=o,i.markUsedOrientation(a,r=o,t))}return r},z=function(n,r){if(a.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&o.verticalTextBox)for(var i=0,s=a.writingModes;i<s.length&&(s[i]===e.WritingMode.vertical?(T=r(),A=T):T=n(),!(T&&T.box&&T.box.length));i+=1);else T=n()};if(s.get("text-variable-anchor")){var F=s.get("text-variable-anchor");if(i.prevPlacement&&i.prevPlacement.variableOffsets[t.crossTileID]){var B=i.prevPlacement.variableOffsets[t.crossTileID];F.indexOf(B.anchor)>0&&(F=F.filter((function(e){return e!==B.anchor}))).unshift(B.anchor)}var U=function(e,n,r){for(var o=e.x2-e.x1,s=e.y2-e.y1,c=t.textBoxScale,l=w&&!b?n:null,p={box:[],offscreen:!1},h=g?2*F.length:F.length,d=0;d<h;++d){var v=i.attemptAnchorPlacement(F[d%F.length],e,o,s,c,x,_,f,u,m,d>=F.length,t,a,r,l);if(v&&(p=v.placedGlyphBoxes)&&p.box&&p.box.length){S=!0,j=v.shift;break}}return p};z((function(){return U(D,o.iconBox,e.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&!(T&&T.box&&T.box.length)&&t.numVerticalGlyphVertices>0&&n?U(n,o.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),T&&(S=T.box,C=T.offscreen);var V=N(T&&T.box);if(!S&&i.prevPlacement){var H=i.prevPlacement.variableOffsets[t.crossTileID];H&&(i.variableOffsets[t.crossTileID]=H,i.markUsedJustification(a,H.anchor,t,V))}}else{var q=function(e,n){var r=i.collisionIndex.placeCollisionBox(e,g,f,u,m.predicate);return r&&r.box&&r.box.length&&(i.markUsedOrientation(a,n,t),i.placedOrientations[t.crossTileID]=n),r};z((function(){return q(D,e.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&n?q(n,e.WritingMode.vertical):{box:null,offscreen:null}})),N(T&&T.box&&T.box.length)}}if(S=(h=T)&&h.box&&h.box.length>0,C=h&&h.offscreen,t.useRuntimeCollisionCircles){var G=a.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),W=e.evaluateSizeForFeature(a.textSizeData,d,G),Z=s.get("text-padding");P=i.collisionIndex.placeCollisionCircles(g,G,a.lineVertexArray,a.glyphOffsetArray,W,u,c,l,r,_,m.predicate,t.collisionCircleDiameter,Z),S=g||P.circles.length>0&&!P.collisionDetected,C=C&&P.offscreen}if(o.iconFeatureIndex&&(R=o.iconFeatureIndex),o.iconBox){var Y=function(e){var t=w&&j?xt(e,j.x,j.y,x,_,i.transform.angle):e;return i.collisionIndex.placeCollisionBox(t,b,f,u,m.predicate)};k=A&&A.box&&A.box.length&&o.verticalIconBox?(M=Y(o.verticalIconBox)).box.length>0:(M=Y(o.iconBox)).box.length>0,C=C&&M.offscreen}var X=v||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,K=y||0===t.numIconVertices;if(X||K?K?X||(k=k&&S):S=k&&S:k=S=k&&S,S&&h&&h.box&&i.collisionIndex.insertCollisionBox(h.box,s.get("text-ignore-placement"),a.bucketInstanceId,A&&A.box&&L?L:I,m.ID),k&&M&&i.collisionIndex.insertCollisionBox(M.box,s.get("icon-ignore-placement"),a.bucketInstanceId,R,m.ID),P&&(S&&i.collisionIndex.insertCollisionCircles(P.circles,s.get("text-ignore-placement"),a.bucketInstanceId,I,m.ID),r)){var J=a.bucketInstanceId,Q=i.collisionCircleArrays[J];void 0===Q&&(Q=i.collisionCircleArrays[J]=new vt);for(var $=0;$<P.circles.length;$+=4)Q.circles.push(P.circles[$+0]),Q.circles.push(P.circles[$+1]),Q.circles.push(P.circles[$+2]),Q.circles.push(P.collisionDetected?1:0)}i.placements[t.crossTileID]=new mt(S||O,k||E,C||a.justReloaded),n[t.crossTileID]=!0}};if(S)for(var C=a.getSortedSymbolIndexes(this.transform.angle),j=C.length-1;j>=0;--j){var T=C[j];k(a.symbolInstances.get(T),a.collisionArrays[T])}else for(var A=t.symbolInstanceStart;A<t.symbolInstanceEnd;A++)k(a.symbolInstances.get(A),a.collisionArrays[A]);if(r&&a.bucketInstanceId in this.collisionCircleArrays){var P=this.collisionCircleArrays[a.bucketInstanceId];e.invert(P.invProjMatrix,u),P.viewportMatrix=this.collisionIndex.getViewportMatrix()}a.justReloaded=!1},_t.prototype.markUsedJustification=function(t,n,r,i){var o;o=i===e.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(n)];for(var a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];a<s.length;a+=1){var u=s[a];u>=0&&(t.text.placedSymbolArray.get(u).crossTileID=o>=0&&u!==o?0:r.crossTileID)}},_t.prototype.markUsedOrientation=function(t,n,r){for(var i=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,o=n===e.WritingMode.vertical?n:0,a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];a<s.length;a+=1)t.text.placedSymbolArray.get(s[a]).placedOrientation=i;r.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)},_t.prototype.commit=function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var r=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(var s in this.placements){var u=this.placements[s],c=i[s];c?(this.opacities[s]=new dt(c,r,u.text,u.icon),n=n||u.text!==c.text.placed||u.icon!==c.icon.placed):(this.opacities[s]=new dt(null,r,u.text,u.icon,u.skipFade),n=n||u.text||u.icon)}for(var l in i){var f=i[l];if(!this.opacities[l]){var p=new dt(f,r,!1,!1);p.isHidden()||(this.opacities[l]=p,n=n||f.text.placed||f.icon.placed)}}for(var h in o)this.variableOffsets[h]||!this.opacities[h]||this.opacities[h].isHidden()||(this.variableOffsets[h]=o[h]);for(var d in a)this.placedOrientations[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.placedOrientations[d]=a[d]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},_t.prototype.updateLayerOpacities=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.getBucket(e);a&&o.latestFeatureIndex&&e.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},_t.prototype.updateBucketOpacities=function(t,n,r){var i=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var o=t.layers[0].layout,a=new dt(null,0,!1,!1,!0),s=o.get("text-allow-overlap"),u=o.get("icon-allow-overlap"),c=o.get("text-variable-anchor"),l="map"===o.get("text-rotation-alignment"),f="map"===o.get("text-pitch-alignment"),p="none"!==o.get("icon-text-fit"),h=new dt(null,0,s&&(u||!t.hasIconData()||o.get("icon-optional")),u&&(s||!t.hasTextData()||o.get("text-optional")),!0);!t.collisionArrays&&r&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(r);for(var d=function(e,t,n){for(var r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n)},m=function(r){var o=t.symbolInstances.get(r),s=o.numHorizontalGlyphVertices,u=o.numVerticalGlyphVertices,m=o.crossTileID,v=i.opacities[m];n[m]?v=a:v||(i.opacities[m]=v=h),n[m]=!0;var y=o.numIconVertices>0,g=i.placedOrientations[o.crossTileID],b=g===e.WritingMode.vertical,x=g===e.WritingMode.horizontal||g===e.WritingMode.horizontalOnly;if(s>0||u>0){var _=At(v.text);d(t.text,s,b?Pt:_),d(t.text,u,x?Pt:_);var w=v.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=w||b?1:0)})),o.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=w||x?1:0);var S=i.variableOffsets[o.crossTileID];S&&i.markUsedJustification(t,S.anchor,o,g);var O=i.placedOrientations[o.crossTileID];O&&(i.markUsedJustification(t,"left",o,O),i.markUsedOrientation(t,O,o))}if(y){var E=At(v.icon),k=!(p&&o.verticalPlacedIconSymbolIndex&&b);o.placedIconSymbolIndex>=0&&(d(t.icon,o.numIconVertices,k?E:Pt),t.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=v.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(d(t.icon,o.numVerticalIconVertices,k?Pt:E),t.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=v.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var C=t.collisionArrays[r];if(C){var j=new e.Point(0,0);if(C.textBox||C.verticalTextBox){var T=!0;if(c){var A=i.variableOffsets[m];A?(j=bt(A.anchor,A.width,A.height,A.textOffset,A.textBoxScale),l&&j._rotate(f?i.transform.angle:-i.transform.angle)):T=!1}C.textBox&&wt(t.textCollisionBox.collisionVertexArray,v.text.placed,!T||b,j.x,j.y),C.verticalTextBox&&wt(t.textCollisionBox.collisionVertexArray,v.text.placed,!T||x,j.x,j.y)}var P=Boolean(!x&&C.verticalIconBox);C.iconBox&&wt(t.iconCollisionBox.collisionVertexArray,v.icon.placed,P,p?j.x:0,p?j.y:0),C.verticalIconBox&&wt(t.iconCollisionBox.collisionVertexArray,v.icon.placed,!P,p?j.x:0,p?j.y:0)}}},v=0;v<t.symbolInstances.length;v++)m(v);if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var y=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=y.invProjMatrix,t.placementViewportMatrix=y.viewportMatrix,t.collisionCircleArray=y.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}},_t.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},_t.prototype.zoomAdjustment=function(e){return Math.max(0,(this.transform.zoom-e)/1.5)},_t.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},_t.prototype.stillRecent=function(e,t){var n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e},_t.prototype.setStale=function(){this.stale=!0};var St=Math.pow(2,25),Ot=Math.pow(2,24),Et=Math.pow(2,17),kt=Math.pow(2,16),Ct=Math.pow(2,9),jt=Math.pow(2,8),Tt=Math.pow(2,1);function At(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*St+t*Ot+n*Et+t*kt+n*Ct+t*jt+n*Tt+t}var Pt=0,Mt=function(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Mt.prototype.continuePlacement=function(e,t,n,r,i){for(var o=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(o,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((function(e,t){return e.sortKey-t.sortKey})));this._currentPartIndex<o.length;)if(t.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1};var It=function(e,t,n,r,i,o,a){this.placement=new _t(e,i,o,a),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};It.prototype.isDone=function(){return this._done},It.prototype.continuePlacement=function(t,n,r){for(var i=this,o=e.browser.now(),a=function(){var t=e.browser.now()-o;return!i._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=n[t[this._currentPlacementIndex]],u=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=u)&&(!s.maxzoom||s.maxzoom>u)){if(this._inProgressLayer||(this._inProgressLayer=new Mt(s)),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},It.prototype.commit=function(e){return this.placement.commit(e),this.placement};var Lt=512/e.EXTENT/2,Rt=function(e,t,n){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<t.length;r++){var i=t.get(r),o=i.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,e)})}};Rt.prototype.getScaledCoordinates=function(t,n){var r=Lt/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.anchorX)*r),y:Math.floor((n.canonical.y*e.EXTENT+t.anchorY)*r)}},Rt.prototype.findMatches=function(e,t,n){for(var r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),i=0;i<e.length;i++){var o=e.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,t),u=0,c=a;u<c.length;u+=1){var l=c[u];if(Math.abs(l.coord.x-s.x)<=r&&Math.abs(l.coord.y-s.y)<=r&&!n[l.crossTileID]){n[l.crossTileID]=!0,o.crossTileID=l.crossTileID;break}}}}};var Dt=function(){this.maxCrossTileID=0};Dt.prototype.generate=function(){return++this.maxCrossTileID};var Nt=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Nt.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+t),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=e},Nt.prototype.addBucket=function(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var i=this.usedCrossTileIDs[e.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>e.overscaledZ)for(var s in a){var u=a[s];u.tileID.isChildOf(e)&&u.findMatches(t.symbolInstances,e,i)}else{var c=a[e.scaledTo(Number(o)).key];c&&c.findMatches(t.symbolInstances,e,i)}}for(var l=0;l<t.symbolInstances.length;l++){var f=t.symbolInstances.get(l);f.crossTileID||(f.crossTileID=n.generate(),i[f.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Rt(e,t.symbolInstances,t.bucketInstanceId),!0},Nt.prototype.removeBucketCrossTileIDs=function(e,t){for(var n in t.indexedSymbolInstances)for(var r=0,i=t.indexedSymbolInstances[n];r<i.length;r+=1)delete this.usedCrossTileIDs[e][i[r].crossTileID]},Nt.prototype.removeStaleBuckets=function(e){var t=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)e[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],t=!0)}return t};var zt=function(){this.layerIndexes={},this.crossTileIDs=new Dt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};zt.prototype.addLayer=function(e,t,n){var r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new Nt);var i=!1,o={};r.handleWrapJump(n);for(var a=0,s=t;a<s.length;a+=1){var u=s[a],c=u.getBucket(e);c&&e.id===c.layerIds[0]&&(c.bucketInstanceId||(c.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(u.tileID,c,this.crossTileIDs)&&(i=!0),o[c.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},zt.prototype.pruneUnusedLayers=function(e){var t={};for(var n in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[n]||delete this.layerIndexes[n]};var Ft=function(t,n){return e.emitValidationErrors(t,n&&n.filter((function(e){return"source.canvas"!==e.identifier})))},Bt=e.pick(Ue,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ut=e.pick(Ue,["setCenter","setZoom","setBearing","setPitch"]),Vt=function(){var t={},n=e.styleSpec.$version;for(var r in e.styleSpec.$root){var i,o=e.styleSpec.$root[r];o.required&&null!=(i="version"===r?n:"array"===o.type?[]:{})&&(t[r]=i)}return t}(),Ht=function(t){function n(r,i){var o=this;void 0===i&&(i={}),t.call(this),this.map=r,this.dispatcher=new O(ze(),this),this.imageManager=new p,this.imageManager.setEventedParent(this),this.glyphManager=new b(r._requestManager,i.localIdeographFontFamily),this.lineAtlas=new S(256,512),this.crossTileSymbolIndex=new zt,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());var a=this;this._rtlTextPluginCallback=n.registerForPluginStateChange((function(t){a.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(function(t,n){if(e.triggerPluginCompletionEvent(t),n&&n.every((function(e){return e})))for(var r in a.sourceCaches)a.sourceCaches[r].reload()}))})),this.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=o.sourceCaches[e.sourceId];if(t){var n=t.getSource();if(n&&n.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===n.id&&o._validateLayer(i)}}}}))}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.loadURL=function(t,n){var r=this;void 0===n&&(n={}),this.fire(new e.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof n.validate?n.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,n.accessToken);var o=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(o,(function(t,n){r._request=null,t?r.fire(new e.ErrorEvent(t)):n&&r._load(n,i)}))},n.prototype.loadJSON=function(t,n){var r=this;void 0===n&&(n={}),this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame((function(){r._request=null,r._load(t,!1!==n.validate)}))},n.prototype.loadEmpty=function(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(Vt,!1)},n.prototype._load=function(t,n){if(!n||!Ft(this,e.validateStyle(t))){for(var r in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(r,t.sources[r],{validate:!1});t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=Be(this.stylesheet.layers);this._order=i.map((function(e){return e.id})),this._layers={},this._serializedLayers={};for(var o=0,a=i;o<a.length;o+=1){var s=a[o];(s=e.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}},n.prototype._loadSprite=function(t){var n=this;this._spriteRequest=function(t,n,r){var i,o,a,s=e.browser.devicePixelRatio>1?"@2x":"",u=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){u=null,a||(a=e,i=t,l())})),c=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){c=null,a||(a=e,o=t,l())}));function l(){if(a)r(a);else if(i&&o){var t=e.browser.getImageData(o),n={};for(var s in i){var u=i[s],c=u.width,l=u.height,f=u.x,p=u.y,h=u.sdf,d=u.pixelRatio,m=u.stretchX,v=u.stretchY,y=u.content,g=new e.RGBAImage({width:c,height:l});e.RGBAImage.copy(t,g,{x:f,y:p},{x:0,y:0},{width:c,height:l}),n[s]={data:g,pixelRatio:d,sdf:h,stretchX:m,stretchY:v,content:y}}r(null,n)}}return{cancel:function(){u&&(u.cancel(),u=null),c&&(c.cancel(),c=null)}}}(t,this.map._requestManager,(function(t,r){if(n._spriteRequest=null,t)n.fire(new e.ErrorEvent(t));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.fire(new e.Event("data",{dataType:"style"}))}))},n.prototype._validateLayer=function(t){var n=this.sourceCaches[t.source];if(n){var r=t.sourceLayer;if(r){var i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new e.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+i.id+'" as specified by style layer "'+t.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(e){for(var t=[],n=0,r=e;n<r.length;n+=1){var i=this._layers[r[n]];"custom"!==i.type&&t.push(i.serialize())}return t},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(t){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var o in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}var u={};for(var c in this.sourceCaches){var l=this.sourceCaches[c];u[c]=l.used,l.used=!1}for(var f=0,p=this._order;f<p.length;f+=1){var h=this._layers[p[f]];h.recalculate(t,this._availableImages),!h.isHidden(t.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}for(var d in u){var m=this.sourceCaches[d];u[d]!==m.used&&m.fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:d}))}this.light.recalculate(t),this.z=t.zoom,n&&this.fire(new e.Event("data",{dataType:"style"}))}},n.prototype._updateTilesForChangedImages=function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}},n.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},n.prototype.setState=function(t){var n=this;if(this._checkLoaded(),Ft(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=Be(t.layers);var r=function(t,n){if(!t)return[{command:Ue.setStyle,args:[n]}];var r=[];try{if(!e.deepEqual(t.version,n.version))return[{command:Ue.setStyle,args:[n]}];e.deepEqual(t.center,n.center)||r.push({command:Ue.setCenter,args:[n.center]}),e.deepEqual(t.zoom,n.zoom)||r.push({command:Ue.setZoom,args:[n.zoom]}),e.deepEqual(t.bearing,n.bearing)||r.push({command:Ue.setBearing,args:[n.bearing]}),e.deepEqual(t.pitch,n.pitch)||r.push({command:Ue.setPitch,args:[n.pitch]}),e.deepEqual(t.sprite,n.sprite)||r.push({command:Ue.setSprite,args:[n.sprite]}),e.deepEqual(t.glyphs,n.glyphs)||r.push({command:Ue.setGlyphs,args:[n.glyphs]}),e.deepEqual(t.transition,n.transition)||r.push({command:Ue.setTransition,args:[n.transition]}),e.deepEqual(t.light,n.light)||r.push({command:Ue.setLight,args:[n.light]});var i={},o=[];!function(t,n,r,i){var o;for(o in n=n||{},t=t||{})t.hasOwnProperty(o)&&(n.hasOwnProperty(o)||He(o,r,i));for(o in n)n.hasOwnProperty(o)&&(t.hasOwnProperty(o)?e.deepEqual(t[o],n[o])||("geojson"===t[o].type&&"geojson"===n[o].type&&Ge(t,n,o)?r.push({command:Ue.setGeoJSONSourceData,args:[o,n[o].data]}):qe(o,n,r,i)):Ve(o,n,r))}(t.sources,n.sources,o,i);var a=[];t.layers&&t.layers.forEach((function(e){i[e.source]?r.push({command:Ue.removeLayer,args:[e.id]}):a.push(e)})),r=r.concat(o),function(t,n,r){n=n||[];var i,o,a,s,u,c,l,f=(t=t||[]).map(Ze),p=n.map(Ze),h=t.reduce(Ye,{}),d=n.reduce(Ye,{}),m=f.slice(),v=Object.create(null);for(i=0,o=0;i<f.length;i++)d.hasOwnProperty(a=f[i])?o++:(r.push({command:Ue.removeLayer,args:[a]}),m.splice(m.indexOf(a,o),1));for(i=0,o=0;i<p.length;i++)m[m.length-1-i]!==(a=p[p.length-1-i])&&(h.hasOwnProperty(a)?(r.push({command:Ue.removeLayer,args:[a]}),m.splice(m.lastIndexOf(a,m.length-o),1)):o++,r.push({command:Ue.addLayer,args:[d[a],c=m[m.length-i]]}),m.splice(m.length-i,0,a),v[a]=!0);for(i=0;i<p.length;i++)if(s=h[a=p[i]],u=d[a],!v[a]&&!e.deepEqual(s,u))if(e.deepEqual(s.source,u.source)&&e.deepEqual(s["source-layer"],u["source-layer"])&&e.deepEqual(s.type,u.type)){for(l in We(s.layout,u.layout,r,a,null,Ue.setLayoutProperty),We(s.paint,u.paint,r,a,null,Ue.setPaintProperty),e.deepEqual(s.filter,u.filter)||r.push({command:Ue.setFilter,args:[a,u.filter]}),e.deepEqual(s.minzoom,u.minzoom)&&e.deepEqual(s.maxzoom,u.maxzoom)||r.push({command:Ue.setLayerZoomRange,args:[a,u.minzoom,u.maxzoom]}),s)s.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?We(s[l],u[l],r,a,l.slice(6),Ue.setPaintProperty):e.deepEqual(s[l],u[l])||r.push({command:Ue.setLayerProperty,args:[a,l,u[l]]}));for(l in u)u.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?We(s[l],u[l],r,a,l.slice(6),Ue.setPaintProperty):e.deepEqual(s[l],u[l])||r.push({command:Ue.setLayerProperty,args:[a,l,u[l]]}))}else r.push({command:Ue.removeLayer,args:[a]}),c=m[m.lastIndexOf(a)+1],r.push({command:Ue.addLayer,args:[u,c]})}(a,n.layers,r)}catch(e){console.warn("Unable to compute style diff:",e),r=[{command:Ue.setStyle,args:[n]}]}return r}(this.serialize(),t).filter((function(e){return!(e.command in Ut)}));if(0===r.length)return!1;var i=r.filter((function(e){return!(e.command in Bt)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(e){return e.command})).join(", ")+".");return r.forEach((function(e){"setTransition"!==e.command&&n[e.command].apply(n,e.args)})),this.stylesheet=t,!0},n.prototype.addImage=function(t,n){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,n),this._afterImageUpdated(t)},n.prototype.updateImage=function(e,t){this.imageManager.updateImage(e,t)},n.prototype.getImage=function(e){return this.imageManager.getImage(e)},n.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this._afterImageUpdated(t)},n.prototype._afterImageUpdated=function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(t,n,r){var i=this;if(void 0===r&&(r={}),this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.validateStyle.source,"sources."+t,n,null,r))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[t]=new Ae(t,n,this.dispatcher);o.style=this,o.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:o.serialize(),sourceId:t}})),o.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+n+'" is using it.')));var r=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],r.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},n.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},n.prototype.addLayer=function(t,n,r){void 0===r&&(r={}),this._checkLoaded();var i=t.id;if(this.getLayer(i))this.fire(new e.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var o;if("custom"===t.type){if(Ft(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,"layers."+i,t,{arrayIndex:-1},r))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[o.id]=o.serialize()}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new e.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},n.prototype.moveLayer=function(t,n){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==n){var r=this._order.indexOf(t);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new e.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(i,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(t){this._checkLoaded();var n=this._layers[t];if(n){n.setEventedParent(null);var r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(e){return this._layers[e]},n.prototype.hasLayer=function(e){return e in this._layers},n.prototype.setLayerZoomRange=function(t,n,r){this._checkLoaded();var i=this.getLayer(t);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(t,n,r){void 0===r&&(r={}),this._checkLoaded();var i=this.getLayer(t);if(i){if(!e.deepEqual(i.filter,n))return null==n?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(e.validateStyle.filter,"layers."+i.id+".filter",n,null,r)||(i.filter=e.clone$1(n),this._updateLayer(i)))}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(t){return e.clone$1(this.getLayer(t).filter)},n.prototype.setLayoutProperty=function(t,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getLayoutProperty(n),r)||(o.setLayoutProperty(n,r,i),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(t,n){var r=this.getLayer(t);if(r)return r.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(t,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getPaintProperty(n),r)||(o.setPaintProperty(n,r,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},n.prototype.setFeatureState=function(t,n){this._checkLoaded();var r=t.source,i=t.sourceLayer,o=this.sourceCaches[r];if(void 0!==o){var a=o.getSource().type;"geojson"===a&&i?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||i?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),o.setFeatureState(i,t.id,n)):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(t,n){this._checkLoaded();var r=t.source,i=this.sourceCaches[r];if(void 0!==i){var o=i.getSource().type,a="vector"===o?t.sourceLayer:void 0;"vector"!==o||a?n&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(a,t.id,n):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(t){this._checkLoaded();var n=t.source,r=t.sourceLayer,i=this.sourceCaches[n];if(void 0!==i){if("vector"!==i.getSource().type||r)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(r,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(function(e){return e.serialize()})),layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))},n.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,n=function(e){return"fill-extrusion"===t._layers[e].type},r={},i=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(n(a)){r[a]=o;for(var s=0,u=e;s<u.length;s+=1){var c=u[s][a];if(c)for(var l=0,f=c;l<f.length;l+=1)i.push(f[l])}}}i.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var p=[],h=this._order.length-1;h>=0;h--){var d=this._order[h];if(n(d))for(var m=i.length-1;m>=0;m--){var v=i[m].feature;if(r[v.layer.id]<h)break;p.push(v),i.pop()}else for(var y=0,g=e;y<g.length;y+=1){var b=g[y][d];if(b)for(var x=0,_=b;x<_.length;x+=1)p.push(_[x].feature)}}return p},n.prototype.queryRenderedFeatures=function(t,n,r){n&&n.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var s=a[o],u=this._layers[s];if(!u)return this.fire(new e.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[u.source]=!0}}var c=[];for(var l in n.availableImages=this._availableImages,this.sourceCaches)n.layers&&!i[l]||c.push(N(this.sourceCaches[l],this._layers,this._serializedLayers,t,n,r));return this.placement&&c.push(function(e,t,n,r,i,o,a){for(var s={},u=o.queryRenderedSymbols(r),c=[],l=0,f=Object.keys(u).map(Number);l<f.length;l+=1)c.push(a[f[l]]);c.sort(z);for(var p=function(){var n=d[h],r=n.featureIndex.lookupSymbolFeatures(u[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(var o in r){var a=s[o]=s[o]||[],c=r[o];c.sort((function(e,t){var r=n.featureSortOrder;if(r){var i=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(var l=0,f=c;l<f.length;l+=1)a.push(f[l])}},h=0,d=c;h<d.length;h+=1)p();var m=function(t){s[t].forEach((function(r){var i=r.feature,o=n[e[t].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}))};for(var v in s)m(v);return s}(this._layers,this._serializedLayers,this.sourceCaches,t,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(c)},n.prototype.querySourceFeatures=function(t,n){n&&n.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var r=this.sourceCaches[t];return r?function(e,t){for(var n=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,t))}return r}(r,n):[]},n.prototype.addSourceType=function(e,t,r){return n.getSourceType(e)?r(new Error('A source type called "'+e+'" already exists.')):(n.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},r):r(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(t,n){void 0===n&&(n={}),this._checkLoaded();var r=this.light.getLight(),i=!1;for(var o in t)if(!e.deepEqual(t[o],r[o])){i=!0;break}if(i){var a={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,n),this.light.updateTransitions(a)}},n.prototype._validate=function(t,n,r,i,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&Ft(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:r,styleSpec:e.styleSpec},i)))},n.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},n.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},n.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},n.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},n.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},n.prototype._updatePlacement=function(t,n,r,i,o){void 0===o&&(o=!1);for(var a=!1,s=!1,u={},c=0,l=this._order;c<l.length;c+=1){var f=this._layers[l[c]];if("symbol"===f.type){if(!u[f.source]){var p=this.sourceCaches[f.source];u[f.source]=p.getRenderableIds(!0).map((function(e){return p.getTileByID(e)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}var h=this.crossTileSymbolIndex.addLayer(f,u[f.source],t.center.lng);a=a||h}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((o=o||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now(),t.zoom))&&(this.pauseablePlacement=new It(t,this._order,o,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,u),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(var d=0,m=this._order;d<m.length;d+=1){var v=this._layers[m[d]];"symbol"===v.type&&this.placement.updateLayerOpacities(v,u[v.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},n.prototype.getImages=function(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();var r=this.sourceCaches[t.source];r&&r.setDependencies(t.tileID.key,t.type,t.icons)},n.prototype.getGlyphs=function(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)},n.prototype.getResource=function(t,n,r){return e.makeRequest(n,r)},n}(e.Evented);Ht.getSourceType=function(e){return R[e]},Ht.setSourceType=function(e,t){R[e]=t},Ht.registerForPluginStateChange=e.registerForPluginStateChange;var qt=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),Gt=gn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Wt=gn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Zt=gn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Yt=gn("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Xt=gn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Kt=gn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Jt=gn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Qt=gn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),$t=gn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),en=gn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),tn=gn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),nn=gn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),rn=gn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),on=gn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),an=gn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),sn=gn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),un=gn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),cn=gn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),ln=gn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),fn=gn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),pn=gn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),hn=gn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),dn=gn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),mn=gn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),vn=gn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),yn=gn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function gn(e,t){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=t.match(/attribute ([\w]+) ([\w]+)/g),i=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(i):i,s={};return{fragmentSource:e=e.replace(n,(function(e,t,n,r,i){return s[i]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),vertexSource:t=t.replace(n,(function(e,t,n,r,i){var o="float"===r?"vec2":"vec4",a=i.match(/color/)?"color":o;return s[i]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),staticAttributes:r,staticUniforms:a}}var bn=Object.freeze({__proto__:null,prelude:Gt,background:Wt,backgroundPattern:Zt,circle:Yt,clippingMask:Xt,heatmap:Kt,heatmapTexture:Jt,collisionBox:Qt,collisionCircle:$t,debug:en,fill:tn,fillOutline:nn,fillOutlinePattern:rn,fillPattern:on,fillExtrusion:an,fillExtrusionPattern:sn,hillshadePrepare:un,hillshade:cn,line:ln,lineGradient:fn,linePattern:pn,lineSDF:hn,raster:dn,symbolIcon:mn,symbolSDF:vn,symbolTextAndIcon:yn}),xn=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function _n(e){for(var t=[],n=0;n<e.length;n++)if(null!==e[n]){var r=e[n].split(" ");t.push(r.pop())}return t}xn.prototype.bind=function(e,t,n,r,i,o,a,s){this.context=e;for(var u=this.boundPaintVertexBuffers.length!==r.length,c=0;!u&&c<r.length;c++)this.boundPaintVertexBuffers[c]!==r[c]&&(u=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===n&&!u&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(t,n,r,i,o,a,s)},xn.prototype.freshBind=function(e,t,n,r,i,o,a){var s,u=e.numAttributes,c=this.context,l=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=c.currentNumAttributes||0;for(var f=u;f<s;f++)l.disableVertexAttribArray(f)}t.enableAttributes(l,e);for(var p=0,h=n;p<h.length;p+=1)h[p].enableAttributes(l,e);o&&o.enableAttributes(l,e),a&&a.enableAttributes(l,e),t.bind(),t.setVertexAttribPointers(l,e,i);for(var d=0,m=n;d<m.length;d+=1){var v=m[d];v.bind(),v.setVertexAttribPointers(l,e,i)}o&&(o.bind(),o.setVertexAttribPointers(l,e,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(l,e,i)),c.currentNumAttributes=u},xn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var wn=function(e,t,n,r,i,o){var a=e.gl;this.program=a.createProgram();for(var s=_n(n.staticAttributes),u=r?r.getBinderAttributes():[],c=s.concat(u),l=n.staticUniforms?_n(n.staticUniforms):[],f=r?r.getBinderUniforms():[],p=[],h=0,d=l.concat(f);h<d.length;h+=1){var m=d[h];p.indexOf(m)<0&&p.push(m)}var v=r?r.defines():[];o&&v.push("#define OVERDRAW_INSPECTOR;");var y=v.concat(Gt.fragmentSource,n.fragmentSource).join("\n"),g=v.concat(Gt.vertexSource,n.vertexSource).join("\n"),b=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(b,y),a.compileShader(b),a.attachShader(this.program,b);var x=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(x,g),a.compileShader(x),a.attachShader(this.program,x),this.attributes={};var _={};this.numAttributes=c.length;for(var w=0;w<this.numAttributes;w++)c[w]&&(a.bindAttribLocation(this.program,w,c[w]),this.attributes[c[w]]=w);a.linkProgram(this.program),a.deleteShader(x),a.deleteShader(b);for(var S=0;S<p.length;S++){var O=p[S];if(O&&!_[O]){var E=a.getUniformLocation(this.program,O);E&&(_[O]=E)}}this.fixedUniforms=i(e,_),this.binderUniforms=r?r.getUniforms(e,_):[]}}};function Sn(e,t,n){var r=1/pt(n,1,t.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,t.transform.tileZoom)/i,a=o*(n.tileID.canonical.x+n.tileID.wrap*i),s=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}wn.prototype.draw=function(e,t,n,r,i,o,a,s,u,c,l,f,p,h,d,m){var v,y=e.gl;if(!this.failedToCreate){for(var g in e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(r),e.setColorMode(i),e.setCullFace(o),this.fixedUniforms)this.fixedUniforms[g].set(a[g]);h&&h.setUniforms(e,this.binderUniforms,f,{zoom:p});for(var b=(v={},v[y.LINES]=2,v[y.TRIANGLES]=3,v[y.LINE_STRIP]=1,v)[t],x=0,_=l.get();x<_.length;x+=1){var w=_[x],S=w.vaos||(w.vaos={});(S[s]||(S[s]=new xn)).bind(e,this,u,h?h.getPaintVertexBuffers():[],c,w.vertexOffset,d,m),y.drawElements(t,w.primitiveLength*b,y.UNSIGNED_SHORT,w.primitiveOffset*b*2)}}};var On=function(t,n,r,i){var o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],u=e.create$1();"viewport"===o.properties.get("anchor")&&e.fromRotation(u,-n.transform.angle),e.transformMat3(s,s,u);var c=o.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+r,u_opacity:i}},En=function(t,n,r,i,o,a,s){return e.extend(On(t,n,r,i),Sn(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},kn=function(e){return{u_matrix:e}},Cn=function(t,n,r,i){return e.extend(kn(t),Sn(r,n,i))},jn=function(e,t){return{u_matrix:e,u_world:t}},Tn=function(t,n,r,i,o){return e.extend(Cn(t,n,r,i),{u_world:o})},An=function(t,n,r,i){var o,a,s=t.transform;if("map"===i.paint.get("circle-pitch-alignment")){var u=pt(r,1,s.zoom);o=!0,a=[u,u]}else o=!1,a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(n.posMatrix,r,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:e.browser.devicePixelRatio,u_extrude_scale:a}},Pn=function(e,t,n){var r=pt(n,1,t.zoom),i=Math.pow(2,t.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[t.pixelsToGLUnits[0]/(r*i),t.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:o}},Mn=function(e,t,n){return{u_matrix:e,u_inv_matrix:t,u_camera_to_center_distance:n.cameraToCenterDistance,u_viewport_size:[n.width,n.height]}},In=function(e,t,n){return void 0===n&&(n=1),{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:n}},Ln=function(e){return{u_matrix:e}},Rn=function(e,t,n,r){return{u_matrix:e,u_extrude_scale:pt(t,1,n),u_intensity:r}},Dn=function(t,n,r){var i=t.transform;return{u_matrix:Un(t,n,r),u_ratio:1/pt(n,1,i.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Nn=function(t,n,r,i){return e.extend(Dn(t,n,r),{u_image:0,u_image_height:i})},zn=function(t,n,r,i){var o=t.transform,a=Bn(n,o);return{u_matrix:Un(t,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/pt(n,1,o.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_image:0,u_scale:[a,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Fn=function(t,n,r,i,o){var a=t.lineAtlas,s=Bn(n,t.transform),u="round"===r.layout.get("line-cap"),c=a.getDash(i.from,u),l=a.getDash(i.to,u),f=c.width*o.fromScale,p=l.width*o.toScale;return e.extend(Dn(t,n,r),{u_patternscale_a:[s/f,-c.height/2],u_patternscale_b:[s/p,-l.height/2],u_sdfgamma:a.width/(256*Math.min(f,p)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:l.y,u_mix:o.t})};function Bn(e,t){return 1/pt(e,1,t.tileZoom)}function Un(e,t,n){return e.translatePosMatrix(t.tileID.posMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Vn=function(e,t,n,r,i){return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Hn(i.paint.get("raster-hue-rotate"))};var o,a};function Hn(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}var qn,Gn=function(e,t,n,r,i,o,a,s,u,c){var l=i.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:l.cameraToCenterDistance,u_pitch:l.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:l.width/l.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+u,u_pitch_with_map:+r,u_texsize:c,u_texture:0}},Wn=function(t,n,r,i,o,a,s,u,c,l,f){var p=o.transform;return e.extend(Gn(t,n,r,i,o,a,s,u,c,l),{u_gamma_scale:i?Math.cos(p._pitch)*p.cameraToCenterDistance:1,u_device_pixel_ratio:e.browser.devicePixelRatio,u_is_halo:+f})},Zn=function(t,n,r,i,o,a,s,u,c,l){return e.extend(Wn(t,n,r,i,o,a,s,u,!0,c,!0),{u_texsize_icon:l,u_texture_icon:1})},Yn=function(e,t,n){return{u_matrix:e,u_opacity:t,u_color:n}},Xn=function(t,n,r,i,o,a){return e.extend(function(e,t,n,r){var i=n.imageManager.getPattern(e.from.toString()),o=n.imageManager.getPattern(e.to.toString()),a=n.imageManager.getPixelSize(),s=a.width,u=a.height,c=Math.pow(2,r.tileID.overscaledZ),l=r.tileSize*Math.pow(2,n.transform.tileZoom)/c,f=l*(r.tileID.canonical.x+r.tileID.wrap*c),p=l*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,u],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/pt(r,1,n.transform.tileZoom),u_pixel_coord_upper:[f>>16,p>>16],u_pixel_coord_lower:[65535&f,65535&p]}}(i,a,r,o),{u_matrix:t,u_opacity:n})},Kn={fillExtrusion:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fillExtrusionPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,n.u_height_factor),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fill:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},fillPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},fillOutline:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world)}},fillOutlinePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},circle:function(t,n){return{u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,n.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},collisionBox:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,n.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,n.u_overscale_factor)}},collisionCircle:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,n.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,n.u_viewport_size)}},debug:function(t,n){return{u_color:new e.UniformColor(t,n.u_color),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_overlay:new e.Uniform1i(t,n.u_overlay),u_overlay_scale:new e.Uniform1f(t,n.u_overlay_scale)}},clippingMask:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmap:function(t,n){return{u_extrude_scale:new e.Uniform1f(t,n.u_extrude_scale),u_intensity:new e.Uniform1f(t,n.u_intensity),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmapTexture:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_color_ramp:new e.Uniform1i(t,n.u_color_ramp),u_opacity:new e.Uniform1f(t,n.u_opacity)}},hillshade:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_latrange:new e.Uniform2f(t,n.u_latrange),u_light:new e.Uniform2f(t,n.u_light),u_shadow:new e.UniformColor(t,n.u_shadow),u_highlight:new e.UniformColor(t,n.u_highlight),u_accent:new e.UniformColor(t,n.u_accent)}},hillshadePrepare:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_dimension:new e.Uniform2f(t,n.u_dimension),u_zoom:new e.Uniform1f(t,n.u_zoom),u_unpack:new e.Uniform4f(t,n.u_unpack)}},line:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels)}},lineGradient:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_image:new e.Uniform1i(t,n.u_image),u_image_height:new e.Uniform1f(t,n.u_image_height)}},linePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_texsize:new e.Uniform2f(t,n.u_texsize),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_image:new e.Uniform1i(t,n.u_image),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},lineSDF:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,n.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,n.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,n.u_sdfgamma),u_image:new e.Uniform1i(t,n.u_image),u_tex_y_a:new e.Uniform1f(t,n.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,n.u_tex_y_b),u_mix:new e.Uniform1f(t,n.u_mix)}},raster:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_tl_parent:new e.Uniform2f(t,n.u_tl_parent),u_scale_parent:new e.Uniform1f(t,n.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,n.u_buffer_scale),u_fade_t:new e.Uniform1f(t,n.u_fade_t),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image0:new e.Uniform1i(t,n.u_image0),u_image1:new e.Uniform1i(t,n.u_image1),u_brightness_low:new e.Uniform1f(t,n.u_brightness_low),u_brightness_high:new e.Uniform1f(t,n.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,n.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,n.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,n.u_spin_weights)}},symbolIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture)}},symbolSDF:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},symbolTextAndIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texsize_icon:new e.Uniform2f(t,n.u_texsize_icon),u_texture:new e.Uniform1i(t,n.u_texture),u_texture_icon:new e.Uniform1i(t,n.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},background:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_color:new e.UniformColor(t,n.u_color)}},backgroundPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image:new e.Uniform1i(t,n.u_image),u_pattern_tl_a:new e.Uniform2f(t,n.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,n.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,n.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,n.u_pattern_br_b),u_texsize:new e.Uniform2f(t,n.u_texsize),u_mix:new e.Uniform1f(t,n.u_mix),u_pattern_size_a:new e.Uniform2f(t,n.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,n.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,n.u_scale_a),u_scale_b:new e.Uniform1f(t,n.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,n.u_tile_units_to_pixels)}}};function Jn(t,n,r,i,o,a,s){for(var u=t.context,c=u.gl,l=t.useProgram("collisionBox"),f=[],p=0,h=0,d=0;d<i.length;d++){var m=i[d],v=n.getTile(m),y=v.getBucket(r);if(y){var g=m.posMatrix;0===o[0]&&0===o[1]||(g=t.translatePosMatrix(m.posMatrix,v,o,a));var b=s?y.textCollisionBox:y.iconCollisionBox,x=y.collisionCircleArray;if(x.length>0){var _=e.create(),w=g;e.mul(_,y.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(_,_,y.placementViewportMatrix),f.push({circleArray:x,circleOffset:h,transform:w,invTransform:_}),h=p+=x.length/4}b&&l.draw(u,c.LINES,Ee.disabled,ke.disabled,t.colorModeForRenderPass(),je.disabled,Pn(g,t.transform,v),r.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,t.transform.zoom,null,null,b.collisionVertexBuffer)}}if(s&&f.length){var S=t.useProgram("collisionCircle"),O=new e.StructArrayLayout2f1f2i16;O.resize(4*p),O._trim();for(var E=0,k=0,C=f;k<C.length;k+=1)for(var j=C[k],T=0;T<j.circleArray.length/4;T++){var A=4*T,P=j.circleArray[A+0],M=j.circleArray[A+1],I=j.circleArray[A+2],L=j.circleArray[A+3];O.emplace(E++,P,M,I,L,0),O.emplace(E++,P,M,I,L,1),O.emplace(E++,P,M,I,L,2),O.emplace(E++,P,M,I,L,3)}(!qn||qn.length<2*p)&&(qn=function(t){var n=2*t,r=new e.StructArrayLayout3ui6;r.resize(n),r._trim();for(var i=0;i<n;i++){var o=6*i;r.uint16[o+0]=4*i+0,r.uint16[o+1]=4*i+1,r.uint16[o+2]=4*i+2,r.uint16[o+3]=4*i+2,r.uint16[o+4]=4*i+3,r.uint16[o+5]=4*i+0}return r}(p));for(var R=u.createIndexBuffer(qn,!0),D=u.createVertexBuffer(O,e.collisionCircleLayout.members,!0),N=0,z=f;N<z.length;N+=1){var F=z[N],B=Mn(F.transform,F.invTransform,t.transform);S.draw(u,c.TRIANGLES,Ee.disabled,ke.disabled,t.colorModeForRenderPass(),je.disabled,B,r.id,D,R,e.SegmentVector.simpleSegment(0,2*F.circleOffset,F.circleArray.length,F.circleArray.length/2),null,t.transform.zoom,null,null,null)}D.destroy(),R.destroy()}}var Qn=e.identity(new Float32Array(16));function $n(t,n,r,i,o,a){var s=e.getAnchorAlignment(t),u=-(s.horizontalAlign-.5)*n,c=-(s.verticalAlign-.5)*r,l=e.evaluateVariableOffset(t,i);return new e.Point((u/o+l[0])*a,(c/o+l[1])*a)}function er(t,n,r,i,o,a,s,u,c,l,f){var p=t.text.placedSymbolArray,h=t.text.dynamicLayoutVertexArray,d=t.icon.dynamicLayoutVertexArray,m={};h.clear();for(var v=0;v<p.length;v++){var y=p.get(v),g=y.hidden||!y.crossTileID||t.allowVerticalPlacement&&!y.placedOrientation?null:i[y.crossTileID];if(g){var b=new e.Point(y.anchorX,y.anchorY),x=$e(b,r?u:s),_=et(a.cameraToCenterDistance,x.signedDistanceFromCamera),w=o.evaluateSizeForFeature(t.textSizeData,l,y)*_/e.ONE_EM;r&&(w*=t.tilePixelRatio/c);for(var S=$n(g.anchor,g.width,g.height,g.textOffset,g.textBoxScale,w),O=r?$e(b.add(S),s).point:x.point.add(n?S.rotate(-a.angle):S),E=t.allowVerticalPlacement&&y.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,k=0;k<y.numGlyphs;k++)e.addDynamicAttributes(h,O,E);f&&y.associatedIconIndex>=0&&(m[y.associatedIconIndex]={shiftedAnchor:O,angle:E})}else ct(y.numGlyphs,h)}if(f){d.clear();for(var C=t.icon.placedSymbolArray,j=0;j<C.length;j++){var T=C.get(j);if(T.hidden)ct(T.numGlyphs,d);else{var A=m[j];if(A)for(var P=0;P<T.numGlyphs;P++)e.addDynamicAttributes(d,A.shiftedAnchor,A.angle);else ct(T.numGlyphs,d)}}t.icon.dynamicLayoutVertexBuffer.updateData(d)}t.text.dynamicLayoutVertexBuffer.updateData(h)}function tr(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function nr(t,n,r,i,o,a,s,u,c,l,f,p){for(var h=t.context,d=h.gl,m=t.transform,v="map"===u,y="map"===c,g=v&&"point"!==r.layout.get("symbol-placement"),b=v&&!y&&!g,x=void 0!==r.layout.get("symbol-sort-key").constantOr(1),_=!1,w=t.depthModeForSublayer(0,Ee.ReadOnly),S=r.layout.get("text-variable-anchor"),O=[],E=0,k=i;E<k.length;E+=1){var C=k[E],j=n.getTile(C),T=j.getBucket(r);if(T){var A=o?T.text:T.icon;if(A&&A.segments.get().length){var P=A.programConfigurations.get(r.id),M=o||T.sdfIcons,I=o?T.textSizeData:T.iconSizeData,L=y||0!==m.pitch,R=t.useProgram(tr(M,o,T),P),D=e.evaluateSizeForZoom(I,m.zoom),N=void 0,z=[0,0],F=void 0,B=void 0,U=null,V=void 0;if(o)F=j.glyphAtlasTexture,B=d.LINEAR,N=j.glyphAtlasTexture.size,T.iconsInText&&(z=j.imageAtlasTexture.size,U=j.imageAtlasTexture,V=L||t.options.rotating||t.options.zooming||"composite"===I.kind||"camera"===I.kind?d.LINEAR:d.NEAREST);else{var H=1!==r.layout.get("icon-size").constantOr(0)||T.iconsNeedLinear;F=j.imageAtlasTexture,B=M||t.options.rotating||t.options.zooming||H||L?d.LINEAR:d.NEAREST,N=j.imageAtlasTexture.size}var q=pt(j,1,t.transform.zoom),G=Je(C.posMatrix,y,v,t.transform,q),W=Qe(C.posMatrix,y,v,t.transform,q),Z=S&&T.hasTextData(),Y="none"!==r.layout.get("icon-text-fit")&&Z&&T.hasIconData();g&&nt(T,C.posMatrix,t,o,G,W,y,l);var X=t.translatePosMatrix(C.posMatrix,j,a,s),K=g||o&&S||Y?Qn:G,J=t.translatePosMatrix(W,j,a,s,!0),Q=M&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),$={program:R,buffers:A,uniformValues:M?T.iconsInText?Zn(I.kind,D,b,y,t,X,K,J,N,z):Wn(I.kind,D,b,y,t,X,K,J,o,N,!0):Gn(I.kind,D,b,y,t,X,K,J,o,N),atlasTexture:F,atlasTextureIcon:U,atlasInterpolation:B,atlasInterpolationIcon:V,isSDF:M,hasHalo:Q};if(x&&T.canOverlap){_=!0;for(var ee=0,te=A.segments.get();ee<te.length;ee+=1){var ne=te[ee];O.push({segments:new e.SegmentVector([ne]),sortKey:ne.sortKey,state:$})}}else O.push({segments:A.segments,sortKey:0,state:$})}}}_&&O.sort((function(e,t){return e.sortKey-t.sortKey}));for(var re=0,ie=O;re<ie.length;re+=1){var oe=ie[re],ae=oe.state;if(h.activeTexture.set(d.TEXTURE0),ae.atlasTexture.bind(ae.atlasInterpolation,d.CLAMP_TO_EDGE),ae.atlasTextureIcon&&(h.activeTexture.set(d.TEXTURE1),ae.atlasTextureIcon&&ae.atlasTextureIcon.bind(ae.atlasInterpolationIcon,d.CLAMP_TO_EDGE)),ae.isSDF){var se=ae.uniformValues;ae.hasHalo&&(se.u_is_halo=1,rr(ae.buffers,oe.segments,r,t,ae.program,w,f,p,se)),se.u_is_halo=0}rr(ae.buffers,oe.segments,r,t,ae.program,w,f,p,ae.uniformValues)}}function rr(e,t,n,r,i,o,a,s,u){var c=r.context;i.draw(c,c.gl.TRIANGLES,o,a,s,je.disabled,u,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function ir(e,t,n,r,i,o,a){var s,u,c,l,f,p=e.context.gl,h=n.paint.get("fill-pattern"),d=h&&h.constantOr(1),m=n.getCrossfadeParameters();a?(u=d&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=p.LINES):(u=d?"fillPattern":"fill",s=p.TRIANGLES);for(var v=0,y=r;v<y.length;v+=1){var g=y[v],b=t.getTile(g);if(!d||b.patternsLoaded()){var x=b.getBucket(n);if(x){var _=x.programConfigurations.get(n.id),w=e.useProgram(u,_);d&&(e.context.activeTexture.set(p.TEXTURE0),b.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),_.updatePaintBuffers(m));var S=h.constantOr(null);if(S&&b.imageAtlas){var O=b.imageAtlas,E=O.patternPositions[S.to.toString()],k=O.patternPositions[S.from.toString()];E&&k&&_.setConstantPatternPositions(E,k)}var C=e.translatePosMatrix(g.posMatrix,b,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){l=x.indexBuffer2,f=x.segments2;var j=[p.drawingBufferWidth,p.drawingBufferHeight];c="fillOutlinePattern"===u&&d?Tn(C,e,m,b,j):jn(C,j)}else l=x.indexBuffer,f=x.segments,c=d?Cn(C,e,m,b):kn(C);w.draw(e.context,s,i,e.stencilModeForClipping(g),o,je.disabled,c,n.id,x.layoutVertexBuffer,l,f,n.paint,e.transform.zoom,_)}}}}function or(e,t,n,r,i,o,a){for(var s=e.context,u=s.gl,c=n.paint.get("fill-extrusion-pattern"),l=c.constantOr(1),f=n.getCrossfadeParameters(),p=n.paint.get("fill-extrusion-opacity"),h=0,d=r;h<d.length;h+=1){var m=d[h],v=t.getTile(m),y=v.getBucket(n);if(y){var g=y.programConfigurations.get(n.id),b=e.useProgram(l?"fillExtrusionPattern":"fillExtrusion",g);l&&(e.context.activeTexture.set(u.TEXTURE0),v.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),g.updatePaintBuffers(f));var x=c.constantOr(null);if(x&&v.imageAtlas){var _=v.imageAtlas,w=_.patternPositions[x.to.toString()],S=_.patternPositions[x.from.toString()];w&&S&&g.setConstantPatternPositions(w,S)}var O=e.translatePosMatrix(m.posMatrix,v,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),E=n.paint.get("fill-extrusion-vertical-gradient"),k=l?En(O,e,E,p,m,f,v):On(O,e,E,p);b.draw(s,s.gl.TRIANGLES,i,o,a,je.backCCW,k,n.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,n.paint,e.transform.zoom,g)}}}function ar(t,n,r,i,o,a){var s=t.context,u=s.gl,c=n.fbo;if(c){var l=t.useProgram("hillshade");s.activeTexture.set(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,c.colorAttachment.get());var f=function(t,n,r){var i=r.paint.get("hillshade-shadow-color"),o=r.paint.get("hillshade-highlight-color"),a=r.paint.get("hillshade-accent-color"),s=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(s-=t.transform.angle);var u,c,l,f=!t.options.moving;return{u_matrix:t.transform.calculatePosMatrix(n.tileID.toUnwrapped(),f),u_image:0,u_latrange:(u=n.tileID,c=Math.pow(2,u.canonical.z),l=u.canonical.y,[new e.MercatorCoordinate(0,l/c).toLngLat().lat,new e.MercatorCoordinate(0,(l+1)/c).toLngLat().lat]),u_light:[r.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:o,u_accent:a}}(t,n,r);l.draw(s,u.TRIANGLES,i,o,a,je.disabled,f,r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function sr(t,n,r,i,o,a){var s=t.context,u=s.gl,c=n.dem;if(c&&c.data){var l=c.dim,f=c.stride,p=c.getPixels();if(s.activeTexture.set(u.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(f),n.demTexture){var h=n.demTexture;h.update(p,{premultiply:!1}),h.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else n.demTexture=new e.Texture(s,p,u.RGBA,{premultiply:!1}),n.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);s.activeTexture.set(u.TEXTURE0);var d=n.fbo;if(!d){var m=new e.Texture(s,{width:l,height:l,data:null},u.RGBA);m.bind(u.LINEAR,u.CLAMP_TO_EDGE),(d=n.fbo=s.createFramebuffer(l,l,!0)).colorAttachment.set(m.texture)}s.bindFramebuffer.set(d.framebuffer),s.viewport.set([0,0,l,l]),t.useProgram("hillshadePrepare").draw(s,u.TRIANGLES,i,o,a,je.disabled,function(t,n){var r=n.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:t.overscaledZ,u_unpack:n.getUnpackVector()}}(n.tileID,c),r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function ur(t,n,r,i,o){var a=i.paint.get("raster-fade-duration");if(a>0){var s=e.browser.now(),u=(s-t.timeAdded)/a,c=n?(s-n.timeAdded)/a:-1,l=r.getSource(),f=o.coveringZoomLevel({tileSize:l.tileSize,roundZoom:l.roundZoom}),p=!n||Math.abs(n.tileID.overscaledZ-f)>Math.abs(t.tileID.overscaledZ-f),h=p&&t.refreshedUponExpiration?1:e.clamp(p?u:1-c,0,1);return t.refreshedUponExpiration&&u>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}var cr=new e.Color(1,0,0,1),lr=new e.Color(0,1,0,1),fr=new e.Color(0,0,1,1),pr=new e.Color(1,0,1,1),hr=new e.Color(0,1,1,1);function dr(e,t,n,r){vr(e,0,t+n/2,e.transform.width,n,r)}function mr(e,t,n,r){vr(e,t-n/2,0,n,e.transform.height,r)}function vr(t,n,r,i,o,a){var s=t.context,u=s.gl;u.enable(u.SCISSOR_TEST),u.scissor(n*e.browser.devicePixelRatio,r*e.browser.devicePixelRatio,i*e.browser.devicePixelRatio,o*e.browser.devicePixelRatio),s.clear({color:a}),u.disable(u.SCISSOR_TEST)}function yr(t,n,r){var i=t.context,o=i.gl,a=r.posMatrix,s=t.useProgram("debug"),u=Ee.disabled,c=ke.disabled,l=t.colorModeForRenderPass();i.activeTexture.set(o.TEXTURE0),t.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s.draw(i,o.LINE_STRIP,u,c,l,je.disabled,In(a,e.Color.red),"$debug",t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);var f=n.getTileByID(r.key).latestRawTileData,p=Math.floor((f&&f.byteLength||0)/1024),h=n.getTile(r).tileSize,d=512/Math.min(h,512)*(r.overscaledZ/t.transform.zoom)*.5,m=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(m+=" => "+r.overscaledZ),function(e,t){e.initDebugOverlayCanvas();var n=e.debugOverlayCanvas,r=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(t,m+" "+p+"kb"),s.draw(i,o.TRIANGLES,u,c,Ce.alphaBlended,je.disabled,In(a,e.Color.transparent,d),"$debug",t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}var gr={symbol:function(t,n,r,i,o){if("translucent"===t.renderPass){var a=ke.disabled,s=t.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(t,n,r,i,o,a,s){for(var u=n.transform,c="map"===o,l="map"===a,f=0,p=t;f<p.length;f+=1){var h=p[f],d=i.getTile(h),m=d.getBucket(r);if(m&&m.text&&m.text.segments.get().length){var v=e.evaluateSizeForZoom(m.textSizeData,u.zoom),y=pt(d,1,n.transform.zoom),g=Je(h.posMatrix,l,c,n.transform,y),b="none"!==r.layout.get("icon-text-fit")&&m.hasIconData();if(v){var x=Math.pow(2,u.zoom-d.tileID.overscaledZ);er(m,c,l,s,e.symbolSize,u,g,h.posMatrix,x,v,b)}}}}(i,t,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),o),0!==r.paint.get("icon-opacity").constantOr(1)&&nr(t,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),a,s),0!==r.paint.get("text-opacity").constantOr(1)&&nr(t,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(Jn(t,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Jn(t,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(t,n,r,i){if("translucent"===t.renderPass){var o=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),u=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var c=t.context,l=c.gl,f=t.depthModeForSublayer(0,Ee.ReadOnly),p=ke.disabled,h=t.colorModeForRenderPass(),d=[],m=0;m<i.length;m++){var v=i[m],y=n.getTile(v),g=y.getBucket(r);if(g){var b=g.programConfigurations.get(r.id),x={programConfiguration:b,program:t.useProgram("circle",b),layoutVertexBuffer:g.layoutVertexBuffer,indexBuffer:g.indexBuffer,uniformValues:An(t,v,y,r)};if(u)for(var _=0,w=g.segments.get();_<w.length;_+=1){var S=w[_];d.push({segments:new e.SegmentVector([S]),sortKey:S.sortKey,state:x})}else d.push({segments:g.segments,sortKey:0,state:x})}}u&&d.sort((function(e,t){return e.sortKey-t.sortKey}));for(var O=0,E=d;O<E.length;O+=1){var k=E[O],C=k.state;C.program.draw(c,l.TRIANGLES,f,p,h,je.disabled,C.uniformValues,r.id,C.layoutVertexBuffer,C.indexBuffer,k.segments,r.paint,t.transform.zoom,C.programConfiguration)}}}},heatmap:function(t,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var o=t.context,a=o.gl,s=ke.disabled,u=new Ce([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n){var r=e.gl;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,n,r){var i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width/4,t.height/4,0,i.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(e,t,o,i)}}(o,t,r),o.clear({color:e.Color.transparent});for(var c=0;c<i.length;c++){var l=i[c];if(!n.hasRenderableParent(l)){var f=n.getTile(l),p=f.getBucket(r);if(p){var h=p.programConfigurations.get(r.id);t.useProgram("heatmap",h).draw(o,a.TRIANGLES,Ee.disabled,s,u,je.disabled,Rn(l.posMatrix,f,t.transform.zoom,r.paint.get("heatmap-intensity")),r.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,r.paint,t.transform.zoom,h)}}}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){var r=t.context,i=r.gl,o=n.heatmapFbo;if(o){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new e.Texture(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(r,i.TRIANGLES,Ee.disabled,ke.disabled,t.colorModeForRenderPass(),je.disabled,function(t,n,r,i){var o=e.create();e.ortho(o,0,t.width,t.height,0,0,1);var a=t.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(t,n),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}}(t,r))},line:function(t,n,r,i){if("translucent"===t.renderPass){var o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=t.depthModeForSublayer(0,Ee.ReadOnly),u=t.colorModeForRenderPass(),c=r.paint.get("line-dasharray"),l=r.paint.get("line-pattern"),f=l.constantOr(1),p=r.paint.get("line-gradient"),h=r.getCrossfadeParameters(),d=f?"linePattern":c?"lineSDF":p?"lineGradient":"line",m=t.context,v=m.gl,y=!0,g=0,b=i;g<b.length;g+=1){var x=b[g],_=n.getTile(x);if(!f||_.patternsLoaded()){var w=_.getBucket(r);if(w){var S=w.programConfigurations.get(r.id),O=t.context.program.get(),E=t.useProgram(d,S),k=y||E.program!==O,C=l.constantOr(null);if(C&&_.imageAtlas){var j=_.imageAtlas,T=j.patternPositions[C.to.toString()],A=j.patternPositions[C.from.toString()];T&&A&&S.setConstantPatternPositions(T,A)}var P=f?zn(t,_,r,h):c?Fn(t,_,r,c,h):p?Nn(t,_,r,w.lineClipsArray.length):Dn(t,_,r);if(f)m.activeTexture.set(v.TEXTURE0),_.imageAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),S.updatePaintBuffers(h);else if(c&&(k||t.lineAtlas.dirty))m.activeTexture.set(v.TEXTURE0),t.lineAtlas.bind(m);else if(p){var M=w.gradients[r.id],I=M.texture;if(r.gradientVersion!==M.version){var L=256;if(r.stepInterpolant){var R=n.getSource().maxzoom,D=x.canonical.z===R?Math.ceil(1<<t.transform.maxZoom-x.canonical.z):1;L=e.clamp(e.nextPowerOfTwo(w.maxLineLength/e.EXTENT*1024*D),256,m.maxTextureSize)}M.gradient=e.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:L,image:M.gradient||void 0,clips:w.lineClipsArray}),M.texture?M.texture.update(M.gradient):M.texture=new e.Texture(m,M.gradient,v.RGBA),M.version=r.gradientVersion,I=M.texture}m.activeTexture.set(v.TEXTURE0),I.bind(r.stepInterpolant?v.NEAREST:v.LINEAR,v.CLAMP_TO_EDGE)}E.draw(m,v.TRIANGLES,s,t.stencilModeForClipping(x),u,je.disabled,P,r.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,r.paint,t.transform.zoom,S,w.layoutVertexBuffer2),y=!1}}}}},fill:function(t,n,r,i){var o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=t.colorModeForRenderPass(),u=r.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!u.constantOr(1)&&1===o.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){var l=t.depthModeForSublayer(1,"opaque"===t.renderPass?Ee.ReadWrite:Ee.ReadOnly);ir(t,n,r,i,l,s,!1)}if("translucent"===t.renderPass&&r.paint.get("fill-antialias")){var f=t.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,Ee.ReadOnly);ir(t,n,r,i,f,s,!0)}}},"fill-extrusion":function(e,t,n,r){var i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===e.renderPass){var o=new Ee(e.context.gl.LEQUAL,Ee.ReadWrite,e.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))or(e,t,n,r,o,ke.disabled,Ce.disabled),or(e,t,n,r,o,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var a=e.colorModeForRenderPass();or(e,t,n,r,o,ke.disabled,a)}}},hillshade:function(e,t,n,r){if("offscreen"===e.renderPass||"translucent"===e.renderPass){for(var i=e.context,o=e.depthModeForSublayer(0,Ee.ReadOnly),a=e.colorModeForRenderPass(),s="translucent"===e.renderPass?e.stencilConfigForOverlap(r):[{},r],u=s[0],c=0,l=s[1];c<l.length;c+=1){var f=l[c],p=t.getTile(f);p.needsHillshadePrepare&&"offscreen"===e.renderPass?sr(e,p,n,o,ke.disabled,a):"translucent"===e.renderPass&&ar(e,p,n,o,u[f.overscaledZ],a)}i.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,n,r){if("translucent"===e.renderPass&&0!==n.paint.get("raster-opacity")&&r.length)for(var i=e.context,o=i.gl,a=t.getSource(),s=e.useProgram("raster"),u=e.colorModeForRenderPass(),c=a instanceof M?[{},r]:e.stencilConfigForOverlap(r),l=c[0],f=c[1],p=f[f.length-1].overscaledZ,h=!e.options.moving,d=0,m=f;d<m.length;d+=1){var v=m[d],y=e.depthModeForSublayer(v.overscaledZ-p,1===n.paint.get("raster-opacity")?Ee.ReadWrite:Ee.ReadOnly,o.LESS),g=t.getTile(v),b=e.transform.calculatePosMatrix(v.toUnwrapped(),h);g.registerFadeDuration(n.paint.get("raster-fade-duration"));var x=t.findLoadedParent(v,0),_=ur(g,x,t,n,e.transform),w=void 0,S=void 0,O="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),g.texture.bind(O,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),x?(x.texture.bind(O,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),w=Math.pow(2,x.tileID.overscaledZ-g.tileID.overscaledZ),S=[g.tileID.canonical.x*w%1,g.tileID.canonical.y*w%1]):g.texture.bind(O,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var E=Vn(b,S||[0,0],w||1,_,n);a instanceof M?s.draw(i,o.TRIANGLES,y,ke.disabled,u,je.disabled,E,n.id,a.boundsBuffer,e.quadTriangleIndexBuffer,a.boundsSegments):s.draw(i,o.TRIANGLES,y,l[v.overscaledZ],u,je.disabled,E,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var o=e.context,a=o.gl,s=e.transform,u=s.tileSize,c=n.paint.get("background-pattern");if(!e.isPatternMissing(c)){var l=!c&&1===r.a&&1===i&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass===l){var f=ke.disabled,p=e.depthModeForSublayer(0,"opaque"===l?Ee.ReadWrite:Ee.ReadOnly),h=e.colorModeForRenderPass(),d=e.useProgram(c?"backgroundPattern":"background"),m=s.coveringTiles({tileSize:u});c&&(o.activeTexture.set(a.TEXTURE0),e.imageManager.bind(e.context));for(var v=n.getCrossfadeParameters(),y=0,g=m;y<g.length;y+=1){var b=g[y],x=e.transform.calculatePosMatrix(b.toUnwrapped()),_=c?Xn(x,i,e,c,{tileID:b,tileSize:u},v):Yn(x,i,r);d.draw(o,a.TRIANGLES,p,f,h,je.disabled,_,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,n){for(var r=0;r<n.length;r++)yr(e,t,n[r])},custom:function(e,t,n){var r=e.context,i=n.implementation;if("offscreen"===e.renderPass){var o=i.prerender;o&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),o.call(i,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(ke.disabled);var a="3d"===i.renderingMode?new Ee(e.context.gl.LEQUAL,Ee.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,Ee.ReadOnly);r.setDepthMode(a),i.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}},br=function(e,t){this.context=new Te(e),this.transform=t,this._tileTextures={},this.setup(),this.numSublayers=Ae.maxUnderzooming+Ae.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new zt,this.gpuTimers={}};br.prototype.resize=function(t,n){if(this.width=t*e.browser.devicePixelRatio,this.height=n*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,i=this.style._order;r<i.length;r+=1)this.style._layers[i[r]].resize()},br.prototype.setup=function(){var t=this.context,n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,qt.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(r,qt.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var i=new e.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(i,P.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(o,qt.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(a);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);var u=this.context.gl;this.stencilClearMode=new ke({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO)},br.prototype.clearStencil=function(){var t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=e.create();e.ortho(r,0,this.width,this.height,0,0,1),e.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,n.TRIANGLES,Ee.disabled,this.stencilClearMode,Ce.disabled,je.disabled,Ln(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},br.prototype._renderTileClippingMasks=function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var n=this.context,r=n.gl;this.nextStencilID+t.length>256&&this.clearStencil(),n.setColorMode(Ce.disabled),n.setDepthMode(Ee.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=t;o<a.length;o+=1){var s=a[o],u=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,Ee.disabled,new ke({func:r.ALWAYS,mask:0},u,255,r.KEEP,r.KEEP,r.REPLACE),Ce.disabled,je.disabled,Ln(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},br.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new ke({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)},br.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new ke({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},br.prototype.stencilConfigForOverlap=function(e){var t,n=this.context.gl,r=e.sort((function(e,t){return t.overscaledZ-e.overscaledZ})),i=r[r.length-1].overscaledZ,o=r[0].overscaledZ-i+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();for(var a={},s=0;s<o;s++)a[s+i]=new ke({func:n.GEQUAL,mask:255},s+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[a,r]}return[(t={},t[i]=ke.disabled,t),r]},br.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new Ce([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Ce.unblended:Ce.alphaBlended},br.prototype.depthModeForSublayer=function(e,t,n){if(!this.opaquePassEnabledForLayer())return Ee.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new Ee(n||this.context.gl.LEQUAL,t,[r,r])},br.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},br.prototype.render=function(t,n){var r=this;this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var i=this.style._order,o=this.style.sourceCaches;for(var a in o){var s=o[a];s.used&&s.prepare(this.context)}var u,c,l={},f={},p={};for(var h in o){var d=o[h];l[h]=d.getVisibleCoordinates(),f[h]=l[h].slice().reverse(),p[h]=d.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var m=0;m<i.length;m++)if(this.style._layers[i[m]].is3D()){this.opaquePassCutoff=m;break}this.renderPass="offscreen";for(var v=0,y=i;v<y.length;v+=1){var g=this.style._layers[y[v]];if(g.hasOffscreenPass()&&!g.isHidden(this.transform.zoom)){var b=f[g.source];("custom"===g.type||b.length)&&this.renderLayer(this,o[g.source],g,b)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var x=this.style._layers[i[this.currentLayer]],_=o[x.source],w=l[x.source];this._renderTileClippingMasks(x,w),this.renderLayer(this,_,x,w)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var S=this.style._layers[i[this.currentLayer]],O=o[S.source],E=("symbol"===S.type?p:f)[S.source];this._renderTileClippingMasks(S,l[S.source]),this.renderLayer(this,O,S,E)}this.options.showTileBoundaries&&(e.values(this.style._layers).forEach((function(e){e.source&&!e.isHidden(r.transform.zoom)&&(e.source!==(c&&c.id)&&(c=r.style.sourceCaches[e.source]),(!u||u.getSource().maxzoom<c.getSource().maxzoom)&&(u=c))})),u&&gr.debug(this,u,u.getVisibleCoordinates())),this.options.showPadding&&function(e){var t=e.transform.padding;dr(e,e.transform.height-(t.top||0),3,cr),dr(e,t.bottom||0,3,lr),mr(e,t.left||0,3,fr),mr(e,e.transform.width-(t.right||0),3,pr);var n=e.transform.centerPoint;!function(e,t,n,r){vr(e,t-1,n-10,2,20,r),vr(e,t-10,n-1,20,2,r)}(e,n.x,e.transform.height-n.y,hr)}(this),this.context.setDefault()},br.prototype.renderLayer=function(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,this.gpuTimingStart(n),gr[n.type](e,t,n,r,this.style.placement.variableOffsets),this.gpuTimingEnd())},br.prototype.gpuTimingStart=function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}},br.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}},br.prototype.collectGpuTimers=function(){var e=this.gpuTimers;return this.gpuTimers={},e},br.prototype.queryGpuTimers=function(e){var t={};for(var n in e){var r=e[n],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),t[n]=o}return t},br.prototype.translatePosMatrix=function(t,n,r,i,o){if(!r[0]&&!r[1])return t;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var s=Math.sin(a),u=Math.cos(a);r=[r[0]*u-r[1]*s,r[0]*s+r[1]*u]}var c=[o?r[0]:pt(n,r[0],this.transform.zoom),o?r[1]:pt(n,r[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,c),l},br.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},br.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},br.prototype.isPatternMissing=function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n},br.prototype.useProgram=function(e,t){this.cache=this.cache||{};var n=""+e+(t?t.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new wn(this.context,e,bn[e],t,Kn[e],this._showOverdrawInspector)),this.cache[n]},br.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},br.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)},br.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},br.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var xr=function(e,t){this.points=e,this.planes=t};xr.fromInvProjectionMatrix=function(t,n,r){var i=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(n){return e.transformMat4([],n,t)})).map((function(t){return e.scale$1([],t,1/t[3]/n*i)})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(t){var n=e.sub([],o[t[0]],o[t[1]]),r=e.sub([],o[t[2]],o[t[1]]),i=e.normalize([],e.cross([],n,r)),a=-e.dot(i,o[t[1]]);return i.concat(a)}));return new xr(o,a)};var _r=function(t,n){this.min=t,this.max=n,this.center=e.scale$2([],e.add([],this.min,this.max),.5)};_r.prototype.quadrant=function(t){for(var n=[t%2==0,t<2],r=e.clone$2(this.min),i=e.clone$2(this.max),o=0;o<n.length;o++)r[o]=n[o]?this.min[o]:this.center[o],i[o]=n[o]?this.center[o]:this.max[o];return i[2]=this.max[2],new _r(r,i)},_r.prototype.distanceX=function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]},_r.prototype.distanceY=function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]},_r.prototype.intersects=function(t){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],r=!0,i=0;i<t.planes.length;i++){for(var o=t.planes[i],a=0,s=0;s<n.length;s++)a+=e.dot$1(o,n[s])>=0;if(0===a)return 0;a!==n.length&&(r=!1)}if(r)return 2;for(var u=0;u<3;u++){for(var c=Number.MAX_VALUE,l=-Number.MAX_VALUE,f=0;f<t.points.length;f++){var p=t.points[f][u]-this.min[u];c=Math.min(c,p),l=Math.max(l,p)}if(l<0||c>this.max[u]-this.min[u])return 0}return 1};var wr=function(e,t,n,r){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=r};wr.prototype.interpolate=function(t,n,r){return null!=n.top&&null!=t.top&&(this.top=e.number(t.top,n.top,r)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,n.bottom,r)),null!=n.left&&null!=t.left&&(this.left=e.number(t.left,n.left,r)),null!=n.right&&null!=t.right&&(this.right=e.number(t.right,n.right,r)),this},wr.prototype.getCenter=function(t,n){var r=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.Point(r,i)},wr.prototype.equals=function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right},wr.prototype.clone=function(){return new wr(this.top,this.bottom,this.left,this.right)},wr.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Sr=function(t,n,r,i,o){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=null==r?0:r,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wr,this._posMatrixCache={},this._alignedPosMatrixCache={}},Or={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Sr.prototype.clone=function(){var e=new Sr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._calcMatrices(),e},Or.minZoom.get=function(){return this._minZoom},Or.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},Or.maxZoom.get=function(){return this._maxZoom},Or.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},Or.minPitch.get=function(){return this._minPitch},Or.minPitch.set=function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))},Or.maxPitch.get=function(){return this._maxPitch},Or.maxPitch.set=function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))},Or.renderWorldCopies.get=function(){return this._renderWorldCopies},Or.renderWorldCopies.set=function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e},Or.worldSize.get=function(){return this.tileSize*this.scale},Or.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Or.size.get=function(){return new e.Point(this.width,this.height)},Or.bearing.get=function(){return-this.angle/Math.PI*180},Or.bearing.set=function(t){var n=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Or.pitch.get=function(){return this._pitch/Math.PI*180},Or.pitch.set=function(t){var n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},Or.fov.get=function(){return this._fov/Math.PI*180},Or.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},Or.zoom.get=function(){return this._zoom},Or.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},Or.center.get=function(){return this._center},Or.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},Or.padding.get=function(){return this._edgeInsets.toJSON()},Or.padding.set=function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())},Or.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Sr.prototype.isPaddingEqual=function(e){return this._edgeInsets.equals(e)},Sr.prototype.interpolatePadding=function(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()},Sr.prototype.coveringZoomLevel=function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)},Sr.prototype.getVisibleUnwrappedCoordinates=function(t){var n=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new e.Point(0,0)),i=this.pointCoordinate(new e.Point(this.width,0)),o=this.pointCoordinate(new e.Point(this.width,this.height)),a=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),u=Math.floor(Math.max(r.x,i.x,o.x,a.x)),c=s-1;c<=u+1;c++)0!==c&&n.push(new e.UnwrappedTileID(c,t));return n},Sr.prototype.coveringTiles=function(t){var n=this.coveringZoomLevel(t),r=n;if(void 0!==t.minzoom&&n<t.minzoom)return[];void 0!==t.maxzoom&&n>t.maxzoom&&(n=t.maxzoom);var i=e.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=[o*i.x,o*i.y,0],s=xr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),u=t.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(u=n);var c=function(e){return{aabb:new _r([e*o,0,0],[(e+1)*o,o,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}},l=[],f=[],p=n,h=t.reparseOverscaled?r:n;if(this._renderWorldCopies)for(var d=1;d<=3;d++)l.push(c(-d)),l.push(c(d));for(l.push(c(0));l.length>0;){var m=l.pop(),v=m.x,y=m.y,g=m.fullyVisible;if(!g){var b=m.aabb.intersects(s);if(0===b)continue;g=2===b}var x=m.aabb.distanceX(a),_=m.aabb.distanceY(a),w=Math.max(Math.abs(x),Math.abs(_));if(m.zoom===p||w>3+(1<<p-m.zoom)-2&&m.zoom>=u)f.push({tileID:new e.OverscaledTileID(m.zoom===p?h:m.zoom,m.wrap,m.zoom,v,y),distanceSq:e.sqrLen([a[0]-.5-v,a[1]-.5-y])});else for(var S=0;S<4;S++){var O=(v<<1)+S%2,E=(y<<1)+(S>>1);l.push({aabb:m.aabb.quadrant(S),zoom:m.zoom+1,x:O,y:E,wrap:m.wrap,fullyVisible:g})}}return f.sort((function(e,t){return e.distanceSq-t.distanceSq})).map((function(e){return e.tileID}))},Sr.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},Or.unmodified.get=function(){return this._unmodified},Sr.prototype.zoomScale=function(e){return Math.pow(2,e)},Sr.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},Sr.prototype.project=function(t){var n=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(n)*this.worldSize)},Sr.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},Or.point.get=function(){return this.project(this.center)},Sr.prototype.setLocationAtPoint=function(t,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(t),a=new e.MercatorCoordinate(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},Sr.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},Sr.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},Sr.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},Sr.prototype.coordinateLocation=function(e){return e.toLngLat()},Sr.prototype.pointCoordinate=function(t){var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];e.transformMat4(n,n,this.pixelMatrixInverse),e.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],a=n[1]/i,s=r[1]/o,u=n[2]/i,c=r[2]/o,l=u===c?0:(0-u)/(c-u);return new e.MercatorCoordinate(e.number(n[0]/i,r[0]/o,l)/this.worldSize,e.number(a,s,l)/this.worldSize)},Sr.prototype.coordinatePoint=function(t){var n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix),new e.Point(n[0]/n[3],n[1]/n[3])},Sr.prototype.getBounds=function(){return(new e.LngLatBounds).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},Sr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Sr.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Sr.prototype.calculatePosMatrix=function(t,n){void 0===n&&(n=!1);var r=t.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var o=t.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*t.wrap,u=e.identity(new Float64Array(16));return e.translate(u,u,[s*a,o.y*a,0]),e.scale(u,u,[a/e.EXTENT,a/e.EXTENT,1]),e.multiply(u,n?this.alignedProjMatrix:this.projMatrix,u),i[r]=new Float32Array(u),i[r]},Sr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Sr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,n,r,i,o=-90,a=90,s=-180,u=180,c=this.size,l=this._unmodified;if(this.latRange){var f=this.latRange;o=e.mercatorYfromLat(f[1])*this.worldSize,t=(a=e.mercatorYfromLat(f[0])*this.worldSize)-o<c.y?c.y/(a-o):0}if(this.lngRange){var p=this.lngRange;s=e.mercatorXfromLng(p[0])*this.worldSize,n=(u=e.mercatorXfromLng(p[1])*this.worldSize)-s<c.x?c.x/(u-s):0}var h=this.point,d=Math.max(n||0,t||0);if(d)return this.center=this.unproject(new e.Point(n?(u+s)/2:h.x,t?(a+o)/2:h.y)),this.zoom+=this.scaleZoom(d),this._unmodified=l,void(this._constraining=!1);if(this.latRange){var m=h.y,v=c.y/2;m-v<o&&(i=o+v),m+v>a&&(i=a-v)}if(this.lngRange){var y=h.x,g=c.x/2;y-g<s&&(r=s+g),y+g>u&&(r=u-g)}void 0===r&&void 0===i||(this.center=this.unproject(new e.Point(void 0!==r?r:h.x,void 0!==i?i:h.y))),this._unmodified=l,this._constraining=!1}},Sr.prototype._calcMatrices=function(){if(this.height){var t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var n=Math.PI/2+this._pitch,r=this._fov*(.5+t.y/this.height),i=Math.sin(r)*this.cameraToCenterDistance/Math.sin(e.clamp(Math.PI-n-r,.01,Math.PI-.01)),o=this.point,a=o.x,s=o.y,u=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),c=this.height/50,l=new Float64Array(16);e.perspective(l,this._fov,this.width/this.height,c,u),l[8]=2*-t.x/this.width,l[9]=2*t.y/this.height,e.scale(l,l,[1,-1,1]),e.translate(l,l,[0,0,-this.cameraToCenterDistance]),e.rotateX(l,l,this._pitch),e.rotateZ(l,l,this.angle),e.translate(l,l,[-a,-s,0]),this.mercatorMatrix=e.scale([],l,[this.worldSize,this.worldSize,this.worldSize]),e.scale(l,l,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=l,this.invProjMatrix=e.invert([],this.projMatrix);var f=this.width%2/2,p=this.height%2/2,h=Math.cos(this.angle),d=Math.sin(this.angle),m=a-Math.round(a)+h*f+d*p,v=s-Math.round(s)+h*p+d*f,y=new Float64Array(l);if(e.translate(y,y,[m>.5?m-1:m,v>.5?v-1:v,0]),this.alignedProjMatrix=y,l=e.create(),e.scale(l,l,[this.width/2,-this.height/2,1]),e.translate(l,l,[1,-1,0]),this.labelPlaneMatrix=l,l=e.create(),e.scale(l,l,[1,-1,1]),e.translate(l,l,[-1,-1,0]),e.scale(l,l,[2/this.width,2/this.height,1]),this.glCoordMatrix=l,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(l=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=l,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Sr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},Sr.prototype.getCameraPoint=function(){var t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,t))},Sr.prototype.getCameraQueryGeometry=function(t){var n=this.getCameraPoint();if(1===t.length)return[t[0],n];for(var r=n.x,i=n.y,o=n.x,a=n.y,s=0,u=t;s<u.length;s+=1){var c=u[s];r=Math.min(r,c.x),i=Math.min(i,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y)}return[new e.Point(r,i),new e.Point(o,i),new e.Point(o,a),new e.Point(r,a),new e.Point(r,i)]},Object.defineProperties(Sr.prototype,Or);var Er=function(t){var n,r,i,o;this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(n=this._updateHashUnthrottled.bind(this),r=!1,i=null,o=function(){i=null,r&&(n(),i=setTimeout(o,300),r=!1)},function(){return r=!0,i||o(),i})};Er.prototype.addTo=function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Er.prototype.remove=function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Er.prototype.getHashString=function(t){var n=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,i),a=Math.round(n.lng*o)/o,s=Math.round(n.lat*o)/o,u=this._map.getBearing(),c=this._map.getPitch(),l="";if(l+=t?"/"+a+"/"+s+"/"+r:r+"/"+s+"/"+a,(u||c)&&(l+="/"+Math.round(10*u)/10),c&&(l+="/"+Math.round(c)),this._hashName){var f=this._hashName,p=!1,h=e.window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===f?(p=!0,t+"="+l):e})).filter((function(e){return e}));return p||h.push(f+"="+l),"#"+h.join("&")}return"#"+l},Er.prototype._getCurrentHash=function(){var t,n=this,r=e.window.location.hash.replace("#","");return this._hashName?(r.split("&").map((function(e){return e.split("=")})).forEach((function(e){e[0]===n._hashName&&(t=e)})),(t&&t[1]||"").split("/")):r.split("/")},Er.prototype._onHashChange=function(){var e=this._getCurrentHash();if(e.length>=3&&!e.some((function(e){return isNaN(e)}))){var t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1},Er.prototype._updateHashUnthrottled=function(){var t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());try{e.window.history.replaceState(e.window.history.state,null,t)}catch(e){}};var kr={linearity:.3,easing:e.bezier(0,0,.3,1)},Cr=e.extend({deceleration:2500,maxSpeed:1400},kr),jr=e.extend({deceleration:20,maxSpeed:1400},kr),Tr=e.extend({deceleration:1e3,maxSpeed:360},kr),Ar=e.extend({deceleration:1e3,maxSpeed:90},kr),Pr=function(e){this._map=e,this.clear()};function Mr(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Ir(t,n,r){var i=r.maxSpeed,o=r.linearity,a=r.deceleration,s=e.clamp(t*o/(n/1e3),-i,i),u=Math.abs(s)/(a*o);return{easing:r.easing,duration:1e3*u,amount:s*(u/2)}}Pr.prototype.clear=function(){this._inertiaBuffer=[]},Pr.prototype.record=function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.browser.now(),settings:t})},Pr.prototype._drainInertiaBuffer=function(){for(var t=this._inertiaBuffer,n=e.browser.now();t.length>0&&n-t[0].time>160;)t.shift()},Pr.prototype._onMoveEnd=function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var n={zoom:0,bearing:0,pitch:0,pan:new e.Point(0,0),pinchAround:void 0,around:void 0},r=0,i=this._inertiaBuffer;r<i.length;r+=1){var o=i[r].settings;n.zoom+=o.zoomDelta||0,n.bearing+=o.bearingDelta||0,n.pitch+=o.pitchDelta||0,o.panDelta&&n.pan._add(o.panDelta),o.around&&(n.around=o.around),o.pinchAround&&(n.pinchAround=o.pinchAround)}var a=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(n.pan.mag()){var u=Ir(n.pan.mag(),a,e.extend({},Cr,t||{}));s.offset=n.pan.mult(u.amount/n.pan.mag()),s.center=this._map.transform.center,Mr(s,u)}if(n.zoom){var c=Ir(n.zoom,a,jr);s.zoom=this._map.transform.zoom+c.amount,Mr(s,c)}if(n.bearing){var l=Ir(n.bearing,a,Tr);s.bearing=this._map.transform.bearing+e.clamp(l.amount,-179,179),Mr(s,l)}if(n.pitch){var f=Ir(n.pitch,a,Ar);s.pitch=this._map.transform.pitch+f.amount,Mr(s,f)}if(s.zoom||s.bearing){var p=void 0===n.pinchAround?n.around:n.pinchAround;s.around=p?this._map.unproject(p):this._map.getCenter()}return this.clear(),e.extend(s,{noMoveStart:!0})}};var Lr=function(t){function r(r,i,o,a){void 0===a&&(a={});var s=n.mousePos(i.getCanvasContainer(),o),u=i.unproject(s);t.call(this,r,e.extend({point:s,lngLat:u,originalEvent:o},a)),this._defaultPrevented=!1,this.target=i}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(e.Event),Rr=function(t){function r(r,i,o){var a="touchend"===r?o.changedTouches:o.touches,s=n.touchPos(i.getCanvasContainer(),a),u=s.map((function(e){return i.unproject(e)})),c=s.reduce((function(e,t,n,r){return e.add(t.div(r.length))}),new e.Point(0,0)),l=i.unproject(c);t.call(this,r,{points:s,point:c,lngLats:u,lngLat:l,originalEvent:o}),this._defaultPrevented=!1}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(e.Event),Dr=function(e){function t(t,n,r){e.call(this,t,{originalEvent:r}),this._defaultPrevented=!1}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,n),t}(e.Event),Nr=function(e,t){this._map=e,this._clickTolerance=t.clickTolerance};Nr.prototype.reset=function(){delete this._mousedownPos},Nr.prototype.wheel=function(e){return this._firePreventable(new Dr(e.type,this._map,e))},Nr.prototype.mousedown=function(e,t){return this._mousedownPos=t,this._firePreventable(new Lr(e.type,this._map,e))},Nr.prototype.mouseup=function(e){this._map.fire(new Lr(e.type,this._map,e))},Nr.prototype.click=function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new Lr(e.type,this._map,e))},Nr.prototype.dblclick=function(e){return this._firePreventable(new Lr(e.type,this._map,e))},Nr.prototype.mouseover=function(e){this._map.fire(new Lr(e.type,this._map,e))},Nr.prototype.mouseout=function(e){this._map.fire(new Lr(e.type,this._map,e))},Nr.prototype.touchstart=function(e){return this._firePreventable(new Rr(e.type,this._map,e))},Nr.prototype.touchmove=function(e){this._map.fire(new Rr(e.type,this._map,e))},Nr.prototype.touchend=function(e){this._map.fire(new Rr(e.type,this._map,e))},Nr.prototype.touchcancel=function(e){this._map.fire(new Rr(e.type,this._map,e))},Nr.prototype._firePreventable=function(e){if(this._map.fire(e),e.defaultPrevented)return{}},Nr.prototype.isEnabled=function(){return!0},Nr.prototype.isActive=function(){return!1},Nr.prototype.enable=function(){},Nr.prototype.disable=function(){};var zr=function(e){this._map=e};zr.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},zr.prototype.mousemove=function(e){this._map.fire(new Lr(e.type,this._map,e))},zr.prototype.mousedown=function(){this._delayContextMenu=!0},zr.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Lr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},zr.prototype.contextmenu=function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new Lr(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()},zr.prototype.isEnabled=function(){return!0},zr.prototype.isActive=function(){return!1},zr.prototype.enable=function(){},zr.prototype.disable=function(){};var Fr=function(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1};function Br(e,t){for(var n={},r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}Fr.prototype.isEnabled=function(){return!!this._enabled},Fr.prototype.isActive=function(){return!!this._active},Fr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Fr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Fr.prototype.mousedown=function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(n.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)},Fr.prototype.mousemoveWindow=function(e,t){if(this._active){var r=t;if(!(this._lastPos.equals(r)||!this._box&&r.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=r,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var o=Math.min(i.x,r.x),a=Math.max(i.x,r.x),s=Math.min(i.y,r.y),u=Math.max(i.y,r.y);n.setTransform(this._box,"translate("+o+"px,"+s+"px)"),this._box.style.width=a-o+"px",this._box.style.height=u-s+"px"}}},Fr.prototype.mouseupWindow=function(t,r){var i=this;if(this._active&&0===t.button){var o=this._startPos,a=r;if(this.reset(),n.suppressClick(),o.x!==a.x||o.y!==a.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(o,a,i._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",t)}},Fr.prototype.keydown=function(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))},Fr.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},Fr.prototype._fireEvent=function(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))};var Ur=function(e){this.reset(),this.numTouches=e.numTouches};Ur.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Ur.prototype.touchstart=function(t,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),r.length===this.numTouches&&(this.centroid=function(t){for(var n=new e.Point(0,0),r=0,i=t;r<i.length;r+=1)n._add(i[r]);return n.div(t.length)}(n),this.touches=Br(r,n)))},Ur.prototype.touchmove=function(e,t,n){if(!this.aborted&&this.centroid){var r=Br(n,t);for(var i in this.touches){var o=r[i];(!o||o.dist(this.touches[i])>30)&&(this.aborted=!0)}}},Ur.prototype.touchend=function(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}};var Vr=function(e){this.singleTap=new Ur(e),this.numTaps=e.numTaps,this.reset()};Vr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Vr.prototype.touchstart=function(e,t,n){this.singleTap.touchstart(e,t,n)},Vr.prototype.touchmove=function(e,t,n){this.singleTap.touchmove(e,t,n)},Vr.prototype.touchend=function(e,t,n){var r=this.singleTap.touchend(e,t,n);if(r){var i=e.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(r)<30;if(i&&o||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}};var Hr=function(){this._zoomIn=new Vr({numTouches:1,numTaps:2}),this._zoomOut=new Vr({numTouches:2,numTaps:1}),this.reset()};Hr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Hr.prototype.touchstart=function(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)},Hr.prototype.touchmove=function(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)},Hr.prototype.touchend=function(e,t,n){var r=this,i=this._zoomIn.touchend(e,t,n),o=this._zoomOut.touchend(e,t,n);return i?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}}):o?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(o)},{originalEvent:e})}}):void 0},Hr.prototype.touchcancel=function(){this.reset()},Hr.prototype.enable=function(){this._enabled=!0},Hr.prototype.disable=function(){this._enabled=!1,this.reset()},Hr.prototype.isEnabled=function(){return this._enabled},Hr.prototype.isActive=function(){return this._active};var qr={0:1,2:2},Gr=function(e){this.reset(),this._clickTolerance=e.clickTolerance||1};Gr.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Gr.prototype._correctButton=function(e,t){return!1},Gr.prototype._move=function(e,t){return{}},Gr.prototype.mousedown=function(e,t){if(!this._lastPoint){var r=n.mouseButton(e);this._correctButton(e,r)&&(this._lastPoint=t,this._eventButton=r)}},Gr.prototype.mousemoveWindow=function(e,t){var n=this._lastPoint;if(n)if(e.preventDefault(),function(e,t){var n=qr[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)},Gr.prototype.mouseupWindow=function(e){this._lastPoint&&n.mouseButton(e)===this._eventButton&&(this._moved&&n.suppressClick(),this.reset())},Gr.prototype.enable=function(){this._enabled=!0},Gr.prototype.disable=function(){this._enabled=!1,this.reset()},Gr.prototype.isEnabled=function(){return this._enabled},Gr.prototype.isActive=function(){return this._active};var Wr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.mousedown=function(t,n){e.prototype.mousedown.call(this,t,n),this._lastPoint&&(this._active=!0)},t.prototype._correctButton=function(e,t){return 0===t&&!e.ctrlKey},t.prototype._move=function(e,t){return{around:t,panDelta:t.sub(e)}},t}(Gr),Zr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(Gr),Yr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(Gr),Xr=function(e){this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()};Xr.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new e.Point(0,0)},Xr.prototype.touchstart=function(e,t,n){return this._calculateTransform(e,t,n)},Xr.prototype.touchmove=function(e,t,n){if(this._active&&!(n.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,n)},Xr.prototype.touchend=function(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()},Xr.prototype.touchcancel=function(){this.reset()},Xr.prototype._calculateTransform=function(t,n,r){r.length>0&&(this._active=!0);var i=Br(r,n),o=new e.Point(0,0),a=new e.Point(0,0),s=0;for(var u in i){var c=i[u],l=this._touches[u];l&&(o._add(c),a._add(c.sub(l)),s++,i[u]=c)}if(this._touches=i,!(s<this._minTouches)&&a.mag()){var f=a.div(s);if(this._sum._add(f),!(this._sum.mag()<this._clickTolerance))return{around:o.div(s),panDelta:f}}},Xr.prototype.enable=function(){this._enabled=!0},Xr.prototype.disable=function(){this._enabled=!1,this.reset()},Xr.prototype.isEnabled=function(){return this._enabled},Xr.prototype.isActive=function(){return this._active};var Kr=function(){this.reset()};function Jr(e,t,n){for(var r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function Qr(e,t){return Math.log(e/t)/Math.LN2}Kr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Kr.prototype._start=function(e){},Kr.prototype._move=function(e,t,n){return{}},Kr.prototype.touchstart=function(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))},Kr.prototype.touchmove=function(e,t,n){if(this._firstTwoTouches){e.preventDefault();var r=this._firstTwoTouches,i=r[1],o=Jr(n,t,r[0]),a=Jr(n,t,i);if(o&&a){var s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,e)}}},Kr.prototype.touchend=function(e,t,r){if(this._firstTwoTouches){var i=this._firstTwoTouches,o=i[1],a=Jr(r,t,i[0]),s=Jr(r,t,o);a&&s||(this._active&&n.suppressClick(),this.reset())}},Kr.prototype.touchcancel=function(){this.reset()},Kr.prototype.enable=function(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around},Kr.prototype.disable=function(){this._enabled=!1,this.reset()},Kr.prototype.isEnabled=function(){return this._enabled},Kr.prototype.isActive=function(){return this._active};var $r=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._distance,delete this._startDistance},t.prototype._start=function(e){this._startDistance=this._distance=e[0].dist(e[1])},t.prototype._move=function(e,t){var n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Qr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Qr(this._distance,n),pinchAround:t}},t}(Kr);function ei(e,t){return 180*e.angleWith(t)/Math.PI}var ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},t.prototype._start=function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])},t.prototype._move=function(e,t){var n=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ei(this._vector,n),pinchAround:t}},t.prototype._isBelowThreshold=function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,n=ei(e,this._startVector);return Math.abs(n)<t},t}(Kr);function ni(e){return Math.abs(e.y)>Math.abs(e.x)}var ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},t.prototype._start=function(e){this._lastPoints=e,ni(e[0].sub(e[1]))&&(this._valid=!1)},t.prototype._move=function(e,t,n){var r=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}},t.prototype.gestureBeginsVertically=function(e,t,n){if(void 0!==this._valid)return this._valid;var r=e.mag()>=2,i=t.mag()>=2;if(r||i){if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var o=e.y>0==t.y>0;return ni(e)&&ni(t)&&o}},t}(Kr),ii={panStep:100,bearingStep:15,pitchStep:10},oi=function(){var e=ii;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1};function ai(e){return e*(2-e)}oi.prototype.reset=function(){this._active=!1},oi.prototype.keydown=function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=0,r=0,i=0,o=0,a=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),o=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),o=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),a=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(r=0,i=0),{cameraAnimation:function(s){var u=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:ai,zoom:n?Math.round(u)+n*(e.shiftKey?2:1):u,bearing:s.getBearing()+r*t._bearingStep,pitch:s.getPitch()+i*t._pitchStep,offset:[-o*t._panStep,-a*t._panStep],center:s.getCenter()},{originalEvent:e})}}}},oi.prototype.enable=function(){this._enabled=!0},oi.prototype.disable=function(){this._enabled=!1,this.reset()},oi.prototype.isEnabled=function(){return this._enabled},oi.prototype.isActive=function(){return this._active},oi.prototype.disableRotation=function(){this._rotationDisabled=!0},oi.prototype.enableRotation=function(){this._rotationDisabled=!1};var si=function(t,n){this._map=t,this._el=t.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,e.bindAll(["_onTimeout"],this)};si.prototype.setZoomRate=function(e){this._defaultZoomRate=e},si.prototype.setWheelZoomRate=function(e){this._wheelZoomRate=e},si.prototype.isEnabled=function(){return!!this._enabled},si.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},si.prototype.isZooming=function(){return!!this._zooming},si.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},si.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},si.prototype.wheel=function(t){if(this.isEnabled()){var n=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,r=e.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}},si.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)},si.prototype._start=function(t){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var r=n.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},si.prototype.renderFrame=function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a,s="number"==typeof this._targetZoom?this._targetZoom:n.zoom,u=this._startZoom,c=this._easing,l=!1;if("wheel"===this._type&&u&&c){var f=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),p=c(f);a=e.number(u,s,p),f<1?this._frameId||(this._frameId=!0):l=!0}else a=s,l=!0;return this._active=!0,l&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!l,zoomDelta:a-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},si.prototype._smoothOutEasing=function(t){var n=e.ease;if(this._prevEase){var r=this._prevEase,i=(e.browser.now()-r.start)/r.duration,o=r.easing(i+.01)-r.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=e.bezier(a,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:n},n},si.prototype.reset=function(){this._active=!1};var ui=function(e,t){this._clickZoom=e,this._tapZoom=t};ui.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ui.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ui.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ui.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ci=function(){this.reset()};ci.prototype.reset=function(){this._active=!1},ci.prototype.dblclick=function(e,t){return e.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}},ci.prototype.enable=function(){this._enabled=!0},ci.prototype.disable=function(){this._enabled=!1,this.reset()},ci.prototype.isEnabled=function(){return this._enabled},ci.prototype.isActive=function(){return this._active};var li=function(){this._tap=new Vr({numTouches:1,numTaps:1}),this.reset()};li.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},li.prototype.touchstart=function(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))},li.prototype.touchmove=function(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=t[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,n)},li.prototype.touchend=function(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)},li.prototype.touchcancel=function(){this.reset()},li.prototype.enable=function(){this._enabled=!0},li.prototype.disable=function(){this._enabled=!1,this.reset()},li.prototype.isEnabled=function(){return this._enabled},li.prototype.isActive=function(){return this._active};var fi=function(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n};fi.prototype.enable=function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},fi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},fi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},fi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var pi=function(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n};pi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},pi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},pi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},pi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var hi=function(e,t,n,r){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0};hi.prototype.enable=function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},hi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},hi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},hi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},hi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},hi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var di=function(e){return e.zoom||e.drag||e.pitch||e.rotate},mi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(e.Event);function vi(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var yi=function(t,r){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Pr(t),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r),e.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[e.window,"blur",void 0]];for(var o=0,a=this._listeners;o<a.length;o+=1){var s=a[o],u=s[0];n.addEventListener(u,s[1],u===e.window.document?this.handleWindowEvent:this.handleEvent,s[2])}};yi.prototype.destroy=function(){for(var t=0,r=this._listeners;t<r.length;t+=1){var i=r[t],o=i[0];n.removeEventListener(o,i[1],o===e.window.document?this.handleWindowEvent:this.handleEvent,i[2])}},yi.prototype._addDefaultHandlers=function(e){var t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new Nr(t,e));var r=t.boxZoom=new Fr(t,e);this._add("boxZoom",r);var i=new Hr,o=new ci;t.doubleClickZoom=new ui(o,i),this._add("tapZoom",i),this._add("clickZoom",o);var a=new li;this._add("tapDragZoom",a);var s=t.touchPitch=new ri;this._add("touchPitch",s);var u=new Zr(e),c=new Yr(e);t.dragRotate=new pi(e,u,c),this._add("mouseRotate",u,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);var l=new Wr(e),f=new Xr(e);t.dragPan=new fi(n,l,f),this._add("mousePan",l),this._add("touchPan",f,["touchZoom","touchRotate"]);var p=new ti,h=new $r;t.touchZoomRotate=new hi(n,h,p,a),this._add("touchRotate",p,["touchPan","touchZoom"]),this._add("touchZoom",h,["touchPan","touchRotate"]);var d=t.scrollZoom=new si(t,this);this._add("scrollZoom",d,["mousePan"]);var m=t.keyboard=new oi;this._add("keyboard",m),this._add("blockableMapEvent",new zr(t));for(var v=0,y=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];v<y.length;v+=1){var g=y[v];e.interactive&&e[g]&&t[g].enable(e[g])}},yi.prototype._add=function(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t},yi.prototype.stop=function(e){if(!this._updatingCamera){for(var t=0,n=this._handlers;t<n.length;t+=1)n[t].handler.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}},yi.prototype.isActive=function(){for(var e=0,t=this._handlers;e<t.length;e+=1)if(t[e].handler.isActive())return!0;return!1},yi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},yi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},yi.prototype.isMoving=function(){return Boolean(di(this._eventsInProgress))||this.isZooming()},yi.prototype._blockedByActive=function(e,t,n){for(var r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1},yi.prototype.handleWindowEvent=function(e){this.handleEvent(e,e.type+"Window")},yi.prototype._getMapTouches=function(e){for(var t=[],n=0,r=e;n<r.length;n+=1){var i=r[n];this._el.contains(i.target)&&t.push(i)}return t},yi.prototype.handleEvent=function(e,t){if("blur"!==e.type){this._updatingCamera=!0;for(var r="renderFrame"===e.type?void 0:e,i={needsRenderFrame:!1},o={},a={},s=e.touches?this._getMapTouches(e.touches):void 0,u=s?n.touchPos(this._el,s):n.mousePos(this._el,e),c=0,l=this._handlers;c<l.length;c+=1){var f=l[c],p=f.handlerName,h=f.handler,d=f.allowed;if(h.isEnabled()){var m=void 0;this._blockedByActive(a,d,p)?h.reset():h[t||e.type]&&(m=h[t||e.type](e,u,s),this.mergeHandlerResult(i,o,m,p,r),m&&m.needsRenderFrame&&this._triggerRenderFrame()),(m||h.isActive())&&(a[p]=h)}}var v={};for(var y in this._previousActiveHandlers)a[y]||(v[y]=r);this._previousActiveHandlers=a,(Object.keys(v).length||vi(i))&&(this._changes.push([i,o,v]),this._triggerRenderFrame()),(Object.keys(a).length||vi(i))&&this._map._stop(!0),this._updatingCamera=!1;var g=i.cameraAnimation;g&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],g(this._map))}else this.stop(!0)},yi.prototype.mergeHandlerResult=function(t,n,r,i,o){if(r){e.extend(t,r);var a={handlerName:i,originalEvent:r.originalEvent||o};void 0!==r.zoomDelta&&(n.zoom=a),void 0!==r.panDelta&&(n.drag=a),void 0!==r.pitchDelta&&(n.pitch=a),void 0!==r.bearingDelta&&(n.rotate=a)}},yi.prototype._applyChanges=function(){for(var t={},n={},r={},i=0,o=this._changes;i<o.length;i+=1){var a=o[i],s=a[0],u=a[1],c=a[2];s.panDelta&&(t.panDelta=(t.panDelta||new e.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(t.around=s.around),void 0!==s.pinchAround&&(t.pinchAround=s.pinchAround),s.noInertia&&(t.noInertia=s.noInertia),e.extend(n,u),e.extend(r,c)}this._updateMapTransform(t,n,r),this._changes=[]},yi.prototype._updateMapTransform=function(e,t,n){var r=this._map,i=r.transform;if(!vi(e))return this._fireEvents(t,n,!0);var o=e.panDelta,a=e.zoomDelta,s=e.bearingDelta,u=e.pitchDelta,c=e.around,l=e.pinchAround;void 0!==l&&(c=l),r._stop(!0),c=c||r.transform.centerPoint;var f=i.pointLocation(o?c.sub(o):c);s&&(i.bearing+=s),u&&(i.pitch+=u),a&&(i.zoom+=a),i.setLocationAtPoint(f,c),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,n,!0)},yi.prototype._fireEvents=function(t,n,r){var i=this,o=di(this._eventsInProgress),a=di(t),s={};for(var u in t)this._eventsInProgress[u]||(s[u+"start"]=t[u].originalEvent),this._eventsInProgress[u]=t[u];for(var c in!o&&a&&this._fireEvent("movestart",a.originalEvent),s)this._fireEvent(c,s[c]);for(var l in a&&this._fireEvent("move",a.originalEvent),t)this._fireEvent(l,t[l].originalEvent);var f,p={};for(var h in this._eventsInProgress){var d=this._eventsInProgress[h],m=d.handlerName,v=d.originalEvent;this._handlersById[m].isActive()||(delete this._eventsInProgress[h],p[h+"end"]=f=n[m]||v)}for(var y in p)this._fireEvent(y,p[y]);var g=di(this._eventsInProgress);if(r&&(o||a)&&!g){this._updatingCamera=!0;var b=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),x=function(e){return 0!==e&&-i._bearingSnap<e&&e<i._bearingSnap};b?(x(b.bearing||this._map.getBearing())&&(b.bearing=0),this._map.easeTo(b,{originalEvent:f})):(this._map.fire(new e.Event("moveend",{originalEvent:f})),x(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},yi.prototype._fireEvent=function(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))},yi.prototype._requestFrame=function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(t){delete e._frameId,e.handleEvent(new mi("renderFrame",{timeStamp:t})),e._applyChanges()}))},yi.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var gi=function(t){function n(n,r){t.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getCenter=function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},n.prototype.panBy=function(t,n,r){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),r)},n.prototype.panTo=function(t,n,r){return this.easeTo(e.extend({center:t},n),r)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},n.prototype.zoomTo=function(t,n,r){return this.easeTo(e.extend({zoom:t},n),r)},n.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},n.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},n.prototype.getPadding=function(){return this.transform.padding},n.prototype.setPadding=function(e,t){return this.jumpTo({padding:e},t),this},n.prototype.rotateTo=function(t,n,r){return this.easeTo(e.extend({bearing:t},n),r)},n.prototype.resetNorth=function(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this},n.prototype.resetNorthPitch=function(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this},n.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},n.prototype.cameraForBounds=function(t,n){t=e.LngLatBounds.convert(t);var r=n&&n.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),r,n)},n.prototype._cameraForBoxAndBearing=function(t,n,r,i){var o={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=e.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var a=i.padding;i.padding={top:a,bottom:a,right:a,left:a}}i.padding=e.extend(o,i.padding);var s=this.transform,u=s.padding,c=s.project(e.LngLat.convert(t)),l=s.project(e.LngLat.convert(n)),f=c.rotate(-r*Math.PI/180),p=l.rotate(-r*Math.PI/180),h=new e.Point(Math.max(f.x,p.x),Math.max(f.y,p.y)),d=new e.Point(Math.min(f.x,p.x),Math.min(f.y,p.y)),m=h.sub(d),v=(s.width-(u.left+u.right+i.padding.left+i.padding.right))/m.x,y=(s.height-(u.top+u.bottom+i.padding.top+i.padding.bottom))/m.y;if(!(y<0||v<0)){var g=Math.min(s.scaleZoom(s.scale*Math.min(v,y)),i.maxZoom),b="number"==typeof i.offset.x?new e.Point(i.offset.x,i.offset.y):e.Point.convert(i.offset),x=new e.Point((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(r*Math.PI/180),_=b.add(x).mult(s.scale/s.zoomScale(g));return{center:s.unproject(c.add(l).div(2).sub(_)),zoom:g,bearing:r}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},n.prototype.fitBounds=function(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)},n.prototype.fitScreenCoordinates=function(t,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(n)),r,i),i,o)},n.prototype._fitInternal=function(t,n,r){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this},n.prototype.jumpTo=function(t,n){this.stop();var r=this.transform,i=!1,o=!1,a=!1;return"zoom"in t&&r.zoom!==+t.zoom&&(i=!0,r.zoom=+t.zoom),void 0!==t.center&&(r.center=e.LngLat.convert(t.center)),"bearing"in t&&r.bearing!==+t.bearing&&(o=!0,r.bearing=+t.bearing),"pitch"in t&&r.pitch!==+t.pitch&&(a=!0,r.pitch=+t.pitch),null==t.padding||r.isPaddingEqual(t.padding)||(r.padding=t.padding),this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),i&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),o&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),a&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n))},n.prototype.easeTo=function(t,n){var r=this;this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.browser.prefersReducedMotion)&&(t.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),u=this.getPadding(),c="zoom"in t?+t.zoom:o,l="bearing"in t?this._normalizeBearing(t.bearing,a):a,f="pitch"in t?+t.pitch:s,p="padding"in t?t.padding:i.padding,h=e.Point.convert(t.offset),d=i.centerPoint.add(h),m=i.pointLocation(d),v=e.LngLat.convert(t.center||m);this._normalizeCenter(v);var y,g,b=i.project(m),x=i.project(v).sub(b),_=i.zoomScale(c-o);t.around&&(y=e.LngLat.convert(t.around),g=i.locationPoint(y));var w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||c!==o,this._rotating=this._rotating||a!==l,this._pitching=this._pitching||f!==s,this._padding=!i.isPaddingEqual(p),this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,w),this._ease((function(t){if(r._zooming&&(i.zoom=e.number(o,c,t)),r._rotating&&(i.bearing=e.number(a,l,t)),r._pitching&&(i.pitch=e.number(s,f,t)),r._padding&&(i.interpolatePadding(u,p,t),d=i.centerPoint.add(h)),y)i.setLocationAtPoint(y,g);else{var m=i.zoomScale(i.zoom-o),v=c>o?Math.min(2,_):Math.max(.5,_),w=Math.pow(v,1-t),S=i.unproject(b.add(x.mult(t*w)).mult(m));i.setLocationAtPoint(i.renderWorldCopies?S.wrap():S,d)}r._fireMoveEvents(n)}),(function(e){r._afterEase(n,e)}),t),this},n.prototype._prepareEase=function(t,n,r){void 0===r&&(r={}),this._moving=!0,n||r.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!r.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!r.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!r.pitching&&this.fire(new e.Event("pitchstart",t))},n.prototype._fireMoveEvents=function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))},n.prototype._afterEase=function(t,n){if(!this._easeId||!n||this._easeId!==n){delete this._easeId;var r=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}},n.prototype.flyTo=function(t,n){var r=this;if(!t.essential&&e.browser.prefersReducedMotion){var i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var o=this.transform,a=this.getZoom(),s=this.getBearing(),u=this.getPitch(),c=this.getPadding(),l="zoom"in t?e.clamp(+t.zoom,o.minZoom,o.maxZoom):a,f="bearing"in t?this._normalizeBearing(t.bearing,s):s,p="pitch"in t?+t.pitch:u,h="padding"in t?t.padding:o.padding,d=o.zoomScale(l-a),m=e.Point.convert(t.offset),v=o.centerPoint.add(m),y=o.pointLocation(v),g=e.LngLat.convert(t.center||y);this._normalizeCenter(g);var b=o.project(y),x=o.project(g).sub(b),_=t.curve,w=Math.max(o.width,o.height),S=w/d,O=x.mag();if("minZoom"in t){var E=e.clamp(Math.min(t.minZoom,a,l),o.minZoom,o.maxZoom),k=w/o.zoomScale(E-a);_=Math.sqrt(k/O*2)}var C=_*_;function j(e){var t=(S*S-w*w+(e?-1:1)*C*C*O*O)/(2*(e?S:w)*C*O);return Math.log(Math.sqrt(t*t+1)-t)}function T(e){return(Math.exp(e)-Math.exp(-e))/2}function A(e){return(Math.exp(e)+Math.exp(-e))/2}var P=j(0),M=function(e){return A(P)/A(P+_*e)},I=function(e){return w*((A(P)*(T(t=P+_*e)/A(t))-T(P))/C)/O;var t},L=(j(1)-P)/_;if(Math.abs(O)<1e-6||!isFinite(L)){if(Math.abs(w-S)<1e-6)return this.easeTo(t,n);var R=S<w?-1:1;L=Math.abs(Math.log(S/w))/_,I=function(){return 0},M=function(e){return Math.exp(R*_*e)}}return t.duration="duration"in t?+t.duration:1e3*L/("screenSpeed"in t?+t.screenSpeed/_:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==f,this._pitching=p!==u,this._padding=!o.isPaddingEqual(h),this._prepareEase(n,!1),this._ease((function(t){var i=t*L,d=1/M(i);o.zoom=1===t?l:a+o.scaleZoom(d),r._rotating&&(o.bearing=e.number(s,f,t)),r._pitching&&(o.pitch=e.number(u,p,t)),r._padding&&(o.interpolatePadding(c,h,t),v=o.centerPoint.add(m));var y=1===t?g:o.unproject(b.add(x.mult(I(i))).mult(d));o.setLocationAtPoint(o.renderWorldCopies?y.wrap():y,v),r._fireMoveEvents(n)}),(function(){return r._afterEase(n)}),t),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){return this._stop()},n.prototype._stop=function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,t)}if(!e){var r=this.handlers;r&&r.stop(!1)}return this},n.prototype._ease=function(t,n,r){!1===r.animate||0===r.duration?(t(1),n()):(this._easeStart=e.browser.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(t,n){t=e.wrap(t,-180,180);var r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t},n.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}},n}(e.Evented),bi=function(t){void 0===t&&(t={}),this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};bi.prototype.getDefaultPosition=function(){return"bottom-right"},bi.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=n.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},bi.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},bi.prototype._setElementTitle=function(e,t){var n=this._map._getUIString("AttributionControl."+t);e.title=n,e.setAttribute("aria-label",n)},bi.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},bi.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var r=n.reduce((function(e,t,r){return t.value&&(e+=t.key+"="+t.value+(r<n.length-1?"&":"")),e}),"?");t.href=e.config.FEEDBACK_URL+"/"+r+(this._map._hash?this._map._hash.getHashString(!0):""),t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}},bi.prototype._updateData=function(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())},bi.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((function(e){return"string"!=typeof e?"":e}))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var o=i.getSource();o.attribution&&e.indexOf(o.attribution)<0&&e.push(o.attribution)}}e.sort((function(e,t){return e.length-t.length}));var a=(e=e.filter((function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0}))).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,e.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},bi.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var xi=function(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)};xi.prototype.onAdd=function(e){this._map=e,this._container=n.create("div","mapboxgl-ctrl");var t=n.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},xi.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},xi.prototype.getDefaultPosition=function(){return"bottom-left"},xi.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},xi.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},xi.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}};var _i=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};_i.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},_i.prototype.remove=function(e){for(var t=this._currentlyRunning,n=0,r=t?this._queue.concat(t):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===e)return void(i.cancelled=!0)}},_i.prototype.run=function(e){void 0===e&&(e=0);var t=this._currentlyRunning=this._queue;this._queue=[];for(var n=0,r=t;n<r.length;n+=1){var i=r[n];if(!i.cancelled&&(i.callback(e),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},_i.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var wi={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Si=e.window.HTMLImageElement,Oi=e.window.HTMLElement,Ei=e.window.ImageBitmap,ki={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Ci=function(r){function i(t){var n=this;if(null!=(t=e.extend({},ki,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var i=new Sr(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies);if(r.call(this,i,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new _i,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},wi,t.locale),this._clickTolerance=t.clickTolerance,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken),"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else{if(!(t.container instanceof Oi))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return n._update(!1)})),this.on("moveend",(function(){return n._update(!1)})),this.on("zoom",(function(){return n._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new yi(this,t),this._hash=t.hash&&new Er("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new bi({customAttribution:t.customAttribution})),this.addControl(new xi,t.logoPosition),this.on("style.load",(function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)})),this.on("data",(function(t){n._update("style"===t.dataType),n.fire(new e.Event(t.dataType+"data",t))})),this.on("dataloading",(function(t){n.fire(new e.Event(t.dataType+"dataloading",t))}))}r&&(i.__proto__=r),(i.prototype=Object.create(r&&r.prototype)).constructor=i;var o={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=t.onAdd(this);this._controls.push(t);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this},i.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this},i.prototype.hasControl=function(e){return this._controls.indexOf(e)>-1},i.prototype.resize=function(t){var n=this._containerDimensions(),r=n[0],i=n[1];this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i);var o=!this._moving;return o&&(this.stop(),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t))),this.fire(new e.Event("resize",t)),o&&this.fire(new e.Event("moveend",t)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},i.prototype.setMinZoom=function(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.setMinPitch=function(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},i.prototype.getMinPitch=function(){return this.transform.minPitch},i.prototype.setMaxPitch=function(e){if((e=null==e?60:e)>60)throw new Error("maxPitch must be less than or equal to 60");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")},i.prototype.getMaxPitch=function(){return this.transform.maxPitch},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},i.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},i.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},i.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},i.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},i.prototype._createDelegatedListener=function(e,t,n){var r,i=this;if("mouseenter"===e||"mouseover"===e){var o=!1;return{layer:t,listener:n,delegates:{mousemove:function(r){var a=i.getLayer(t)?i.queryRenderedFeatures(r.point,{layers:[t]}):[];a.length?o||(o=!0,n.call(i,new Lr(e,i,r.originalEvent,{features:a}))):o=!1},mouseout:function(){o=!1}}}}if("mouseleave"===e||"mouseout"===e){var a=!1;return{layer:t,listener:n,delegates:{mousemove:function(r){(i.getLayer(t)?i.queryRenderedFeatures(r.point,{layers:[t]}):[]).length?a=!0:a&&(a=!1,n.call(i,new Lr(e,i,r.originalEvent)))},mouseout:function(t){a&&(a=!1,n.call(i,new Lr(e,i,t.originalEvent)))}}}}return{layer:t,listener:n,delegates:(r={},r[e]=function(e){var r=i.getLayer(t)?i.queryRenderedFeatures(e.point,{layers:[t]}):[];r.length&&(e.features=r,n.call(i,e),delete e.features)},r)}},i.prototype.on=function(e,t,n){if(void 0===n)return r.prototype.on.call(this,e,t);var i=this._createDelegatedListener(e,t,n);for(var o in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i),i.delegates)this.on(o,i.delegates[o]);return this},i.prototype.once=function(e,t,n){if(void 0===n)return r.prototype.once.call(this,e,t);var i=this._createDelegatedListener(e,t,n);for(var o in i.delegates)this.once(o,i.delegates[o]);return this},i.prototype.off=function(e,t,n){var i=this;return void 0===n?r.prototype.off.call(this,e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&function(r){for(var o=r[e],a=0;a<o.length;a++){var s=o[a];if(s.layer===t&&s.listener===n){for(var u in s.delegates)i.off(u,s.delegates[u]);return o.splice(a,1),i}}}(this._delegatedListeners),this)},i.prototype.queryRenderedFeatures=function(t,n){if(!this.style)return[];var r;if(void 0!==n||void 0===t||t instanceof e.Point||Array.isArray(t)||(n=t,t=void 0),n=n||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||"number"==typeof t[0])r=[e.Point.convert(t)];else{var i=e.Point.convert(t[0]),o=e.Point.convert(t[1]);r=[i,new e.Point(o.x,i.y),o,new e.Point(i.x,o.y),i]}return this.style.queryRenderedFeatures(r,n,this.transform)},i.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},i.prototype.setStyle=function(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(t,n))},i.prototype._getUIString=function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '"+e+"'");return t},i.prototype._updateStyle=function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Ht(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},i.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ht(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},i.prototype._diffStyle=function(t,n){var r=this;if("string"==typeof t){var i=this._requestManager.normalizeStyleURL(t),o=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(o,(function(t,i){t?r.fire(new e.ErrorEvent(t)):i&&r._updateDiff(i,n)}))}else"object"==typeof t&&this._updateDiff(t,n)},i.prototype._updateDiff=function(t,n){try{this.style.setState(t)&&this._update(!0)}catch(r){e.warnOnce("Unable to perform style diff: "+(r.message||r.error||r)+".  Rebuilding the style from scratch."),this._updateStyle(t,n)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)},i.prototype.isSourceLoaded=function(t){var n=this.style&&this.style.sourceCaches[t];if(void 0!==n)return n.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},i.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var n=e[t]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},i.prototype.addSourceType=function(e,t,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)},i.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},i.prototype.getSource=function(e){return this.style.getSource(e)},i.prototype.addImage=function(t,n,r){void 0===r&&(r={});var i=r.pixelRatio;void 0===i&&(i=1);var o=r.sdf;void 0===o&&(o=!1);var a=r.stretchX,s=r.stretchY,u=r.content;if(this._lazyInitEmptyStyle(),n instanceof Si||Ei&&n instanceof Ei){var c=e.browser.getImageData(n);this.style.addImage(t,{data:new e.RGBAImage({width:c.width,height:c.height},c.data),pixelRatio:i,stretchX:a,stretchY:s,content:u,sdf:o,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var l=n;this.style.addImage(t,{data:new e.RGBAImage({width:n.width,height:n.height},new Uint8Array(n.data)),pixelRatio:i,stretchX:a,stretchY:s,content:u,sdf:o,version:0,userImage:l}),l.onAdd&&l.onAdd(this,t)}},i.prototype.updateImage=function(t,n){var r=this.style.getImage(t);if(!r)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=n instanceof Si||Ei&&n instanceof Ei?e.browser.getImageData(n):n,o=i.width,a=i.height,s=i.data;return void 0===o||void 0===a?this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==r.data.width||a!==r.data.height?this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(r.data.replace(s,!(n instanceof Si||Ei&&n instanceof Ei)),void this.style.updateImage(t,r))},i.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(e){this.style.removeImage(e)},i.prototype.loadImage=function(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),n)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)},i.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},i.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},i.prototype.getLayer=function(e){return this.style.getLayer(e)},i.prototype.setLayerZoomRange=function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)},i.prototype.setFilter=function(e,t,n){return void 0===n&&(n={}),this.style.setFilter(e,t,n),this._update(!0)},i.prototype.getFilter=function(e){return this.style.getFilter(e)},i.prototype.setPaintProperty=function(e,t,n,r){return void 0===r&&(r={}),this.style.setPaintProperty(e,t,n,r),this._update(!0)},i.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},i.prototype.setLayoutProperty=function(e,t,n,r){return void 0===r&&(r={}),this.style.setLayoutProperty(e,t,n,r),this._update(!0)},i.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},i.prototype.setLight=function(e,t){return void 0===t&&(t={}),this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},i.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},i.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=n.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var i=this._controlContainer=n.create("div","mapboxgl-control-container",e),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){o[e]=n.create("div","mapboxgl-ctrl-"+e,i)})),this._container.addEventListener("scroll",this._onMapScroll,!1)},i.prototype._resizeCanvas=function(t,n){var r=e.browser.devicePixelRatio||1;this._canvas.width=r*t,this._canvas.height=r*n,this._canvas.style.width=t+"px",this._canvas.style.height=n+"px"},i.prototype._setupPainter=function(){var n=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(this.painter=new br(r,this.transform),e.webpSupported.testSupport(r)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},i.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},i.prototype._onMapScroll=function(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},i.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},i.prototype._render=function(t){var n,r=this,i=0,o=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,n),i=e.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),!this._removed){var a=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,u=e.browser.now();this.style.zoomHistory.update(s,u);var c=new e.EvaluationParameters(s,{now:u,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),l=c.crossFadingFactor();1===l&&l===this._crossFadingFactor||(a=!0,this._crossFadingFactor=l),this.style.update(c)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var f=e.browser.now()-i;o.endQueryEXT(o.TIME_ELAPSED_EXT,n),setTimeout((function(){var t=o.getQueryObjectEXT(n,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(n),r.fire(new e.Event("gpu-timing-frame",{cpuTime:f,gpuTime:t}))}),50)}if(this.listens("gpu-timing-layer")){var p=this.painter.collectGpuTimers();setTimeout((function(){var t=r.painter.queryGpuTimers(p);r.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))}),50)}var h=this._sourcesDirty||this._styleDirty||this._placementDirty;return h||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),!this._loaded||this._fullyLoaded||h||(this._fullyLoaded=!0),this}},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,n=this._controls;t<n.length;t+=1)n[t].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),ji(this._canvasContainer),ji(this._controlContainer),ji(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new e.Event("remove"))},i.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame((function(e){t._frame=null,t._render(e)})))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(e){this._trackResize&&this.resize({originalEvent:e})._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},o.showPadding.get=function(){return!!this._showPadding},o.showPadding.set=function(e){this._showPadding!==e&&(this._showPadding=e,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(e){this._vertices=e,this._update()},i.prototype._setCacheLimits=function(t,n){e.setCacheLimits(t,n)},o.version.get=function(){return e.version},Object.defineProperties(i.prototype,o),i}(gi);function ji(e){e.parentNode&&e.parentNode.removeChild(e)}var Ti={showCompass:!0,showZoom:!0,visualizePitch:!1},Ai=function(t){var r=this;this.options=e.extend({},Ti,t),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(e){return r._map.zoomIn({},{originalEvent:e})})),n.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(e){return r._map.zoomOut({},{originalEvent:e})})),n.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(e){r.options.visualizePitch?r._map.resetNorthPitch({},{originalEvent:e}):r._map.resetNorth({},{originalEvent:e})})),this._compassIcon=n.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Ai.prototype._updateZoomButtons=function(){var e=this._map.getZoom(),t=e===this._map.getMaxZoom(),n=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())},Ai.prototype._rotateCompassArrow=function(){var e=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=e},Ai.prototype.onAdd=function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Pi(this._map,this._compass,this.options.visualizePitch)),this._container},Ai.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Ai.prototype._createButton=function(e,t){var r=n.create("button",e,this._container);return r.type="button",r.addEventListener("click",t),r},Ai.prototype._setButtonTitle=function(e,t){var n=this._map._getUIString("NavigationControl."+t);e.title=n,e.setAttribute("aria-label",n)};var Pi=function(t,r,i){void 0===i&&(i=!1),this._clickTolerance=10,this.element=r,this.mouseRotate=new Zr({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,i&&(this.mousePitch=new Yr({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener(r,"mousedown",this.mousedown),n.addEventListener(r,"touchstart",this.touchstart,{passive:!1}),n.addEventListener(r,"touchmove",this.touchmove),n.addEventListener(r,"touchend",this.touchend),n.addEventListener(r,"touchcancel",this.reset)};function Mi(t,n,r){if(t=new e.LngLat(t.lng,t.lat),n){var i=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=r.locationPoint(t).distSqr(n);r.locationPoint(i).distSqr(n)<a?t=i:r.locationPoint(o).distSqr(n)<a&&(t=o)}for(;Math.abs(t.lng-r.center.lng)>180;){var s=r.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}Pi.prototype.down=function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),n.disableDrag()},Pi.prototype.move=function(e,t){var n=this.map,r=this.mouseRotate.mousemoveWindow(e,t);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(e,t);i&&i.pitchDelta&&n.setPitch(n.getPitch()+i.pitchDelta)}},Pi.prototype.off=function(){var e=this.element;n.removeEventListener(e,"mousedown",this.mousedown),n.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),n.removeEventListener(e,"touchmove",this.touchmove),n.removeEventListener(e,"touchend",this.touchend),n.removeEventListener(e,"touchcancel",this.reset),this.offTemp()},Pi.prototype.offTemp=function(){n.enableDrag(),n.removeEventListener(e.window,"mousemove",this.mousemove),n.removeEventListener(e.window,"mouseup",this.mouseup)},Pi.prototype.mousedown=function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),n.mousePos(this.element,t)),n.addEventListener(e.window,"mousemove",this.mousemove),n.addEventListener(e.window,"mouseup",this.mouseup)},Pi.prototype.mousemove=function(e){this.move(e,n.mousePos(this.element,e))},Pi.prototype.mouseup=function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()},Pi.prototype.touchstart=function(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos))},Pi.prototype.touchmove=function(e){1!==e.targetTouches.length?this.reset():(this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos))},Pi.prototype.touchend=function(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Pi.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Ii={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Li(e,t,n){var r=e.classList;for(var i in Ii)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+t)}var Ri,Di=function(t){function r(r,i){if(t.call(this),(r instanceof e.window.HTMLElement||i)&&(r=e.extend({element:r},i)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&"auto"!==r.pitchAlignment?r.pitchAlignment:this._rotationAlignment,r&&r.element)this._element=r.element,this._offset=e.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div"),this._element.setAttribute("aria-label","Map marker");var o=n.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var u=n.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"transform","translate(3.0, 29.0)"),u.setAttributeNS(null,"fill","#000000");for(var c=0,l=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];c<l.length;c+=1){var f=l[c],p=n.createNS("http://www.w3.org/2000/svg","ellipse");p.setAttributeNS(null,"opacity","0.04"),p.setAttributeNS(null,"cx","10.5"),p.setAttributeNS(null,"cy","5.80029008"),p.setAttributeNS(null,"rx",f.rx),p.setAttributeNS(null,"ry",f.ry),u.appendChild(p)}var h=n.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill",this._color);var d=n.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(d);var m=n.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var v=n.createNS("http://www.w3.org/2000/svg","path");v.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(v);var y=n.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var g=n.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(8.0, 8.0)");var b=n.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#000000"),b.setAttributeNS(null,"opacity","0.25"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962");var x=n.createNS("http://www.w3.org/2000/svg","circle");x.setAttributeNS(null,"fill","#FFFFFF"),x.setAttributeNS(null,"cx","5.5"),x.setAttributeNS(null,"cy","5.5"),x.setAttributeNS(null,"r","5.4999962"),g.appendChild(b),g.appendChild(x),s.appendChild(u),s.appendChild(h),s.appendChild(m),s.appendChild(y),s.appendChild(g),o.appendChild(s),o.setAttributeNS(null,"height",41*this._scale+"px"),o.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(o),this._offset=e.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(e){e.preventDefault()})),this._element.addEventListener("mousedown",(function(e){e.preventDefault()})),Li(this._element,this._anchor,"marker"),this._popup=null}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=Math.sqrt(Math.pow(13.5,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},r.prototype._onKeyPress=function(e){var t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()},r.prototype._onMapClick=function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},r.prototype._update=function(e){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Mi(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(t="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var r="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?r="rotateX(0deg)":"map"===this._pitchAlignment&&(r="rotateX("+this._map.getPitch()+"deg)"),e&&"moveend"!==e.type||(this._pos=this._pos.round()),n.setTransform(this._element,Ii[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+r+" "+t)}},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},r.prototype._onMove=function(t){if(!this._isDragging){var n=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=n}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))},r.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},r.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},r.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r.prototype.setRotation=function(e){return this._rotation=e||0,this._update(),this},r.prototype.getRotation=function(){return this._rotation},r.prototype.setRotationAlignment=function(e){return this._rotationAlignment=e||"auto",this._update(),this},r.prototype.getRotationAlignment=function(){return this._rotationAlignment},r.prototype.setPitchAlignment=function(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this},r.prototype.getPitchAlignment=function(){return this._pitchAlignment},r}(e.Evented),Ni={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},zi=0,Fi=!1,Bi=function(t){function r(n){t.call(this),this.options=e.extend({},Ni,n),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.onAdd=function(t){var r;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==Ri?r(Ri):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){r(Ri="denied"!==e.state)})):r(Ri=!!e.window.navigator.geolocation),this._container},r.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,zi=0,Fi=!1},r.prototype._isOutOfMapMaxBounds=function(e){var t=this._map.getMaxBounds(),n=e.coords;return t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())},r.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},r.prototype._onSuccess=function(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}},r.prototype._updateCamera=function(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,i=this._map.getBearing(),o=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),o,{geolocateSource:!0})},r.prototype._updateMarker=function(t){if(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},r.prototype._updateCircleRadius=function(){var e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),n=this._map.unproject([1,e]),r=t.distanceTo(n),i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"},r.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},r.prototype._onError=function(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&Fi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(t){var r=this;if(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=n.create("button","mapboxgl-ctrl-geolocate",this._container),n.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{var o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Di(this._dotElement),this._circleElement=n.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Di({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){t.geolocateSource||"ACTIVE_LOCK"!==r._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new e.Event("trackuserlocationend")))}))},r.prototype.trigger=function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":zi--,Fi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++zi>1?(t={maximumAge:6e5,timeout:0},Fi=!0):(t=this.options.positionOptions,Fi=!1),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)}}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},r}(e.Evented),Ui={maxWidth:100,unit:"metric"},Vi=function(t){this.options=e.extend({},Ui,t),e.bindAll(["_onMove","setUnit"],this)};function Hi(e,t,n){var r=n&&n.maxWidth||100,i=e._container.clientHeight/2,o=e.unproject([0,i]),a=e.unproject([r,i]),s=o.distanceTo(a);if(n&&"imperial"===n.unit){var u=3.2808*s;u>5280?qi(t,r,u/5280,e._getUIString("ScaleControl.Miles")):qi(t,r,u,e._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?qi(t,r,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?qi(t,r,s/1e3,e._getUIString("ScaleControl.Kilometers")):qi(t,r,s,e._getUIString("ScaleControl.Meters"))}function qi(e,t,n,r){var i,o,a,s=(i=n,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=(a=i/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(a)));e.style.width=t*(s/n)+"px",e.innerHTML=s+"&nbsp;"+r}Vi.prototype.getDefaultPosition=function(){return"bottom-left"},Vi.prototype._onMove=function(){Hi(this._map,this._container,this.options)},Vi.prototype.onAdd=function(e){return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Vi.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Vi.prototype.setUnit=function(e){this.options.unit=e,Hi(this._map,this._container,this.options)};var Gi=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in e.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in e.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in e.window.document&&(this._fullscreenchange="MSFullscreenChange")};Gi.prototype.onAdd=function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Gi.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Gi.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},Gi.prototype._setupUI=function(){var t=this._fullscreenButton=n.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);n.create("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden",!0),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Gi.prototype._updateTitle=function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e},Gi.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Gi.prototype._isFullscreen=function(){return this._fullscreen},Gi.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Gi.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Wi={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Zi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Yi=function(t){function r(n){t.call(this),this.options=e.extend(Object.create(Wi),n),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.addTo=function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},r.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},r.prototype.getElement=function(){return this._container},r.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},r.prototype.setHTML=function(t){var n,r=e.window.document.createDocumentFragment(),i=e.window.document.createElement("body");for(i.innerHTML=t;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)},r.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},r.prototype.setMaxWidth=function(e){return this.options.maxWidth=e,this._update(),this},r.prototype.setDOMContent=function(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=n.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this},r.prototype.addClassName=function(e){this._container&&this._container.classList.add(e)},r.prototype.removeClassName=function(e){this._container&&this._container.classList.remove(e)},r.prototype.setOffset=function(e){return this.options.offset=e,this._update(),this},r.prototype.toggleClassName=function(e){if(this._container)return this._container.classList.toggle(e)},r.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},r.prototype._onMouseUp=function(e){this._update(e.point)},r.prototype._onMouseMove=function(e){this._update(e.point)},r.prototype._onDrag=function(e){this._update(e.point)},r.prototype._update=function(t){var r=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(e){return r._container.classList.add(e)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Mi(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||t)){var i=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat),o=this.options.anchor,a=function t(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new e.Point(0,0),top:new e.Point(0,n),"top-left":new e.Point(r,r),"top-right":new e.Point(-r,r),bottom:new e.Point(0,-n),"bottom-left":new e.Point(r,-r),"bottom-right":new e.Point(-r,-r),left:new e.Point(n,0),right:new e.Point(-n,0)}}if(n instanceof e.Point||Array.isArray(n)){var i=e.Point.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:e.Point.convert(n.center||[0,0]),top:e.Point.convert(n.top||[0,0]),"top-left":e.Point.convert(n["top-left"]||[0,0]),"top-right":e.Point.convert(n["top-right"]||[0,0]),bottom:e.Point.convert(n.bottom||[0,0]),"bottom-left":e.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(n["bottom-right"]||[0,0]),left:e.Point.convert(n.left||[0,0]),right:e.Point.convert(n.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!o){var s,u=this._container.offsetWidth,c=this._container.offsetHeight;s=i.y+a.bottom.y<c?["top"]:i.y>this._map.transform.height-c?["bottom"]:[],i.x<u/2?s.push("left"):i.x>this._map.transform.width-u/2&&s.push("right"),o=0===s.length?"bottom":s.join("-")}var l=i.add(a[o]).round();n.setTransform(this._container,Ii[o]+" translate("+l.x+"px,"+l.y+"px)"),Li(this._container,o,"popup")}},r.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var e=this._container.querySelector(Zi);e&&e.focus()}},r.prototype._onClose=function(){this.remove()},r}(e.Evented),Xi={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:Ci,NavigationControl:Ai,GeolocateControl:Bi,AttributionControl:bi,ScaleControl:Vi,FullscreenControl:Gi,Popup:Yi,Marker:Di,Style:Ht,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,prewarm:function(){ze().acquire(Le)},clearPrewarmedResources:function(){var e=De;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Le),De=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Re.workerCount},set workerCount(e){Re.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:""};return Xi})),n}))},"4cb6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=t.getServiceIdentifierAsString=t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=t.decorate=t.id=t.MetadataReader=t.postConstruct=t.targetName=t.multiInject=t.unmanaged=t.optional=t.LazyServiceIdentifer=t.inject=t.named=t.tagged=t.injectable=t.ContainerModule=t.AsyncContainerModule=t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=t.Container=t.METADATA_KEY=void 0;var r=n("xfSm");t.METADATA_KEY=r;var i=n("9Fde");Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return i.Container}});var o=n("FV85");Object.defineProperty(t,"BindingScopeEnum",{enumerable:!0,get:function(){return o.BindingScopeEnum}}),Object.defineProperty(t,"BindingTypeEnum",{enumerable:!0,get:function(){return o.BindingTypeEnum}}),Object.defineProperty(t,"TargetTypeEnum",{enumerable:!0,get:function(){return o.TargetTypeEnum}});var a=n("dxzI");Object.defineProperty(t,"AsyncContainerModule",{enumerable:!0,get:function(){return a.AsyncContainerModule}}),Object.defineProperty(t,"ContainerModule",{enumerable:!0,get:function(){return a.ContainerModule}});var s=n("cZ5Q");Object.defineProperty(t,"injectable",{enumerable:!0,get:function(){return s.injectable}});var u=n("0gSV");Object.defineProperty(t,"tagged",{enumerable:!0,get:function(){return u.tagged}});var c=n("ZzCi");Object.defineProperty(t,"named",{enumerable:!0,get:function(){return c.named}});var l=n("Yk9n");Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return l.inject}}),Object.defineProperty(t,"LazyServiceIdentifer",{enumerable:!0,get:function(){return l.LazyServiceIdentifer}});var f=n("jYx5");Object.defineProperty(t,"optional",{enumerable:!0,get:function(){return f.optional}});var p=n("n2J3");Object.defineProperty(t,"unmanaged",{enumerable:!0,get:function(){return p.unmanaged}});var h=n("jIg/");Object.defineProperty(t,"multiInject",{enumerable:!0,get:function(){return h.multiInject}});var d=n("oaX6");Object.defineProperty(t,"targetName",{enumerable:!0,get:function(){return d.targetName}});var m=n("Sk89");Object.defineProperty(t,"postConstruct",{enumerable:!0,get:function(){return m.postConstruct}});var v=n("wnjb");Object.defineProperty(t,"MetadataReader",{enumerable:!0,get:function(){return v.MetadataReader}});var y=n("d9O0");Object.defineProperty(t,"id",{enumerable:!0,get:function(){return y.id}});var g=n("Ztfv");Object.defineProperty(t,"decorate",{enumerable:!0,get:function(){return g.decorate}});var b=n("RR/i");Object.defineProperty(t,"traverseAncerstors",{enumerable:!0,get:function(){return b.traverseAncerstors}}),Object.defineProperty(t,"taggedConstraint",{enumerable:!0,get:function(){return b.taggedConstraint}}),Object.defineProperty(t,"namedConstraint",{enumerable:!0,get:function(){return b.namedConstraint}}),Object.defineProperty(t,"typeConstraint",{enumerable:!0,get:function(){return b.typeConstraint}});var x=n("ujMp");Object.defineProperty(t,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return x.getServiceIdentifierAsString}});var _=n("78VC");Object.defineProperty(t,"multiBindToService",{enumerable:!0,get:function(){return _.multiBindToService}})},"4kj+":function(e,t){},"4kuk":function(e,t,n){var r=n("SfRM"),i=n("Hvzi"),o=n("u8Dt"),a=n("ekgI"),s=n("JSQU");function u(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},"4qC0":function(e,t,n){var r=n("NykK"),i=n("Z0cm"),o=n("ExA7"),a="[object String]";function s(e){return"string"==typeof e||!i(e)&&o(e)&&r(e)==a}e.exports=s},"4rKd":function(e,t,n){var r=n("lz10"),i=n("aKVN"),o=n("2kyd"),a=o("toPrimitive"),s=Date.prototype;a in s||r(s,a,i)},"5Blz":function(e,t,n){"use strict";var r=n("MMxC"),i=n("9RRT").right,o=n("R8iy"),a=n("kGMc"),s=o("reduceRight"),u=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"5JgN":function(e,t,n){"use strict";n("FbcW");var r=n("MMxC"),i=n("29mP"),o=n("lgSf"),a=n("NMFW"),s=n("ujhg"),u=n("kiNa"),c=n("uoF6"),l=n("1aI8"),f=n("igoe"),p=n("jtLI"),h=n("7BAe"),d=n("Ei+o"),m=n("f1E4"),v=n("tSXo"),y=n("u+7+"),g=n("HhvW"),b=n("qcmB"),x=n("9SZg"),_=n("2kyd"),w=i("fetch"),S=i("Headers"),O=_("iterator"),E="URLSearchParams",k=E+"Iterator",C=l.set,j=l.getterFor(E),T=l.getterFor(k),A=/\+/g,P=Array(4),M=function(e){return P[e-1]||(P[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},I=function(e){try{return decodeURIComponent(e)}catch(t){return e}},L=function(e){var t=e.replace(A," "),n=4;try{return decodeURIComponent(t)}catch(r){while(n)t=t.replace(M(n--),I);return t}},R=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},N=function(e){return D[e]},z=function(e){return encodeURIComponent(e).replace(R,N)},F=function(e,t){if(t){var n,r,i=t.split("&"),o=0;while(o<i.length)n=i[o++],n.length&&(r=n.split("="),e.push({key:L(r.shift()),value:L(r.join("="))}))}},B=function(e){this.entries.length=0,F(this.entries,e)},U=function(e,t){if(e<t)throw TypeError("Not enough arguments")},V=c((function(e,t){C(this,{type:k,iterator:b(j(e).entries),kind:t})}),"Iterator",(function(){var e=T(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),H=function(){f(this,H,E);var e,t,n,r,i,o,a,s,u,c=arguments.length>0?arguments[0]:void 0,l=this,h=[];if(C(l,{type:E,entries:h,updateURL:function(){},updateSearchParams:B}),void 0!==c)if(v(c))if(e=x(c),"function"===typeof e){t=e.call(c),n=t.next;while(!(r=n.call(t)).done){if(i=b(m(r.value)),o=i.next,(a=o.call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");h.push({key:a.value+"",value:s.value+""})}}else for(u in c)p(c,u)&&h.push({key:u,value:c[u]+""});else F(h,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},q=H.prototype;s(q,{append:function(e,t){U(arguments.length,2);var n=j(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){U(arguments.length,1);var t=j(this),n=t.entries,r=e+"",i=0;while(i<n.length)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){U(arguments.length,1);for(var t=j(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){U(arguments.length,1);for(var t=j(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){U(arguments.length,1);var t=j(this).entries,n=e+"",r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){U(arguments.length,1);for(var n,r=j(this),i=r.entries,o=!1,a=e+"",s=t+"",u=0;u<i.length;u++)n=i[u],n.key===a&&(o?i.splice(u--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=j(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){var t,n=j(this).entries,r=h(e,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<n.length)t=n[i++],r(t.value,t.key,this)},keys:function(){return new V(this,"keys")},values:function(){return new V(this,"values")},entries:function(){return new V(this,"entries")}},{enumerable:!0}),a(q,O,q.entries),a(q,"toString",(function(){var e,t=j(this).entries,n=[],r=0;while(r<t.length)e=t[r++],n.push(z(e.key)+"="+z(e.value));return n.join("&")}),{enumerable:!0}),u(H,E),r({global:!0,forced:!o},{URLSearchParams:H}),o||"function"!=typeof w||"function"!=typeof S||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(t=arguments[1],v(t)&&(n=t.body,d(n)===E&&(r=t.headers?new S(t.headers):new S,r.has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=y(t,{body:g(0,String(n)),headers:g(0,r)}))),i.push(t)),w.apply(this,i)}}),e.exports={URLSearchParams:H,getState:j}},"5Tg0":function(e,t,n){(function(e){var r=n("Kz5y"),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?r.Buffer:void 0,u=s?s.allocUnsafe:void 0;function c(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}e.exports=c}).call(this,n("hOG+")(e))},"5gLl":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("lSNA"),i=n.n(r),o=n("Aib3"),a=n.n(o),s=n("0wsv");function u(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e,t){var n,r,i,o,a,s,u,c,l,f,p=0,h="FeatureCollection"===e.type,d="Feature"===e.type,m=h?e.features.length:1;for(n=0;n<m;n++){for(s=h?e.features[n].geometry:d?e.geometry:e,c=h?e.features[n].properties:d?e.properties:{},l=h?e.features[n].bbox:d?e.bbox:void 0,f=h?e.features[n].id:d?e.id:void 0,u=!!s&&"GeometryCollection"===s.type,a=u?s.geometries.length:1,i=0;i<a;i++)if(o=u?s.geometries[i]:s,null!==o)switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,p,c,l,f))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===t(o.geometries[r],p,c,l,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,c,l,f))return!1;p++}}function l(e,t){c(e,(function(e,n,r,i,o){var a,u=null===e?null:e.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==t(Object(s["b"])(e,r,{bbox:i,id:o}),n,0)&&void 0}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var c=0;c<e.coordinates.length;c++){var l=e.coordinates[c],f={type:a,coordinates:l};if(!1===t(Object(s["b"])(f,r),n,c))return!1}}))}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){var n=[],r={};if(e.features=e.features.filter((function(e){var t=e.geometry;return null!=e&&t&&t.type&&t.coordinates&&t.coordinates.length>0})),a()(e,!0),0===e.features.length)return{dataArray:[],featureKeys:r};return l(e,(function(e,t){var r=u(e),i=t,o=p(p({},e.properties),{},{coordinates:r,_id:i});n.push(o)})),{dataArray:n,featureKeys:r}}},"5wUe":function(e,t,n){var r=n("Q9SF"),i=n("MIOZ"),o=n("mGKP"),a=n("h0XC");function s(e,t){return r(e)||i(e,t)||o(e,t)||a()}e.exports=s},"5yw/":function(e,t){e.exports={}},"5zYK":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("lSNA"),i=n.n(r),o=n("RIqP"),a=n.n(o),s=n("Aib3"),u=n.n(s);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){var n=t.x,r=t.y,i=t.x1,o=t.y1,s=t.coordinates,c=[];return e.forEach((function(e,t){var f=[];if(n&&r&&(f=[parseFloat(e[n]),parseFloat(e[r])]),n&&r&&i&&o){var p=[parseFloat(e[n]),parseFloat(e[r])],h=[parseFloat(e[i]),parseFloat(e[o])];f=[p,h]}if(s){var d="Polygon";Array.isArray(s[0])||(d="Point"),Array.isArray(s[0])&&!Array.isArray(s[0][0])&&(d="LineString");var m={type:d,coordinates:a()(e[s])};u()(m,!0),f=m.coordinates}var v=l(l({},e),{},{_id:t,coordinates:f});c.push(v)})),{dataArray:c}}},"6AGu":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var r=n("FV85"),i=n("LKzl"),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},"6FCX":function(e,t,n){var r=n("MMxC"),i=n("qA1w");r({target:"WeakMap",stat:!0},{of:i})},"6NqC":function(e,t){},"6VBw":function(e,t,n){"use strict";var r=n("VTBJ"),i=n("ODXe"),o=n("rePB"),a=n("Ff2n"),s=n("q1tI"),u=n.n(s),c=n("TSYQ"),l=n.n(c),f=n("Pw59"),p=n("U8pU");function h(e,t){d(e)&&(e="100%");var n=m(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t)),e)}function d(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)}function m(e){return"string"===typeof e&&-1!==e.indexOf("%")}function v(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function y(e){return e<=1?100*Number(e)+"%":e}function g(e){return 1===e.length?"0"+e:String(e)}function b(e,t,n){return{r:255*h(e,255),g:255*h(t,255),b:255*h(n,255)}}function x(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _(e,t,n){var r,i,o;if(e=h(e,360),t=h(t,100),n=h(n,100),0===t)i=n,o=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=x(s,a,e+1/3),i=x(s,a,e),o=x(s,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}function w(e,t,n){e=h(e,255),t=h(t,255),n=h(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=r,s=r-i,u=0===r?0:s/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4;break;default:break}o/=6}return{h:o,s:u,v:a}}function S(e,t,n){e=6*h(e,360),t=h(t,100),n=h(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),u=r%6,c=[n,a,o,o,s,n][u],l=[s,n,n,a,o,o][u],f=[o,o,s,n,n,a][u];return{r:255*c,g:255*l,b:255*f}}function O(e,t,n,r){var i=[g(Math.round(e).toString(16)),g(Math.round(t).toString(16)),g(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function E(e){return k(e)/255}function k(e){return parseInt(e,16)}var C={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function j(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"===typeof e&&(e=R(e)),"object"===typeof e&&(D(e.r)&&D(e.g)&&D(e.b)?(t=b(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):D(e.h)&&D(e.s)&&D(e.v)?(r=y(e.s),i=y(e.v),t=S(e.h,r,i),a=!0,s="hsv"):D(e.h)&&D(e.s)&&D(e.l)&&(r=y(e.s),o=y(e.l),t=_(e.h,r,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=v(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var T="[-\\+]?\\d+%?",A="[-\\+]?\\d*\\.\\d+%?",P="(?:"+A+")|(?:"+T+")",M="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",I="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",L={CSS_UNIT:new RegExp(P),rgb:new RegExp("rgb"+M),rgba:new RegExp("rgba"+I),hsl:new RegExp("hsl"+M),hsla:new RegExp("hsla"+I),hsv:new RegExp("hsv"+M),hsva:new RegExp("hsva"+I),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function R(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(C[e])e=C[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=L.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=L.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=L.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=L.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=L.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=L.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=L.hex8.exec(e),n?{r:k(n[1]),g:k(n[2]),b:k(n[3]),a:E(n[4]),format:t?"name":"hex8"}:(n=L.hex6.exec(e),n?{r:k(n[1]),g:k(n[2]),b:k(n[3]),format:t?"name":"hex"}:(n=L.hex4.exec(e),n?{r:k(n[1]+n[1]),g:k(n[2]+n[2]),b:k(n[3]+n[3]),a:E(n[4]+n[4]),format:t?"name":"hex8"}:(n=L.hex3.exec(e),!!n&&{r:k(n[1]+n[1]),g:k(n[2]+n[2]),b:k(n[3]+n[3]),format:t?"name":"hex"})))))))))}function D(e){return Boolean(L.CSS_UNIT.exec(String(e)))}var N=2,z=.16,F=.05,B=.05,U=.15,V=5,H=4,q=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function G(e){var t=e.r,n=e.g,r=e.b,i=w(t,n,r);return{h:360*i.h,s:i.s,v:i.v}}function W(e){var t=e.r,n=e.g,r=e.b;return"#".concat(O(t,n,r,!1))}function Z(e,t,n){var r=n/100,i={r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b};return i}function Y(e,t,n){var r;return r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-N*t:Math.round(e.h)+N*t:n?Math.round(e.h)+N*t:Math.round(e.h)-N*t,r<0?r+=360:r>=360&&(r-=360),r}function X(e,t,n){return 0===e.h&&0===e.s?e.s:(r=n?e.s-z*t:t===H?e.s+z:e.s+F*t,r>1&&(r=1),n&&t===V&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function K(e,t,n){var r;return r=n?e.v+B*t:e.v-U*t,r>1&&(r=1),Number(r.toFixed(2))}function J(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=j(e),i=V;i>0;i-=1){var o=G(r),a=W(j({h:Y(o,i,!0),s:X(o,i,!0),v:K(o,i,!0)}));n.push(a)}n.push(W(r));for(var s=1;s<=H;s+=1){var u=G(r),c=W(j({h:Y(u,s),s:X(u,s),v:K(u,s)}));n.push(c)}return"dark"===t.theme?q.map((function(e){var r=e.index,i=e.opacity,o=W(Z(j(t.backgroundColor||"#141414"),j(n[r]),100*i));return o})):n}var Q={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},$={},ee={};Object.keys(Q).forEach((function(e){$[e]=J(Q[e]),$[e].primary=$[e][5],ee[e]=J(Q[e],{theme:"dark",backgroundColor:"#141414"}),ee[e].primary=ee[e][5]}));$.red,$.volcano,$.gold,$.orange,$.yellow,$.lime,$.green,$.cyan,$.blue,$.geekblue,$.purple,$.magenta,$.grey;var te=n("Kwbf"),ne=n("MNnm"),re="rc-util-key";function ie(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function oe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object(ne["a"])())return null;var r,i=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(i.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);i.innerHTML=e;var o=ie(n),a=o.firstChild;return n.prepend&&o.prepend?o.prepend(i):n.prepend&&a?o.insertBefore(i,a):o.appendChild(i),i}var ae=new Map;function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=ie(n);if(!ae.has(r)){var i=oe("",n),o=i.parentNode;ae.set(r,o),o.removeChild(i)}var a=Array.from(ae.get(r).children).find((function(e){return"STYLE"===e.tagName&&e[re]===t}));if(a){var s,u,c;if((null===(s=n.csp)||void 0===s?void 0:s.nonce)&&a.nonce!==(null===(u=n.csp)||void 0===u?void 0:u.nonce))a.nonce=null===(c=n.csp)||void 0===c?void 0:c.nonce;return a.innerHTML!==e&&(a.innerHTML=e),a}var l=oe(e,n);return l[re]=t,l}function ue(e,t){Object(te["a"])(e,"[@ant-design/icons] ".concat(t))}function ce(e){return"object"===Object(p["a"])(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===Object(p["a"])(e.icon)||"function"===typeof e.icon)}function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];switch(n){case"class":t.className=r,delete t.class;break;default:t[n]=r}return t}),{})}function fe(e,t,n){return n?u.a.createElement(e.tag,Object(r["a"])(Object(r["a"])({key:t},le(e.attrs)),n),(e.children||[]).map((function(n,r){return fe(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):u.a.createElement(e.tag,Object(r["a"])({key:t},le(e.attrs)),(e.children||[]).map((function(n,r){return fe(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function pe(e){return J(e)[0]}function he(e){return e?Array.isArray(e)?e:[e]:[]}var de="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=Object(s["useContext"])(f["a"]),n=t.csp;Object(s["useEffect"])((function(){se(e,"@ant-design-icons",{prepend:!0,csp:n})}),[])},ve=["icon","className","onClick","style","primaryColor","secondaryColor"],ye={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function ge(e){var t=e.primaryColor,n=e.secondaryColor;ye.primaryColor=t,ye.secondaryColor=n||pe(t),ye.calculated=!!n}function be(){return Object(r["a"])({},ye)}var xe=function(e){var t=e.icon,n=e.className,i=e.onClick,o=e.style,s=e.primaryColor,u=e.secondaryColor,c=Object(a["a"])(e,ve),l=ye;if(s&&(l={primaryColor:s,secondaryColor:u||pe(s)}),me(),ue(ce(t),"icon should be icon definiton, but got ".concat(t)),!ce(t))return null;var f=t;return f&&"function"===typeof f.icon&&(f=Object(r["a"])(Object(r["a"])({},f),{},{icon:f.icon(l.primaryColor,l.secondaryColor)})),fe(f.icon,"svg-".concat(f.name),Object(r["a"])({className:n,onClick:i,style:o,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c))};xe.displayName="IconReact",xe.getTwoToneColors=be,xe.setTwoToneColors=ge;var _e=xe;function we(e){var t=he(e),n=Object(i["a"])(t,2),r=n[0],o=n[1];return _e.setTwoToneColors({primaryColor:r,secondaryColor:o})}function Se(){var e=_e.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var Oe=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];we("#1890ff");var Ee=s["forwardRef"]((function(e,t){var n,u=e.className,c=e.icon,p=e.spin,h=e.rotate,d=e.tabIndex,m=e.onClick,v=e.twoToneColor,y=Object(a["a"])(e,Oe),g=s["useContext"](f["a"]),b=g.prefixCls,x=void 0===b?"anticon":b,_=l()(x,(n={},Object(o["a"])(n,"".concat(x,"-").concat(c.name),!!c.name),Object(o["a"])(n,"".concat(x,"-spin"),!!p||"loading"===c.name),n),u),w=d;void 0===w&&m&&(w=-1);var S=h?{msTransform:"rotate(".concat(h,"deg)"),transform:"rotate(".concat(h,"deg)")}:void 0,O=he(v),E=Object(i["a"])(O,2),k=E[0],C=E[1];return s["createElement"]("span",Object(r["a"])(Object(r["a"])({role:"img","aria-label":c.name},y),{},{ref:t,tabIndex:w,onClick:m,className:_}),s["createElement"](_e,{icon:c,primaryColor:k,secondaryColor:C,style:S}))}));Ee.displayName="AntdIcon",Ee.getTwoToneColor=Se,Ee.setTwoToneColor=we;t["a"]=Ee},"6acW":function(e,t,n){var r=n("dt0z"),i=n("gQMU");function o(e){return i(r(e).toLowerCase())}e.exports=o},"6asN":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n("LtsZ"),i=n("zqmC"),o=(0,i.LinkWrapper)(r.NavLink);t["default"]=o},"6cL7":function(e,t,n){"use strict";var r=n("ENif"),i=n("f1E4"),o=n("FCfD"),a=n("UPML"),s=n("dagG");r("search",1,(function(e,t,n){return[function(t){var n=o(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=i(e),u=String(this),c=o.lastIndex;a(c,0)||(o.lastIndex=0);var l=s(o,u);return a(o.lastIndex,c)||(o.lastIndex=c),null===l?-1:l.index}]}))},"6gmd":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["GAODE1.x"]="GAODE1.x",e["GAODE2.x"]="GAODE2.x",e["MAPBOX"]="MAPBOX",e["L7MAP"]="L7MAP",e["GLOBEL"]="GLOBEL"}(r||(r={}))},"6ixQ":function(e,t){e.exports={}},"6nK8":function(e,t,n){var r=n("dVn5"),i=n("fo6e"),o=n("dt0z"),a=n("9NmV");function s(e,t,n){return e=o(e),t=n?void 0:t,void 0===t?i(e)?a(e):r(e):e.match(t)||[]}e.exports=s},"6sVZ":function(e,t){var n=Object.prototype;function r(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||n;return e===r}e.exports=r},"6spV":function(e,t,n){"use strict";var r=n("MMxC"),i=n("tny8"),o=n("ukPv"),a=n("jtLI"),s=n("tSXo"),u=n("YfKC").f,c=n("LJ80"),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new l(e):void 0===e?l():l(e);return""===e&&(f[t]=!0),t};c(p,l);var h=p.prototype=l.prototype;h.constructor=p;var d=h.toString,m="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;u(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=d.call(e);if(a(f,e))return"";var n=m?t.slice(7,-1):t.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},"6xEa":function(e,t,n){var r,i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var n=o._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,(function(n){return i(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),n=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var a=t.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(t){if(null===t||void 0===t)return o.decompress(t);for(var n=new Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=256*t[2*r]+t[2*r+1];var a=[];return n.forEach((function(t){a.push(e(t))})),o.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,(function(t){return i(n,e.charAt(t))})))},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,i,o,a={},s={},u="",c="",l="",f=2,p=3,h=2,d=[],m=0,v=0;for(o=0;o<e.length;o+=1)if(u=e.charAt(o),Object.prototype.hasOwnProperty.call(a,u)||(a[u]=p++,s[u]=!0),c=l+u,Object.prototype.hasOwnProperty.call(a,c))l=c;else{if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(r=0;r<h;r++)m<<=1,v==t-1?(v=0,d.push(n(m)),m=0):v++;for(i=l.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,v==t-1?(v=0,d.push(n(m)),m=0):v++,i>>=1}else{for(i=1,r=0;r<h;r++)m=m<<1|i,v==t-1?(v=0,d.push(n(m)),m=0):v++,i=0;for(i=l.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,v==t-1?(v=0,d.push(n(m)),m=0):v++,i>>=1}f--,0==f&&(f=Math.pow(2,h),h++),delete s[l]}else for(i=a[l],r=0;r<h;r++)m=m<<1|1&i,v==t-1?(v=0,d.push(n(m)),m=0):v++,i>>=1;f--,0==f&&(f=Math.pow(2,h),h++),a[c]=p++,l=String(u)}if(""!==l){if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(r=0;r<h;r++)m<<=1,v==t-1?(v=0,d.push(n(m)),m=0):v++;for(i=l.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,v==t-1?(v=0,d.push(n(m)),m=0):v++,i>>=1}else{for(i=1,r=0;r<h;r++)m=m<<1|i,v==t-1?(v=0,d.push(n(m)),m=0):v++,i=0;for(i=l.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,v==t-1?(v=0,d.push(n(m)),m=0):v++,i>>=1}f--,0==f&&(f=Math.pow(2,h),h++),delete s[l]}else for(i=a[l],r=0;r<h;r++)m=m<<1|1&i,v==t-1?(v=0,d.push(n(m)),m=0):v++,i>>=1;f--,0==f&&(f=Math.pow(2,h),h++)}for(i=2,r=0;r<h;r++)m=m<<1|1&i,v==t-1?(v=0,d.push(n(m)),m=0):v++,i>>=1;while(1){if(m<<=1,v==t-1){d.push(n(m));break}v++}return d.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var i,o,a,s,u,c,l,f=[],p=4,h=4,d=3,m="",v=[],y={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)f[i]=i;a=0,u=Math.pow(2,2),c=1;while(c!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*c,c<<=1;switch(a){case 0:a=0,u=Math.pow(2,8),c=1;while(c!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*c,c<<=1;l=e(a);break;case 1:a=0,u=Math.pow(2,16),c=1;while(c!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*c,c<<=1;l=e(a);break;case 2:return""}f[3]=l,o=l,v.push(l);while(1){if(y.index>t)return"";a=0,u=Math.pow(2,d),c=1;while(c!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*c,c<<=1;switch(l=a){case 0:a=0,u=Math.pow(2,8),c=1;while(c!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*c,c<<=1;f[h++]=e(a),l=h-1,p--;break;case 1:a=0,u=Math.pow(2,16),c=1;while(c!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*c,c<<=1;f[h++]=e(a),l=h-1,p--;break;case 2:return v.join("")}if(0==p&&(p=Math.pow(2,d),d++),f[l])m=f[l];else{if(l!==h)return null;m=o+o.charAt(0)}v.push(m),f[h++]=o+m.charAt(0),p--,o=m,0==p&&(p=Math.pow(2,d),d++)}}};return o}();r=function(){return i}.call(t,n,t,e),void 0===r||(e.exports=r)},"74OI":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("q1tI"),i=Object(r["createContext"])({});function o(){return Object(r["useContext"])(i)}},"77Zs":function(e,t,n){var r=n("Xi7e");function i(){this.__data__=new r,this.size=0}e.exports=i},"78VC":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0;var r=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}};t.multiBindToService=r},"7BAe":function(e,t,n){var r=n("cT1L");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"7GkX":function(e,t,n){var r=n("b80T"),i=n("A90E"),o=n("MMmD");function a(e){return o(e)?r(e):i(e)}e.exports=a},"7Ix3":function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},"7W2i":function(e,t,n){var r=n("SksO");function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},"7fqy":function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}e.exports=n},"7sf/":function(e,t,n){"use strict";function r(){var e=n("q1tI");return r=function(){return e},e}function i(){var e=o(n("6xEa"));return i=function(){return e},e}function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return f(e)||l(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function f(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var p={"zh-CN":"https://www.typescriptlang.org/zh/play","en-US":"https://www.typescriptlang.org/play"},h=function(e,t){var n=function(){var e=/^zh|cn$/.test(arguments.length<=0?void 0:arguments[0])?p["zh-CN"]:p["en-US"];return"".concat(e,"?skipLibCheck=true&jsx=1#code/").concat(i()["default"].compressToEncodedURIComponent(arguments.length<=1?void 0:arguments[1]))},o=(0,r().useState)(n(e,t)),s=a(o,2),u=s[0],c=s[1];return(0,r().useEffect)((function(){c(n(e,t))}),[e,t]),u};t["default"]=h},"7tbW":function(e,t,n){var r=n("LGYb");function i(e){return e&&e.length?r(e):[]}e.exports=i},"7yTQ":function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),u=n("7BAe"),c=n("/dTS"),l=n("PPXv"),f=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{filter:function(e){var t=a(this),n=l(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Map"))),p=s(i.set);return f(n,(function(e,n){r(n,e,t)&&p.call(i,e,n)}),void 0,!0,!0),i}})},"8+s/":function(e,t,n){"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}var i=n("q1tI"),o=r(i);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var u=!("undefined"===typeof window||!window.document||!window.document.createElement);function c(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(e){return e.displayName||e.name||"Component"}return function(c){if("function"!==typeof c)throw new Error("Expected WrappedComponent to be a React component.");var l,f=[];function p(){l=e(f.map((function(e){return e.props}))),h.canUseDOM?t(l):n&&(l=n(l))}var h=function(e){function t(){return e.apply(this,arguments)||this}s(t,e),t.peek=function(){return l},t.rewind=function(){if(t.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,f=[],e};var n=t.prototype;return n.UNSAFE_componentWillMount=function(){f.push(this),p()},n.componentDidUpdate=function(){p()},n.componentWillUnmount=function(){var e=f.indexOf(this);f.splice(e,1),p()},n.render=function(){return o.createElement(c,this.props)},t}(i.PureComponent);return a(h,"displayName","SideEffect("+r(c)+")"),a(h,"canUseDOM",u),h}}e.exports=c},"8/Fi":function(e,t,n){"use strict";n("J4zp"),n("9nhX")},"80Z6":function(e,t,n){"use strict";var r=n("MMxC"),i=n("cT1L"),o=n("29mP"),a=n("LUyE"),s=n("WJ3H"),u=n("IuhT"),c="No one promise resolved";r({target:"Promise",stat:!0},{any:function(e){var t=this,n=a.f(t),r=n.resolve,l=n.reject,f=s((function(){var n=i(t.resolve),a=[],s=0,f=1,p=!1;u(e,(function(e){var i=s++,u=!1;a.push(void 0),f++,n.call(t,e).then((function(e){u||p||(p=!0,r(e))}),(function(e){u||p||(u=!0,a[i]=e,--f||l(new(o("AggregateError"))(a,c)))}))})),--f||l(new(o("AggregateError"))(a,c))}));return f.error&&l(f.value),n.promise}})},"85tw":function(e,t,n){var r=n("MMxC"),i=n("ls1J"),o=n("f1E4"),a=i.keys,s=i.toKey;r({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(e){var t=arguments.length<2?void 0:s(arguments[1]);return a(o(e),t)}})},"88Gu":function(e,t){var n=800,r=16,i=Date.now;function o(e){var t=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}e.exports=o},"8Cw2":function(e,t,n){var r=n("ukPv"),i=r.isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&i(e)}},"8Dy3":function(e,t,n){"use strict";n.r(t);var r=n("tJVT"),i=n("/7QA"),o=n("q1tI"),a=n("nKUr");t["default"]=()=>{var e=Object(o["useState"])(),t=Object(r["a"])(e,2),n=t[0],s=t[1];return Object(a["jsxs"])(i["AMapScene"],{map:{center:[110.19382669582967,50.258134],pitch:0,style:"dark",zoom:1},style:{height:"500px",position:"relative"},children:[Object(a["jsx"])(i["PolygonLayer"],{source:{data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[88.9453125,-3.864254615721396],[155.7421875,-3.864254615721396],[155.7421875,46.800059446787316],[88.9453125,46.800059446787316],[88.9453125,-3.864254615721396]]]}}]}},color:{values:"red"},shape:{values:"fill"},children:Object(a["jsx"])(i["LayerEvent"],{type:"click",handler:e=>{s(e)}})}),n&&Object(a["jsx"])(i["Popup"],{option:{stopPropagation:!1},lnglat:null===n||void 0===n?void 0:n.lngLat,children:Object(a["jsx"])("div",{onClick:e=>{alert("\u6211\u88ab\u70b9\u51fb\u4e86")},children:Object(a["jsx"])("button",{onClick:()=>{alert("b\u6211\u88ab\u70b9\u51fb\u4e86")},children:"\u6211\u80fd\u4e0d\u80fd\u88ab\u70b9\u51fb"})})})]})}},"8HVG":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("KQm4"),i=n("wx14"),o=n("ODXe"),a=n("q1tI"),s=n("EE3K");function u(e){var t=a["useRef"]({}),n=a["useState"]([]),u=Object(o["a"])(n,2),c=u[0],l=u[1];function f(n){var o=!0;e.add(n,(function(e,n){var u=n.key;if(e&&(!t.current[u]||o)){var c=a["createElement"](s["a"],Object(i["a"])({},n,{holder:e}));t.current[u]=c,l((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat(Object(r["a"])(e),[c]);var i=Object(r["a"])(e);return i[t]=c,i}))}o=!1}))}return[f,a["createElement"](a["Fragment"],null,c)]}},"8L3h":function(e,t,n){"use strict";e.exports=n("f/k9")},"8Lo7":function(e,t,n){"use strict";var r=n("FVwB"),i=n("/3zY").includes,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("includes",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},"8OGu":function(e,t,n){var r=n("I65O");r("isConcatSpreadable")},"8OQS":function(e,t){function n(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"8OQV":function(e,t,n){var r=n("ukPv"),i=n("MVys"),o=n("GPrf"),a=n("FVwB").NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;e.exports=!a||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!o((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},"8Ubs":function(e,t,n){var r=n("MMxC"),i=n("aF2d");r({target:"Map",stat:!0},{from:i})},"8XRh":function(e,t,n){"use strict";n.d(t,"a",(function(){return pe}));var r=n("rePB"),i=n("VTBJ"),o=n("ODXe"),a=n("U8pU"),s=n("q1tI"),u=n("m+aA"),c=n("c+Xe"),l=n("TSYQ"),f=n.n(l),p=n("MNnm");function h(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}function d(e,t){var n={animationend:h("Animation","AnimationEnd"),transitionend:h("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}var m=d(Object(p["a"])(),"undefined"!==typeof window?window:{}),v={};if(Object(p["a"])()){var y=document.createElement("div");v=y.style}var g={};function b(e){if(g[e])return g[e];var t=m[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in v)return g[e]=t[o],g[e]}return""}var x=b("animationend"),_=b("transitionend"),w=!(!x||!_),S=x||"animationend",O=_||"transitionend";function E(e,t){if(!e)return null;if("object"===Object(a["a"])(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var k="none",C="appear",j="enter",T="leave",A="none",P="prepare",M="start",I="active",L="end";function R(e){var t=Object(s["useRef"])(!1),n=Object(s["useState"])(e),r=Object(o["a"])(n,2),i=r[0],a=r[1];function u(e){t.current||a(e)}return Object(s["useEffect"])((function(){return function(){t.current=!0}}),[]),[i,u]}var D=Object(p["a"])()?s["useLayoutEffect"]:s["useEffect"],N=D,z=n("wgJM"),F=function(){var e=s["useRef"](null);function t(){z["a"].cancel(e.current)}function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=Object(z["a"])((function(){i<=1?r({isCanceled:function(){return o!==e.current}}):n(r,i-1)}));e.current=o}return s["useEffect"]((function(){return function(){t()}}),[]),[n,t]},B=[P,M,I,L],U=!1,V=!0;function H(e){return e===I||e===L}var q=function(e,t){var n=s["useState"](A),r=Object(o["a"])(n,2),i=r[0],a=r[1],u=F(),c=Object(o["a"])(u,2),l=c[0],f=c[1];function p(){a(P)}return N((function(){if(i!==A&&i!==L){var e=B.indexOf(i),n=B[e+1],r=t(i);r===U?a(n):l((function(e){function t(){e.isCanceled()||a(n)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,i]),s["useEffect"]((function(){return function(){f()}}),[]),[p,i]},G=function(e){var t=Object(s["useRef"])(),n=Object(s["useRef"])(e);n.current=e;var r=s["useCallback"]((function(e){n.current(e)}),[]);function i(e){e&&(e.removeEventListener(O,r),e.removeEventListener(S,r))}function o(e){t.current&&t.current!==e&&i(t.current),e&&e!==t.current&&(e.addEventListener(O,r),e.addEventListener(S,r),t.current=e)}return s["useEffect"]((function(){return function(){i(t.current)}}),[]),[o,i]};function W(e,t,n,a){var u=a.motionEnter,c=void 0===u||u,l=a.motionAppear,f=void 0===l||l,p=a.motionLeave,h=void 0===p||p,d=a.motionDeadline,m=a.motionLeaveImmediately,v=a.onAppearPrepare,y=a.onEnterPrepare,g=a.onLeavePrepare,b=a.onAppearStart,x=a.onEnterStart,_=a.onLeaveStart,w=a.onAppearActive,S=a.onEnterActive,O=a.onLeaveActive,E=a.onAppearEnd,A=a.onEnterEnd,L=a.onLeaveEnd,D=a.onVisibleChanged,z=R(),F=Object(o["a"])(z,2),B=F[0],W=F[1],Z=R(k),Y=Object(o["a"])(Z,2),X=Y[0],K=Y[1],J=R(null),Q=Object(o["a"])(J,2),$=Q[0],ee=Q[1],te=Object(s["useRef"])(!1),ne=Object(s["useRef"])(null),re=Object(s["useRef"])(!1),ie=Object(s["useRef"])(null);function oe(){var e=n();return e||ie.current}var ae=Object(s["useRef"])(!1);function se(e){var t,n=oe();e&&!e.deadline&&e.target!==n||(X===C&&ae.current?t=null===E||void 0===E?void 0:E(n,e):X===j&&ae.current?t=null===A||void 0===A?void 0:A(n,e):X===T&&ae.current&&(t=null===L||void 0===L?void 0:L(n,e)),!1===t||re.current||(K(k),ee(null)))}var ue=G(se),ce=Object(o["a"])(ue,1),le=ce[0],fe=s["useMemo"]((function(){var e,t,n;switch(X){case"appear":return e={},Object(r["a"])(e,P,v),Object(r["a"])(e,M,b),Object(r["a"])(e,I,w),e;case"enter":return t={},Object(r["a"])(t,P,y),Object(r["a"])(t,M,x),Object(r["a"])(t,I,S),t;case"leave":return n={},Object(r["a"])(n,P,g),Object(r["a"])(n,M,_),Object(r["a"])(n,I,O),n;default:return{}}}),[X]),pe=q(X,(function(e){if(e===P){var t=fe[P];return t?t(oe()):U}var n;me in fe&&ee((null===(n=fe[me])||void 0===n?void 0:n.call(fe,oe(),null))||null);return me===I&&(le(oe()),d>0&&(clearTimeout(ne.current),ne.current=setTimeout((function(){se({deadline:!0})}),d))),V})),he=Object(o["a"])(pe,2),de=he[0],me=he[1],ve=H(me);ae.current=ve,N((function(){W(t);var n,r=te.current;(te.current=!0,e)&&(!r&&t&&f&&(n=C),r&&t&&c&&(n=j),(r&&!t&&h||!r&&m&&!t&&h)&&(n=T),n&&(K(n),de()))}),[t]),Object(s["useEffect"])((function(){(X===C&&!f||X===j&&!c||X===T&&!h)&&K(k)}),[f,c,h]),Object(s["useEffect"])((function(){return function(){clearTimeout(ne.current),re.current=!0}}),[]),Object(s["useEffect"])((function(){void 0!==B&&X===k&&(null===D||void 0===D||D(B))}),[B,X]);var ye=$;return fe[P]&&me===M&&(ye=Object(i["a"])({transition:"none"},ye)),[X,me,ye,null!==B&&void 0!==B?B:t]}var Z=n("1OyB"),Y=n("vuIU"),X=n("Ji7U"),K=n("LK+K"),J=function(e){Object(X["a"])(n,e);var t=Object(K["a"])(n);function n(){return Object(Z["a"])(this,n),t.apply(this,arguments)}return Object(Y["a"])(n,[{key:"render",value:function(){return this.props.children}}]),n}(s["Component"]),Q=J;function $(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===Object(a["a"])(e)&&(t=e.transitionSupport);var l=s["forwardRef"]((function(e,t){var a=e.visible,l=void 0===a||a,p=e.removeOnLeave,h=void 0===p||p,d=e.forceRender,m=e.children,v=e.motionName,y=e.leavedClassName,g=e.eventProps,b=n(e),x=Object(s["useRef"])(),_=Object(s["useRef"])();function w(){try{return Object(u["a"])(x.current||_.current)}catch(e){return null}}var S=W(b,l,w,e),O=Object(o["a"])(S,4),C=O[0],j=O[1],T=O[2],A=O[3],I=s["useRef"](A);A&&(I.current=!0);var L=Object(s["useRef"])(t);L.current=t;var R,D=s["useCallback"]((function(e){x.current=e,Object(c["b"])(L.current,e)}),[]),N=Object(i["a"])(Object(i["a"])({},g),{},{visible:l});if(m)if(C!==k&&n(e)){var z,F;j===P?F="prepare":H(j)?F="active":j===M&&(F="start"),R=m(Object(i["a"])(Object(i["a"])({},N),{},{className:f()(E(v,C),(z={},Object(r["a"])(z,E(v,"".concat(C,"-").concat(F)),F),Object(r["a"])(z,v,"string"===typeof v),z)),style:T}),D)}else R=A?m(Object(i["a"])({},N),D):!h&&I.current?m(Object(i["a"])(Object(i["a"])({},N),{},{className:y}),D):d?m(Object(i["a"])(Object(i["a"])({},N),{},{style:{display:"none"}}),D):null;else R=null;return s["createElement"](Q,{ref:_},R)}));return l.displayName="CSSMotion",l}var ee=$(w),te=n("wx14"),ne=n("Ff2n"),re="add",ie="keep",oe="remove",ae="removed";function se(e){var t;return t=e&&"object"===Object(a["a"])(e)&&"key"in e?e:{key:e},Object(i["a"])(Object(i["a"])({},t),{},{key:String(t.key)})}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(se)}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,o=t.length,a=ue(e),s=ue(t);a.forEach((function(e){for(var t=!1,a=r;a<o;a+=1){var u=s[a];if(u.key===e.key){r<a&&(n=n.concat(s.slice(r,a).map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{status:re})}))),r=a),n.push(Object(i["a"])(Object(i["a"])({},u),{},{status:ie})),r+=1,t=!0;break}}t||n.push(Object(i["a"])(Object(i["a"])({},e),{},{status:oe}))})),r<o&&(n=n.concat(s.slice(r).map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{status:re})}))));var u={};n.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var c=Object.keys(u).filter((function(e){return u[e]>1}));return c.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==oe})),n.forEach((function(t){t.key===e&&(t.status=ie)}))})),n}var le=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee,n=function(e){Object(X["a"])(r,e);var n=Object(K["a"])(r);function r(){var e;return Object(Z["a"])(this,r),e=n.apply(this,arguments),e.state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){var n=e.keyEntities;return{keyEntities:n.map((function(e){return e.key!==t?e:Object(i["a"])(Object(i["a"])({},e),{},{status:ae})}))}}))},e}return Object(Y["a"])(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,i=r.component,o=r.children,a=r.onVisibleChanged,u=Object(ne["a"])(r,["component","children","onVisibleChanged"]),c=i||s["Fragment"],l={};return le.forEach((function(e){l[e]=u[e],delete u[e]})),delete u.keys,s["createElement"](c,u,n.map((function(n){var r=n.status,i=Object(ne["a"])(n,["status"]),u=r===re||r===ie;return s["createElement"](t,Object(te["a"])({},l,{key:i.key,visible:u,eventProps:i,onVisibleChanged:function(t){null===a||void 0===a||a(t,{key:i.key}),t||e.removeKey(i.key)}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=ue(n),o=ce(r,i);return{keyEntities:o.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==ae||e.status!==oe}))}}}]),r}(s["Component"]);return n.defaultProps={component:"div"},n}var pe=fe(w);t["b"]=ee},"8jRI":function(e,t,n){"use strict";var r="%[a-f0-9]{2}",i=new RegExp(r,"gi"),o=new RegExp("("+r+")+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(i){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],a(n),a(r))}function s(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(i),n=1;n<t.length;n++)e=a(t,n).join(""),t=e.match(i);return e}}function u(e){var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=o.exec(e);while(n){try{t[n[0]]=decodeURIComponent(n[0])}catch(c){var r=s(n[0]);r!==n[0]&&(t[n[0]]=r)}n=o.exec(e)}t["%C2"]="\ufffd";for(var i=Object.keys(t),a=0;a<i.length;a++){var u=i[a];e=e.replace(new RegExp(u,"g"),t[u])}return e}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return u(e)}}},"8ml+":function(e,t,n){"use strict";var r=n("h1nZ");n.o(r,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return r["CityBuildingLayer"]})),n.o(r,"Control")&&n.d(t,"Control",(function(){return r["Control"]})),n.o(r,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return r["HeatmapLayer"]})),n.o(r,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return r["ImageLayer"]})),n.o(r,"Layers")&&n.d(t,"Layers",(function(){return r["Layers"]})),n.o(r,"LineLayer")&&n.d(t,"LineLayer",(function(){return r["LineLayer"]})),n.o(r,"Logo")&&n.d(t,"Logo",(function(){return r["Logo"]})),n.o(r,"Marker")&&n.d(t,"Marker",(function(){return r["Marker"]})),n.o(r,"PointLayer")&&n.d(t,"PointLayer",(function(){return r["PointLayer"]})),n.o(r,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return r["PolygonLayer"]})),n.o(r,"Popup")&&n.d(t,"Popup",(function(){return r["Popup"]})),n.o(r,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return r["RasterLayer"]})),n.o(r,"Scale")&&n.d(t,"Scale",(function(){return r["Scale"]})),n.o(r,"Scene")&&n.d(t,"Scene",(function(){return r["Scene"]})),n.o(r,"Zoom")&&n.d(t,"Zoom",(function(){return r["Zoom"]}));var i=n("kQ+U");n.d(t,"Scene",(function(){return i["a"]}));var o=n("sxDa");n.d(t,"CityBuildingLayer",(function(){return o["a"]})),n.d(t,"HeatmapLayer",(function(){return o["b"]})),n.d(t,"ImageLayer",(function(){return o["c"]})),n.d(t,"LineLayer",(function(){return o["d"]})),n.d(t,"PointLayer",(function(){return o["e"]})),n.d(t,"PolygonLayer",(function(){return o["f"]})),n.d(t,"RasterLayer",(function(){return o["g"]}));var a=n("k5/I");n.d(t,"Control",(function(){return a["a"]})),n.d(t,"Layers",(function(){return a["b"]})),n.d(t,"Logo",(function(){return a["c"]})),n.d(t,"Marker",(function(){return a["d"]})),n.d(t,"Popup",(function(){return a["e"]})),n.d(t,"Scale",(function(){return a["f"]})),n.d(t,"Zoom",(function(){return a["g"]}));n("Hel2"),n("RL2/")},"8tx+":function(e,t,n){"use strict";var r=n("Ff2n"),i=n("wx14"),o=n("VTBJ"),a=n("1OyB"),s=n("vuIU"),u=n("Ji7U"),c=n("LK+K"),l=n("q1tI"),f=n("i8i4"),p=n.n(f),h=n("TSYQ"),d=n.n(h),m=n("8XRh"),v=n("EE3K"),y=n("8HVG"),g=0,b=Date.now();function x(){var e=g;return g+=1,"rcNotification_".concat(b,"_").concat(e)}var _=function(e){Object(u["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;Object(a["a"])(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),e.state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r=t.key||x(),i=Object(o["a"])(Object(o["a"])({},t),{},{key:r}),a=e.props.maxCount;e.setState((function(e){var t=e.notices,o=t.map((function(e){return e.notice.key})).indexOf(r),s=t.concat();return-1!==o?s.splice(o,1,{notice:i,holderCallback:n}):(a&&t.length>=a&&(i.key=s[0].notice.key,i.updateMark=x(),i.userPassKey=r,s.shift()),s.push({notice:i,holderCallback:n})),{notices:s}}))},e.remove=function(t){e.setState((function(e){var n=e.notices;return{notices:n.filter((function(e){var n=e.notice,r=n.key,i=n.userPassKey,o=i||r;return o!==t}))}}))},e.noticePropsMap={},e}return Object(s["a"])(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,r=n.prefixCls,a=n.className,s=n.closeIcon,u=n.style,c=[];return t.forEach((function(n,i){var a=n.notice,u=n.holderCallback,l=i===t.length-1?a.updateMark:void 0,f=a.key,p=a.userPassKey,h=Object(o["a"])(Object(o["a"])(Object(o["a"])({prefixCls:r,closeIcon:s},a),a.props),{},{key:f,noticeKey:p||f,updateMark:l,onClose:function(t){var n;e.remove(t),null===(n=a.onClose)||void 0===n||n.call(a)},onClick:a.onClick,children:a.content});c.push(f),e.noticePropsMap[f]={props:h,holderCallback:u}})),l["createElement"]("div",{className:d()(r,a),style:u},l["createElement"](m["a"],{keys:c,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(t){var n=t.key,a=t.className,s=t.style,u=t.visible,c=e.noticePropsMap[n],f=c.props,p=c.holderCallback;return p?l["createElement"]("div",{key:n,className:d()(a,"".concat(r,"-hook-holder")),style:Object(o["a"])({},s),ref:function(t){"undefined"!==typeof n&&(t?(e.hookRefs.set(n,t),p(t,f)):e.hookRefs["delete"](n))}}):l["createElement"](v["a"],Object(i["a"])({},f,{className:d()(a,null===f||void 0===f?void 0:f.className),style:Object(o["a"])(Object(o["a"])({},s),null===f||void 0===f?void 0:f.style),visible:u}))})))}}]),n}(l["Component"]);_.newInstance=void 0,_.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},_.newInstance=function(e,t){var n=e||{},o=n.getContainer,a=Object(r["a"])(n,["getContainer"]),s=document.createElement("div");if(o){var u=o();u.appendChild(s)}else document.body.appendChild(s);var c=!1;function f(e){c||(c=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){p.a.unmountComponentAtNode(s),s.parentNode&&s.parentNode.removeChild(s)},useNotification:function(){return Object(y["a"])(e)}}))}p.a.render(l["createElement"](_,Object(i["a"])({},a,{ref:f})),s)};var w=_;t["a"]=w},"8uyu":function(e,t){},"8w+9":function(e,t,n){var r=n("ukPv"),i=n("tSXo"),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},"8yz6":function(e,t,n){"use strict";e.exports=function(e,t){if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},"9/5/":function(e,t,n){(function(t){var n="Expected a function",r=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,p=l||f||Function("return this")(),h=Object.prototype,d=h.toString,m=Math.max,v=Math.min,y=function(){return p.Date.now()};function g(e,t,r){var i,o,a,s,u,c,l=0,f=!1,p=!1,h=!0;if("function"!=typeof e)throw new TypeError(n);function d(t){var n=i,r=o;return i=o=void 0,l=t,s=e.apply(r,n),s}function g(e){return l=e,u=setTimeout(S,t),f?d(e):s}function x(e){var n=e-c,r=e-l,i=t-n;return p?v(i,a-r):i}function _(e){var n=e-c,r=e-l;return void 0===c||n>=t||n<0||p&&r>=a}function S(){var e=y();if(_(e))return O(e);u=setTimeout(S,x(e))}function O(e){return u=void 0,h&&i?d(e):(i=o=void 0,s)}function E(){void 0!==u&&clearTimeout(u),l=0,i=c=o=u=void 0}function k(){return void 0===u?s:O(y())}function C(){var e=y(),n=_(e);if(i=arguments,o=this,c=e,n){if(void 0===u)return g(c);if(p)return u=setTimeout(S,t),d(c)}return void 0===u&&(u=setTimeout(S,t)),s}return t=w(t)||0,b(r)&&(f=!!r.leading,p="maxWait"in r,a=p?m(w(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h),C.cancel=E,C.flush=k,C}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function x(e){return!!e&&"object"==typeof e}function _(e){return"symbol"==typeof e||x(e)&&d.call(e)==i}function w(e){if("number"==typeof e)return e;if(_(e))return r;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?r:+e}e.exports=g}).call(this,n("IyRk"))},"9/ry":function(e,t,n){"use strict";var r=n("MMxC"),i=n("rjJZ"),o=n("FCfD"),a=n("C7V6");r({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},"9BQv":function(e,t,n){"use strict";var r=n("tny8"),i=n("eNh0"),o=n("cTDu"),a=n("oa35"),s=n("YfKC").f;r&&!("lastItem"in[])&&(s(Array.prototype,"lastItem",{configurable:!0,get:function(){var e=o(this),t=a(e.length);return 0==t?void 0:e[t-1]},set:function(e){var t=o(this),n=a(t.length);return t[0==n?0:n-1]=e}}),i("lastItem"))},"9Baz":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"message",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(t,"notification",{enumerable:!0,get:function(){return i["default"]}}),n("miYZ");var r=o(n("tsqr"));n("/xke");var i=o(n("TeRw"));function o(e){return e&&e.__esModule?e:{default:e}}},"9Fde":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var a=n("LgvC"),s=n("MON2"),u=n("FV85"),c=n("xfSm"),l=n("wnjb"),f=n("h7MG"),p=n("aPG5"),h=n("gzZq"),d=n("d9O0"),m=n("ujMp"),v=n("HpQ9"),y=n("AwBQ"),g=function(){function e(e){this._appliedMiddleware=[];var t=e||{};if("object"!==typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=u.BindingScopeEnum.Transient;else if(t.defaultScope!==u.BindingScopeEnum.Singleton&&t.defaultScope!==u.BindingScopeEnum.Transient&&t.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!==typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!==typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=d.id(),this._bindingDictionary=new y.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new l.MetadataReader}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=new e,s=o([t,n],r).map((function(e){return f.getBindingDictionary(e)})),u=f.getBindingDictionary(a);function c(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return s.forEach((function(e){c(e,u)})),a},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(o=r[n],a=t(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=r(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||u.BindingScopeEnum.Transient,n=new a.Binding(e,t);return this._bindingDictionary.add(e,n),new h.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+m.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new y.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,c.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=f.createMockRequest(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(v.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,u.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,c.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,u.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,c.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach((function(e){t.applyMiddleware(e)})),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.bind.bind(e),o=i(r);return t(o,n),o}},r=function(t){return function(t){var n=e.unbind.bind(e);n(t)}},i=function(t){return function(t){var n=e.isBound.bind(e);return n(t)}},o=function(n){return function(r){var i=e.rebind.bind(e),o=i(r);return t(o,n),o}};return function(e){return{bindFunction:n(e),isboundFunction:i(e),rebindFunction:o(e),unbindFunction:r(e)}}},e.prototype._get=function(e,t,n,r,i,o){var a=null,u={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(a=this._middleware(u),void 0===a||null===a)throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(u);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=f.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);n=t.contextInterceptor(n);var r=p.resolve(n);return r}},e}();t.Container=g},"9NmV":function(e,t){var n="\\ud800-\\udfff",r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",a=r+i+o,s="\\u2700-\\u27bf",u="a-z\\xdf-\\xf6\\xf8-\\xff",c="\\xac\\xb1\\xd7\\xf7",l="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",f="\\u2000-\\u206f",p=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",h="A-Z\\xc0-\\xd6\\xd8-\\xde",d="\\ufe0e\\ufe0f",m=c+l+f+p,v="['\u2019]",y="["+m+"]",g="["+a+"]",b="\\d+",x="["+s+"]",_="["+u+"]",w="[^"+n+m+b+s+u+h+"]",S="\\ud83c[\\udffb-\\udfff]",O="(?:"+g+"|"+S+")",E="[^"+n+"]",k="(?:\\ud83c[\\udde6-\\uddff]){2}",C="[\\ud800-\\udbff][\\udc00-\\udfff]",j="["+h+"]",T="\\u200d",A="(?:"+_+"|"+w+")",P="(?:"+j+"|"+w+")",M="(?:"+v+"(?:d|ll|m|re|s|t|ve))?",I="(?:"+v+"(?:D|LL|M|RE|S|T|VE))?",L=O+"?",R="["+d+"]?",D="(?:"+T+"(?:"+[E,k,C].join("|")+")"+R+L+")*",N="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",z="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",F=R+L+D,B="(?:"+[x,k,C].join("|")+")"+F,U=RegExp([j+"?"+_+"+"+M+"(?="+[y,j,"$"].join("|")+")",P+"+"+I+"(?="+[y,j+A,"$"].join("|")+")",j+"?"+A+"+"+M,j+"+"+I,z,N,b,B].join("|"),"g");function V(e){return e.match(U)||[]}e.exports=V},"9R94":function(e,t,n){"use strict";var r=!0,i="Invariant failed";function o(e,t){if(!e){if(r)throw new Error(i);throw new Error(i+": "+(t||""))}}t["a"]=o},"9RRT":function(e,t,n){var r=n("cT1L"),i=n("cTDu"),o=n("EzR6"),a=n("oa35"),s=function(e){return function(t,n,s,u){r(n);var c=i(t),l=o(c),f=a(c.length),p=e?f-1:0,h=e?-1:1;if(s<2)while(1){if(p in l){u=l[p],p+=h;break}if(p+=h,e?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=h)p in l&&(u=n(u,l[p],p,c));return u}};e.exports={left:s(!1),right:s(!0)}},"9Rzw":function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),u=n("/dTS"),c=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{difference:function(e){var t=a(this),n=new(u(t,o("Set")))(t),r=s(n["delete"]);return c(e,(function(e){r.call(n,e)})),n}})},"9SZg":function(e,t,n){var r=n("Ei+o"),i=n("5yw/"),o=n("2kyd"),a=o("iterator");e.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)]}},"9bAj":function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("cT1L"),s=n("PPXv"),u=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{reduce:function(e){var t=o(this),n=s(t),r=arguments.length<2,i=r?void 0:arguments[1];if(a(e),u(n,(function(n,o){r?(r=!1,i=o):i=e(i,o,n,t)}),void 0,!0,!0),r)throw TypeError("Reduce of empty map with no initial value");return i}})},"9kvl":function(e,t,n){"use strict";n.d(t,"a",(function(){return i["b"]})),n.d(t,"b",(function(){return o["a"]}));var r,i=n("FfOG"),o=n("bCY9");n("I5X1"),n("9og8"),n("PpiC"),n("k1fw"),n("WmNS"),n("ZqBY"),n("LtsZ"),n("9Baz"),n("0iz5");(function(e){e[e["SILENT"]=0]="SILENT",e[e["WARN_MESSAGE"]=1]="WARN_MESSAGE",e[e["ERROR_MESSAGE"]=2]="ERROR_MESSAGE",e[e["NOTIFICATION"]=4]="NOTIFICATION",e[e["REDIRECT"]=9]="REDIRECT"})(r||(r={}));n("qhky")},"9nhX":function(e,t,n){var r=n("g4R6"),i=n("tLB3");function o(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=i(n),n=n===n?n:0),void 0!==t&&(t=i(t),t=t===t?t:0),r(i(e),t,n)}e.exports=o},"9og8":function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},"9xmf":function(e,t,n){var r=n("EdiO");function i(e){if(Array.isArray(e))return r(e)}e.exports=i},"9znl":function(e,t,n){var r=n("MMxC"),i=n("aF2d");r({target:"Set",stat:!0},{from:i})},"A+b4":function(e,t,n){"use strict";var r=n("MMxC"),i=n("mTKU").start,o=n("HKQd"),a=o("trimStart"),s=a?function(){return i(this)}:"".trimStart;r({target:"String",proto:!0,forced:a},{trimStart:s,trimLeft:s})},A7k1:function(e,t,n){"use strict";n("q1tI"),n("nKUr")},A90E:function(e,t,n){var r=n("6sVZ"),i=n("V6Ve"),o=Object.prototype,a=o.hasOwnProperty;function s(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}e.exports=s},A9H8:function(e,t,n){var r=n("MMxC"),i=n("IuhT"),o=n("arQb");r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){o(t,e,n)}),void 0,!0),t}})},AFH1:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["TOPRIGHT"]="topright",e["TOPLEFT"]="topleft",e["BOTTOMRIGHT"]="bottomright",e["BOTTOMLEFT"]="bottomleft",e["TOPCENTER"]="topcenter",e["BOTTOMCENTER"]="bottomcenter",e["LEFTCENTER"]="leftcenter",e["RIGHTCENTER"]="rightcenter"}(r||(r={}))},AK2Z:function(e,t,n){},AM7I:function(e,t,n){"use strict";var r,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(j){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(t){return c}}}():c,f=n("UVaH")(),p=Object.getPrototypeOf||function(e){return e.__proto__},h={},d="undefined"===typeof Uint8Array?r:p(Uint8Array),m={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?p(p([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&f?p((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&f?p((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?p(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":d,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},v=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=p(i.prototype))}return m[t]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=n("D3zA"),b=n("oNNP"),x=g.call(Function.call,Array.prototype.concat),_=g.call(Function.apply,Array.prototype.splice),w=g.call(Function.call,String.prototype.replace),S=g.call(Function.call,String.prototype.slice),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,k=function(e){var t=S(e,0,1),n=S(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return w(e,O,(function(e,t,n,i){r[r.length]=n?w(i,E,"$1"):t||e})),r},C=function(e,t){var n,r=e;if(b(y,r)&&(n=y[r],r="%"+n[0]+"%"),b(m,r)){var o=m[r];if(o===h&&(o=v(r)),"undefined"===typeof o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new a('"allowMissing" argument must be a boolean');var n=k(e),r=n.length>0?n[0]:"",o=C("%"+r+"%",t),s=o.name,c=o.value,l=!1,f=o.alias;f&&(r=f[0],_(n,x([0,1],f)));for(var p=1,h=!0;p<n.length;p+=1){var d=n[p],v=S(d,0,1),y=S(d,-1);if(('"'===v||"'"===v||"`"===v||'"'===y||"'"===y||"`"===y)&&v!==y)throw new i("property names with quotes must have matching quotes");if("constructor"!==d&&h||(l=!0),r+="."+d,s="%"+r+"%",b(m,s))c=m[s];else if(null!=c){if(!(d in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&p+1>=n.length){var g=u(c,d);h=!!g,c=h&&"get"in g&&!("originalValue"in g.get)?g.get:c[d]}else h=b(c,d),c=c[d];h&&!l&&(m[s]=c)}}return c}},AP2z:function(e,t,n){var r=n("nmnc"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;function u(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}e.exports=u},APxj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Ucsi");function i(e,t){void 0===t&&(t=!0);var n=r.makePropertyInjectDecorator(e,t),i=r.makePropertyInjectNamedDecorator(e,t),o=r.makePropertyInjectTaggedDecorator(e,t),a=r.makePropertyMultiInjectDecorator(e,t);return{lazyInject:n,lazyInjectNamed:i,lazyInjectTagged:o,lazyMultiInject:a}}t["default"]=i},AQPS:function(e,t,n){},Acmb:function(e,t,n){var r=n("jtLI"),i=n("cTDu"),o=n("CjUg"),a=n("SprQ"),s=o("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},Aib3:function(e,t,n){var r=n("mhV4");function i(e,t){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(o(i,t)),e;case"GeometryCollection":return e.geometries=e.geometries.map(o(i,t)),e;case"Feature":return e.geometry=i(e.geometry,t),e;case"Polygon":case"MultiPolygon":return a(e,t);default:return e}}function o(e,t){return function(n){return e(n,t)}}function a(e,t){return"Polygon"===e.type?e.coordinates=s(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(o(s,t))),e}function s(e,t){t=!!t,e[0]=u(e[0],t);for(var n=1;n<e.length;n++)e[n]=u(e[n],!t);return e}function u(e,t){return c(e)===t?e:e.reverse()}function c(e){return r.ring(e)>=0}e.exports=i},AkqX:function(e,t,n){"use strict";n.r(t);var r=n("9og8"),i=n("WmNS"),o=n.n(i),a=n("q1tI"),s=n.n(a),u=n("/7QA"),c=n("0iz5"),l=n("nKUr");function f(e){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(o.a.mark((function e(t){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}var h={world:"https://gw.alipayobjects.com/os/bmw-prod/79143b04-5fab-4d24-8cce-80b818a3d189.json",grid:"https://gw.alipayobjects.com/os/bmw-prod/8990e8b4-c58e-419b-afb9-8ea3daff2dd1.json"};t["default"]=()=>{var e,t,n=Object(c["a"])(f,{manual:!0,fetchKey:e=>e}),r=n.run,i=n.fetches;return s.a.useEffect((()=>{r(h.world),r(h.grid)}),[]),Object(l["jsxs"])(u["AMapSceneV2"],{map:{pitch:0,style:"light",zoom:2,center:[112,30]},style:{height:"400px",position:"relative",background:"#011030"},children:[!1===(null===(e=i[h.grid])||void 0===e?void 0:e.loading)&&Object(l["jsx"])(u["HeatmapLayer"],{source:{data:i[h.grid].data,transforms:[{type:"hexagon",size:5e5,field:"capacity",method:"sum"}]},color:{values:"#132953"},shape:{values:"circle"},style:{coverage:.5,angle:.3,opacity:.8}},"2"),!1===(null===(t=i[h.world])||void 0===t?void 0:t.loading)&&Object(l["jsx"])(u["PolygonLayer"],{options:{autoFit:!0},source:{data:i[h.world].data},active:!1,size:{values:.6},color:{values:"#274A91"},shape:{values:"line"},style:{opacity:.6}},"1"),Object(l["jsx"])(u["Control"],{type:"scale",position:"bottomright"}),Object(l["jsx"])(u["Control"],{type:"zoom",position:"bottomleft"})]})}},AqCL:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},Auwt:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("PPXv"),s=n("bwJD"),u=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{includes:function(e){return u(a(o(this)),(function(t,n){if(s(n,e))return u.stop()}),void 0,!0,!0).stopped}})},AwBQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var r=n("MON2"),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(!this._map["delete"](e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var i=n.filter((function(t){return!e(t)}));i.length>0?t._map.set(r,i):t._map["delete"](r)}))},e.prototype.hasKey=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=i},"B/G0":function(e,t,n){var r=n("MMxC"),i=n("tny8"),o=n("cC5k"),a=n("0qr0"),s=n("g8rt"),u=n("arQb");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,r=a(e),i=s.f,c=o(r),l={},f=0;while(c.length>f)n=i(r,t=c[f++]),void 0!==n&&u(l,t,n);return l}})},B8du:function(e,t){function n(){return!1}e.exports=n},"BI/h":function(e,t,n){"use strict";var r,i,o,a,s,u,c,l,f,p,h,d=n("k1fw"),m=n("tJVT"),v=n("8ml+"),y=n("lwsE"),g=n.n(y),b=n("W8MJ"),x=n.n(b),_=n("7W2i"),w=n.n(_),S=n("a1gu"),O=n.n(S),E=n("Nsbk"),k=n.n(E),C=n("oTYp"),j=n("QILm"),T=n.n(j),A=n("yXPU"),P=n.n(A),M=n("J4zp"),I=n.n(M),L=n("RIqP"),R=n.n(L),D=n("yG8O"),N=n.n(D),z=n("lSNA"),F=n.n(z),B=n("U+yc"),U=n.n(B),V=(n("1ABj"),n("o0o1")),H=n.n(V),q=n("hi0z"),G=n.n(q),W=n("h1nZ"),Z=n("Hel2"),Y=n("IOcx"),X=n("4cb6"),K=(n("mNvP"),n("1GGQ")),J=n("6gmd"),Q={dark:"amap://styles/dark",light:"amap://styles/light",normal:"amap://styles/normal",blank:"amap://styles/1a91e7ec761981d85b35f3099ff781a3"},$=function(){function e(){g()(this,e),F()(this,"projectionMatrix",Y["b"].create()),F()(this,"viewMatrix",Y["b"].create()),F()(this,"viewProjectionMatrix",Y["b"].create()),F()(this,"ViewProjectionMatrixUncentered",Y["b"].create()),F()(this,"viewUncenteredMatrix",Y["b"].create()),F()(this,"zoom",void 0),F()(this,"center",void 0)}return x()(e,[{key:"syncWithMapCamera",value:function(e){var t=e.zoom,n=void 0===t?1:t,r=e.center,i=void 0===r?[0,0]:r,o=e.offsetOrigin,a=void 0===o?[0,0]:o,s=e.cameraPosition,u=void 0===s?[0,0,0]:s,c=e.up,l=void 0===c?[0,1,0]:c,f=e.lookAt,p=void 0===f?[0,0,0]:f,h=e.aspect,d=void 0===h?1:h,m=e.near,v=void 0===m?.1:m,y=e.far,g=void 0===y?1e3:y,b=e.fov,x=void 0===b?45:b;this.zoom=n,this.center=i,Y["b"].perspective(this.projectionMatrix,x/180*Math.PI,d,v,g);var _=Y["d"].fromValues.apply(Y["d"],R()(u)),w=Y["d"].fromValues.apply(Y["d"],R()(p)),S=Y["d"].fromValues.apply(Y["d"],R()(l));Y["b"].lookAt(this.viewMatrix,_,w,S),this.viewUncenteredMatrix=Y["b"].clone(this.viewMatrix),Y["b"].translate(this.viewMatrix,this.viewMatrix,Y["d"].fromValues(-a[0],a[1],0)),Y["b"].multiply(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),Y["b"].multiply(this.ViewProjectionMatrixUncentered,this.projectionMatrix,this.viewMatrix)}},{key:"getZoom",value:function(){return this.zoom}},{key:"getZoomScale",value:function(){return 1048576}},{key:"getCenter",value:function(){var e=I()(this.center,2),t=e[0],n=e[1];return[t,n]}},{key:"getProjectionMatrix",value:function(){return this.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewUncenteredMatrix}},{key:"getViewProjectionMatrix",value:function(){return this.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.ViewProjectionMatrixUncentered}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(e,t){var n=85.0511287798,r=Math.max(Math.min(n,e[1]),-n),i=256<<20,o=Math.PI/180,a=e[0]*o,s=r*o;s=Math.log(Math.tan(Math.PI/4+s/2));var u=.5/Math.PI,c=.5,l=-.5/Math.PI;return o=.5,a=i*(u*a+c)-215440491,s=-(i*(l*s+o)-106744817),[a,s]}}]),e}();function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){F()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t){if(t||(t=document),t){var n=t.head||t.getElementsByTagName("head")[0];if(!n){n=t.createElement("head");var r=t.body||t.getElementsByTagName("body")[0];r?r.parentNode.insertBefore(n,r):t.documentElement.appendChild(n)}var i=t.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),n.appendChild(i),i}}ne(".amap-logo{\n display: none !important;\n}\n");var re=0;window.forceWebGL=!0;var ie="ff533602d57df6f8ab3b0fea226ae52f",oe="2.0",ae="amap-script",se=!1,ue=[],ce=(r=Object(X["injectable"])(),i=Object(X["inject"])(W["TYPES"].IGlobalConfigService),o=Object(X["inject"])(W["TYPES"].MapConfig),a=Object(X["inject"])(W["TYPES"].ICoordinateSystemService),s=Object(X["inject"])(W["TYPES"].IEventEmitter),r((c=function(){function e(){var t=this;g()(this,e),F()(this,"version",J["a"]["GAODE2.x"]),F()(this,"map",void 0),F()(this,"sceneCenter",void 0),F()(this,"sceneCenterMKT",void 0),N()(this,"configService",l,this),N()(this,"config",f,this),N()(this,"coordinateSystemService",p,this),N()(this,"eventEmitter",h,this),F()(this,"markerContainer",void 0),F()(this,"$mapContainer",void 0),F()(this,"viewport",void 0),F()(this,"cameraChangedCallback",void 0),F()(this,"handleViewChanged",(function(e){var n=t.map.customCoords.getCameraParams(),r=n.fov,i=n.near,o=n.far,a=n.aspect,s=n.position,u=n.lookAt,c=n.up,l=e.zoom,f=t.map.customCoords.getCenter();t.cameraChangedCallback&&(t.viewport.syncWithMapCamera({aspect:a,far:o,fov:r,cameraPosition:s,lookAt:u,up:c,near:i,zoom:l-1,center:f,offsetOrigin:[s[0],s[1]]}),t.coordinateSystemService.setCoordinateSystem(W["CoordinateSystem"].P20_2),t.cameraChangedCallback(t.viewport))}))}return x()(e,[{key:"setCustomCoordCenter",value:function(e){var t;this.sceneCenter=e,this.sceneCenterMKT=(t=this.map.getProjection()).project.apply(t,R()(this.sceneCenter))}},{key:"getCustomCoordCenter",value:function(){return this.sceneCenterMKT}},{key:"lngLatToCoord",value:function(e){var t=this.map.getProjection(),n=t.project;return this.sceneCenter||(this.map.customCoords.setCenter(e),this.setCustomCoordCenter(e)),this._sub(n(e[0],e[1]),this.sceneCenterMKT)}},{key:"lngLatToCoords",value:function(e){var t=this;return e.map((function(e){return"number"===typeof e[0]?t.lngLatToCoord(e):e.map((function(e){return t.lngLatToCoord(e)}))}))}},{key:"addMarkerContainer",value:function(){if(this.map){var e=this.map.getContainer();null!==e&&(this.markerContainer=Z["a"].create("div","l7-marker-container2",e))}}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(e,t){-1!==W["MapServiceEvent"].indexOf(e)?this.eventEmitter.on(e,t):this.map.on(e,t)}},{key:"off",value:function(e,t){-1!==W["MapServiceEvent"].indexOf(e)?this.eventEmitter.off(e,t):this.map.off(e,t)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){var e;return null===(e=this.map.getContainer())||void 0===e?void 0:e.getElementsByClassName("amap-maps")[0]}},{key:"getSize",value:function(){var e=this.map.getSize();return[e.getWidth(),e.getHeight()]}},{key:"getType",value:function(){return"amap2"}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"setZoom",value:function(e){return this.map.setZoom(e)}},{key:"getCenter",value:function(e){if(null!==e&&void 0!==e&&e.padding){var t=this.getCenter(),n=this.getSize(),r=I()(n,2),i=(r[0],r[1],Object(K["a"])(e.padding)),o=this.lngLatToPixel([t.lng,t.lat]),a=[(i.right-i.left)/2,(i.bottom-i.top)/2],s=this.pixelToLngLat([o.x-a[0],o.y-a[1]]);return s}var u=this.map.getCenter();return{lng:u.getLng(),lat:u.getLat()}}},{key:"setCenter",value:function(e,t){if(null!==t&&void 0!==t&&t.padding){var n=Object(K["a"])(t.padding),r=this.lngLatToPixel(e),i=[(n.right-n.left)/2,(n.bottom-n.top)/2],o=this.pixelToLngLat([r.x+i[0],r.y+i[1]]);this.map.setCenter([o.lng,o.lat])}else this.map.setCenter(e)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return 360-this.map.getRotation()}},{key:"getBounds",value:function(){var e=this.map.getBounds(),t=e.getNorthEast(),n=e.getSouthWest(),r=this.getCenter(),i=r.lng>t.getLng()||r.lng<n.getLng()?180-t.getLng():t.getLng(),o=r.lng<n.getLng()?n.getLng()-180:n.getLng();return[[o,n.getLat()],[i,t.getLat()]]}},{key:"getMinZoom",value:function(){var e=this.map.getZooms();return e[0]-1}},{key:"getMaxZoom",value:function(){var e=this.map.getZooms();return e[1]-1}},{key:"setRotation",value:function(e){return this.map.setRotation(e)}},{key:"setPitch",value:function(e){return this.map.setPitch(e)}},{key:"zoomIn",value:function(){this.map.zoomIn()}},{key:"zoomOut",value:function(){this.map.zoomOut()}},{key:"panTo",value:function(e){this.map.panTo(e)}},{key:"panBy",value:function(e){this.map.panTo(e)}},{key:"fitBounds",value:function(e){this.map.setBounds(new AMap.Bounds([e[0][0],e[0][1],e[1][0],e[1][1]]))}},{key:"setZoomAndCenter",value:function(e,t){this.map.setZoomAndCenter(e,t)}},{key:"setMapStyle",value:function(e){this.map.setMapStyle(this.getMapStyle(e))}},{key:"setMapStatus",value:function(e){this.map.setStatus(e)}},{key:"pixelToLngLat",value:function(e){var t=this.map.pixelToLngLat(new AMap.Pixel(e[0],e[1]));return{lng:t.getLng(),lat:t.getLat()}}},{key:"lngLatToPixel",value:function(e){var t=this.map.lnglatToPixel(new AMap.LngLat(e[0],e[1]));return{x:t.getX(),y:t.getY()}}},{key:"containerToLngLat",value:function(e){var t=new AMap.Pixel(e[0],e[1]),n=this.map.containerToLngLat(t);return{lng:null===n||void 0===n?void 0:n.getLng(),lat:null===n||void 0===n?void 0:n.getLat()}}},{key:"lngLatToContainer",value:function(e){var t=new AMap.LngLat(e[0],e[1]),n=this.map.lngLatToContainer(t);return{x:n.getX(),y:n.getY()}}},{key:"lngLatToMercator",value:function(e,t){return{x:0,y:0,z:0}}},{key:"getModelMatrix",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],i=this.map.customCoords.lngLatToCoord(e),o=Y["b"].create();return Y["b"].translate(o,o,Y["d"].fromValues(i[0],i[1],t)),Y["b"].scale(o,o,Y["d"].fromValues(r[0],r[1],r[2])),Y["b"].rotateX(o,o,n[0]),Y["b"].rotateY(o,o,n[1]),Y["b"].rotateZ(o,o,n[2]),o}},{key:"init",value:function(){var e=P()(H.a.mark((function e(){var t,n,r,i,o,a,s,u,c,l,f,p,h,d,m,v,y=this;return H.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.config,n=t.id,r=t.style,i=void 0===r?"light":r,o=t.minZoom,a=void 0===o?0:o,s=t.maxZoom,u=void 0===s?18:s,c=t.token,l=void 0===c?ie:c,f=t.mapInstance,p=t.plugin,h=void 0===p?[]:p,d=t.version,m=void 0===d?oe:d,v=T()(t,["id","style","minZoom","maxZoom","token","mapInstance","plugin","version"]),e.next=3,new Promise((function(e){var t=function(){if(f){var t;y.map=f,y.$mapContainer=y.map.getContainer();var r=y.map.getCenter();null===(t=y.map.customCoords)||void 0===t||t.setCenter([r.lng,r.lat]),y.setCustomCoordCenter([r.lng,r.lat]),setTimeout((function(){y.map.on("viewchange",y.handleViewChanged),e()}),30)}else{y.$mapContainer=y.creatAmapContainer(n);var o=new AMap.Map(y.$mapContainer,te({mapStyle:y.getMapStyle(i),zooms:[a,u],viewMode:"3D"},v));y.map=o;var s=o.getCenter();o.customCoords.setCenter([s.lng,s.lat]),y.setCustomCoordCenter([s.lng,s.lat]),o.on("viewchange",y.handleViewChanged),setTimeout((function(){e()}),10)}};y.viewport=new $,se||f?se&&window.AMap||f?t():ue.push(t):(l===ie&&console.warn(y.configService.getSceneWarninfo("MapToken")),se=!0,h.push("Map3D"),G.a.load({key:l,version:m,plugins:h}).then((function(e){t(),ue.length&&(ue.forEach((function(e){return e()})),ue=[])}))["catch"]((function(e){throw new Error(e)})))}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"exportMap",value:function(e){var t,n=null===(t=this.getContainer())||void 0===t?void 0:t.getElementsByClassName("amap-layer")[0],r="jpg"===e?null===n||void 0===n?void 0:n.toDataURL("image/jpeg"):null===n||void 0===n?void 0:n.toDataURL("image/png");return r}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).emit.apply(t,[e].concat(r))}},{key:"once",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).once.apply(t,[e].concat(r))}},{key:"destroy",value:function(){var e,t;this.map.destroy(),null===(e=this.$mapContainer)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(this.$mapContainer),delete window.initAMap;var n=document.getElementById(ae);n&&document.head.removeChild(n)}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"onCameraChanged",value:function(e){this.cameraChangedCallback=e}},{key:"initViewPort",value:function(){var e,t=null===(e=this.map.customCoords)||void 0===e?void 0:e.getCameraParams(),n=t.fov,r=t.near,i=t.far,o=t.aspect,a=t.position,s=t.lookAt,u=t.up,c=this.map.customCoords.getCenter(),l=this.map.getZoom();this.cameraChangedCallback&&(this.viewport.syncWithMapCamera({aspect:o,far:i,fov:n,cameraPosition:a,lookAt:s,near:r,up:u,zoom:l-1,center:c,offsetOrigin:[a[0],a[1]]}),this.coordinateSystemService.setCoordinateSystem(W["CoordinateSystem"].P20_2),this.cameraChangedCallback(this.viewport))}},{key:"_sub",value:function(e,t){var n=[0,0];return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}},{key:"getMapStyle",value:function(e){return Q[e]?Q[e]:e}},{key:"creatAmapContainer",value:function(e){var t=e;"string"===typeof e&&(t=document.getElementById(e));var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      top: 0;\n      height: 100%;\n      width: 100%;\n    ",n.id="l7_amap_div"+re++,t.appendChild(n),n}}]),e}(),l=U()(c.prototype,"configService",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=U()(c.prototype,"config",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=U()(c.prototype,"coordinateSystemService",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=U()(c.prototype,"eventEmitter",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=c))||u);function le(e){var t=fe();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O()(this,n)}}function fe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var pe=function(e){w()(n,e);var t=le(n);function n(){return g()(this,n),t.apply(this,arguments)}return x()(n,[{key:"getServiceConstructor",value:function(){return ce}}]),n}(C["a"]),he=n("q1tI"),de=n.n(he),me=n("45oE"),ve=n("nKUr"),ye=de.a.memo((e=>{var t=e.style,n=e.className,r=e.map,i=e.option,o=e.onSceneLoaded,a=e.children,s=Object(he["useRef"])(null),u=Object(he["useState"])(),c=Object(m["a"])(u,2),l=c[0],f=c[1];return Object(he["useEffect"])((()=>{var e=new v["Scene"](Object(d["a"])(Object(d["a"])({id:s.current},i),{},{map:new pe(r)}));return e.on("loaded",(()=>{f(e),o&&o(e)})),()=>{e.destroy()}}),[]),Object(he["useEffect"])((()=>{l&&r.style&&l.setMapStyle(r.style)}),[JSON.stringify(r.style)]),Object(he["useEffect"])((()=>{l&&r.zoom&&l.setZoom(r.zoom)}),[r.zoom]),Object(he["useEffect"])((()=>{l&&r.center&&l.setCenter(r.center)}),[JSON.stringify(r.center)]),Object(he["useEffect"])((()=>{l&&r.pitch&&l.setPitch(r.pitch)}),[r.pitch]),Object(he["useEffect"])((()=>{l&&r.rotation&&l.setRotation(r.rotation)}),[r.rotation]),Object(ve["jsx"])(me["a"].Provider,{value:l,children:Object(ve["jsx"])("div",{ref:s,className:n,style:t,children:l&&a})})}));t["a"]=ye},BkRI:function(e,t,n){var r=n("OBhP"),i=1,o=4;function a(e){return r(e,i|o)}e.exports=a},Bnag:function(e,t){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},BpBL:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Hel2");function i(e,t){var n=t.extent,r=new Promise((function(t){o(e,(function(e){t(e)}))})),i={images:r,_id:1,dataArray:[{_id:0,coordinates:[[n[0],n[1]],[n[2],n[3]]]}]};return i}function o(e,t){var n=e,o=[];if("string"===typeof n)Object(r["o"])({url:n},(function(e,n){o.push(n),t(o)}));else{var a=n.length,s=0;n.forEach((function(e){Object(r["o"])({url:e},(function(e,n){s++,o.push(n),s===a&&t(o)}))}))}return i}},BsWD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("a3WO");function i(e,t){if(e){if("string"===typeof e)return Object(r["a"])(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(e,t):void 0}}},BtTS:function(e,t,n){var r=n("Mi8B");r("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},C0X1:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("q1tI"),i=n("74OI"),o=r["useEffect"],a=r["memo"]((e=>{var t=e.type,n=e.handler,r=Object(i["b"])();return o((()=>(r.off(t,n),r.on(t,n),()=>{r.off(t,n)})),[t,n]),null}))},C3pJ:function(e,t,n){var r,i,o,a=n("ukPv"),s=n("MVys"),u=n("UwrT"),c=n("7BAe"),l=n("yj7k"),f=n("8w+9"),p=n("xRZI"),h=a.location,d=a.setImmediate,m=a.clearImmediate,v=a.process,y=a.MessageChannel,g=a.Dispatch,b=0,x={},_="onreadystatechange",w=function(e){if(x.hasOwnProperty(e)){var t=x[e];delete x[e],t()}},S=function(e){return function(){w(e)}},O=function(e){w(e.data)},E=function(e){a.postMessage(e+"",h.protocol+"//"+h.host)};d&&m||(d=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return x[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(b),b},m=function(e){delete x[e]},"process"==u(v)?r=function(e){v.nextTick(S(e))}:g&&g.now?r=function(e){g.now(S(e))}:y&&!p?(i=new y,o=i.port2,i.port1.onmessage=O,r=c(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(E)||"file:"===h.protocol?r=_ in f("script")?function(e){l.appendChild(f("script"))[_]=function(){l.removeChild(this),w(e)}}:function(e){setTimeout(S(e),0)}:(r=E,a.addEventListener("message",O,!1))),e.exports={set:d,clear:m}},C7V6:function(e,t,n){var r=n("2kyd"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},"CDr+":function(e,t,n){"use strict";var r=n("MMxC"),i=n("/3zY").indexOf,o=n("R8iy"),a=n("kGMc"),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!c||!l},{indexOf:function(e){return u?s.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},CH3K:function(e,t){function n(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}e.exports=n},CO2k:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),u=n("/dTS"),c=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{union:function(e){var t=a(this),n=new(u(t,o("Set")))(t);return c(e,s(n.add),n),n}})},CQ6b:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("H1Ra"),s=(n("Rsk4"),n("nKUr"));t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),Object(s["jsx"])(s["Fragment"],{children:Object(s["jsxs"])("div",{className:"markdown",children:[Object(s["jsxs"])("h2",{id:"marker-props",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#marker-props","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Marker Props"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"option"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"marker \u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"lnglat"}),Object(s["jsx"])("td",{children:"`Array"}),Object(s["jsx"])("td",{children:"Object`"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"onMarkerLoaded"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Function"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"layer \u56de\u8c03\u51fd\u6570"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"children"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"React.ReactNode"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"\u5b50\u7ec4\u4ef6"})]})]})]}),Object(s["jsxs"])("h3",{id:"option",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#option","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"option"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"color"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"blue"})}),Object(s["jsx"])("td",{children:"marker \u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"anchor"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"center, top, top-left, top-right, bottom, bottom-left,bottom-right,left, right"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"offsets"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Array[x,y]"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"marker \u4f4d\u7f6e\u504f\u79fb"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"extData"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"object"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"marker \u5c5e\u6027\u6570\u636e"})]})]})]}),Object(s["jsxs"])("h2",{id:"maker-\u4e8b\u4ef6",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#maker-\u4e8b\u4ef6","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Maker \u4e8b\u4ef6"]}),Object(s["jsx"])("p",{children:"\u901a\u8fc7 onMarkerLoaded \u65b9\u6cd5\u83b7\u53d6 Marker\b \u5b9e\u4f8b\u76d1\u542c"}),Object(s["jsxs"])("h2",{id:"\u5b9e\u4f8b",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u5b9e\u4f8b","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u5b9e\u4f8b"]}),Object(s["jsx"])(a["a"],{code:"import { Marker } from '@antv/l7-react';\n<Marker\n  option={{\n    color: 'red',\n  }}\n  lnglat={[120, 32]}\n/>;",lang:"jsx"})]})}))},CRpX:function(e,t,n){var r=n("ukPv"),i=n("XX5T"),o=n("FbcW"),a=n("lz10"),s=n("2kyd"),u=s("iterator"),c=s("toStringTag"),l=o.values;for(var f in i){var p=r[f],h=p&&p.prototype;if(h){if(h[u]!==l)try{a(h,u,l)}catch(m){h[u]=l}if(h[c]||a(h,c,f),i[f])for(var d in o)if(h[d]!==o[d])try{a(h,d,o[d])}catch(m){h[d]=o[d]}}}},CZoQ:function(e,t){function n(e,t,n){var r=n-1,i=e.length;while(++r<i)if(e[r]===t)return r;return-1}e.exports=n},CdV7:function(e,t,n){var r=n("tny8"),i=n("P0e2"),o=n("0qr0"),a=n("e3V2").f,s=function(e){return function(t){var n,s=o(t),u=i(s),c=u.length,l=0,f=[];while(c>l)n=u[l++],r&&!a.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}};e.exports={entries:s(!0),values:s(!1)}},CjUg:function(e,t,n){var r=n("xxaU"),i=n("evbn"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},Cq6t:function(e,t){var n=1/0,r=Math.abs,i=Math.pow,o=Math.floor,a=Math.log,s=Math.LN2,u=function(e,t,u){var c,l,f,p=new Array(u),h=8*u-t-1,d=(1<<h)-1,m=d>>1,v=23===t?i(2,-24)-i(2,-77):0,y=e<0||0===e&&1/e<0?1:0,g=0;for(e=r(e),e!=e||e===n?(l=e!=e?1:0,c=d):(c=o(a(e)/s),e*(f=i(2,-c))<1&&(c--,f*=2),e+=c+m>=1?v/f:v*i(2,1-m),e*f>=2&&(c++,f/=2),c+m>=d?(l=0,c=d):c+m>=1?(l=(e*f-1)*i(2,t),c+=m):(l=e*i(2,m-1)*i(2,t),c=0));t>=8;p[g++]=255&l,l/=256,t-=8);for(c=c<<t|l,h+=t;h>0;p[g++]=255&c,c/=256,h-=8);return p[--g]|=128*y,p},c=function(e,t){var r,o=e.length,a=8*o-t-1,s=(1<<a)-1,u=s>>1,c=a-7,l=o-1,f=e[l--],p=127&f;for(f>>=7;c>0;p=256*p+e[l],l--,c-=8);for(r=p&(1<<-c)-1,p>>=-c,c+=t;c>0;r=256*r+e[l],l--,c-=8);if(0===p)p=1-u;else{if(p===s)return r?NaN:f?-n:n;r+=i(2,t),p-=u}return(f?-1:1)*r*i(2,p-t)};e.exports={pack:u,unpack:c}},Cwc5:function(e,t,n){var r=n("NKxu"),i=n("Npjl");function o(e,t){var n=i(e,t);return r(n)?n:void 0}e.exports=o},"D+ow":function(e,t){},D3zA:function(e,t,n){"use strict";var r=n("aI7X");e.exports=Function.prototype.bind||r},D9lx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var r=n("6AGu"),i=n("406g"),o=n("z4Hk"),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=a},DSFK:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},DSRE:function(e,t,n){(function(e){var r=n("Kz5y"),i=n("B8du"),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||i;e.exports=l}).call(this,n("hOG+")(e))},DVoG:function(e,t,n){var r=n("MMxC"),i=n("ls1J"),o=n("f1E4"),a=i.has,s=i.toKey;r({target:"Reflect",stat:!0},{hasOwnMetadata:function(e,t){var n=arguments.length<3?void 0:s(arguments[2]);return a(e,o(t),n)}})},Dbv2:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("cT1L");r({target:"Map",proto:!0,real:!0,forced:i},{update:function(e,t){var n=o(this),r=arguments.length;a(t);var i=n.has(e);if(!i&&r<3)throw TypeError("Updating absent value");var s=i?n.get(e):a(r>2?arguments[2]:void 0)(e,n);return n.set(e,t(s,e,n)),n}})},De94:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},Di6M:function(e,t,n){"use strict";var r=2147483647,i=36,o=1,a=26,s=38,u=700,c=72,l=128,f="-",p=/[^\0-\u007E]/,h=/[.\u3002\uFF0E\uFF61]/g,d="Overflow: input needs wider integers to process",m=i-o,v=Math.floor,y=String.fromCharCode,g=function(e){var t=[],n=0,r=e.length;while(n<r){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},b=function(e){return e+22+75*(e<26)},x=function(e,t,n){var r=0;for(e=n?v(e/u):e>>1,e+=v(e/t);e>m*a>>1;r+=i)e=v(e/m);return v(r+(m+1)*e/(e+s))},_=function(e){var t=[];e=g(e);var n,s,u=e.length,p=l,h=0,m=c;for(n=0;n<e.length;n++)s=e[n],s<128&&t.push(y(s));var _=t.length,w=_;_&&t.push(f);while(w<u){var S=r;for(n=0;n<e.length;n++)s=e[n],s>=p&&s<S&&(S=s);var O=w+1;if(S-p>v((r-h)/O))throw RangeError(d);for(h+=(S-p)*O,p=S,n=0;n<e.length;n++){if(s=e[n],s<p&&++h>r)throw RangeError(d);if(s==p){for(var E=h,k=i;;k+=i){var C=k<=m?o:k>=m+a?a:k-m;if(E<C)break;var j=E-C,T=i-C;t.push(y(b(C+j%T))),E=v(j/T)}t.push(y(b(E))),m=x(h,O,w==_),h=0,++w}}++h,++p}return t.join("")};e.exports=function(e){var t,n,r=[],i=e.toLowerCase().replace(h,".").split(".");for(t=0;t<i.length;t++)n=i[t],r.push(p.test(n)?"xn--"+_(n):n);return r.join(".")}},"Dw+G":function(e,t,n){var r=n("juv8"),i=n("mTTR");function o(e,t){return e&&r(t,i(t),e)}e.exports=o},Dyhc:function(e,t,n){"use strict";var r=n("MMxC"),i=n("tny8"),o=n("i7kj"),a=n("cTDu"),s=n("gFfw"),u=n("Acmb"),c=n("g8rt").f;i&&r({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(e){var t,n=a(this),r=s(e,!0);do{if(t=c(n,r))return t.get}while(n=u(n))}})},DzJC:function(e,t,n){var r=n("sEfC"),i=n("GoyQ"),o="Expected a function";function a(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:t,trailing:s})}e.exports=a},E2jh:function(e,t,n){var r=n("2gN3"),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function o(e){return!!i&&i in e}e.exports=o},EA7m:function(e,t,n){var r=n("zZ0H"),i=n("Ioao"),o=n("wclG");function a(e,t){return o(i(e,t,r),e+"")}e.exports=a},EE3K:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("wx14"),i=n("rePB"),o=n("1OyB"),a=n("vuIU"),s=n("Ji7U"),u=n("LK+K"),c=n("q1tI"),l=n("i8i4"),f=n.n(l),p=n("TSYQ"),h=n.n(p),d=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;Object(o["a"])(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),e.closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,i=n.noticeKey;r&&r(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return Object(a["a"])(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,o=t.className,a=t.closable,s=t.closeIcon,u=t.style,l=t.onClick,p=t.children,d=t.holder,m="".concat(n,"-notice"),v=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),y=c["createElement"]("div",Object(r["a"])({className:h()(m,o,Object(i["a"])({},"".concat(m,"-closable"),a)),style:u,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:l},v),c["createElement"]("div",{className:"".concat(m,"-content")},p),a?c["createElement"]("a",{tabIndex:0,onClick:this.close,className:"".concat(m,"-close")},s||c["createElement"]("span",{className:"".concat(m,"-close-x")})):null);return d?f.a.createPortal(y,d):y}}]),n}(c["Component"]);d.defaultProps={onClose:function(){},duration:1.5}},EEGq:function(e,t,n){var r=n("juv8"),i=n("oCl/");function o(e,t){return r(e,i(e),t)}e.exports=o},ENif:function(e,t,n){"use strict";n("nlPz");var r=n("NMFW"),i=n("MVys"),o=n("2kyd"),a=n("NcLc"),s=n("lz10"),u=o("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),f=o("replace"),p=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),h=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var d=o(e),m=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),v=m&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!m||!v||"replace"===e&&(!c||!l||p)||"split"===e&&!h){var y=/./[d],g=n(d,""[e],(function(e,t,n,r,i){return t.exec===a?m&&!i?{done:!0,value:y.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),b=g[0],x=g[1];r(String.prototype,e,b),r(RegExp.prototype,d,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}f&&s(RegExp.prototype[d],"sham",!0)}},EOz7:function(e,t,n){"use strict";var r=n("MMxC"),i=n("g8rt").f,o=n("oa35"),a=n("rjJZ"),s=n("FCfD"),u=n("C7V6"),c=n("Zcjx"),l="".startsWith,f=Math.min,p=u("startsWith"),h=!c&&!p&&!!function(){var e=i(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!h&&!p},{startsWith:function(e){var t=String(s(this));a(e);var n=o(f(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return l?l.call(t,r,n):t.slice(n,n+r.length)===r}})},EbDI:function(e,t){function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},EdiO:function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=n},EfZ0:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={ProjectionMatrix:"u_ProjectionMatrix",ViewMatrix:"u_ViewMatrix",ViewProjectionMatrix:"u_ViewProjectionMatrix",Zoom:"u_Zoom",ZoomScale:"u_ZoomScale",FocalDistance:"u_FocalDistance",CameraPosition:"u_CameraPosition"}},EgRx:function(e,t,n){var r=n("kiNa");r(Math,"Math",!0)},"Ei+o":function(e,t,n){var r=n("1Cbe"),i=n("UwrT"),o=n("2kyd"),a=o("toStringTag"),s="Arguments"==i(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=Object(e),a))?n:s?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},Em2t:function(e,t,n){var r=n("bahg"),i=n("quyA"),o=n("0JQy");function a(e){return i(e)?o(e):r(e)}e.exports=a},EpBk:function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},ExA7:function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},EzR6:function(e,t,n){var r=n("MVys"),i=n("UwrT"),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},F4QJ:function(e,t,n){"use strict";function r(){var e=o(n("q1tI"));return r=function(){return e},e}function i(){var e=n("dEAq");return i=function(){return e},e}function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var c=function(e){return e.render()},l=function(e,t){var n=[],o=e.match.params.uuid,a=void 0===e.location.query.wrapper,u=t[o];if(u){var l=s(s({},u.previewerProps),{},{hideActions:(u.previewerProps.hideActions||[]).concat(["EXTERNAL"])});void 0!==e.location.query.capture&&(l.motions=(l.motions||[]).slice(),l.motions.unshift("autoplay"),l.motions.every((function(e){return!e.startsWith("capture")}))&&l.motions.push("capture:[id|=root]")),n=a?[r()["default"].createElement(c,{render:function(){return(0,i().useMotions)(l.motions||[],"undefined"!==typeof window?document.documentElement:null),r()["default"].createElement("div",{},r()["default"].createElement(u.component))}})]:[l,r()["default"].createElement(u.component)]}return n};t["default"]=l},F52u:function(e,t,n){var r=n("UwrT");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},FBts:function(e,t,n){var r=n("MMxC");r({target:"Math",stat:!0},{imulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>16,u=i>>16,c=(s*a>>>0)+(o*a>>>16);return s*u+(c>>16)+((o*u>>>0)+(c&n)>>16)}})},FCfD:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},FI6e:function(e,t){},FK48:function(e,t,n){"use strict";var r=n("MMxC"),i=n("IuhT"),o=n("cT1L");r({target:"Map",stat:!0},{groupBy:function(e,t){var n=new this;o(t);var r=o(n.has),a=o(n.get),s=o(n.set);return i(e,(function(e){var i=t(e);r.call(n,i)?a.call(n,i).push(e):s.call(n,i,[e])})),n}})},FKIO:function(e,t,n){var r=n("MMxC");r({target:"Math",stat:!0},{umulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>>16,u=i>>>16,c=(s*a>>>0)+(o*a>>>16);return s*u+(c>>>16)+((o*u>>>0)+(c&n)>>>16)}})},FV85:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0;var r={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingScopeEnum=r;var i={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.BindingTypeEnum=i;var o={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};t.TargetTypeEnum=o},FVwB:function(e,t,n){"use strict";var r,i=n("GNqc"),o=n("tny8"),a=n("ukPv"),s=n("tSXo"),u=n("jtLI"),c=n("Ei+o"),l=n("lz10"),f=n("NMFW"),p=n("YfKC").f,h=n("Acmb"),d=n("g1ZG"),m=n("2kyd"),v=n("evbn"),y=a.Int8Array,g=y&&y.prototype,b=a.Uint8ClampedArray,x=b&&b.prototype,_=y&&h(y),w=g&&h(g),S=Object.prototype,O=S.isPrototypeOf,E=m("toStringTag"),k=v("TYPED_ARRAY_TAG"),C=i&&!!d&&"Opera"!==c(a.opera),j=!1,T={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},A=function(e){var t=c(e);return"DataView"===t||u(T,t)},P=function(e){return s(e)&&u(T,c(e))},M=function(e){if(P(e))return e;throw TypeError("Target is not a typed array")},I=function(e){if(d){if(O.call(_,e))return e}else for(var t in T)if(u(T,r)){var n=a[t];if(n&&(e===n||O.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},L=function(e,t,n){if(o){if(n)for(var r in T){var i=a[r];i&&u(i.prototype,e)&&delete i.prototype[e]}w[e]&&!n||f(w,e,n?t:C&&g[e]||t)}},R=function(e,t,n){var r,i;if(o){if(d){if(n)for(r in T)i=a[r],i&&u(i,e)&&delete i[e];if(_[e]&&!n)return;try{return f(_,e,n?t:C&&y[e]||t)}catch(s){}}for(r in T)i=a[r],!i||i[e]&&!n||f(i,e,t)}};for(r in T)a[r]||(C=!1);if((!C||"function"!=typeof _||_===Function.prototype)&&(_=function(){throw TypeError("Incorrect invocation")},C))for(r in T)a[r]&&d(a[r],_);if((!C||!w||w===S)&&(w=_.prototype,C))for(r in T)a[r]&&d(a[r].prototype,w);if(C&&h(x)!==w&&d(x,w),o&&!u(w,E))for(r in j=!0,p(w,E,{get:function(){return s(this)?this[k]:void 0}}),T)a[r]&&l(a[r],k,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:C,TYPED_ARRAY_TAG:j&&k,aTypedArray:M,aTypedArrayConstructor:I,exportTypedArrayMethod:L,exportTypedArrayStaticMethod:R,isView:A,isTypedArray:P,TypedArray:_,TypedArrayPrototype:w}},FbcW:function(e,t,n){"use strict";var r=n("0qr0"),i=n("eNh0"),o=n("5yw/"),a=n("1aI8"),s=n("uMwj"),u="Array Iterator",c=a.set,l=a.getterFor(u);e.exports=s(Array,"Array",(function(e,t){c(this,{type:u,target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},Ff2n:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("zLVn");function i(e,t){if(null==e)return{};var n,i,o=Object(r["a"])(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},FfOG:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n("YS25"),i={basename:"/L7-react/"};window.routerBase&&(i.basename=window.routerBase);var o=Object({NODE_ENV:"production"}).__IS_SERVER?null:Object(r["a"])(i),a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e||(o=Object(r["a"])(i)),o}},FmoU:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return k}));var r=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function o(){}var a=.7,s=1/a,u="\\s*([+-]?\\d+)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f=/^#([0-9a-f]{3,8})$/,p=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),h=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),d=new RegExp("^rgba\\("+[u,u,u,c]+"\\)$"),m=new RegExp("^rgba\\("+[l,l,l,c]+"\\)$"),v=new RegExp("^hsl\\("+[c,l,l]+"\\)$"),y=new RegExp("^hsla\\("+[c,l,l,c]+"\\)$"),g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(){return this.rgb().formatHex()}function x(){return M(this).formatHsl()}function _(){return this.rgb().formatRgb()}function w(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=f.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?S(t):3===n?new C(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?O(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?O(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=p.exec(e))?new C(t[1],t[2],t[3],1):(t=h.exec(e))?new C(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=d.exec(e))?O(t[1],t[2],t[3],t[4]):(t=m.exec(e))?O(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=v.exec(e))?P(t[1],t[2]/100,t[3]/100,1):(t=y.exec(e))?P(t[1],t[2]/100,t[3]/100,t[4]):g.hasOwnProperty(e)?S(g[e]):"transparent"===e?new C(NaN,NaN,NaN,0):null}function S(e){return new C(e>>16&255,e>>8&255,255&e,1)}function O(e,t,n,r){return r<=0&&(e=t=n=NaN),new C(e,t,n,r)}function E(e){return e instanceof o||(e=w(e)),e?(e=e.rgb(),new C(e.r,e.g,e.b,e.opacity)):new C}function k(e,t,n,r){return 1===arguments.length?E(e):new C(e,t,n,null==r?1:r)}function C(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function j(){return"#"+A(this.r)+A(this.g)+A(this.b)}function T(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function A(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function P(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new L(e,t,n,r)}function M(e){if(e instanceof L)return new L(e.h,e.s,e.l,e.opacity);if(e instanceof o||(e=w(e)),!e)return new L;if(e instanceof L)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,u=a-i,c=(a+i)/2;return u?(s=t===a?(n-r)/u+6*(n<r):n===a?(r-t)/u+2:(t-n)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new L(s,u,c,e.opacity)}function I(e,t,n,r){return 1===arguments.length?M(e):new L(e,t,n,null==r?1:r)}function L(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function R(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}r(o,w,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:b,formatHex:b,formatHsl:x,formatRgb:_,toString:_}),r(C,k,i(o,{brighter:function(e){return e=null==e?s:Math.pow(s,e),new C(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new C(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:j,formatHex:j,formatRgb:T,toString:T})),r(L,I,i(o,{brighter:function(e){return e=null==e?s:Math.pow(s,e),new L(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new L(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new C(R(e>=240?e-240:e+120,i,r),R(e,i,r),R(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},FpZJ:function(e,t,n){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;for(t in e[t]=r,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==r||!0!==o.enumerable)return!1}return!0}},Fs9M:function(e,t,n){var r=n("MVys");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},FuvP:function(e,t,n){var r=n("MMxC"),i=n("qA1w");r({target:"Set",stat:!0},{of:i})},G6z8:function(e,t,n){var r=n("fR/l"),i=n("oCl/"),o=n("mTTR");function a(e){return r(e,o,i)}e.exports=a},GNqc:function(e,t){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},GPZX:function(e,t,n){var r=n("MMxC"),i=n("ls1J"),o=n("f1E4"),a=i.toKey,s=i.getMap,u=i.store;r({target:"Reflect",stat:!0},{deleteMetadata:function(e,t){var n=arguments.length<3?void 0:a(arguments[2]),r=s(o(t),n,!1);if(void 0===r||!r["delete"](e))return!1;if(r.size)return!0;var i=u.get(t);return i["delete"](n),!!i.size||u["delete"](t)}})},GPrf:function(e,t,n){var r=n("2kyd"),i=r("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(u){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(u){}return n}},GXnB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n("xfSm"),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},Gi0A:function(e,t,n){var r=n("QqLw"),i=n("ExA7"),o="[object Map]";function a(e){return i(e)&&r(e)==o}e.exports=a},GoyQ:function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},"Gw+j":function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),u=n("/dTS"),c=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function(e){var t=a(this),n=new(u(t,o("Set")))(t),r=s(n["delete"]),i=s(n.add);return c(e,(function(e){r.call(n,e)||i.call(n,e)})),n}})},Gytx:function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],f=t[c];if(i=n?n.call(r,l,f,c):void 0,!1===i||void 0===i&&l!==f)return!1}return!0}},H1Ra:function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),o=function(){var e=0,t={util:{encode:function(e){return e instanceof n?new n(e.type,t.util.encode(e.content),e.alias):"Array"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(t){return t["__id"]||Object.defineProperty(t,"__id",{value:++e}),t["__id"]},clone:function(e,n){var r=t.util.type(e);switch(n=n||{},r){case"Object":if(n[t.util.objId(e)])return n[t.util.objId(e)];o={};for(var i in n[t.util.objId(e)]=o,e)e.hasOwnProperty(i)&&(o[i]=t.util.clone(e[i],n));return o;case"Array":if(n[t.util.objId(e)])return n[t.util.objId(e)];var o=[];return n[t.util.objId(e)]=o,e.forEach((function(e,r){o[r]=t.util.clone(e,n)})),o}return e}},languages:{extend:function(e,n){var r=t.util.clone(t.languages[e]);for(var i in n)r[i]=n[i];return r},insertBefore:function(e,n,r,i){i=i||t.languages;var o=i[e];if(2==arguments.length){for(var a in r=arguments[1],r)r.hasOwnProperty(a)&&(o[a]=r[a]);return o}var s={};for(var u in o)if(o.hasOwnProperty(u)){if(u==n)for(var a in r)r.hasOwnProperty(a)&&(s[a]=r[a]);s[u]=o[u]}return t.languages.DFS(t.languages,(function(t,n){n===i[e]&&t!=e&&(this[t]=s)})),i[e]=s},DFS:function(e,n,r,i){for(var o in i=i||{},e)e.hasOwnProperty(o)&&(n.call(e,o,e[o],r||o),"Object"!==t.util.type(e[o])||i[t.util.objId(e[o])]?"Array"!==t.util.type(e[o])||i[t.util.objId(e[o])]||(i[t.util.objId(e[o])]=!0,t.languages.DFS(e[o],n,o,i)):(i[t.util.objId(e[o])]=!0,t.languages.DFS(e[o],n,null,i)))}},plugins:{},highlight:function(e,r,i){var o={code:e,grammar:r,language:i};return t.hooks.run("before-tokenize",o),o.tokens=t.tokenize(o.code,o.grammar),t.hooks.run("after-tokenize",o),n.stringify(t.util.encode(o.tokens),o.language)},matchGrammar:function(e,n,r,i,o,a,s){var u=t.Token;for(var c in r)if(r.hasOwnProperty(c)&&r[c]){if(c==s)return;var l=r[c];l="Array"===t.util.type(l)?l:[l];for(var f=0;f<l.length;++f){var p=l[f],h=p.inside,d=!!p.lookbehind,m=!!p.greedy,v=0,y=p.alias;if(m&&!p.pattern.global){var g=p.pattern.toString().match(/[imuy]*$/)[0];p.pattern=RegExp(p.pattern.source,g+"g")}p=p.pattern||p;for(var b=i,x=o;b<n.length;x+=n[b].length,++b){var _=n[b];if(n.length>e.length)return;if(!(_ instanceof u)){if(m&&b!=n.length-1){p.lastIndex=x;var w=p.exec(e);if(!w)break;for(var S=w.index+(d?w[1].length:0),O=w.index+w[0].length,E=b,k=x,C=n.length;E<C&&(k<O||!n[E].type&&!n[E-1].greedy);++E)k+=n[E].length,S>=k&&(++b,x=k);if(n[b]instanceof u)continue;j=E-b,_=e.slice(x,k),w.index-=x}else{p.lastIndex=0;w=p.exec(_);var j=1}if(w){d&&(v=w[1]?w[1].length:0);S=w.index+v,w=w[0].slice(v),O=S+w.length;var T=_.slice(0,S),A=_.slice(O),P=[b,j];T&&(++b,x+=T.length,P.push(T));var M=new u(c,h?t.tokenize(w,h):w,y,w,m);if(P.push(M),A&&P.push(A),Array.prototype.splice.apply(n,P),1!=j&&t.matchGrammar(e,n,r,b,x,!0,c),a)break}else if(a)break}}}}},hooks:{add:function(){},run:function(e,t){}},tokenize:function(e,n,r){var i=[e],o=n.rest;if(o){for(var a in o)n[a]=o[a];delete n.rest}return t.matchGrammar(e,i,n,0,0,!1),i}},n=t.Token=function(e,t,n,r,i){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!i};return n.stringify=function(e,r,i){if("string"==typeof e)return e;if("Array"===t.util.type(e))return e.map((function(t){return n.stringify(t,r,e)})).join("");var o={type:e.type,content:n.stringify(e.content,r,i),tag:"span",classes:["token",e.type],attributes:{},language:r,parent:i};if(e.alias){var a="Array"===t.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(o.classes,a)}var s=Object.keys(o.attributes).map((function(e){return e+'="'+(o.attributes[e]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+(s?" "+s:"")+">"+o.content+"</"+o.tag+">"},t}();o.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},o.languages.markup["tag"].inside["attr-value"].inside["entity"]=o.languages.markup["entity"],o.languages.markup["doctype"].inside["internal-subset"].inside=o.languages.markup,o.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes["title"]=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(o.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:o.languages[t]},n["cdata"]=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:o.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},o.languages.insertBefore("markup","cdata",i)}}),o.languages.html=o.languages.markup,o.languages.mathml=o.languages.markup,o.languages.svg=o.languages.markup,o.languages.xml=o.languages.extend("markup",{}),o.languages.ssml=o.languages.xml,o.languages.atom=o.languages.xml,o.languages.rss=o.languages.xml,function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)\w+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b\w+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+?)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)(["'])(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|(?!\2)[^\\`$])*\2/,lookbehind:!0,greedy:!0,inside:r}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|==?|!=?|=~|<<[<-]?|[&\d]?>>|\d?[<>]&?|&[>&]?|\|[&|]?|<=?|>=?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=e.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=r.variable[1].inside,a=0;a<i.length;a++)o[i[a]]=e.languages.bash[i[a]];e.languages.shell=e.languages.bash}(o),o.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},o.languages.c=o.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),o.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},o.languages.c["string"]],comment:o.languages.c["comment"],"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:o.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete o.languages.c["boolean"],function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/;e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),e.languages.insertBefore("cpp","string",{"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","operator",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(o),function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:RegExp("[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css["atrule"].inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/(^|["'\s])style\s*=\s*(?:"[^"]*"|'[^']*')/i,lookbehind:!0,inside:{"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{style:{pattern:/(["'])[\s\S]+(?=["']$)/,lookbehind:!0,alias:"language-css",inside:e.languages.css},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},"attr-name":/^style/i}}},n.tag))}(o),function(e){var t,n=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css.selector={pattern:e.languages.css.selector,inside:t={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp("\\[(?:[^[\\]\"']|"+n.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[n,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},e.languages.css["atrule"].inside["selector-function-argument"].inside=t,e.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var r={pattern:/(\b\d+)(?:%|[a-z]+\b)/,lookbehind:!0},i={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};e.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#(?:[\da-f]{1,2}){3,4}\b/i,alias:"color"},color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:rgb|hsl)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:rgb|hsl)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:r,number:i,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:r,number:i})}(o),o.languages.javascript=o.languages.extend("clike",{"class-name":[o.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),o.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,o.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:o.languages.regex},"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:o.languages.javascript},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,inside:o.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:o.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:o.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),o.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:o.languages.javascript}},string:/[\s\S]+/}}}),o.languages.markup&&o.languages.markup.tag.addInlined("script","javascript"),o.languages.js=o.languages.javascript,function(e){var t=e.util.clone(e.languages.javascript);e.languages.jsx=e.languages.extend("markup",t),e.languages.jsx.tag.pattern=/<\/?(?:[\w.:-]+(?:\s+(?:[\w.:$-]+(?:=(?:"(?:\\[^]|[^\\"])*"|'(?:\\[^]|[^\\'])*'|[^\s{'">=]+|\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}))?|\{\s*\.{3}\s*[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\s*\}))*\s*\/?)?>/i,e.languages.jsx.tag.inside["tag"].pattern=/^<\/?[^\s>\/]*/i,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[^]|[^\\"])*"|'(?:\\[^]|[^\\'])*'|[^\s'">]+)/i,e.languages.jsx.tag.inside["tag"].inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.insertBefore("inside","attr-name",{spread:{pattern:/\{\s*\.{3}\s*[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\s*\}/,inside:{punctuation:/\.{3}|[{}.]/,"attr-value":/\w+/}}},e.languages.jsx.tag),e.languages.insertBefore("inside","attr-value",{script:{pattern:/=(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\})/i,inside:{"script-punctuation":{pattern:/^=(?={)/,alias:"punctuation"},rest:e.languages.jsx},alias:"language-javascript"}},e.languages.jsx.tag);var n=function e(t){return t?"string"===typeof t?t:"string"===typeof t.content?t.content:t.content.map(e).join(""):""},r=function t(r){for(var i=[],o=0;o<r.length;o++){var a=r[o],s=!1;if("string"!==typeof a&&("tag"===a.type&&a.content[0]&&"tag"===a.content[0].type?"</"===a.content[0].content[0].content?i.length>0&&i[i.length-1].tagName===n(a.content[0].content[1])&&i.pop():"/>"===a.content[a.content.length-1].content||i.push({tagName:n(a.content[0].content[1]),openedBraces:0}):i.length>0&&"punctuation"===a.type&&"{"===a.content?i[i.length-1].openedBraces++:i.length>0&&i[i.length-1].openedBraces>0&&"punctuation"===a.type&&"}"===a.content?i[i.length-1].openedBraces--:s=!0),(s||"string"===typeof a)&&i.length>0&&0===i[i.length-1].openedBraces){var u=n(a);o<r.length-1&&("string"===typeof r[o+1]||"plain-text"===r[o+1].type)&&(u+=n(r[o+1]),r.splice(o+1,1)),o>0&&("string"===typeof r[o-1]||"plain-text"===r[o-1].type)&&(u=n(r[o-1])+u,r.splice(o-1,1),o--),r[o]=new e.Token("plain-text",u,null,u)}a.content&&"string"!==typeof a.content&&t(a.content)}};e.hooks.add("after-tokenize",(function(e){"jsx"!==e.language&&"tsx"!==e.language||r(e.tokens)}))}(o),function(e){function t(e,t){return RegExp(e.replace(/<ID>/g,(function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source})),t)}e.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+e.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),e.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+e.languages.javascript["function"].source),lookbehind:!0,alias:["function","property-access"]}}),e.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:(?:Uint|Int)(?:8|16|32)|Uint8Clamped|Float(?:32|64))?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|(?:Weak)?(?:Set|Map)|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]}),e.languages.insertBefore("javascript","keyword",{imports:{pattern:t(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:e.languages.javascript},exports:{pattern:t(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:e.languages.javascript}}),e.languages.javascript["keyword"].unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|for|finally|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),e.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),e.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:t(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|location|navigator|performance|(?:local|session)Storage|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var n=["function","function-variable","method","method-variable","property-access"],r=0;r<n.length;r++){var i=n[r],o=e.languages.javascript[i];"RegExp"===e.util.type(o)&&(o=e.languages.javascript[i]={pattern:o});var a=o.inside||{};o.inside=a,a["maybe-class-name"]=/^[A-Z][\s\S]*/}}(o),function(e){var t=/#(?!\{).+/,n={pattern:/#\{[^}]+\}/,alias:"variable"};e.languages.coffeescript=e.languages.extend("javascript",{comment:t,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:n}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),e.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:t,interpolation:n}}}),e.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:e.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:n}}]}),e.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete e.languages.coffeescript["template-string"],e.languages.coffee=e.languages.coffeescript}(o),function(e){e.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var t={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(t).forEach((function(n){var r=t[n],i=[];/^\w+$/.test(n)||i.push(/\w+/.exec(n)[0]),"diff"===n&&i.push("bold"),e.languages.diff[n]={pattern:RegExp("^(?:["+r+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:i,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(n)[0]}}}})),Object.defineProperty(e.languages.diff,"PREFIXES",{value:t})}(o),o.languages.git={comment:/^#.*/m,deleted:/^[-\u2013].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/m,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/m}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m},o.languages.go=o.languages.extend("clike",{string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|iota|nil|true|false)\b/,number:/(?:\b0x[a-f\d]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[-+]?\d+)?)i?/i,operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:bool|byte|complex(?:64|128)|error|float(?:32|64)|rune|string|u?int(?:8|16|32|64)?|uintptr|append|cap|close|complex|copy|delete|imag|len|make|new|panic|print(?:ln)?|real|recover)\b/}),delete o.languages.go["class-name"],o.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:o.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:true|false)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*)[a-zA-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,punctuation:/[!(){}\[\]:=,]/,constant:/\b(?!ID\b)[A-Z][A-Z_\d]*\b/},function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,r,i,o){if(n.language===r){var a=n.tokenStack=[];n.code=n.code.replace(i,(function(e){if("function"===typeof o&&!o(e))return e;var i,s=a.length;while(-1!==n.code.indexOf(i=t(r,s)))++s;return a[s]=e,i})),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,r){if(n.language===r&&n.tokenStack){n.grammar=e.languages[r];var i=0,o=Object.keys(n.tokenStack);a(n.tokens)}function a(s){for(var u=0;u<s.length;u++){if(i>=o.length)break;var c=s[u];if("string"===typeof c||c.content&&"string"===typeof c.content){var l=o[i],f=n.tokenStack[l],p="string"===typeof c?c:c.content,h=t(r,l),d=p.indexOf(h);if(d>-1){++i;var m=p.substring(0,d),v=new e.Token(r,e.tokenize(f,n.grammar),"language-"+r,f),y=p.substring(d+h.length),g=[];m&&g.push.apply(g,a([m])),g.push(v),y&&g.push.apply(g,a([y])),"string"===typeof c?s.splice.apply(s,[u,1].concat(g)):c.content=g}}else c.content&&a(c.content)}return s}}}})}(o),function(e){e.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/i,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:true|false)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/i,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},e.hooks.add("before-tokenize",(function(t){var n=/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g;e.languages["markup-templating"].buildPlaceholders(t,"handlebars",n)})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"handlebars")}))}(o),o.languages.json={property:{pattern:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},o.languages.webmanifest=o.languages.json,o.languages.less=o.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/i,operator:/[+\-*\/]/}),o.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}}),o.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},builtin:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,symbol:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:[/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,{pattern:/(\()(?:addsuffix|abspath|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:s|list)?)(?=[ \t])/,lookbehind:!0}],operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/},function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?!\n|\r\n?))/.source;function n(e){return e=e.replace(/<inner>/g,(function(){return t})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return r})),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"font-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/``.+?``|`[^`\r\n]+`/,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+?\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(t){["url","bold","italic","strike"].forEach((function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])}))})),e.hooks.add("after-tokenize",(function(e){function t(e){if(e&&"string"!==typeof e)for(var n=0,r=e.length;n<r;n++){var i=e[n];if("code"===i.type){var o=i.content[1],a=i.content[3];if(o&&a&&"code-language"===o.type&&"code-block"===a.type&&"string"===typeof o.content){var s=o.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");s=(/[a-z][\w-]*/i.exec(s)||[""])[0].toLowerCase();var u="language-"+s;a.alias?"string"===typeof a.alias?a.alias=[a.alias,u]:a.alias.push(u):a.alias=[u]}}else t(i.content)}}"markdown"!==e.language&&"md"!==e.language||t(e.tokens)})),e.hooks.add("wrap",(function(t){if("code-block"===t.type){for(var n="",r=0,i=t.classes.length;r<i;r++){var o=t.classes[r],a=/language-(.+)/.exec(o);if(a){n=a[1];break}}var s=e.languages[n];if(s){var u=t.content.replace(/&lt;/g,"<").replace(/&amp;/g,"&");t.content=e.highlight(u,s,n)}else if(n&&"none"!==n&&e.plugins.autoloader){var c="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes["id"]=c,e.plugins.autoloader.loadLanguages(n,(function(){var t=document.getElementById(c);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))}))}}})),e.languages.md=e.languages.markdown}(o),o.languages.objectivec=o.languages.extend("c",{string:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|@"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,keyword:/\b(?:asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while|in|self|super)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete o.languages.objectivec["class-name"],o.languages.objc=o.languages.objectivec,o.languages.ocaml={comment:/\(\*[\s\S]*?\*\)/,string:[{pattern:/"(?:\\.|[^\\\r\n"])*"/,greedy:!0},{pattern:/(['`])(?:\\(?:\d+|x[\da-f]+|.)|(?!\1)[^\\\r\n])\1/i,greedy:!0}],number:/\b(?:0x[\da-f][\da-f_]+|(?:0[bo])?\d[\d_]*(?:\.[\d_]*)?(?:e[+-]?[\d_]+)?)/i,directive:{pattern:/\B#\w+/,alias:"important"},label:{pattern:/\B~\w+/,alias:"function"},"type-variable":{pattern:/\B'\w+/,alias:"function"},variant:{pattern:/`\w+/,alias:"variable"},module:{pattern:/\b[A-Z]\w+/,alias:"variable"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|nonrec|object|of|open|private|rec|sig|struct|then|to|try|type|val|value|virtual|when|where|while|with)\b/,boolean:/\b(?:false|true)\b/,operator:/:=|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lsl|lsr|lxor|mod|or)\b/,punctuation:/[(){}\[\]|.,:;]|\b_\b/},o.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},o.languages.python["string-interpolation"].inside["interpolation"].inside.rest=o.languages.python,o.languages.py=o.languages.python,o.languages.reason=o.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:mod|land|lor|lxor|lsl|lsr|asr)\b/}),o.languages.insertBefore("reason","class-name",{character:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,alias:"string"},constructor:{pattern:/\b[A-Z]\w*\b(?!\s*\.)/,alias:"variable"},label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete o.languages.reason["function"],function(e){e.languages.sass=e.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0}}),e.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,inside:{atrule:/(?:@[\w-]+|[+=])/m}}}),delete e.languages.sass.atrule;var t=/\$[-\w]+|#\{\$[-\w]+\}/,n=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|or|not)\b/,{pattern:/(\s+)-(?=\s)/,lookbehind:!0}];e.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,inside:{punctuation:/:/,variable:t,operator:n}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:t,operator:n,important:e.languages.sass.important}}}),delete e.languages.sass.property,delete e.languages.sass.important,e.languages.insertBefore("sass","punctuation",{selector:{pattern:/([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/,lookbehind:!0}})}(o),o.languages.scss=o.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]+))/m,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),o.languages.insertBefore("scss","atrule",{keyword:[/@(?:if|else(?: if)?|forward|for|each|while|import|use|extend|debug|warn|mixin|include|function|return|content)\b/i,{pattern:/( +)(?:from|through)(?= )/,lookbehind:!0}]}),o.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),o.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|with|show|hide)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|or|not)(?=\s)/,lookbehind:!0}}),o.languages.scss["atrule"].inside.rest=o.languages.scss,o.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:S|ING)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:TRUE|FALSE|NULL)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|IN|LIKE|NOT|OR|IS|DIV|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(e){var t={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},n={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0},r={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/url\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:if|else|for|return|unless)(?=\s+|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:rgb|hsl)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:rgb|hsl)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:t,number:n,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:t,boolean:/\b(?:true|false)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:n,punctuation:/[{}()\[\];:,]/};r["interpolation"]={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^{|}$/,alias:"punctuation"},rest:r}},r["func"]={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:r}},e.languages.stylus={"atrule-declaration":{pattern:/(^\s*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:r}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:\{[^{}]*\}|\S.*|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:r}},statement:{pattern:/(^[ \t]*)(?:if|else|for|return|unless)[ \t].+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:r}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)(?!\s)[^{\r\n]*(?:;|[^{\r\n,](?=$)(?!(?:\r?\n|\r)(?:\{|\2[ \t]+)))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:r.interpolation}},rest:r}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t]+)))/m,lookbehind:!0,inside:{interpolation:r.interpolation,comment:r.comment,punctuation:/[{},]/}},func:r.func,string:r.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:r.interpolation,punctuation:/[{}()\[\];:.]/}}(o),function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},keyword:/\b(?:abstract|as|asserts|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|undefined|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),delete e.languages.typescript["parameter"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(o),function(e){var t=e.util.clone(e.languages.typescript);e.languages.tsx=e.languages.extend("jsx",t);var n=e.languages.tsx.tag;n.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+n.pattern.source+")",n.pattern.flags),n.lookbehind=!0}(o),o.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^_`|~]+/i,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/},function(e){var t=/[*&][^\s[\]{},]+/,n=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,r="(?:"+n.source+"(?:[ \t]+"+t.source+")?|"+t.source+"(?:[ \t]+"+n.source+")?)",i=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,(function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source})),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function a(e,t){t=(t||"").replace(/m/g,"")+"m";var n=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|]|}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<value>>/g,(function(){return e}));return RegExp(n,t)}e.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,(function(){return r}))),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<key>>/g,(function(){return"(?:"+i+"|"+o+")"}))),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:a(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:a(/true|false/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:a(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:a(o),lookbehind:!0,greedy:!0},number:{pattern:a(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.?\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:n,important:t,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},e.languages.yml=e.languages.yaml}(o);var a=o,s={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","at-rule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},u=s,c={Prism:a,theme:u};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}var p=/\r\n|\r|\n/,h=function(e){0===e.length?e.push({types:["plain"],content:"\n",empty:!0}):1===e.length&&""===e[0].content&&(e[0].content="\n",e[0].empty=!0)},d=function(e,t){var n=e.length;return n>0&&e[n-1]===t?e:e.concat(t)},m=function(e){var t=[[]],n=[e],r=[0],i=[e.length],o=0,a=0,s=[],u=[s];while(a>-1){while((o=r[a]++)<i[a]){var c=void 0,l=t[a],f=n[a],m=f[o];if("string"===typeof m?(l=a>0?l:["plain"],c=m):(l=d(l,m.type),m.alias&&(l=d(l,m.alias)),c=m.content),"string"===typeof c){var v=c.split(p),y=v.length;s.push({types:l,content:v[0]});for(var g=1;g<y;g++)h(s),u.push(s=[]),s.push({types:l,content:v[g]})}else a++,t.push(l),n.push(c),r.push(0),i.push(c.length)}a--,t.pop(),n.pop(),r.pop(),i.pop()}return h(s),u},v=function(e,t){var n=e.plain,r=Object.create(null),i=e.styles.reduce((function(e,n){var r=n.languages,i=n.style;return r&&!r.includes(t)||n.types.forEach((function(t){var n=f({},e[t],i);e[t]=n})),e}),r);return i.root=n,i.plain=f({},n,{backgroundColor:null}),i};function y(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}var g=function(e){function t(){var t=this,n=[],r=arguments.length;while(r--)n[r]=arguments[r];e.apply(this,n),l(this,"getThemeDict",(function(e){if(void 0!==t.themeDict&&e.theme===t.prevTheme&&e.language===t.prevLanguage)return t.themeDict;t.prevTheme=e.theme,t.prevLanguage=e.language;var n=e.theme?v(e.theme,e.language):void 0;return t.themeDict=n})),l(this,"getLineProps",(function(e){var n=e.key,r=e.className,i=e.style,o=y(e,["key","className","style","line"]),a=o,s=f({},a,{className:"token-line",style:void 0,key:void 0}),u=t.getThemeDict(t.props);return void 0!==u&&(s.style=u.plain),void 0!==i&&(s.style=void 0!==s.style?f({},s.style,i):i),void 0!==n&&(s.key=n),r&&(s.className+=" "+r),s})),l(this,"getStyleForToken",(function(e){var n=e.types,r=e.empty,i=n.length,o=t.getThemeDict(t.props);if(void 0!==o){if(1===i&&"plain"===n[0])return r?{display:"inline-block"}:void 0;if(1===i&&!r)return o[n[0]];var a=r?{display:"inline-block"}:{},s=n.map((function(e){return o[e]}));return Object.assign.apply(Object,[a].concat(s))}})),l(this,"getTokenProps",(function(e){var n=e.key,r=e.className,i=e.style,o=e.token,a=y(e,["key","className","style","token"]),s=a,u=f({},s,{className:"token "+o.types.join(" "),children:o.content,style:t.getStyleForToken(o),key:void 0});return void 0!==i&&(u.style=void 0!==u.style?f({},u.style,i):i),void 0!==n&&(u.key=n),r&&(u.className+=" "+r),u})),l(this,"tokenize",(function(e,t,n,r){var i={code:t,grammar:n,language:r,tokens:[]};e.hooks.run("before-tokenize",i);var o=i.tokens=e.tokenize(i.code,i.grammar,i.language);return e.hooks.run("after-tokenize",i),o}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.Prism,n=e.language,r=e.code,i=e.children,o=this.getThemeDict(this.props),a=t.languages[n],s=void 0!==a?this.tokenize(t,r,a,n):[r],u=m(s);return i({tokens:u,className:"prism-code language-"+n,style:void 0!==o?o.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},t}(r["Component"]),b=g,x=n("dEAq");n("qHiR"),n("foS9");function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}function w(e,t){return C(e)||k(e,t)||O(e,t)||S()}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e,t){if(e){if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function C(e){if(Array.isArray(e))return e}t["a"]=function(e){var t=e.code,n=e.lang,r=e.showCopy,o=void 0===r||r,a=Object(x["useCopy"])(),s=w(a,2),u=s[0],l=s[1];return i.a.createElement("div",{className:"__dumi-default-code-block"},i.a.createElement(b,_({},c,{code:t,language:n,theme:void 0}),(function(e){var n=e.className,r=e.style,a=e.tokens,s=e.getLineProps,c=e.getTokenProps;return i.a.createElement("pre",{className:n,style:r},o&&i.a.createElement("button",{className:"__dumi-default-icon __dumi-default-code-block-copy-btn","data-status":l,onClick:function(){return u(t)}}),a.map((function(e,t){return i.a.createElement("div",s({line:e,key:t}),e.map((function(e,t){return i.a.createElement("span",c({token:e,key:t}))})))})))})))}},H84U:function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return w}));var r=n("wx14"),i=n("q1tI"),o=n("rePB"),a=n("TSYQ"),s=n.n(a),u=n("YMnH"),c=function(){var e=i["useContext"](_),t=e.getPrefixCls,n=t("empty-img-default");return i["createElement"]("svg",{className:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},i["createElement"]("g",{fill:"none",fillRule:"evenodd"},i["createElement"]("g",{transform:"translate(24 31.67)"},i["createElement"]("ellipse",{className:"".concat(n,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),i["createElement"]("path",{className:"".concat(n,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),i["createElement"]("path",{className:"".concat(n,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),i["createElement"]("path",{className:"".concat(n,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),i["createElement"]("path",{className:"".concat(n,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),i["createElement"]("path",{className:"".concat(n,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),i["createElement"]("g",{className:"".concat(n,"-g"),transform:"translate(149.65 15.383)"},i["createElement"]("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),i["createElement"]("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},l=c,f=function(){var e=i["useContext"](_),t=e.getPrefixCls,n=t("empty-img-simple");return i["createElement"]("svg",{className:n,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},i["createElement"]("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},i["createElement"]("ellipse",{className:"".concat(n,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),i["createElement"]("g",{className:"".concat(n,"-g"),fillRule:"nonzero"},i["createElement"]("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),i["createElement"]("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(n,"-path")}))))},p=f,h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},d=i["createElement"](l,null),m=i["createElement"](p,null),v=function(e){var t=e.className,n=e.prefixCls,a=e.image,c=void 0===a?d:a,l=e.description,f=e.children,p=e.imageStyle,v=h(e,["className","prefixCls","image","description","children","imageStyle"]),y=i["useContext"](_),g=y.getPrefixCls,b=y.direction;return i["createElement"](u["a"],{componentName:"Empty"},(function(e){var a,u=g("empty",n),h="undefined"!==typeof l?l:e.description,d="string"===typeof h?h:"empty",y=null;return y="string"===typeof c?i["createElement"]("img",{alt:d,src:c}):c,i["createElement"]("div",Object(r["a"])({className:s()(u,(a={},Object(o["a"])(a,"".concat(u,"-normal"),c===m),Object(o["a"])(a,"".concat(u,"-rtl"),"rtl"===b),a),t)},v),i["createElement"]("div",{className:"".concat(u,"-image"),style:p},y),h&&i["createElement"]("div",{className:"".concat(u,"-description")},h),f&&i["createElement"]("div",{className:"".concat(u,"-footer")},f))}))};v.PRESENTED_IMAGE_DEFAULT=d,v.PRESENTED_IMAGE_SIMPLE=m;var y=v,g=function(e){return i["createElement"](w,null,(function(t){var n=t.getPrefixCls,r=n("empty");switch(e){case"Table":case"List":return i["createElement"](y,{image:y.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return i["createElement"](y,{image:y.PRESENTED_IMAGE_SIMPLE,className:"".concat(r,"-small")});default:return i["createElement"](y,null)}}))},b=g,x=function(e,t){return t||(e?"ant-".concat(e):"ant")},_=i["createContext"]({getPrefixCls:x,renderEmpty:b}),w=_.Consumer},H8Ov:function(e,t,n){var r=n("I65O");r("toPrimitive")},H8j4:function(e,t,n){var r=n("QkVE");function i(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}e.exports=i},HDyB:function(e,t,n){var r=n("nmnc"),i=n("JHRd"),o=n("ljhN"),a=n("or5M"),s=n("7fqy"),u=n("rEGp"),c=1,l=2,f="[object Boolean]",p="[object Date]",h="[object Error]",d="[object Map]",m="[object Number]",v="[object RegExp]",y="[object Set]",g="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",_="[object DataView]",w=r?r.prototype:void 0,S=w?w.valueOf:void 0;function O(e,t,n,r,w,O,E){switch(n){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!O(new i(e),new i(t)));case f:case p:case m:return o(+e,+t);case h:return e.name==t.name&&e.message==t.message;case v:case g:return e==t+"";case d:var k=s;case y:var C=r&c;if(k||(k=u),e.size!=t.size&&!C)return!1;var j=E.get(e);if(j)return j==t;r|=l,E.set(e,t);var T=a(k(e),k(t),r,w,O,E);return E["delete"](e),T;case b:if(S)return S.call(e)==S.call(t)}return!1}e.exports=O},HKQd:function(e,t,n){var r=n("MVys"),i=n("Tfd0"),o="\u200b\x85\u180e";e.exports=function(e){return r((function(){return!!i[e]()||o[e]()!=o||i[e].name!==e}))}},HOxn:function(e,t,n){var r=n("Cwc5"),i=n("Kz5y"),o=r(i,"Promise");e.exports=o},HQPm:function(e,t,n){n("bPAU")},"HaE+":function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},HctQ:function(e,t,n){var r=n("tny8"),i=n("YfKC"),o=n("f1E4"),a=n("P0e2");e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=a(t),s=r.length,u=0;while(s>u)i.f(e,n=r[u++],t[n]);return e}},Hel2:function(e,t,n){"use strict";n.d(t,"o",(function(){return Y})),n.d(t,"m",(function(){return J})),n.d(t,"p",(function(){return $})),n.d(t,"d",(function(){return re})),n.d(t,"q",(function(){return ie})),n.d(t,"r",(function(){return oe})),n.d(t,"j",(function(){return ae})),n.d(t,"h",(function(){return se})),n.d(t,"b",(function(){return ue})),n.d(t,"i",(function(){return ce})),n.d(t,"s",(function(){return pe})),n.d(t,"k",(function(){return he})),n.d(t,"l",(function(){return de})),n.d(t,"n",(function(){return me})),n.d(t,"f",(function(){return le})),n.d(t,"e",(function(){return ve})),n.d(t,"g",(function(){return ye})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i}));var r={};n.r(r),n.d(r,"getContainer",(function(){return u})),n.d(r,"trim",(function(){return c})),n.d(r,"splitWords",(function(){return l})),n.d(r,"create",(function(){return p})),n.d(r,"remove",(function(){return h})),n.d(r,"addClass",(function(){return d})),n.d(r,"removeClass",(function(){return m})),n.d(r,"hasClass",(function(){return v})),n.d(r,"setClass",(function(){return y})),n.d(r,"getClass",(function(){return g})),n.d(r,"empty",(function(){return b})),n.d(r,"setTransform",(function(){return _})),n.d(r,"triggerResize",(function(){return w})),n.d(r,"printCanvas",(function(){return S})),n.d(r,"getViewPortScale",(function(){return O})),n.d(r,"DPR",(function(){return E}));var i={};n.r(i),n.d(i,"sum",(function(){return xe})),n.d(i,"max",(function(){return ge})),n.d(i,"min",(function(){return be})),n.d(i,"mean",(function(){return _e})),n.d(i,"mode",(function(){return we})),n.d(i,"statMap",(function(){return Se})),n.d(i,"getColumn",(function(){return Oe})),n.d(i,"getSatByColumn",(function(){return Ee}));var o=n("J4zp"),a=n.n(o),s=window.document.documentElement.style;function u(e){var t=e;return"string"===typeof e&&(t=document.getElementById(e)),t}function c(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function l(e){return c(e).split(/\s+/)}function f(e){if(!s)return e[0];for(var t in e)if(e[t]&&e[t]in s)return e[t];return e[0]}function p(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function d(e,t){if(void 0!==e.classList)for(var n=l(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!v(e,t)){var o=g(e);y(e,(o?o+" ":"")+t)}}function m(e,t){void 0!==e.classList?e.classList.remove(t):y(e,c((" "+g(e)+" ").replace(" "+t+" "," ")))}function v(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=g(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function y(e,t){e instanceof HTMLElement?e.className=t:e.className.baseVal=t}function g(e){return e instanceof SVGElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function b(e){while(e&&e.firstChild)e.removeChild(e.firstChild)}var x=f(["transform","WebkitTransform"]);function _(e,t){e.style[x]=t}function w(){if("function"===typeof Event)window.dispatchEvent(new Event("resize"));else{var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}}function S(e){var t=["padding: "+(e.height/2-8)+"px "+e.width/2+"px;","line-height: "+e.height+"px;","background-image: url("+e.toDataURL()+");"];console.log("%c\n",t.join(""))}function O(){var e,t=document.querySelector('meta[name="viewport"]');if(!t)return 1;var n=null===(e=t.content)||void 0===e?void 0:e.split(","),r=n.find((function(e){var t=e.split("="),n=a()(t,2),r=n[0];n[1];return"initial-scale"===r}));return r?1*r.split("=")[1]:1}var E=O()<1?1:window.devicePixelRatio,k=n("lwsE"),C=n.n(k),j=n("W8MJ"),T=n.n(j),A=n("PJYZ"),P=n.n(A),M=n("7W2i"),I=n.n(M),L=n("a1gu"),R=n.n(L),D=n("Nsbk"),N=n.n(D),z=n("oShl"),F=n.n(z),B=n("lSNA"),U=n.n(B);function V(e){var t=H();return function(){var n,r=N()(e);if(t){var i=N()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return R()(this,n)}}function H(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var q=function(e){I()(n,e);var t=V(n);function n(e,r,i){var o;return C()(this,n),o=t.call(this,e),U()(P()(o),"status",void 0),U()(P()(o),"url",void 0),o.status=r,o.url=i,o.name=o.constructor.name,o.message=e,o}return T()(n,[{key:"toString",value:function(){return"".concat(this.name,": ").concat(this.message," (").concat(this.status,"): ").concat(this.url)}}]),n}(F()(Error));function G(e){var t=new XMLHttpRequest;for(var n in t.open("GET",e.url,!0),e.headers)e.headers.hasOwnProperty(n)&&t.setRequestHeader(n,e.headers[n]);return t.withCredentials="include"===e.credentials,t}var W=function(e,t){var n=G(e);return n.responseType="arraybuffer",n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){var r=n.response;if(0===r.byteLength&&200===n.status)return t(new Error("http status 200 returned without content."));n.status>=200&&n.status<300&&n.response?t(null,{data:r,cacheControl:n.getResponseHeader("Cache-Control"),expires:n.getResponseHeader("Expires")}):t(new q(n.statusText,n.status,e.url))},n.send(),n};var Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",Y=function(e,t){return W(e,(function(e,n){if(e)t(e);else if(n){var r=new window.Image;r.crossOrigin="anonymous";var i=window.URL||window.webkitURL;r.onload=function(){t(null,r),i.revokeObjectURL(r.src)};var o=new window.Blob([new Uint8Array(n.data)],{type:"image/png"});r.src=n.data.byteLength?i.createObjectURL(o):Z}}))},X=n("0wsv"),K=2*Math.PI*6378137/2;function J(e){var t=[1/0,1/0,-1/0,-1/0];return e.forEach((function(e){var n=e.coordinates;Q(t,n)})),t}function Q(e,t){return Array.isArray(t[0])?t.forEach((function(t){Q(e,t)})):(e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])),e}function $(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{enable:!0,decimal:1};e=ne(e,t);var r=e[0],i=e[1],o=r*K/180,a=Math.log(Math.tan((90+i)*Math.PI/360))/(Math.PI/180);return a=a*K/180,n.enable&&(o=Number(o.toFixed(n.decimal)),a=Number(a.toFixed(n.decimal))),3===e.length?[o,a,e[2]]:[o,a]}function ee(e){if(void 0===e||null===e)throw new Error("lng is required");return(e>180||e<-180)&&(e%=360,e>180&&(e=-360+e),e<-180&&(e=360+e),0===e&&(e=0)),e}function te(e){if(void 0===e||null===e)throw new Error("lat is required");return(e>90||e<-90)&&(e%=180,e>90&&(e=-180+e),e<-90&&(e=180+e),0===e&&(e=0)),e}function ne(e,t){if(!1===t)return e;var n=ee(e[0]),r=te(e[1]);return r>85&&(r=85),r<-85&&(r=-85),3===e.length?[n,r,e[2]]:[n,r]}function re(e){var t=85.0511287798,n=Math.max(Math.min(t,e[1]),-t),r=256<<20,i=Math.PI/180,o=e[0]*i,a=n*i;a=Math.log(Math.tan(Math.PI/4+a/2));var s=.5/Math.PI,u=.5,c=-.5/Math.PI;return i=.5,o=r*(s*o+u),a=r*(c*a+i),[Math.floor(o),Math.floor(a)]}function ie(e,t,n){var r=Object(X["a"])(t[1]-e[1]),i=Object(X["a"])(t[0]-e[0]),o=Object(X["a"])(e[1]),a=Object(X["a"])(t[1]),s=Math.pow(Math.sin(r/2),2)+Math.pow(Math.sin(i/2),2)*Math.cos(o)*Math.cos(a);return Object(X["g"])(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),"meters")}function oe(e,t){var n=Math.abs(e[1][1]-e[0][1])*t,r=Math.abs(e[1][0]-e[0][0])*t;return[[e[0][0]-r,e[0][1]-n],[e[1][0]+r,e[1][1]+n]]}function ae(e,t){return e[0][0]<=t[0][0]&&e[0][1]<=t[0][1]&&e[1][0]>=t[1][0]&&e[1][1]>=t[1][1]}function se(e){return[[e[0],e[1]],[e[2],e[3]]]}var ue=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,n=arguments.length>1?arguments[1]:void 0;C()(this,e),U()(this,"limit",void 0),U()(this,"cache",void 0),U()(this,"destroy",void 0),U()(this,"order",void 0),this.limit=t,this.destroy=n||this.defaultDestroy,this.order=[],this.clear()}return T()(e,[{key:"clear",value:function(){var e=this;this.order.forEach((function(t){e["delete"](t)})),this.cache={},this.order=[]}},{key:"get",value:function(e){var t=this.cache[e];return t&&(this.deleteOrder(e),this.appendOrder(e)),t}},{key:"set",value:function(e,t){this.cache[e]?(this["delete"](e),this.cache[e]=t,this.appendOrder(e)):(Object.keys(this.cache).length===this.limit&&this["delete"](this.order[0]),this.cache[e]=t,this.appendOrder(e))}},{key:"delete",value:function(e){var t=this.cache[e];t&&(this.deleteCache(e),this.deleteOrder(e),this.destroy(t,e))}},{key:"deleteCache",value:function(e){delete this.cache[e]}},{key:"deleteOrder",value:function(e){var t=this.order.findIndex((function(t){return t===e}));t>=0&&this.order.splice(t,1)}},{key:"appendOrder",value:function(e){this.order.push(e)}},{key:"defaultDestroy",value:function(e,t){return null}}]),e}();function ce(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}var le,fe=n("FmoU");function pe(e){var t=fe["a"](e),n=[0,0,0,0];return null!=t&&(n[0]=t.r/255,n[1]=t.g/255,n[2]=t.b/255,n[3]=t.opacity),n}function he(e){var t=e&&e[0],n=e&&e[1],r=e&&e[2],i=t+256*n+65536*r-1;return i}function de(e){return[e+1&255,e+1>>8&255,e+1>>8>>8&255]}function me(e){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=256,t.height=1;for(var r=n.createLinearGradient(0,0,256,1),i=null,o=e.positions[0],a=e.positions[e.positions.length-1],s=0;s<e.colors.length;++s){var u=(e.positions[s]-o)/(a-o);r.addColorStop(u,e.colors[s])}return n.fillStyle=r,n.fillRect(0,0,256,1),i=new Uint8ClampedArray(n.getImageData(0,0,256,1).data),new ImageData(i,256,1)}(function(e){e["CENTER"]="center",e["TOP"]="top",e["TOP-LEFT"]="top-left",e["TOP-RIGHT"]="top-right",e["BOTTOM"]="bottom",e["BOTTOM-LEFT"]="bottom-left",e["LEFT"]="left",e["RIGHT"]="right"})(le||(le={}));var ve={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ye(e,t,n){var r=e.classList;for(var i in ve)ve.hasOwnProperty(i)&&r.remove("l7-".concat(n,"-anchor-").concat(i));r.add("l7-".concat(n,"-anchor-").concat(t))}function ge(e){if(0===e.length)throw new Error("max requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return 1*t}function be(e){if(0===e.length)throw new Error("min requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return 1*t}function xe(e){if(0===e.length)return 0;for(var t=1*e[0],n=1;n<e.length;n++)t+=1*e[n];return t}function _e(e){if(0===e.length)throw new Error("mean requires at least one data point");return xe(e)/e.length}function we(e){if(0===e.length)throw new Error("mean requires at least one data point");if(e.length<3)return e[0];e.sort();for(var t=e[0],n=NaN,r=0,i=1,o=1;o<e.length+1;o++)e[o]!==t?(i>r&&(r=i,n=t),i=1,t=e[o]):i++;return 1*n}var Se={min:be,max:ge,mean:_e,sum:xe,mode:we};function Oe(e,t){return e.map((function(e){return e[t]}))}function Ee(e,t){return Se[e](t)}},HhvW:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},HjuX:function(e,t,n){var r=n("MMxC"),i=n("CdV7").entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},HpQ9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var r=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=r},HthE:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e[e["LNGLAT"]=1]="LNGLAT",e[e["LNGLAT_OFFSET"]=2]="LNGLAT_OFFSET",e[e["VECTOR_TILE"]=3]="VECTOR_TILE",e[e["IDENTITY"]=4]="IDENTITY",e[e["P20"]=5]="P20",e[e["P20_OFFSET"]=6]="P20_OFFSET",e[e["METER_OFFSET"]=7]="METER_OFFSET",e[e["P20_2"]=8]="P20_2"}(r||(r={}));var i={CoordinateSystem:"u_CoordinateSystem",ViewportCenter:"u_ViewportCenter",ViewportCenterProjection:"u_ViewportCenterProjection",PixelsPerDegree:"u_PixelsPerDegree",PixelsPerDegree2:"u_PixelsPerDegree2",PixelsPerMeter:"u_PixelsPerMeter",Mvp:"u_Mvp"}},Hvzi:function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},"I5+W":function(e,t,n){"use strict";var r=n("FVwB"),i=n("8OQV"),o=r.aTypedArrayConstructor,a=r.exportTypedArrayStaticMethod;a("of",(function(){var e=0,t=arguments.length,n=new(o(this))(t);while(t>e)n[e]=arguments[e++];return n}),i)},I5X1:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("tJVT"),i=n("q1tI"),o=n("1WJl"),a=n.n(o),s=n("qwGt");function u(e,t){var n=Object(i["useContext"])(s["a"]),o=Object(i["useRef"])(t);o.current=t;var u=Object(i["useState"])((()=>o.current?o.current(n.data[e]):n.data[e])),c=Object(r["a"])(u,2),l=c[0],f=c[1],p=Object(i["useRef"])(l);p.current=l;var h=Object(i["useRef"])(!1);return Object(i["useEffect"])((()=>(h.current=!0,()=>{h.current=!1})),[]),Object(i["useEffect"])((()=>{var r=r=>{if(h.current)if(t&&o.current){var i=o.current(r),s=p.current;a()(i,s)||f(i)}else f(r);else setTimeout((()=>{n.data[e]=r,n.update(e)}))};try{n.callbacks[e].add(r),n.update(e)}catch(i){n.callbacks[e]=new Set,n.callbacks[e].add(r),n.update(e)}return()=>{n.callbacks[e].delete(r)}}),[e]),l}},I65O:function(e,t,n){var r=n("nFn1"),i=n("jtLI"),o=n("IjB0"),a=n("YfKC").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},"IC/V":function(e,t,n){var r=n("I65O");r("split")},IGnA:function(e,t,n){var r=n("0qr0"),i=n("uGHk").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},IOcx:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return P})),n.d(t,"c",(function(){return M})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return L}));var r={};n.r(r),n.d(r,"create",(function(){return o})),n.d(r,"clone",(function(){return a})),n.d(r,"copy",(function(){return s})),n.d(r,"identity",(function(){return u})),n.d(r,"fromValues",(function(){return c})),n.d(r,"set",(function(){return l})),n.d(r,"transpose",(function(){return f})),n.d(r,"invert",(function(){return p})),n.d(r,"adjoint",(function(){return h})),n.d(r,"determinant",(function(){return d})),n.d(r,"multiply",(function(){return m})),n.d(r,"rotate",(function(){return v})),n.d(r,"scale",(function(){return y})),n.d(r,"fromRotation",(function(){return g})),n.d(r,"fromScaling",(function(){return b})),n.d(r,"str",(function(){return x})),n.d(r,"frob",(function(){return _})),n.d(r,"LDU",(function(){return w})),n.d(r,"add",(function(){return S})),n.d(r,"subtract",(function(){return O})),n.d(r,"exactEquals",(function(){return E})),n.d(r,"equals",(function(){return k})),n.d(r,"multiplyScalar",(function(){return C})),n.d(r,"multiplyScalarAndAdd",(function(){return j})),n.d(r,"mul",(function(){return T})),n.d(r,"sub",(function(){return A}));var i=n("yU0y");function o(){var e=new i["a"](4);return i["a"]!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function a(e){var t=new i["a"](4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function u(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function c(e,t,n,r){var o=new i["a"](4);return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o}function l(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function f(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function p(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*o-i*r;return a?(a=1/a,e[0]=o*a,e[1]=-r*a,e[2]=-i*a,e[3]=n*a,e):null}function h(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e}function d(e){return e[0]*e[3]-e[2]*e[1]}function m(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1],c=n[2],l=n[3];return e[0]=r*s+o*u,e[1]=i*s+a*u,e[2]=r*c+o*l,e[3]=i*c+a*l,e}function v(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*s,e[1]=i*u+a*s,e[2]=r*-s+o*u,e[3]=i*-s+a*u,e}function y(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1];return e[0]=r*s,e[1]=i*s,e[2]=o*u,e[3]=a*u,e}function g(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e}function b(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function x(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function _(e){return Math.hypot(e[0],e[1],e[2],e[3])}function w(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]}function S(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function O(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function E(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function k(e,t){var n=e[0],r=e[1],o=e[2],a=e[3],s=t[0],u=t[1],c=t[2],l=t[3];return Math.abs(n-s)<=i["b"]*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-u)<=i["b"]*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(o-c)<=i["b"]*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-l)<=i["b"]*Math.max(1,Math.abs(a),Math.abs(l))}function C(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function j(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}var T=m,A=O,P=n("ZaHm"),M=n("ZxFD"),I=n("n+fv"),L=n("bl9R")},ISu3:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u}));var r={},i={},o=function(e){return i[e]},a=function(e,t){i[e]=t},s=function(e){return r[e]},u=function(e,t){r[e]=t}},IVUx:function(e,t,n){var r=n("Pp3M"),i=n("UHn5"),o=n("u+7+"),a=n("tSXo"),s=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=o(null)};s.prototype.get=function(e,t){return this[e]||(this[e]=t())},s.prototype.next=function(e,t,n){var o=n?this.objectsByIndex[e]||(this.objectsByIndex[e]=new i):this.primitives||(this.primitives=new r),a=o.get(t);return a||o.set(t,a=new s),a};var u=new s;e.exports=function(){var e,t,n=u,r=arguments.length;for(e=0;e<r;e++)a(t=arguments[e])&&(n=n.next(e,t,!0));if(this===Object&&n===u)throw TypeError("Composite keys must contain a non-primitive component");for(e=0;e<r;e++)a(t=arguments[e])||(n=n.next(e,t,!1));return n}},IbaC:function(e,t,n){"use strict";var r=n("MMxC"),i=n("FCfD"),o=n("YON3"),a=n("k/J9"),s=n("2kyd"),u=n("Zcjx"),c=s("replace"),l=RegExp.prototype;r({target:"String",proto:!0},{replaceAll:function e(t,n){var r,s,f,p,h,d,m,v,y,g=i(this);if(null!=t){if(r=o(t),r&&(s=String(i("flags"in l?t.flags:a.call(t))),!~s.indexOf("g")))throw TypeError("`.replaceAll` does not allow non-global regexes");if(f=t[c],void 0!==f)return f.call(t,g,n);if(u&&r)return String(g).replace(t,n)}if(p=String(g),h=String(t),""===h)return e.call(p,/(?:)/g,n);if(d=p.split(h),"function"!==typeof n)return d.join(String(n));for(m=d[0],v=m.length,y=1;y<d.length;y++)m+=String(n(h,v,p)),v+=h.length+d[y].length,m+=d[y];return m}})},Ic52:function(e,t,n){"use strict";n.r(t);var r=n("k1fw"),i=n("q1tI"),o=n.n(i),a=n("dEAq"),s=n("Zxc8"),u=n("Rsk4"),c=n("nKUr"),l=o.a.memo(u["default"]["docs-mapv2"].component);t["default"]=e=>(o.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),Object(c["jsx"])(c["Fragment"],{children:Object(c["jsxs"])(o.a.Fragment,{children:[Object(c["jsx"])("div",{className:"markdown",children:Object(c["jsxs"])("h2",{id:"\u9ad8\u5fb7\u5730\u56fe-v2",children:[Object(c["jsx"])(a["AnchorLink"],{to:"#\u9ad8\u5fb7\u5730\u56fe-v2","aria-hidden":"true",tabIndex:-1,children:Object(c["jsx"])("span",{className:"icon icon-link"})}),"\u9ad8\u5fb7\u5730\u56fe V2!"]})}),Object(c["jsx"])(s["default"],Object(r["a"])(Object(r["a"])({},u["default"]["docs-mapv2"].previewerProps),{},{children:Object(c["jsx"])(l,{})}))]})}))},IjB0:function(e,t,n){var r=n("2kyd");t.f=r},Ijbi:function(e,t,n){var r=n("WkPL");function i(e){if(Array.isArray(e))return r(e)}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},Ioao:function(e,t,n){var r=n("heNW"),i=Math.max;function o(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);while(++a<s)u[a]=o[t+a];a=-1;var c=Array(t+1);while(++a<t)c[a]=o[a];return c[t]=n(u),r(e,this,c)}}e.exports=o},IuhT:function(e,t,n){var r=n("f1E4"),i=n("bF+Q"),o=n("oa35"),a=n("7BAe"),s=n("9SZg"),u=n("Y3g6"),c=function(e,t){this.stopped=e,this.result=t},l=e.exports=function(e,t,n,l,f){var p,h,d,m,v,y,g,b=a(t,n,l?2:1);if(f)p=e;else{if(h=s(e),"function"!=typeof h)throw TypeError("Target is not iterable");if(i(h)){for(d=0,m=o(e.length);m>d;d++)if(v=l?b(r(g=e[d])[0],g[1]):b(e[d]),v&&v instanceof c)return v;return new c(!1)}p=h.call(e)}y=p.next;while(!(g=y.call(p)).done)if(v=u(p,b,g.value,l),"object"==typeof v&&v&&v instanceof c)return v;return new c(!1)};l.stop=function(e){return new c(!0,e)}},IyRk:function(e,t){(function(t){e.exports=function(){var e={873:function(e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(n){"object"===typeof window&&(t=window)}e.exports=t}},n={};function r(t){if(n[t])return n[t].exports;var i=n[t]={exports:{}},o=!0;try{e[t](i,i.exports,r),o=!1}finally{o&&delete n[t]}return i.exports}return r.ab=t+"/",r(873)}()}).call(this,"/")},IyrG:function(e,t,n){"use strict";var r=n("MMxC"),i=n("ukPv"),o=n("ZSlt"),a=n("ssJt"),s="ArrayBuffer",u=o[s],c=i[s];r({global:!0,forced:c!==u},{ArrayBuffer:u}),a(s)},"J+Da":function(e,t,n){var r=n("m0kY"),i=n("oa35");e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},J2iB:function(e,t){function n(e){return null==e}e.exports=n},J3Yn:function(e,t,n){var r=n("pb5k"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},J428:function(e,t,n){var r=n("MMxC"),i=n("CdV7").values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},J4zp:function(e,t,n){var r=n("wTVA"),i=n("m0LI"),o=n("ZhPi"),a=n("wkBT");function s(e,t){return r(e)||i(e,t)||o(e,t)||a()}e.exports=s,e.exports["default"]=e.exports,e.exports.__esModule=!0},J7lC:function(e,t){},J9ha:function(e,t,n){"use strict";n("k1fw"),n("tJVT"),n("8ml+");var r,i,o,a,s,u,c,l,f,p,h,d=n("lwsE"),m=n.n(d),v=n("W8MJ"),y=n.n(v),g=n("7W2i"),b=n.n(g),x=n("a1gu"),_=n.n(x),w=n("Nsbk"),S=n.n(w),O=n("oTYp"),E=n("QILm"),k=n.n(E),C=n("yXPU"),j=n.n(C),T=n("yG8O"),A=n.n(T),P=n("lSNA"),M=n.n(P),I=n("U+yc"),L=n.n(I),R=(n("1ABj"),n("o0o1")),D=n.n(R),N=n("h1nZ"),z=n("Hel2"),F=n("IOcx"),B=n("4cb6"),U=n("4ZJM"),V=n.n(U),H=(n("mNvP"),n("6gmd")),q=n("1A8y"),G=function(){function e(){m()(this,e),M()(this,"viewport",void 0)}return y()(e,[{key:"syncWithMapCamera",value:function(e){var t=e.center,n=e.zoom,r=e.pitch,i=e.bearing,o=e.viewportHeight,a=e.viewportWidth;this.viewport=new q["a"]({width:a,height:o,longitude:t&&t[0],latitude:t&&t[1],zoom:n,pitch:r,bearing:i})}},{key:"getZoom",value:function(){return this.viewport.zoom}},{key:"getZoomScale",value:function(){return Math.pow(2,this.getZoom())}},{key:"getCenter",value:function(){return[this.viewport.longitude,this.viewport.latitude]}},{key:"getProjectionMatrix",value:function(){return this.viewport.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewport.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.viewMatrixUncentered}},{key:"getViewProjectionMatrix",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(e,t){return this.viewport.projectFlat(e,t)}}]),e}(),W={light:"mapbox://styles/zcxduo/ck2ypyb1r3q9o1co1766dex29",dark:"mapbox://styles/zcxduo/ck241p6413s0b1cpayzldv7x7",normal:"mapbox://styles/mapbox/streets-v11",blank:{version:8,sources:{},layers:[{id:"background",type:"background",layout:{visibility:"none"}}]}};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t){if(t||(t=document),t){var n=t.head||t.getElementsByTagName("head")[0];if(!n){n=t.createElement("head");var r=t.body||t.getElementsByTagName("body")[0];r?r.parentNode.insertBefore(n,r):t.documentElement.appendChild(n)}var i=t.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),n.appendChild(i),i}}X(".mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:-webkit-grab;cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:-webkit-grabbing;cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{-ms-touch-action:pinch-zoom;touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{-ms-touch-action:none;touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;-webkit-transform:translate(0);transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){-webkit-box-shadow:0 0 2px rgba(0,0,0,.1);box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){-webkit-box-shadow:0 0 0 2px ButtonText;box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{-webkit-box-shadow:0 0 2px 2px #0096ff;box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{-webkit-box-shadow:0 0 2px 2px #0096ff;box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){-webkit-box-shadow:none;box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{-webkit-animation:mapboxgl-spin 2s linear infinite;animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg opacity='.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg opacity='.9' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;-webkit-box-sizing:border-box;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:-webkit-box;display:-ms-flexbox;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.mapboxgl-popup-anchor-left{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.mapboxgl-popup-anchor-right{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.1);box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:-webkit-box;display:-ms-flexbox;display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:\"\";position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 0 3px rgba(0,0,0,.35);box-shadow:0 0 3px rgba(0,0,0,.35)}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}to{-webkit-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);transform:scale(3);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}"),window.mapboxgl=V.a;var K={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"},J=0,Q=12,$="pk.eyJ1IjoibHp4dWUiLCJhIjoiY2tvaWZuM2s4MWZuYjJ1dHI5ZGduYTlrdiJ9.DQCfMRbZzx0VSwecQ69McA",ee=(r=Object(B["injectable"])(),i=Object(B["inject"])(N["TYPES"].MapConfig),o=Object(B["inject"])(N["TYPES"].IGlobalConfigService),a=Object(B["inject"])(N["TYPES"].ICoordinateSystemService),s=Object(B["inject"])(N["TYPES"].IEventEmitter),r((c=function(){function e(){var t=this;m()(this,e),M()(this,"version",H["a"].MAPBOX),M()(this,"map",void 0),A()(this,"config",l,this),A()(this,"configService",f,this),A()(this,"coordinateSystemService",p,this),A()(this,"eventEmitter",h,this),M()(this,"viewport",void 0),M()(this,"markerContainer",void 0),M()(this,"cameraChangedCallback",void 0),M()(this,"$mapContainer",void 0),M()(this,"handleCameraChanged",(function(){var e=t.map.getCenter().wrap(),n=e.lat,r=e.lng;t.viewport.syncWithMapCamera({bearing:t.map.getBearing(),center:[r,n],viewportHeight:t.map.transform.height,pitch:t.map.getPitch(),viewportWidth:t.map.transform.width,zoom:t.map.getZoom(),cameraHeight:0});var i=t.config.offsetZoom,o=void 0===i?Q:i;t.viewport.getZoom()>o?t.coordinateSystemService.setCoordinateSystem(N["CoordinateSystem"].LNGLAT_OFFSET):t.coordinateSystemService.setCoordinateSystem(N["CoordinateSystem"].LNGLAT),t.cameraChangedCallback(t.viewport)}))}return y()(e,[{key:"addMarkerContainer",value:function(){var e=this.map.getCanvasContainer();this.markerContainer=z["a"].create("div","l7-marker-container",e),this.markerContainer.setAttribute("tabindex","-1")}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(e,t){-1!==N["MapServiceEvent"].indexOf(e)?this.eventEmitter.on(e,t):this.map.on(K[e]||e,t)}},{key:"off",value:function(e,t){this.map.off(K[e]||e,t)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){return this.map.getCanvasContainer()}},{key:"getSize",value:function(){var e=this.map.transform;return[e.width,e.height]}},{key:"getType",value:function(){return"mapbox"}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"setZoom",value:function(e){return this.map.setZoom(e)}},{key:"getCenter",value:function(){return this.map.getCenter()}},{key:"setCenter",value:function(e){this.map.setCenter(e)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return this.map.getBearing()}},{key:"getBounds",value:function(){return this.map.getBounds().toArray()}},{key:"getMinZoom",value:function(){return this.map.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.map.getMaxZoom()}},{key:"setRotation",value:function(e){this.map.setBearing(e)}},{key:"zoomIn",value:function(e,t){this.map.zoomIn(e,t)}},{key:"zoomOut",value:function(e,t){this.map.zoomOut(e,t)}},{key:"setPitch",value:function(e){return this.map.setPitch(e)}},{key:"panTo",value:function(e){this.map.panTo(e)}},{key:"panBy",value:function(e){this.panTo(e)}},{key:"fitBounds",value:function(e,t){this.map.fitBounds(e,t)}},{key:"setMaxZoom",value:function(e){this.map.setMaxZoom(e)}},{key:"setMinZoom",value:function(e){this.map.setMinZoom(e)}},{key:"setMapStatus",value:function(e){!0===e.doubleClickZoom&&this.map.doubleClickZoom.enable(),!1===e.doubleClickZoom&&this.map.doubleClickZoom.disable(),!1===e.dragEnable&&this.map.dragPan.disable(),!0===e.dragEnable&&this.map.dragPan.enable(),!1===e.rotateEnable&&this.map.dragRotate.disable(),!0===e.rotateEnable&&this.map.dragRotate.enable(),!1===e.keyboardEnable&&this.map.keyboard.disable(),!0===e.keyboardEnable&&this.map.keyboard.enable(),!1===e.zoomEnable&&this.map.scrollZoom.disable(),!0===e.zoomEnable&&this.map.scrollZoom.enable()}},{key:"setZoomAndCenter",value:function(e,t){this.map.flyTo({zoom:e,center:t})}},{key:"setMapStyle",value:function(e){this.map.setStyle(this.getMapStyle(e))}},{key:"pixelToLngLat",value:function(e){return this.map.unproject(e)}},{key:"lngLatToPixel",value:function(e){return this.map.project(e)}},{key:"containerToLngLat",value:function(e){return this.map.unproject(e)}},{key:"lngLatToContainer",value:function(e){return this.map.project(e)}},{key:"lngLatToCoord",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0,z:0},n=this.lngLatToMercator(e,0),r=n.x,i=n.y;return[r-t.x,i-t.y]}},{key:"lngLatToMercator",value:function(e,t){var n=window.mapboxgl.MercatorCoordinate.fromLngLat(e,t),r=n.x,i=void 0===r?0:r,o=n.y,a=void 0===o?0:o,s=n.z,u=void 0===s?0:s;return{x:i,y:a,z:u}}},{key:"getModelMatrix",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0,z:0},o=window.mapboxgl.MercatorCoordinate.fromLngLat(e,t),a=o.meterInMercatorCoordinateUnits(),s=F["b"].create();return F["b"].translate(s,s,F["d"].fromValues(o.x-i.x,o.y-i.y,o.z||0-i.z)),F["b"].scale(s,s,F["d"].fromValues(a*r[0],-a*r[1],a*r[2])),F["b"].rotateX(s,s,n[0]),F["b"].rotateY(s,s,n[1]),F["b"].rotateZ(s,s,n[2]),s}},{key:"init",value:function(){var e=j()(D.a.mark((function e(){var t,n,r,i,o,a,s,u,c,l,f,p,h;return D.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.config,n=t.id,r=void 0===n?"map":n,i=t.attributionControl,o=void 0!==i&&i,a=t.style,s=void 0===a?"light":a,u=t.token,c=void 0===u?$:u,l=t.rotation,f=void 0===l?0:l,p=t.mapInstance,h=k()(t,["id","attributionControl","style","token","rotation","mapInstance"]),this.viewport=new G,p||window.mapboxgl||console.error(this.configService.getSceneWarninfo("SDK")),c!==$||"blank"===s||window.mapboxgl.accessToken||p||console.warn(this.configService.getSceneWarninfo("MapToken")),p||window.mapboxgl.accessToken||(window.mapboxgl.accessToken=c),p?(this.map=p,this.$mapContainer=this.map.getContainer()):(this.$mapContainer=this.creatAmapContainer(r),this.map=new window.mapboxgl.Map(Y({container:this.$mapContainer,style:this.getMapStyle(s),attributionControl:o,bearing:f},h))),this.map.on("load",this.handleCameraChanged),this.map.on("move",this.handleCameraChanged),this.handleCameraChanged();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var e,t;null===(e=this.$mapContainer)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(this.$mapContainer),this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).emit.apply(t,[e].concat(r))}},{key:"once",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).once.apply(t,[e].concat(r))}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"exportMap",value:function(e){var t=this.map.getCanvas(),n="jpg"===e?null===t||void 0===t?void 0:t.toDataURL("image/jpeg"):null===t||void 0===t?void 0:t.toDataURL("image/png");return n}},{key:"onCameraChanged",value:function(e){this.cameraChangedCallback=e}},{key:"creatAmapContainer",value:function(e){var t=e;"string"===typeof e&&(t=document.getElementById(e));var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      top: 0;\n      height: 100%;\n      width: 100%;\n    ",n.id="l7_mapbox_div"+J++,t.appendChild(n),n}},{key:"getMapStyle",value:function(e){return"string"!==typeof e?e:W[e]?W[e]:e}}]),e}(),l=L()(c.prototype,"config",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=L()(c.prototype,"configService",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=L()(c.prototype,"coordinateSystemService",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=L()(c.prototype,"eventEmitter",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=c))||u);function te(e){var t=ne();return function(){var n,r=S()(e);if(t){var i=S()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _()(this,n)}}function ne(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function re(e,t){if(t||(t=document),t){var n=t.head||t.getElementsByTagName("head")[0];if(!n){n=t.createElement("head");var r=t.body||t.getElementsByTagName("body")[0];r?r.parentNode.insertBefore(n,r):t.documentElement.appendChild(n)}var i=t.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),n.appendChild(i),i}}re(".mapboxgl-ctrl-logo {\n display: none !important;\n}\n");(function(e){b()(n,e);var t=te(n);function n(){return m()(this,n),t.apply(this,arguments)}y()(n,[{key:"getServiceConstructor",value:function(){return ee}}])})(O["a"]),n("q1tI"),n("45oE"),n("nKUr")},JBE3:function(e,t,n){var r=n("+Qka"),i=n("LsHQ"),o=i((function(e,t,n,i){r(e,t,n,i)}));e.exports=o},JHRd:function(e,t,n){var r=n("Kz5y"),i=r.Uint8Array;e.exports=i},JHgL:function(e,t,n){var r=n("QkVE");function i(e){return r(this,e).get(e)}e.exports=i},JI6M:function(e,t,n){"use strict";var r=n("MMxC"),i=n("mTKU").trim,o=n("HKQd");r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},JS3A:function(e,t,n){var r=n("tSXo");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},JSQU:function(e,t,n){var r=n("YESw"),i="__lodash_hash_undefined__";function o(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}e.exports=o},JTzB:function(e,t,n){var r=n("NykK"),i=n("ExA7"),o="[object Arguments]";function a(e){return i(e)&&r(e)==o}e.exports=a},JX7q:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},JXee:function(e,t,n){var r=n("MMxC"),i=n("YMoz"),o=n("jdp+");r({target:"Math",stat:!0},{fscale:function(e,t,n,r,a){return o(i(e,t,n,r,a))}})},JXem:function(e,t,n){"use strict";var r,i,o,a=n("Acmb"),s=n("lz10"),u=n("jtLI"),c=n("2kyd"),l=n("Zcjx"),f=c("iterator"),p=!1,h=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(r=i)):p=!0),void 0==r&&(r={}),l||u(r,f)||s(r,f,h),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},JhMR:function(e,t,n){"use strict";e.exports=n("KqkS")},Ji7U:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("s4An");function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r["a"])(e,t)}},JxQ3:function(e,t,n){var r="function"===typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"===typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"===typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"===typeof u.get?u.get:null,l=s&&Set.prototype.forEach,f="function"===typeof WeakMap&&WeakMap.prototype,p=f?WeakMap.prototype.has:null,h="function"===typeof WeakSet&&WeakSet.prototype,d=h?WeakSet.prototype.has:null,m="function"===typeof WeakRef&&WeakRef.prototype,v=m?WeakRef.prototype.deref:null,y=Boolean.prototype.valueOf,g=Object.prototype.toString,b=Function.prototype.toString,x=String.prototype.match,_="function"===typeof BigInt?BigInt.prototype.valueOf:null,w=Object.getOwnPropertySymbols,S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,O="function"===typeof Symbol&&"object"===typeof Symbol.iterator,E=Object.prototype.propertyIsEnumerable,k=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),C=n(1).custom,j=C&&F(C)?C:null,T="function"===typeof Symbol&&"undefined"!==typeof Symbol.toStringTag?Symbol.toStringTag:null;function A(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function P(e){return String(e).replace(/"/g,"&quot;")}function M(e){return"[object Array]"===H(e)&&(!T||!("object"===typeof e&&T in e))}function I(e){return"[object Date]"===H(e)&&(!T||!("object"===typeof e&&T in e))}function L(e){return"[object RegExp]"===H(e)&&(!T||!("object"===typeof e&&T in e))}function R(e){return"[object Error]"===H(e)&&(!T||!("object"===typeof e&&T in e))}function D(e){return"[object String]"===H(e)&&(!T||!("object"===typeof e&&T in e))}function N(e){return"[object Number]"===H(e)&&(!T||!("object"===typeof e&&T in e))}function z(e){return"[object Boolean]"===H(e)&&(!T||!("object"===typeof e&&T in e))}function F(e){if(O)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!S)return!1;try{return S.call(e),!0}catch(t){}return!1}function B(e){if(!e||"object"!==typeof e||!_)return!1;try{return _.call(e),!0}catch(t){}return!1}e.exports=function e(t,n,r,i){var s=n||{};if(V(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(s,"maxStringLength")&&("number"===typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!V(s,"customInspect")||s.customInspect;if("boolean"!==typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return Q(t,s);if("number"===typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"===typeof t)return String(t)+"n";var f="undefined"===typeof s.depth?5:s.depth;if("undefined"===typeof r&&(r=0),r>=f&&f>0&&"object"===typeof t)return M(t)?"[Array]":"[Object]";var p=ie(s,r);if("undefined"===typeof i)i=[];else if(G(i,t)>=0)return"[Circular]";function h(t,n,o){if(n&&(i=i.slice(),i.push(n)),o){var a={depth:s.depth};return V(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,r+1,i)}return e(t,s,r+1,i)}if("function"===typeof t){var d=q(t),m=ae(t,h);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(m.length>0?" { "+m.join(", ")+" }":"")}if(F(t)){var v=O?String(t).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):S.call(t);return"object"!==typeof t||O?v:ee(v)}if(J(t)){for(var g="<"+String(t.nodeName).toLowerCase(),b=t.attributes||[],x=0;x<b.length;x++)g+=" "+b[x].name+"="+A(P(b[x].value),"double",s);return g+=">",t.childNodes&&t.childNodes.length&&(g+="..."),g+="</"+String(t.nodeName).toLowerCase()+">",g}if(M(t)){if(0===t.length)return"[]";var w=ae(t,h);return p&&!re(w)?"["+oe(w,p)+"]":"[ "+w.join(", ")+" ]"}if(R(t)){var E=ae(t,h);return 0===E.length?"["+String(t)+"]":"{ ["+String(t)+"] "+E.join(", ")+" }"}if("object"===typeof t&&u){if(j&&"function"===typeof t[j])return t[j]();if("symbol"!==u&&"function"===typeof t.inspect)return t.inspect()}if(W(t)){var C=[];return a.call(t,(function(e,n){C.push(h(n,t,!0)+" => "+h(e,t))})),ne("Map",o.call(t),C,p)}if(X(t)){var U=[];return l.call(t,(function(e){U.push(h(e,t))})),ne("Set",c.call(t),U,p)}if(Z(t))return te("WeakMap");if(K(t))return te("WeakSet");if(Y(t))return te("WeakRef");if(N(t))return ee(h(Number(t)));if(B(t))return ee(h(_.call(t)));if(z(t))return ee(y.call(t));if(D(t))return ee(h(String(t)));if(!I(t)&&!L(t)){var $=ae(t,h),se=k?k(t)===Object.prototype:t instanceof Object||t.constructor===Object,ue=t instanceof Object?"":"null prototype",ce=!se&&T&&Object(t)===t&&T in t?H(t).slice(8,-1):ue?"Object":"",le=se||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"",fe=le+(ce||ue?"["+[].concat(ce||[],ue||[]).join(": ")+"] ":"");return 0===$.length?fe+"{}":p?fe+"{"+oe($,p)+"}":fe+"{ "+$.join(", ")+" }"}return String(t)};var U=Object.prototype.hasOwnProperty||function(e){return e in this};function V(e,t){return U.call(e,t)}function H(e){return g.call(e)}function q(e){if(e.name)return e.name;var t=x.call(b.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function G(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function W(e){if(!o||!e||"object"!==typeof e)return!1;try{o.call(e);try{c.call(e)}catch(t){return!0}return e instanceof Map}catch(n){}return!1}function Z(e){if(!p||!e||"object"!==typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(t){return!0}return e instanceof WeakMap}catch(n){}return!1}function Y(e){if(!v||!e||"object"!==typeof e)return!1;try{return v.call(e),!0}catch(t){}return!1}function X(e){if(!c||!e||"object"!==typeof e)return!1;try{c.call(e);try{o.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}function K(e){if(!d||!e||"object"!==typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(t){return!0}return e instanceof WeakSet}catch(n){}return!1}function J(e){return!(!e||"object"!==typeof e)&&("undefined"!==typeof HTMLElement&&e instanceof HTMLElement||"string"===typeof e.nodeName&&"function"===typeof e.getAttribute)}function Q(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Q(e.slice(0,t.maxStringLength),t)+r}var i=e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,$);return A(i,"single",t)}function $(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function ee(e){return"Object("+e+")"}function te(e){return e+" { ? }"}function ne(e,t,n,r){var i=r?oe(n,r):n.join(", ");return e+" ("+t+") {"+i+"}"}function re(e){for(var t=0;t<e.length;t++)if(G(e[t],"\n")>=0)return!1;return!0}function ie(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;n=Array(e.indent+1).join(" ")}return{base:n,prev:Array(t+1).join(n)}}function oe(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+e.join(","+n)+"\n"+t.prev}function ae(e,t){var n=M(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=V(e,i)?t(e[i],e):""}var o,a="function"===typeof w?w(e):[];if(O){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var u in e)V(e,u)&&(n&&String(Number(u))===u&&u<e.length||O&&o["$"+u]instanceof Symbol||(/[^\w$]/.test(u)?r.push(t(u,e)+": "+t(e[u],e)):r.push(u+": "+t(e[u],e))));if("function"===typeof w)for(var c=0;c<a.length;c++)E.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}},K6Lp:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("H1Ra"),s=(n("Rsk4"),n("nKUr"));t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),Object(s["jsx"])(s["Fragment"],{children:Object(s["jsxs"])("div",{className:"markdown",children:[Object(s["jsxs"])("h3",{id:"\u5b89\u88c5",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u5b89\u88c5","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u5b89\u88c5"]}),Object(s["jsx"])(a["a"],{code:"npm i @antv/l7-react",lang:"bash"}),Object(s["jsxs"])("h3",{id:"\u793a\u4f8b",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u793a\u4f8b","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u793a\u4f8b"]}),Object(s["jsx"])(a["a"],{code:"import { LineLayer, AMapScene } from '@antv/l7-react';\n\nexport default React.memo(function Map() {\n  const [data, setData] = React.useState();\n  React.useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetch(\n        'https://gw.alipayobjects.com/os/basement_prod/32e1f3ab-8588-46cb-8a47-75afb692117d.json',\n      );\n      const raw = await response.json();\n      setData(raw);\n    };\n    fetchData();\n  }, []);\n  return (\n    <>\n      <AMapScene\n        map={{\n          center: [110.19382669582967, 50.258134],\n          pitch: 0,\n          style: 'dark',\n          zoom: 1,\n        }}\n        style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n        }}\n      >\n        {data && (\n          <LineLayer\n            key={'2'}\n            source={{\n              data,\n            }}\n            size={{\n              values: 1,\n            }}\n            color={{\n              values: '#fff',\n            }}\n            shape={{\n              values: 'line',\n            }}\n            style={{\n              opacity: 1,\n            }}\n          />\n        )}\n      </AMapScene>\n    </>\n  );\n});",lang:"javascript"})]})}))},KAxK:function(e,t,n){"use strict";var r=n("MMxC"),i=n("IuhT"),o=n("cT1L");r({target:"Map",stat:!0},{keyBy:function(e,t){var n=new this;o(t);var r=o(n.set);return i(e,(function(e){r.call(n,t(e),e)})),n}})},KHCi:function(e,t,n){var r=n("MMxC"),i=Math.min,o=Math.max;r({target:"Math",stat:!0},{clamp:function(e,t,n){return i(n,o(t,e))}})},KMkd:function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},KQm4:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("a3WO");function i(e){if(Array.isArray(e))return Object(r["a"])(e)}var o=n("25BE"),a=n("BsWD");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){return i(e)||Object(o["a"])(e)||Object(a["a"])(e)||s()}},KUpu:function(e,t,n){var r=n("I65O");r("hasInstance")},KazK:function(e,t,n){"use strict";n.r(t);var r=n("/7QA"),i=(n("q1tI"),n("nKUr"));t["default"]=()=>Object(i["jsx"])(r["AMapScene"],{map:{center:[110.19382669582967,50.258134],pitch:0,style:"dark",zoom:1},style:{height:"400px",position:"relative",background:"#011030"},children:Object(i["jsx"])(r["ImageLayer"],{source:{data:"https://gw.alipayobjects.com/mdn/antv_site/afts/img/A*8SUaRr7bxNsAAAAAAAAAAABkARQnAQ",parser:{type:"image",extent:[113.1277263548,32.3464238863,118.1365790452,36.4786759137]}}})})},KcUY:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=c(n("q1tI")),o=s(n("q3YX")),a=s(n("nLCz"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i["default"]=e,n&&n.set(e,i),i}function l(e,t){return m(e)||d(e,t)||p(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function m(e){if(Array.isArray(e))return e}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e,t){var n=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r[1].replace(/([^^])\/$/,"$1");return y(y({},(null===(e=r[0].find((function(e){var t=e.path;return t===o})))||void 0===e?void 0:e.meta)||{}),{},{__pathname:t})},r=(0,i.useState)(n(e,t)),o=l(r,2),a=o[0],s=o[1];return(0,i.useLayoutEffect)((function(){s(n(e,t))}),[t]),a},x=function(e,t){var n=function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(null===(t=r[0].find((function(e){return new RegExp("/".concat(e.name,"(/|$)")).test(r[1])})))||void 0===t?void 0:t.name)||e[0].name},r=(0,i.useState)(n(e,t)),o=l(r,2),a=o[0],s=o[1];return(0,i.useLayoutEffect)((function(){s(n(e,t))}),[t]),a},_=function(e,t,n){var r=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=n[0].navs[n[1]]||[],o="*",a=i.length-1;a>=0;a-=1){var s=i[a],u=[s].concat(s.children).filter(Boolean),c=u.find((function(e){return e.path&&new RegExp("^".concat(e.path.replace(/\.html$/,""),"(/|.|$)")).test(n[2])}));if(c){o=c.path;break}}return(null===(e=n[0].menus[n[1]])||void 0===e?void 0:e[o])||[]},o=(0,i.useState)(r(e,t,n)),a=l(o,2),s=a[0],u=a[1];return(0,i.useLayoutEffect)((function(){u(r(e,t,n))}),[e.navs,e.menus,t,n]),s},w=function(e,t,n){var r=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return r[0]===r[1][0].name?r[2].path:"".concat(n.path,"/").concat(e).replace(/\/\//,"/")},o=(0,i.useState)(r(e,t,n)),a=l(o,2),s=a[0],u=a[1];return(0,i.useLayoutEffect)((function(){u(r(e,t,n))}),[e]),s},S=function e(t){var n;return null===(n=t.find((function(t){return!!t.__dumiRoot||!!t.routes&&e(t.routes)})))||void 0===n?void 0:n.routes},O=function(e){var t=e.location,n=e.route,r=e.children,s=t.pathname.replace(n.path.replace(/^\/$/,"//"),""),u=S(e.routes)||[],c=b(u,t.pathname),l=x(o["default"].locales,s),f=_(o["default"],l,t.pathname),p=w(l,o["default"].locales,n);return i["default"].createElement(a["default"].Provider,{value:{config:o["default"],meta:c.__pathname===t.pathname?c:{},locale:l,nav:o["default"].navs[l]||[],menu:f,base:p,routes:u}},r)},E=O;t["default"]=E},KfNM:function(e,t){var n=Object.prototype,r=n.toString;function i(e){return r.call(e)}e.exports=i},KpVd:function(e,t,n){"use strict";(function(e){function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function a(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function s(e,t,n){return s=a()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),a=new i;return n&&o(a,n.prototype),a},s.apply(null,arguments)}function u(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function c(e){var t="function"===typeof Map?new Map:void 0;return c=function(e){if(null===e||!u(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return s(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,e)},c(e)}var l=/%[sdj%]/g,f=function(){};function p(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=1,i=t[0],o=t.length;if("function"===typeof i)return i.apply(null,t.slice(1));if("string"===typeof i){var a=String(i).replace(l,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch(n){return"[Circular]"}break;default:return e}}));return a}return i}function d(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}function m(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!d(t)||"string"!==typeof e||e))}function v(e,t,n){var r=[],i=0,o=e.length;function a(e){r.push.apply(r,e),i++,i===o&&n(r)}e.forEach((function(e){t(e,a)}))}function y(e,t,n){var r=0,i=e.length;function o(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<i?t(e[s],o):n([])}}o([])}function g(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n])})),t}"undefined"!==typeof e&&Object({NODE_ENV:"production"});var b=function(e){function t(t,n){var r;return r=e.call(this,"Async Validation Error")||this,r.errors=t,r.fields=n,r}return r(t,e),t}(c(Error));function x(e,t,n,r){if(t.first){var i=new Promise((function(t,i){var o=function(e){return r(e),e.length?i(new b(e,p(e))):t()},a=g(e);y(a,n,o)}));return i["catch"]((function(e){return e})),i}var o=t.firstFields||[];!0===o&&(o=Object.keys(e));var a=Object.keys(e),s=a.length,u=0,c=[],l=new Promise((function(t,i){var l=function(e){if(c.push.apply(c,e),u++,u===s)return r(c),c.length?i(new b(c,p(c))):t()};a.length||(r(c),t()),a.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?y(r,n,l):v(r,n,l)}))}));return l["catch"]((function(e){return e})),l}function _(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:"function"===typeof t?t():t,field:t.field||e.fullField}}}function w(e,t){if(t)for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];"object"===typeof i&&"object"===typeof e[r]?e[r]=n({},e[r],i):e[r]=i}return e}function S(e,t,n,r,i,o){!e.required||n.hasOwnProperty(e.field)&&!m(t,o||e.type)||r.push(h(i.messages.required,e.fullField))}function O(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(h(i.messages.whitespace,e.fullField))}var E={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},k={integer:function(e){return k.number(e)&&parseInt(e,10)===e},float:function(e){return k.number(e)&&!k.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!k.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&!!e.match(E.email)&&e.length<255},url:function(e){return"string"===typeof e&&!!e.match(E.url)},hex:function(e){return"string"===typeof e&&!!e.match(E.hex)}};function C(e,t,n,r,i){if(e.required&&void 0===t)S(e,t,n,r,i);else{var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;o.indexOf(a)>-1?k[a](t)||r.push(h(i.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&r.push(h(i.messages.types[a],e.fullField,e.type))}}function j(e,t,n,r,i){var o="number"===typeof e.len,a="number"===typeof e.min,s="number"===typeof e.max,u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=t,l=null,f="number"===typeof t,p="string"===typeof t,d=Array.isArray(t);if(f?l="number":p?l="string":d&&(l="array"),!l)return!1;d&&(c=t.length),p&&(c=t.replace(u,"_").length),o?c!==e.len&&r.push(h(i.messages[l].len,e.fullField,e.len)):a&&!s&&c<e.min?r.push(h(i.messages[l].min,e.fullField,e.min)):s&&!a&&c>e.max?r.push(h(i.messages[l].max,e.fullField,e.max)):a&&s&&(c<e.min||c>e.max)&&r.push(h(i.messages[l].range,e.fullField,e.min,e.max))}var T="enum";function A(e,t,n,r,i){e[T]=Array.isArray(e[T])?e[T]:[],-1===e[T].indexOf(t)&&r.push(h(i.messages[T],e.fullField,e[T].join(", ")))}function P(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(h(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){var o=new RegExp(e.pattern);o.test(t)||r.push(h(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}var M={required:S,whitespace:O,type:C,range:j,enum:A,pattern:P};function I(e,t,n,r,i){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(m(t,"string")&&!e.required)return n();M.required(e,t,r,o,i,"string"),m(t,"string")||(M.type(e,t,r,o,i),M.range(e,t,r,o,i),M.pattern(e,t,r,o,i),!0===e.whitespace&&M.whitespace(e,t,r,o,i))}n(o)}function L(e,t,n,r,i){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(m(t)&&!e.required)return n();M.required(e,t,r,o,i),void 0!==t&&M.type(e,t,r,o,i)}n(o)}function R(e,t,n,r,i){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(""===t&&(t=void 0),m(t)&&!e.required)return n();M.required(e,t,r,o,i),void 0!==t&&(M.type(e,t,r,o,i),M.range(e,t,r,o,i))}n(o)}function D(e,t,n,r,i){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(m(t)&&!e.required)return n();M.required(e,t,r,o,i),void 0!==t&&M.type(e,t,r,o,i)}n(o)}function N(e,t,n,r,i){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(m(t)&&!e.required)return n();M.required(e,t,r,o,i),m(t)||M.type(e,t,r,o,i)}n(o)}function z(e,t,n,r,i){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(m(t)&&!e.required)return n();M.required(e,t,r,o,i),void 0!==t&&(M.type(e,t,r,o,i),M.range(e,t,r,o,i))}n(o)}function F(e,t,n,r,i){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(m(t)&&!e.required)return n();M.required(e,t,r,o,i),void 0!==t&&(M.type(e,t,r,o,i),M.range(e,t,r,o,i))}n(o)}function B(e,t,n,r,i){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if((void 0===t||null===t)&&!e.required)return n();M.required(e,t,r,o,i,"array"),void 0!==t&&null!==t&&(M.type(e,t,r,o,i),M.range(e,t,r,o,i))}n(o)}function U(e,t,n,r,i){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(m(t)&&!e.required)return n();M.required(e,t,r,o,i),void 0!==t&&M.type(e,t,r,o,i)}n(o)}var V="enum";function H(e,t,n,r,i){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(m(t)&&!e.required)return n();M.required(e,t,r,o,i),void 0!==t&&M[V](e,t,r,o,i)}n(o)}function q(e,t,n,r,i){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(m(t,"string")&&!e.required)return n();M.required(e,t,r,o,i),m(t,"string")||M.pattern(e,t,r,o,i)}n(o)}function G(e,t,n,r,i){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(m(t,"date")&&!e.required)return n();var s;if(M.required(e,t,r,o,i),!m(t,"date"))s=t instanceof Date?t:new Date(t),M.type(e,s,r,o,i),s&&M.range(e,s.getTime(),r,o,i)}n(o)}function W(e,t,n,r,i){var o=[],a=Array.isArray(t)?"array":typeof t;M.required(e,t,r,o,i,a),n(o)}function Z(e,t,n,r,i){var o=e.type,a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(m(t,o)&&!e.required)return n();M.required(e,t,r,a,i,o),m(t,o)||M.type(e,t,r,a,i)}n(a)}function Y(e,t,n,r,i){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(m(t)&&!e.required)return n();M.required(e,t,r,o,i)}n(o)}var X={string:I,method:L,number:R,boolean:D,regexp:N,integer:z,float:F,array:B,object:U,enum:H,pattern:q,date:G,url:Z,hex:Z,email:Z,required:W,any:Y};function K(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var J=K();function Q(e){this.rules=null,this._messages=J,this.define(e)}Q.prototype={messages:function(e){return e&&(this._messages=w(K(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");var t,n;for(t in this.rules={},e)e.hasOwnProperty(t)&&(n=e[t],this.rules[t]=Array.isArray(n)?n:[n])},validate:function(e,t,r){var i=this;void 0===t&&(t={}),void 0===r&&(r=function(){});var o,a,s=e,u=t,c=r;if("function"===typeof u&&(c=u,u={}),!this.rules||0===Object.keys(this.rules).length)return c&&c(),Promise.resolve();function l(e){var t,n=[],r={};function i(e){var t;Array.isArray(e)?n=(t=n).concat.apply(t,e):n.push(e)}for(t=0;t<e.length;t++)i(e[t]);n.length?r=p(n):(n=null,r=null),c(n,r)}if(u.messages){var f=this.messages();f===J&&(f=K()),w(f,u.messages),u.messages=f}else u.messages=this.messages();var d={},m=u.keys||Object.keys(this.rules);m.forEach((function(t){o=i.rules[t],a=s[t],o.forEach((function(r){var o=r;"function"===typeof o.transform&&(s===e&&(s=n({},s)),a=s[t]=o.transform(a)),o="function"===typeof o?{validator:o}:n({},o),o.validator=i.getValidationMethod(o),o.field=t,o.fullField=o.fullField||t,o.type=i.getType(o),o.validator&&(d[t]=d[t]||[],d[t].push({rule:o,value:a,source:s,field:t}))}))}));var v={};return x(d,u,(function(e,t){var r,i=e.rule,o=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function a(e,t){return n({},t,{fullField:i.fullField+"."+e})}function s(r){void 0===r&&(r=[]);var s=r;if(Array.isArray(s)||(s=[s]),!u.suppressWarning&&s.length&&Q.warning("async-validator:",s),s.length&&void 0!==i.message&&(s=[].concat(i.message)),s=s.map(_(i)),u.first&&s.length)return v[i.field]=1,t(s);if(o){if(i.required&&!e.value)return void 0!==i.message?s=[].concat(i.message).map(_(i)):u.error&&(s=[u.error(i,h(u.messages.required,i.field))]),t(s);var c={};if(i.defaultField)for(var l in e.value)e.value.hasOwnProperty(l)&&(c[l]=i.defaultField);for(var f in c=n({},c,e.rule.fields),c)if(c.hasOwnProperty(f)){var p=Array.isArray(c[f])?c[f]:[c[f]];c[f]=p.map(a.bind(null,f))}var d=new Q(c);d.messages(u.messages),e.rule.options&&(e.rule.options.messages=u.messages,e.rule.options.error=u.error),d.validate(e.value,e.rule.options||u,(function(e){var n=[];s&&s.length&&n.push.apply(n,s),e&&e.length&&n.push.apply(n,e),t(n.length?n:null)}))}else t(s)}o=o&&(i.required||!i.required&&e.value),i.field=e.field,i.asyncValidator?r=i.asyncValidator(i,e.value,s,e.source,u):i.validator&&(r=i.validator(i,e.value,s,e.source,u),!0===r?s():!1===r?s(i.message||i.field+" fails"):r instanceof Array?s(r):r instanceof Error&&s(r.message)),r&&r.then&&r.then((function(){return s()}),(function(e){return s(e)}))}),(function(e){l(e)}))},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!X.hasOwnProperty(e.type))throw new Error(h("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?X.required:X[this.getType(e)]||!1}},Q.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");X[e]=t},Q.warning=f,Q.messages=J,Q.validators=X,t["a"]=Q}).call(this,n("Q2Ig"))},KqkS:function(e,t,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,p=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(p,0))},i=function(e,t){f=setTimeout(e,t)},o=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,g=-1,b=5,x=0;t.unstable_shouldYield=function(){return t.unstable_now()>=x},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,w=_.port2;_.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();x=e+b;try{y(!0,e)?w.postMessage(null):(v=!1,y=null)}catch(n){throw w.postMessage(null),n}}else v=!1},r=function(e){y=e,v||(v=!0,w.postMessage(null))},i=function(e,n){g=h((function(){e(t.unstable_now())}),n)},o=function(){d(g),g=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function O(e){return e=e[0],void 0===e?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>k(a,n))void 0!==u&&0>k(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>k(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],j=[],T=1,A=null,P=3,M=!1,I=!1,L=!1;function R(e){for(var t=O(j);null!==t;){if(null===t.callback)E(j);else{if(!(t.startTime<=e))break;E(j),t.sortIndex=t.expirationTime,S(C,t)}t=O(j)}}function D(e){if(L=!1,R(e),!I)if(null!==O(C))I=!0,r(N);else{var t=O(j);null!==t&&i(D,t.startTime-e)}}function N(e,n){I=!1,L&&(L=!1,o()),M=!0;var r=P;try{for(R(n),A=O(C);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=A.callback;if("function"===typeof a){A.callback=null,P=A.priorityLevel;var s=a(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?A.callback=s:A===O(C)&&E(C),R(n)}else E(C);A=O(C)}if(null!==A)var u=!0;else{var c=O(j);null!==c&&i(D,c.startTime-n),u=!1}return u}finally{A=null,P=r,M=!1}}var z=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){I||M||(I=!0,r(N))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return O(C)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?(a=a.delay,a="number"===typeof a&&0<a?s+a:s):a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return u=a+u,e={id:T++,callback:n,priorityLevel:e,startTime:a,expirationTime:u,sortIndex:-1},a>s?(e.sortIndex=a,S(j,e),null===O(C)&&e===O(j)&&(L?o():L=!0,i(D,a-s))):(e.sortIndex=u,S(C,e),I||M||(I=!0,r(N))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},KvPC:function(e,t,n){"use strict";var r=n("eYKs").charAt,i=n("1aI8"),o=n("uMwj"),a="String Iterator",s=i.set,u=i.getterFor(a);o(String,"String",(function(e){s(this,{type:a,string:String(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},KwMD:function(e,t){function n(e,t,n,r){var i=e.length,o=n+(r?1:-1);while(r?o--:++o<i)if(t(e[o],o,e))return o;return-1}e.exports=n},Kwbf:function(e,t,n){"use strict";var r={};function i(e,t){0}function o(e,t,n){t||r[n]||(e(!1,n),r[n]=!0)}function a(e,t){o(i,e,t)}t["a"]=a},KxBF:function(e,t){function n(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;var o=Array(i);while(++r<i)o[r]=e[r+t];return o}e.exports=n},Kz5y:function(e,t,n){var r=n("WFqU"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},L56e:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["mapload"]},L5O0:function(e,t,n){var r=n("MMxC"),i=n("qA1w");r({target:"WeakSet",stat:!0},{of:i})},L8xA:function(e,t){function n(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}e.exports=n},LGYb:function(e,t,n){var r=n("1hJj"),i=n("jbM+"),o=n("Xt/L"),a=n("xYSL"),s=n("dQpi"),u=n("rEGp"),c=200;function l(e,t,n){var l=-1,f=i,p=e.length,h=!0,d=[],m=d;if(n)h=!1,f=o;else if(p>=c){var v=t?null:s(e);if(v)return u(v);h=!1,f=a,m=new r}else m=t?[]:d;e:while(++l<p){var y=e[l],g=t?t(y):y;if(y=n||0!==y?y:0,h&&g===g){var b=m.length;while(b--)if(m[b]===g)continue e;t&&m.push(g),d.push(y)}else f(m,g,n)||(m!==d&&m.push(g),d.push(y))}return d}e.exports=l},LJ80:function(e,t,n){var r=n("jtLI"),i=n("cC5k"),o=n("g8rt"),a=n("YfKC");e.exports=function(e,t){for(var n=i(t),s=a.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(e,l)||s(e,l,u(t,l))}}},"LK+K":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("foSv");function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var o=n("md7G");function a(e){var t=i();return function(){var n,i=Object(r["a"])(e);if(t){var a=Object(r["a"])(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(o["a"])(this,n)}}},LKzl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var r=n("406g"),i=n("z4Hk"),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=o},LUyE:function(e,t,n){"use strict";var r=n("cT1L"),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},LXxW:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length,i=0,o=[];while(++n<r){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}e.exports=n},LcsW:function(e,t,n){var r=n("kekF"),i=r(Object.getPrototypeOf,Object);e.exports=i},LgvC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var r=n("FV85"),i=n("d9O0"),o=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===r.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=o},LpSC:function(e,t,n){n("bZMm"),e.exports=self.fetch.bind(self)},LsHQ:function(e,t,n){var r=n("EA7m"),i=n("mv/X");function o(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);while(++r<o){var u=n[r];u&&e(t,u,r,a)}return t}))}e.exports=o},LtsZ:function(e,t,n){"use strict";n.r(t),n.d(t,"createBrowserHistory",(function(){return o["a"]})),n.d(t,"createHashHistory",(function(){return o["b"]})),n.d(t,"createMemoryHistory",(function(){return o["d"]})),n.d(t,"__RouterContext",(function(){return a["h"]})),n.d(t,"Link",(function(){return b})),n.d(t,"MemoryRouter",(function(){return a["a"]})),n.d(t,"NavLink",(function(){return S})),n.d(t,"Prompt",(function(){return a["b"]})),n.d(t,"Redirect",(function(){return a["c"]})),n.d(t,"Route",(function(){return a["d"]})),n.d(t,"Router",(function(){return a["e"]})),n.d(t,"StaticRouter",(function(){return a["f"]})),n.d(t,"Switch",(function(){return a["g"]})),n.d(t,"matchPath",(function(){return a["i"]})),n.d(t,"useHistory",(function(){return a["j"]})),n.d(t,"useLocation",(function(){return a["k"]})),n.d(t,"useParams",(function(){return a["l"]})),n.d(t,"useRouteMatch",(function(){return a["m"]})),n.d(t,"withRouter",(function(){return a["n"]})),n.d(t,"ApplyPluginsType",(function(){return ne})),n.d(t,"Plugin",(function(){return ae})),n.d(t,"dynamic",(function(){return ee})),n.d(t,"isBrowser",(function(){return re}));var r=n("WmNS"),i=n.n(r),o=n("YS25"),a=n("WHYC"),s=n("dI71"),u=n("q1tI"),c=n.n(u),l=(n("17x9"),n("wx14")),f=n("zLVn"),p=n("9R94");c.a.Component;c.a.Component;var h=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?Object(o["c"])(e,null,null,t):e},m=function(e){return e},v=c.a.forwardRef;function y(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}"undefined"===typeof v&&(v=m);var g=v((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(f["a"])(e,["innerRef","navigate","onClick"]),a=o.target,s=Object(l["a"])({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||a&&"_self"!==a||y(e)||(e.preventDefault(),r())}});return s.ref=m!==v&&t||n,c.a.createElement("a",s)}));var b=v((function(e,t){var n=e.component,r=void 0===n?g:n,i=e.replace,o=e.to,s=e.innerRef,u=Object(f["a"])(e,["component","replace","to","innerRef"]);return c.a.createElement(a["h"].Consumer,null,(function(e){e||Object(p["a"])(!1);var n=e.history,a=d(h(o,e.location),e.location),f=a?n.createHref(a):"",y=Object(l["a"])({},u,{href:f,navigate:function(){var t=h(o,e.location),r=i?n.replace:n.push;r(t)}});return m!==v?y.ref=t||s:y.innerRef=s,c.a.createElement(r,y)}))})),x=function(e){return e},_=c.a.forwardRef;function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}"undefined"===typeof _&&(_=x);var S=_((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,o=void 0===i?"active":i,s=e.activeStyle,u=e.className,m=e.exact,v=e.isActive,y=e.location,g=e.sensitive,S=e.strict,O=e.style,E=e.to,k=e.innerRef,C=Object(f["a"])(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return c.a.createElement(a["h"].Consumer,null,(function(e){e||Object(p["a"])(!1);var n=y||e.location,i=d(h(E,n),n),f=i.pathname,j=f&&f.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),T=j?Object(a["i"])(n.pathname,{path:j,exact:m,sensitive:g,strict:S}):null,A=!!(v?v(T,n):T),P=A?w(u,o):u,M=A?Object(l["a"])({},O,{},s):O,I=Object(l["a"])({"aria-current":A&&r||null,className:P,style:M,to:i},C);return x!==_?I.ref=t||k:I.innerRef=k,c.a.createElement(b,I)}))})),O=n("8L3h");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){return C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function j(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){j(o,r,i,a,s,"next",e)}function s(e){j(o,r,i,a,s,"throw",e)}a(void 0)}))}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){return R(e)||D(e)||N(e)||F()}function R(e){if(Array.isArray(e))return e}function D(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function N(e,t){if(e){if("string"===typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=N(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}var U=Object(u["createContext"])(null),V=[],H=[],q=!1;function G(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e}))["catch"]((function(e){throw n.loading=!1,n.error=e,e})),n}function W(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach((function(r){var i=G(e[r]);i.loading?t.loading=!0:(t.loaded[r]=i.loaded,t.error=i.error),n.push(i.promise),i.promise.then((function(e){t.loaded[r]=e}))["catch"]((function(e){t.error=e}))}))}catch(r){t.error=r}return t.promise=Promise.all(n).then((function(e){return t.loading=!1,e}))["catch"]((function(e){throw t.loading=!1,e})),t}function Z(e){return e&&e.__esModule?e["default"]:e}function Y(e,t){return Object(u["createElement"])(Z(e),t)}function X(e,t){var n=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:Y,webpack:null,modules:null},t),r=null;function i(){if(!r){var t=new K(e,n);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if("undefined"===typeof window&&V.push(i),!q&&"undefined"!==typeof window&&"function"===typeof n.webpack){var o=n.webpack();H.push((function(e){var t,n=B(o);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(-1!==e.indexOf(r))return i()}}catch(a){n.e(a)}finally{n.f()}}))}var a=function(e,t){i();var o=Object(u["useContext"])(U),a=Object(O["useSubscription"])(r);return Object(u["useImperativeHandle"])(t,(function(){return{retry:r.retry}})),o&&Array.isArray(n.modules)&&n.modules.forEach((function(e){o(e)})),a.loading||a.error?Object(u["createElement"])(n.loading,{isLoading:a.loading,pastDelay:a.pastDelay,timedOut:a.timedOut,error:a.error,retry:r.retry}):a.loaded?n.render(a.loaded,e):null},s=Object(u["forwardRef"])(a);return s.preload=function(){return i()},s.displayName="LoadableComponent",s}var K=function(){function e(t,n){A(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return M(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&("number"===typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),n.delay)),"number"===typeof n.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),n.timeout))),this._res.promise.then((function(){e._update(),e._clearTimeouts()}))["catch"]((function(t){e._update(),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=k(k({},this._state),e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return k(k({},this._state),{},{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading})}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks["delete"](e)}}}]),e}();function J(e){return X(G,e)}function Q(e){if("function"!==typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return X(W,e)}function $(e,t){var n=[];while(e.length){var r=e.pop();n.push(r(t))}return Promise.all(n).then((function(){if(e.length)return $(e,t)}))}function ee(e){var t=J,n={loading:function(e){e.error,e.isLoading;return Object(u["createElement"])("p",null,"loading...")}};if("function"===typeof e)n.loader=e;else{if("object"!==C(e))throw new Error("Unexpect arguments ".concat(e));n=k(k({},n),e)}return t(n)}function te(e,t){if(!e)throw new Error(t)}J.Map=Q,J.preloadAll=function(){return new Promise((function(e,t){$(V).then(e,t)}))},J.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t){var n=function(){return q=!0,t()};$(H,e).then(n,n)}))},"undefined"!==typeof window&&(window.__NEXT_PRELOADREADY=J.preloadReady);var ne,re=function(){return"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement};function ie(e){var t=e.fns,n=e.args;if(1===t.length)return t[0];var r=t.pop();return t.reduce((function(e,t){return function(){return t(e,n)}}),r)}function oe(e){return!!e&&"object"===C(e)&&"function"===typeof e.then}(function(e){e["compose"]="compose",e["modify"]="modify",e["event"]="event"})(ne||(ne={}));var ae=function(){function e(t){A(this,e),this.validKeys=void 0,this.hooks={},this.validKeys=(null===t||void 0===t?void 0:t.validKeys)||[]}return M(e,[{key:"register",value:function(e){var t=this;te(!!e.apply,"register failed, plugin.apply must supplied"),te(!!e.path,"register failed, plugin.path must supplied"),Object.keys(e.apply).forEach((function(n){te(t.validKeys.indexOf(n)>-1,"register failed, invalid key ".concat(n," from plugin ").concat(e.path,".")),t.hooks[n]||(t.hooks[n]=[]),t.hooks[n]=t.hooks[n].concat(e.apply[n])}))}},{key:"getHooks",value:function(e){var t=e.split("."),n=L(t),r=n[0],i=n.slice(1),o=this.hooks[r]||[];return i.length&&(o=o.map((function(e){try{var t,n=e,r=B(i);try{for(r.s();!(t=r.n()).done;){var o=t.value;n=n[o]}}catch(a){r.e(a)}finally{r.f()}return n}catch(s){return null}})).filter(Boolean)),o}},{key:"applyPlugins",value:function(e){var t=e.key,n=e.type,r=e.initialValue,o=e.args,a=e.async,s=this.getHooks(t)||[];switch(o&&te("object"===C(o),"applyPlugins failed, args must be plain object."),n){case ne.modify:return a?s.reduce(function(){var e=T(i.a.mark((function e(n,r){var a;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(te("function"===typeof r||"object"===C(r)||oe(r),"applyPlugins failed, all hooks for key ".concat(t," must be function, plain object or Promise.")),!oe(n)){e.next=5;break}return e.next=4,n;case 4:n=e.sent;case 5:if("function"!==typeof r){e.next=16;break}if(a=r(n,o),!oe(a)){e.next=13;break}return e.next=10,a;case 10:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",a);case 14:e.next=21;break;case 16:if(!oe(r)){e.next=20;break}return e.next=19,r;case 19:r=e.sent;case 20:return e.abrupt("return",k(k({},n),r));case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe(r)?r:Promise.resolve(r)):s.reduce((function(e,n){return te("function"===typeof n||"object"===C(n),"applyPlugins failed, all hooks for key ".concat(t," must be function or plain object.")),"function"===typeof n?n(e,o):k(k({},e),n)}),r);case ne.event:return s.forEach((function(e){te("function"===typeof e,"applyPlugins failed, all hooks for key ".concat(t," must be function.")),e(o)}));case ne.compose:return function(){return ie({fns:s.concat(r),args:o})()}}}}]),e}()},Lw8S:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}e.exports=r},M8HR:function(e,t,n){"use strict";var r=n("MVys");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},MIOZ:function(e,t){function n(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(u){i=!0,o=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}e.exports=n},MMmD:function(e,t,n){var r=n("lSCD"),i=n("shjB");function o(e){return null!=e&&i(e.length)&&!r(e)}e.exports=o},MMxC:function(e,t,n){var r=n("ukPv"),i=n("g8rt").f,o=n("lz10"),a=n("NMFW"),s=n("TMUv"),u=n("LJ80"),c=n("kkxG");e.exports=function(e,t){var n,l,f,p,h,d,m=e.target,v=e.global,y=e.stat;if(l=v?r:y?r[m]||s(m,{}):(r[m]||{}).prototype,l)for(f in t){if(h=t[f],e.noTargetGet?(d=i(l,f),p=d&&d.value):p=l[f],n=c(v?f:m+(y?".":"#")+f,e.forced),!n&&void 0!==p){if(typeof h===typeof p)continue;u(h,p)}(e.sham||p&&p.sham)&&o(h,"sham",!0),a(l,f,h,e)}}},MNnm:function(e,t,n){"use strict";function r(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}n.d(t,"a",(function(){return r}))},MON2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var r=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};t.UNDEFINED_INJECT_ANNOTATION=r,t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."};t.ARGUMENTS_LENGTH_MISMATCH=i,t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]};t.POST_CONSTRUCT_ERROR=o;var a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."};t.CIRCULAR_DEPENDENCY_IN_FACTORY=a,t.STACK_OVERFLOW="Maximum call stack size exceeded"},MVys:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},MgzW:function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}e.exports=s()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]),n)i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},Mi8B:function(e,t,n){"use strict";var r=n("MMxC"),i=n("ukPv"),o=n("tny8"),a=n("8OQV"),s=n("FVwB"),u=n("ZSlt"),c=n("igoe"),l=n("HhvW"),f=n("lz10"),p=n("oa35"),h=n("J+Da"),d=n("nCqj"),m=n("gFfw"),v=n("jtLI"),y=n("Ei+o"),g=n("tSXo"),b=n("u+7+"),x=n("g1ZG"),_=n("uGHk").f,w=n("Sn4z"),S=n("zv1X").forEach,O=n("ssJt"),E=n("YfKC"),k=n("g8rt"),C=n("1aI8"),j=n("+vfm"),T=C.get,A=C.set,P=E.f,M=k.f,I=Math.round,L=i.RangeError,R=u.ArrayBuffer,D=u.DataView,N=s.NATIVE_ARRAY_BUFFER_VIEWS,z=s.TYPED_ARRAY_TAG,F=s.TypedArray,B=s.TypedArrayPrototype,U=s.aTypedArrayConstructor,V=s.isTypedArray,H="BYTES_PER_ELEMENT",q="Wrong length",G=function(e,t){var n=0,r=t.length,i=new(U(e))(r);while(r>n)i[n]=t[n++];return i},W=function(e,t){P(e,t,{get:function(){return T(this)[t]}})},Z=function(e){var t;return e instanceof R||"ArrayBuffer"==(t=y(e))||"SharedArrayBuffer"==t},Y=function(e,t){return V(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},X=function(e,t){return Y(e,t=m(t,!0))?l(2,e[t]):M(e,t)},K=function(e,t,n){return!(Y(e,t=m(t,!0))&&g(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?P(e,t,n):(e[t]=n.value,e)};o?(N||(k.f=X,E.f=K,W(B,"buffer"),W(B,"byteOffset"),W(B,"byteLength"),W(B,"length")),r({target:"Object",stat:!0,forced:!N},{getOwnPropertyDescriptor:X,defineProperty:K}),e.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",u="get"+e,l="set"+e,m=i[s],v=m,y=v&&v.prototype,E={},k=function(e,t){var n=T(e);return n.view[u](t*o+n.byteOffset,!0)},C=function(e,t,r){var i=T(e);n&&(r=(r=I(r))<0?0:r>255?255:255&r),i.view[l](t*o+i.byteOffset,r,!0)},M=function(e,t){P(e,t,{get:function(){return k(this,t)},set:function(e){return C(this,t,e)},enumerable:!0})};N?a&&(v=t((function(e,t,n,r){return c(e,v,s),j(function(){return g(t)?Z(t)?void 0!==r?new m(t,d(n,o),r):void 0!==n?new m(t,d(n,o)):new m(t):V(t)?G(v,t):w.call(v,t):new m(h(t))}(),e,v)})),x&&x(v,F),S(_(m),(function(e){e in v||f(v,e,m[e])})),v.prototype=y):(v=t((function(e,t,n,r){c(e,v,s);var i,a,u,l=0,f=0;if(g(t)){if(!Z(t))return V(t)?G(v,t):w.call(v,t);i=t,f=d(n,o);var m=t.byteLength;if(void 0===r){if(m%o)throw L(q);if(a=m-f,a<0)throw L(q)}else if(a=p(r)*o,a+f>m)throw L(q);u=a/o}else u=h(t),a=u*o,i=new R(a);A(e,{buffer:i,byteOffset:f,byteLength:a,length:u,view:new D(i)});while(l<u)M(e,l++)})),x&&x(v,F),y=v.prototype=b(B)),y.constructor!==v&&f(y,"constructor",v),z&&f(y,z,s),E[s]=v,r({global:!0,forced:v!=m,sham:!N},E),H in v||f(v,H,o),H in y||f(y,H,o),O(s)}):e.exports=function(){}},Mn2j:function(e,t,n){var r=n("Mi8B");r("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},Mpie:function(e,t,n){},MrPd:function(e,t,n){var r=n("hypo"),i=n("ljhN"),o=Object.prototype,a=o.hasOwnProperty;function s(e,t,n){var o=e[t];a.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}e.exports=s},MvSz:function(e,t,n){var r=n("LXxW"),i=n("0ycA"),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return a.call(e,t)})))}:i;e.exports=u},NKxu:function(e,t,n){var r=n("lSCD"),i=n("E2jh"),o=n("GoyQ"),a=n("3Fdi"),s=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,f=c.toString,p=l.hasOwnProperty,h=RegExp("^"+f.call(p).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(e){if(!o(e)||i(e))return!1;var t=r(e)?h:u;return t.test(a(e))}e.exports=d},NMFW:function(e,t,n){var r=n("ukPv"),i=n("lz10"),o=n("jtLI"),a=n("TMUv"),s=n("J3Yn"),u=n("1aI8"),c=u.get,l=u.enforce,f=String(String).split("String");(e.exports=function(e,t,n,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),l(n).source=f.join("string"==typeof t?t:"")),e!==r?(u?!p&&e[t]&&(c=!0):delete e[t],c?e[t]=n:i(e,t,n)):c?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},NMu4:function(e,t,n){"use strict";var r=n("MMxC");r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},"NQz/":function(e,t,n){"use strict";var r=n("FVwB").exportTypedArrayMethod,i=n("MVys"),o=n("ukPv"),a=o.Uint8Array,s=a&&a.prototype||{},u=[].toString,c=[].join;i((function(){u.call({})}))&&(u=function(){return c.call(this)});var l=s.toString!=u;r("toString",u,l)},NYJX:function(e,t,n){"use strict";var r=n("MMxC"),i=n("zv1X").filter,o=n("jMDO"),a=n("kGMc"),s=o("filter"),u=a("filter");r({target:"Array",proto:!0,forced:!s||!u},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},NcLc:function(e,t,n){"use strict";var r=n("k/J9"),i=n("M8HR"),o=RegExp.prototype.exec,a=String.prototype.replace,s=o,u=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=i.UNSUPPORTED_Y||i.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],f=u||l||c;f&&(s=function(e){var t,n,i,s,f=this,p=c&&f.sticky,h=r.call(f),d=f.source,m=0,v=e;return p&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),v=String(e).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==e[f.lastIndex-1])&&(d="(?: "+d+")",v=" "+v,m++),n=new RegExp("^(?:"+d+")",h)),l&&(n=new RegExp("^"+d+"$(?!\\s)",h)),u&&(t=f.lastIndex),i=o.call(p?n:f,v),p?i?(i.input=i.input.slice(m),i[0]=i[0].slice(m),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:u&&i&&(f.lastIndex=f.global?i.index+i[0].length:t),l&&i&&i.length>1&&a.call(i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),e.exports=s},Npjl:function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},Nsbk:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports["default"]=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},NykK:function(e,t,n){var r=n("nmnc"),i=n("AP2z"),o=n("KfNM"),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;function c(e){return null==e?void 0===e?s:a:u&&u in Object(e)?i(e):o(e)}e.exports=c},O0oS:function(e,t,n){var r=n("Cwc5"),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},O1je:function(e,t){},O9az:function(e,t,n){var r=n("MMxC"),i=n("f1E4"),o=n("tSXo"),a=n("jtLI"),s=n("MVys"),u=n("YfKC"),c=n("g8rt"),l=n("Acmb"),f=n("HhvW");function p(e,t,n){var r,s,h=arguments.length<4?e:arguments[3],d=c.f(i(e),t);if(!d){if(o(s=l(e)))return p(s,t,n,h);d=f(0)}if(a(d,"value")){if(!1===d.writable||!o(h))return!1;if(r=c.f(h,t)){if(r.get||r.set||!1===r.writable)return!1;r.value=n,u.f(h,t,r)}else u.f(h,t,f(0,n));return!0}return void 0!==d.set&&(d.set.call(h,n),!0)}var h=s((function(){var e=u.f({},"a",{configurable:!0});return!1!==Reflect.set(l(e),"a",1,e)}));r({target:"Reflect",stat:!0,forced:h},{set:p})},OAmA:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("Z+8a");r({target:"WeakSet",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},OBhP:function(e,t,n){var r=n("fmRc"),i=n("gFfm"),o=n("MrPd"),a=n("WwFo"),s=n("Dw+G"),u=n("5Tg0"),c=n("Q1l4"),l=n("VOtZ"),f=n("EEGq"),p=n("qZTm"),h=n("G6z8"),d=n("QqLw"),m=n("yHx3"),v=n("wrZu"),y=n("+iFO"),g=n("Z0cm"),b=n("DSRE"),x=n("zEVN"),_=n("GoyQ"),w=n("1+5i"),S=n("7GkX"),O=n("mTTR"),E=1,k=2,C=4,j="[object Arguments]",T="[object Array]",A="[object Boolean]",P="[object Date]",M="[object Error]",I="[object Function]",L="[object GeneratorFunction]",R="[object Map]",D="[object Number]",N="[object Object]",z="[object RegExp]",F="[object Set]",B="[object String]",U="[object Symbol]",V="[object WeakMap]",H="[object ArrayBuffer]",q="[object DataView]",G="[object Float32Array]",W="[object Float64Array]",Z="[object Int8Array]",Y="[object Int16Array]",X="[object Int32Array]",K="[object Uint8Array]",J="[object Uint8ClampedArray]",Q="[object Uint16Array]",$="[object Uint32Array]",ee={};function te(e,t,n,T,A,P){var M,R=t&E,D=t&k,z=t&C;if(n&&(M=A?n(e,T,A,P):n(e)),void 0!==M)return M;if(!_(e))return e;var F=g(e);if(F){if(M=m(e),!R)return c(e,M)}else{var B=d(e),U=B==I||B==L;if(b(e))return u(e,R);if(B==N||B==j||U&&!A){if(M=D||U?{}:y(e),!R)return D?f(e,s(M,e)):l(e,a(M,e))}else{if(!ee[B])return A?e:{};M=v(e,B,R)}}P||(P=new r);var V=P.get(e);if(V)return V;P.set(e,M),w(e)?e.forEach((function(r){M.add(te(r,t,n,r,e,P))})):x(e)&&e.forEach((function(r,i){M.set(i,te(r,t,n,i,e,P))}));var H=z?D?h:p:D?O:S,q=F?void 0:H(e);return i(q||e,(function(r,i){q&&(i=r,r=e[i]),o(M,i,te(r,t,n,i,e,P))})),M}ee[j]=ee[T]=ee[H]=ee[q]=ee[A]=ee[P]=ee[G]=ee[W]=ee[Z]=ee[Y]=ee[X]=ee[R]=ee[D]=ee[N]=ee[z]=ee[F]=ee[B]=ee[U]=ee[K]=ee[J]=ee[Q]=ee[$]=!0,ee[M]=ee[I]=ee[V]=!1,e.exports=te},ODXe:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("DSFK");function i(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}var o=n("BsWD"),a=n("PYwp");function s(e,t){return Object(r["a"])(e)||i(e,t)||Object(o["a"])(e,t)||Object(a["a"])()}},"Of+w":function(e,t,n){var r=n("Cwc5"),i=n("Kz5y"),o=r(i,"WeakMap");e.exports=o},Osgv:function(e,t,n){var r=n("MMxC");r({target:"Math",stat:!0},{signbit:function(e){return(e=+e)==e&&0==e?1/e==-1/0:e<0}})},P0e2:function(e,t,n){var r=n("Srjj"),i=n("De94");e.exports=Object.keys||function(e){return r(e,i)}},PHrn:function(e,t,n){"use strict";var r=n("zv1X").forEach,i=n("R8iy"),o=n("kGMc"),a=i("forEach"),s=o("forEach");e.exports=a&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},PJYZ:function(e,t){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},PPXv:function(e,t,n){var r=n("Zcjx"),i=n("qcmB");e.exports=r?i:function(e){return Map.prototype.entries.call(e)}},PSsN:function(e,t){},PUJJ:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("cT1L"),s=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function(e){var t=o(this),n=a(t.has);return!s(e,(function(e){if(!1===n.call(t,e))return s.stop()})).stopped}})},PUg6:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["normal"]="normal",e["additive"]="additive",e["subtractive"]="subtractive",e["min"]="min",e["max"]="max",e["none"]="none"}(r||(r={}))},PYwp:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},Pp3M:function(e,t,n){"use strict";var r=n("/gva"),i=n("vO0A");e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},PpiC:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function i(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"a",(function(){return i}))},PrET:function(e,t,n){"use strict";var r=n("D3zA"),i=n("AM7I"),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(p){c=null}e.exports=function(e){var t=s(r,a,arguments);if(u&&c){var n=u(t,"length");n.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var f=function(){return s(r,o,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f},Pw59:function(e,t,n){"use strict";var r=n("q1tI"),i=Object(r["createContext"])({});t["a"]=i},Q1l4:function(e,t){function n(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}e.exports=n},Q2Ig:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("33yf")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},Q3OH:function(e,t,n){var r=n("eNh0");r("flatMap")},Q9SF:function(e,t){function n(e){if(Array.isArray(e))return e}e.exports=n},QILm:function(e,t,n){var r=n("8OQS");function i(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},QIyF:function(e,t,n){var r=n("Kz5y"),i=function(){return r.Date.now()};e.exports=i},QQ4S:function(e,t,n){"use strict";var r=n("0qr0"),i=n("m0kY"),o=n("oa35"),a=n("R8iy"),s=n("kGMc"),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,f=a("lastIndexOf"),p=s("indexOf",{ACCESSORS:!0,1:0}),h=l||!f||!p;e.exports=h?function(e){if(l)return c.apply(this,arguments)||0;var t=r(this),n=o(t.length),a=n-1;for(arguments.length>1&&(a=u(a,i(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:c},QSc6:function(e,t,n){"use strict";var r=n("VAJa"),i=n("0jNN"),o=n("sxOR"),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,c=Array.prototype.push,l=function(e,t){c.apply(e,u(t)?t:[t])},f=Date.prototype.toISOString,p=o["default"],h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:p,formatter:o.formatters[p],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},d=function(e){return"string"===typeof e||"number"===typeof e||"boolean"===typeof e||"symbol"===typeof e||"bigint"===typeof e},m=function e(t,n,o,a,s,c,f,p,m,v,y,g,b,x,_){var w=t;if(_.has(t))throw new RangeError("Cyclic object value");if("function"===typeof f?w=f(n,w):w instanceof Date?w=v(w):"comma"===o&&u(w)&&(w=i.maybeMap(w,(function(e){return e instanceof Date?v(e):e}))),null===w){if(a)return c&&!b?c(n,h.encoder,x,"key",y):n;w=""}if(d(w)||i.isBuffer(w)){if(c){var S=b?n:c(n,h.encoder,x,"key",y);return[g(S)+"="+g(c(w,h.encoder,x,"value",y))]}return[g(n)+"="+g(String(w))]}var O,E=[];if("undefined"===typeof w)return E;if("comma"===o&&u(w))O=[{value:w.length>0?w.join(",")||null:void 0}];else if(u(f))O=f;else{var k=Object.keys(w);O=p?k.sort(p):k}for(var C=0;C<O.length;++C){var j=O[C],T="object"===typeof j&&void 0!==j.value?j.value:w[j];if(!s||null!==T){var A=u(w)?"function"===typeof o?o(n,j):n:n+(m?"."+j:"["+j+"]");_.set(t,!0);var P=r();l(E,e(T,A,o,a,s,c,f,p,m,v,y,g,b,x,P))}}return E},v=function(e){if(!e)return h;if(null!==e.encoder&&void 0!==e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||h.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o["default"];if("undefined"!==typeof e.format){if(!a.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=o.formatters[n],i=h.filter;return("function"===typeof e.filter||u(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?h.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?h.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:h.encode,encoder:"function"===typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}};e.exports=function(e,t){var n,i,o=e,a=v(t);"function"===typeof a.filter?(i=a.filter,o=i("",o)):u(a.filter)&&(i=a.filter,n=i);var c,f=[];if("object"!==typeof o||null===o)return"";c=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var p=s[c];n||(n=Object.keys(o)),a.sort&&n.sort(a.sort);for(var h=r(),d=0;d<n.length;++d){var y=n[d];a.skipNulls&&null===o[y]||l(f,m(o[y],y,p,a.strictNullHandling,a.skipNulls,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,h))}var g=f.join(a.delimiter),b=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),g.length>0?b+g:""}},Qagv:function(e,t,n){"use strict";n.d(t,"c",(function(){return I})),n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return R}));var r=n("q1tI"),i=n("tJVT"),o=n("8ml+"),a=n("74OI"),s=n("45oE"),u=r["useEffect"],c=r["memo"]((function(e){var t=e.layer,n=e.active;return u((()=>{t.active(n.option)}),[JSON.stringify(n)]),null})),l=r["useEffect"],f=r["memo"]((function(e){var t=e.layer,n=e.animate;return l((()=>{t.animate(n)}),[JSON.stringify(n)]),null})),p=r["useEffect"],h=r["memo"]((function(e){var t=e.layer,n=e.color;return p((()=>{n.field?t.color(n.field,n.values):t.color(n.values)}),[n.field,n.scale,JSON.stringify(n.values),JSON.stringify(n.options)]),null})),d=r["useEffect"],m=r["memo"]((function(e){var t=e.layer,n=e.filter;return d((()=>{n.field&&t.filter(n.field,n.values)}),[n.field,n.values,JSON.stringify(n.values),JSON.stringify(n.options)]),null})),v=r["useEffect"],y=r["memo"]((function(e){var t=e.layer,n=e.scale;return v((()=>{t.scale(n.values)}),[n.values]),null})),g=r["useEffect"],b=r["memo"]((function(e){var t=e.layer,n=e.select;return g((()=>{t.select(n.option)}),[JSON.stringify(n)]),null})),x=r["useEffect"],_=r["memo"]((function(e){var t=e.layer,n=e.shape;return x((()=>{n.field?t.shape(n.field,n.values):t.shape(n.values)}),[n.field,JSON.stringify(n.values),JSON.stringify(n.options)]),null})),w=r["useEffect"],S=r["memo"]((function(e){var t=e.layer,n=e.size;return w((()=>{n.field?t.size(n.field,n.values):t.size(n.values)}),[n.field,n.scale,JSON.stringify(n.values),JSON.stringify(n.options)]),null})),O=n("PpiC"),E=r["useEffect"],k=r["memo"]((function(e){var t=e.layer,n=e.source,r=n.data,i=Object(O["a"])(n,["data"]);return E((()=>{t.inited?t.setData(r,i):t.source(r,i),i.autoFit&&t.fitBounds(i&&i.fitBoundsOptions)}),[r,JSON.stringify(i)]),null})),C=r["useEffect"],j=r["memo"]((function(e){var t=e.layer,n=e.style;return C((()=>{t.style(n)}),Object.keys(n).map((e=>n[e]))),null})),T=n("nKUr"),A=r["useEffect"],P=r["useState"];function M(e,t){var n=t.source,r=t.color,u=t.shape,l=t.style,p=t.size,d=t.scale,v=t.active,g=t.select,x=t.filter,w=t.animate,O=t.options,E=t.onLayerLoaded,C=Object(s["b"])(),M=P((()=>{var t;switch(e){case"polygonLayer":t=new o["PolygonLayer"](O);break;case"lineLayer":t=new o["LineLayer"](O);break;case"pointLayer":t=new o["PointLayer"](O);break;case"heatmapLayer":t=new o["HeatmapLayer"](O);break;case"rasterLayer":t=new o["RasterLayer"](O);break;case"imageLayer":t=new o["ImageLayer"](O);break;case"citybuildingLayer":t=new o["CityBuildingLayer"](O);break;default:t=new o["PolygonLayer"](O)}return t.on("inited",(()=>{E&&E(t,C)})),t})),I=Object(i["a"])(M,1),L=I[0];return A((()=>(C.addLayer(L),()=>{C.removeLayer(L)})),[]),A((()=>{L.inited&&O&&L.updateLayerConfig(O)}),[null===O||void 0===O?void 0:O.minZoom,null===O||void 0===O?void 0:O.maxZoom,null===O||void 0===O?void 0:O.visible]),A((()=>{L.inited&&null!==O&&void 0!==O&&O.zIndex&&L.setIndex(O.zIndex)}),[null===O||void 0===O?void 0:O.zIndex]),A((()=>{L.inited&&null!==O&&void 0!==O&&O.blend&&L.setBlend(O.blend)}),[null===O||void 0===O?void 0:O.blend]),A((()=>{C.render()})),Object(T["jsxs"])(a["a"].Provider,{value:L,children:[Object(T["jsx"])(k,{layer:L,source:n}),d&&Object(T["jsx"])(y,{layer:L,scale:d}),r&&Object(T["jsx"])(h,{layer:L,color:r}),p&&Object(T["jsx"])(S,{layer:L,size:p}),u&&Object(T["jsx"])(_,{layer:L,shape:u}),l&&Object(T["jsx"])(j,{layer:L,style:l}),v&&Object(T["jsx"])(c,{layer:L,active:v}),g&&Object(T["jsx"])(b,{layer:L,select:g}),x&&Object(T["jsx"])(m,{layer:L,filter:x}),w&&Object(T["jsx"])(f,{layer:L,animate:w}),t.children]})}var I=r["memo"]((function(e){return M("polygonLayer",e)})),L=r["memo"]((function(e){return M("heatmapLayer",e)})),R=r["memo"]((function(e){return M("imageLayer",e)}))},QcOe:function(e,t,n){var r=n("GoyQ"),i=n("6sVZ"),o=n("7Ix3"),a=Object.prototype,s=a.hasOwnProperty;function u(e){if(!r(e))return o(e);var t=i(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}e.exports=u},QkVE:function(e,t,n){var r=n("EpBk");function i(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}e.exports=i},QkVN:function(e,t,n){var r=n("+Qka"),i=n("LsHQ"),o=i((function(e,t,n){r(e,t,n)}));e.exports=o},Qlla:function(e,t,n){var r=n("29mP");e.exports=r("navigator","userAgent")||""},QoRX:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}e.exports=n},QqLw:function(e,t,n){var r=n("tadb"),i=n("ebwN"),o=n("HOxn"),a=n("yGk4"),s=n("Of+w"),u=n("NykK"),c=n("3Fdi"),l="[object Map]",f="[object Object]",p="[object Promise]",h="[object Set]",d="[object WeakMap]",m="[object DataView]",v=c(r),y=c(i),g=c(o),b=c(a),x=c(s),_=u;(r&&_(new r(new ArrayBuffer(1)))!=m||i&&_(new i)!=l||o&&_(o.resolve())!=p||a&&_(new a)!=h||s&&_(new s)!=d)&&(_=function(e){var t=u(e),n=t==f?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return m;case y:return l;case g:return p;case b:return h;case x:return d}return t}),e.exports=_},"Qqe/":function(e,t,n){var r=n("1Cbe"),i=n("NMFW"),o=n("33TD");r||i(Object.prototype,"toString",o,{unsafe:!0})},Qyje:function(e,t,n){"use strict";var r=n("QSc6"),i=n("nmq7"),o=n("sxOR");e.exports={formats:o,parse:i,stringify:r}},"R/W3":function(e,t,n){var r=n("KwMD"),i=n("2ajD"),o=n("CZoQ");function a(e,t,n){return t===t?o(e,t,n):r(e,i,n)}e.exports=a},"R/Zn":function(e,t,n){var r=n("MVys");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},R1ph:function(e,t,n){"use strict";n.r(t);var r=n("/7QA"),i=(n("q1tI"),n("nKUr"));t["default"]=()=>Object(i["jsx"])(r["AMapScene"],{map:{center:[110.19382669582967,50.258134],pitch:0,style:"dark",zoom:1},style:{height:"400px",position:"relative",background:"#011030"},children:Object(i["jsx"])(r["ImageLayer"],{source:{data:"https://gw.alipayobjects.com/mdn/antv_site/afts/img/A*8SUaRr7bxNsAAAAAAAAAAABkARQnAQ",parser:{type:"image",extent:[113.1277263548,32.3464238863,118.1365790452,36.4786759137]}}})})},R5yR:function(e,t,n){var r=n("9xmf"),i=n("rhT+"),o=n("mGKP"),a=n("XWE6");function s(e){return r(e)||i(e)||o(e)||a()}e.exports=s},R8iy:function(e,t,n){"use strict";var r=n("MVys");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},RDHo:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("+X1D");r({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},RIqP:function(e,t,n){var r=n("Ijbi"),i=n("EbDI"),o=n("ZhPi"),a=n("Bnag");function s(e){return r(e)||i(e)||o(e)||a()}e.exports=s,e.exports["default"]=e.exports,e.exports.__esModule=!0},"RL2/":function(e,t,n){"use strict"},RMtq:function(e,t){},"RR/i":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var r=n("xfSm"),i=n("GXnB"),o=function e(t,n){var r=t.parentRequest;return null!==r&&(!!n(r)||e(r,n))};t.traverseAncerstors=o;var a=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=a;var s=a(r.NAMED_TAG);t.namedConstraint=s;var u=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"===typeof e){var r=n.serviceIdentifier;return r===e}var i=t.bindings[0].implementationType;return e===i}return!1}};t.typeConstraint=u},RZMt:function(e,t,n){},RhWa:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),u=n("qcmB"),c=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function(e){var t=u(this),n=a(e),r=n.has;return"function"!=typeof r&&(n=new(o("Set"))(e),r=s(n.has)),!c(t,(function(e){if(!1===r.call(n,e))return c.stop()}),void 0,!1,!0).stopped}})},Rka6:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("7BAe"),s=n("PPXv"),u=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(e,n){if(r(n,e,t))return u.stop(e)}),void 0,!0,!0).result}})},RlPe:function(e,t,n){"use strict";n("8ml+");var r=n("q1tI");n("i8i4"),n("45oE");r["PureComponent"]},Rsk4:function(e,t,n){"use strict";n.r(t);var r="import React from 'react';\nimport {\n  AMapSceneV2,\n  Control,\n  PolygonLayer,\n  HeatmapLayer,\n} from '@antv/l7-react';\nimport { useRequest } from 'ahooks';\nasync function getData(url: string) {\n  const res = await fetch(url);\n  return await res.json();\n}\nconst urls = {\n  world:\n    'https://gw.alipayobjects.com/os/bmw-prod/79143b04-5fab-4d24-8cce-80b818a3d189.json',\n  grid:\n    'https://gw.alipayobjects.com/os/bmw-prod/8990e8b4-c58e-419b-afb9-8ea3daff2dd1.json',\n};\nexport default () => {\n  const { run, fetches } = useRequest(getData, {\n    manual: true,\n    fetchKey: url => url,\n  });\n  React.useEffect(() => {\n    run(urls.world);\n    run(urls.grid);\n  }, []);\n\n  return (\n    <AMapSceneV2\n      map={{\n        pitch: 0,\n        style: 'light',\n        zoom: 2,\n        center: [112, 30],\n      }}\n      style={{\n        height: '400px',\n        position: 'relative',\n        background: '#011030',\n      }}\n    >\n      {fetches[urls.grid]?.loading === false && (\n        <HeatmapLayer\n          key={'2'}\n          source={{\n            data: fetches[urls.grid].data,\n            transforms: [\n              {\n                type: 'hexagon',\n                size: 500000,\n                field: 'capacity',\n                method: 'sum',\n              },\n            ],\n          }}\n          color={{\n            values: '#132953',\n          }}\n          shape={{\n            values: 'circle',\n          }}\n          style={{\n            coverage: 0.5,\n            angle: 0.3,\n            opacity: 0.8,\n          }}\n        />\n      )}\n      {fetches[urls.world]?.loading === false && (\n        <PolygonLayer\n          key={'1'}\n          options={{\n            autoFit: true,\n          }}\n          source={{\n            data: fetches[urls.world].data,\n          }}\n          active={false}\n          size={{\n            values: 0.6,\n          }}\n          color={{\n            values: '#274A91',\n          }}\n          shape={{\n            values: 'line',\n          }}\n          style={{\n            opacity: 0.6,\n          }}\n        />\n      )}\n      <Control type=\"scale\" position=\"bottomright\" />\n      <Control type=\"zoom\" position=\"bottomleft\" />\n    </AMapSceneV2>\n  );\n};",i="import { AMapScene, ImageLayer } from '@antv/l7-react';\nimport React from 'react';\nexport default () => {\n  return (\n    <AMapScene\n      map={{\n        center: [110.19382669582967, 50.258134],\n        pitch: 0,\n        style: 'dark',\n        zoom: 1,\n      }}\n      style={{\n        height: '400px',\n        position: 'relative',\n        background: '#011030',\n      }}\n    >\n      <ImageLayer\n        source={{\n          data:\n            'https://gw.alipayobjects.com/mdn/antv_site/afts/img/A*8SUaRr7bxNsAAAAAAAAAAABkARQnAQ',\n          parser: {\n            type: 'image',\n            extent: [\n              113.1277263548,\n              32.3464238863,\n              118.1365790452,\n              36.4786759137,\n            ],\n          },\n        }}\n      />\n    </AMapScene>\n  );\n};",o="import React from 'react';\nimport { MapScene, Control, PolygonLayer, HeatmapLayer } from '@antv/l7-react';\nimport { useRequest } from 'ahooks';\nasync function getData(url: string) {\n  const res = await fetch(url);\n  return await res.json();\n}\nconst urls = {\n  world:\n    'https://gw.alipayobjects.com/os/bmw-prod/79143b04-5fab-4d24-8cce-80b818a3d189.json',\n  grid:\n    'https://gw.alipayobjects.com/os/bmw-prod/8990e8b4-c58e-419b-afb9-8ea3daff2dd1.json',\n};\nexport default () => {\n  const { run, fetches } = useRequest(getData, {\n    manual: true,\n    fetchKey: url => url,\n  });\n  React.useEffect(() => {\n    run(urls.world);\n    run(urls.grid);\n  }, []);\n\n  return (\n    <MapScene\n      map={{\n        pitch: 0,\n        style: 'light',\n        zoom: 2,\n        center: [112, 30],\n      }}\n      style={{\n        height: '400px',\n        position: 'relative',\n        background: '#011030',\n      }}\n    >\n      {fetches[urls.grid]?.loading === false && (\n        <HeatmapLayer\n          key={'2'}\n          source={{\n            data: fetches[urls.grid].data,\n            transforms: [\n              {\n                type: 'hexagon',\n                size: 500000,\n                field: 'capacity',\n                method: 'sum',\n              },\n            ],\n          }}\n          color={{\n            values: '#132953',\n          }}\n          shape={{\n            values: 'circle',\n          }}\n          style={{\n            coverage: 0.5,\n            angle: 0.3,\n            opacity: 0.8,\n          }}\n        />\n      )}\n      {fetches[urls.world]?.loading === false && (\n        <PolygonLayer\n          key={'1'}\n          options={{\n            autoFit: true,\n          }}\n          source={{\n            data: fetches[urls.world].data,\n          }}\n          active={false}\n          size={{\n            values: 0.6,\n          }}\n          color={{\n            values: '#274A91',\n          }}\n          shape={{\n            values: 'line',\n          }}\n          style={{\n            opacity: 0.6,\n          }}\n        />\n      )}\n      <Control type=\"scale\" position=\"bottomright\" />\n      <Control type=\"zoom\" position=\"bottomleft\" />\n    </MapScene>\n  );\n};",a="import { AMapScene, ImageLayer, Control } from '@antv/l7-react';\nimport React from 'react';\nexport default () => {\n  return (\n    <AMapScene\n      map={{\n        center: [110.19382669582967, 50.258134],\n        pitch: 0,\n        style: 'dark',\n        zoom: 1,\n      }}\n      style={{\n        height: '400px',\n        position: 'relative',\n        background: '#011030',\n      }}\n    >\n      <ImageLayer\n        source={{\n          data:\n            'https://gw.alipayobjects.com/mdn/antv_site/afts/img/A*8SUaRr7bxNsAAAAAAAAAAABkARQnAQ',\n          parser: {\n            type: 'image',\n            extent: [\n              113.1277263548,\n              32.3464238863,\n              118.1365790452,\n              36.4786759137,\n            ],\n          },\n        }}\n      />\n    </AMapScene>\n  );\n};",s="import {\n  AMapScene,\n  ImageLayer,\n  PolygonLayer,\n  LayerEvent,\n  Popup,\n} from '@antv/l7-react';\nimport React, { useState } from 'react';\nexport default () => {\n  const [selectFeature, setSelectFeature] = useState();\n  return (\n    <AMapScene\n      map={{\n        center: [110.19382669582967, 50.258134],\n        pitch: 0,\n        style: 'dark',\n        zoom: 1,\n      }}\n      style={{\n        height: '500px',\n        position: 'relative',\n      }}\n    >\n      <PolygonLayer\n        source={{\n          data: {\n            type: 'FeatureCollection',\n            features: [\n              {\n                type: 'Feature',\n                properties: {},\n                geometry: {\n                  type: 'Polygon',\n                  coordinates: [\n                    [\n                      [88.9453125, -3.864254615721396],\n                      [155.7421875, -3.864254615721396],\n                      [155.7421875, 46.800059446787316],\n                      [88.9453125, 46.800059446787316],\n                      [88.9453125, -3.864254615721396],\n                    ],\n                  ],\n                },\n              },\n            ],\n          },\n        }}\n        color={{\n          values: 'red',\n        }}\n        shape={{\n          values: 'fill',\n        }}\n      >\n        <LayerEvent\n          type=\"click\"\n          handler={e => {\n            setSelectFeature(e);\n          }}\n        ></LayerEvent>\n      </PolygonLayer>\n      {selectFeature && (\n        <Popup\n          option={{\n            stopPropagation: false,\n          }}\n          lnglat={selectFeature?.lngLat}\n        >\n          <div\n            onClick={e => {\n              // e.stopPropagation();\n              // e.preventDefault();\n              alert('\u6211\u88ab\u70b9\u51fb\u4e86');\n            }}\n          >\n            <button\n              onClick={() => {\n                alert('b\u6211\u88ab\u70b9\u51fb\u4e86');\n              }}\n            >\n              \u6211\u80fd\u4e0d\u80fd\u88ab\u70b9\u51fb\n            </button>\n          </div>\n        </Popup>\n      )}\n    </AMapScene>\n  );\n};";t["default"]={"docs-mapv2":{component:n("AkqX").default,previewerProps:{sources:{_:{tsx:r}},dependencies:{react:{version:"^16.8.6 || ^17.0"},"@antv/l7-react":{version:"2.3.6"},ahooks:{version:"2.10.11"},"@antv/l7":{version:"^2.2.37"},"react-dom":{version:"^16.8.6"}},identifier:"docs-mapv2"}},"docs-imagelayer":{component:n("KazK").default,previewerProps:{sources:{_:{tsx:i}},dependencies:{"@antv/l7-react":{version:"2.3.6"},react:{version:"^16.8.6"},"@antv/l7":{version:"^2.2.37"},"react-dom":{version:"^16.8.6"}},identifier:"docs-imagelayer"}},"docs-map":{component:n("d4sm").default,previewerProps:{sources:{_:{tsx:o}},dependencies:{react:{version:"^16.8.6 || ^17.0"},"@antv/l7-react":{version:"2.3.6"},ahooks:{version:"2.10.11"},"@antv/l7":{version:"^2.2.37"},"react-dom":{version:"^16.8.6"}},identifier:"docs-map"}},"docs-layercontrol":{component:n("R1ph").default,previewerProps:{sources:{_:{tsx:a}},dependencies:{"@antv/l7-react":{version:"2.3.6"},react:{version:"^16.8.6"},"@antv/l7":{version:"^2.2.37"},"react-dom":{version:"^16.8.6"}},identifier:"docs-layercontrol"}},"docs-popup":{component:n("8Dy3").default,previewerProps:{sources:{_:{tsx:s}},dependencies:{"@antv/l7-react":{version:"2.3.6"},react:{version:"^16.8.6"},"@antv/l7":{version:"^2.2.37"},"react-dom":{version:"^16.8.6"}},identifier:"docs-popup"}}}},Rw1i:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("b6st"),a=n("MVys"),s=n("29mP"),u=n("/dTS"),c=n("U8/t"),l=n("NMFW"),f=!!o&&a((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));r({target:"Promise",proto:!0,real:!0,forced:f},{finally:function(e){var t=u(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof o||o.prototype["finally"]||l(o.prototype,"finally",s("Promise").prototype["finally"])},S5nV:function(e,t,n){var r=n("MMxC");r({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI})},SGZ1:function(e,t,n){var r=n("I65O");r("search")},SUU4:function(e,t,n){(function(t,r){e.exports=r(n("szb8"))})(0,(function(e){"use strict";var t=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},n=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},r="\n";function i(e){return"undefined"!==typeof atob?atob(e):"base64:"+e}function o(e){var t=new Error("(regl) "+e);throw console.error(t),t}function a(e,t){e||o(t)}function s(e){return e?": "+e:""}function u(e,t,n){e in t||o("unknown parameter ("+e+")"+s(n)+". possible values: "+Object.keys(t).join())}function c(e,n){t(e)||o("invalid parameter type"+s(n)+". must be a typed array")}function l(e,t){switch(t){case"number":return"number"===typeof e;case"object":return"object"===typeof e;case"string":return"string"===typeof e;case"boolean":return"boolean"===typeof e;case"function":return"function"===typeof e;case"undefined":return"undefined"===typeof e;case"symbol":return"symbol"===typeof e}}function f(e,t,n){l(e,t)||o("invalid parameter type"+s(n)+". expected "+t+", got "+typeof e)}function p(e,t){e>=0&&(0|e)===e||o("invalid parameter type, ("+e+")"+s(t)+". must be a nonnegative integer")}function h(e,t,n){t.indexOf(e)<0&&o("invalid value"+s(n)+". must be one of: "+t)}var d=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function m(e){Object.keys(e).forEach((function(e){d.indexOf(e)<0&&o('invalid regl constructor argument "'+e+'". must be one of '+d)}))}function v(e,t){e+="";while(e.length<t)e=" "+e;return e}function y(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function g(e,t){this.number=e,this.line=t,this.errors=[]}function b(e,t,n){this.file=e,this.line=t,this.message=n}function x(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function _(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function w(e,t){var n=e.split("\n"),r=1,o=0,a={unknown:new y,0:new y};a.unknown.name=a[0].name=t||x(),a.unknown.lines.push(new g(0,""));for(var s=0;s<n.length;++s){var u=n[s],c=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(u);if(c)switch(c[1]){case"line":var l=/(\d+)(\s+\d+)?/.exec(c[2]);l&&(r=0|l[1],l[2]&&(o=0|l[2],o in a||(a[o]=new y)));break;case"define":var f=/SHADER_NAME(_B64)?\s+(.*)$/.exec(c[2]);f&&(a[o].name=f[1]?i(f[2]):f[2]);break}a[o].lines.push(new g(r++,u))}return Object.keys(a).forEach((function(e){var t=a[e];t.lines.forEach((function(e){t.index[e.number]=e}))})),a}function S(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new b(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new b("unknown",0,e))}})),t}function O(e,t){t.forEach((function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r)return r.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))}function E(e,t,n,i,o){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(t),u=i===e.FRAGMENT_SHADER?"fragment":"vertex";M(n,"string",u+" shader source must be a string",o);var c=w(n,o),l=S(s);O(c,l),Object.keys(c).forEach((function(e){var t=c[e];if(t.hasErrors){var n=[""],i=[""];o("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(e){if(e.errors.length>0){o(v(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(e.line+r,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach((function(n){var i=n.message,a=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(a){var s=a[1];switch(i=a[2],s){case"assign":s="=";break}t=Math.max(e.line.indexOf(s,t),0)}else t=0;o(v("| ",6)),o(v("^^^",t+3)+r,"font-weight:bold"),o(v("| ",6)),o(i+r,"font-weight:bold")})),o(v("| ",6)+r)}else o(v(e.number,4)+"|  "),o(e.line+r,"color:red")})),"undefined"===typeof document||window.chrome?console.log(n.join("")):(i[0]=n.join("%c"),console.log.apply(console,i))}function o(e,t){n.push(e),i.push(t||"")}})),a.raise("Error compiling "+u+" shader, "+c[0].name)}}function k(e,t,n,i,o){if(!e.getProgramParameter(t,e.LINK_STATUS)){var s=e.getProgramInfoLog(t),u=w(n,o),c=w(i,o),l='Error linking program with vertex shader, "'+c[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!==typeof document?console.log("%c"+l+r+"%c"+s,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(l+r+s),a.raise(l)}}function C(e){e._commandRef=x()}function j(e,t,n,r){function i(e){return e?r.id(e):0}function o(e,t){Object.keys(t).forEach((function(t){e[r.id(t)]=!0}))}C(e),e._fragId=i(e["static"].frag),e._vertId=i(e["static"].vert);var a=e._uniformSet={};o(a,t["static"]),o(a,t.dynamic);var s=e._attributeSet={};o(s,n["static"]),o(s,n.dynamic),e._hasCount="count"in e["static"]||"count"in e.dynamic||"elements"in e["static"]||"elements"in e.dynamic}function T(e,t){var n=_();o(e+" in command "+(t||x())+("unknown"===n?"":" called from "+n))}function A(e,t,n){e||T(t,n||x())}function P(e,t,n,r){e in t||T("unknown parameter ("+e+")"+s(n)+". possible values: "+Object.keys(t).join(),r||x())}function M(e,t,n,r){l(e,t)||T("invalid parameter type"+s(n)+". expected "+t+", got "+typeof e,r||x())}function I(e){e()}function L(e,t,n){e.texture?h(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):h(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var R=33071,D=9728,N=9984,z=9985,F=9986,B=9987,U=5120,V=5121,H=5122,q=5123,G=5124,W=5125,Z=5126,Y=32819,X=32820,K=33635,J=34042,Q=36193,$={};function ee(e,t){return e===X||e===Y||e===K?2:e===J?4:$[e]*t}function te(e){return!(e&e-1)&&!!e}function ne(e,t,n){var r,i=t.width,o=t.height,s=t.channels;a(i>0&&i<=n.maxTextureSize&&o>0&&o<=n.maxTextureSize,"invalid texture shape"),e.wrapS===R&&e.wrapT===R||a(te(i)&&te(o),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==i&&1!==o&&a(e.minFilter!==N&&e.minFilter!==F&&e.minFilter!==z&&e.minFilter!==B,"min filter requires mipmap"):(a(te(i)&&te(o),"texture must be a square power of 2 to support mipmapping"),a(t.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),t.type===Z&&(n.extensions.indexOf("oes_texture_float_linear")<0&&a(e.minFilter===D&&e.magFilter===D,"filter not supported, must enable oes_texture_float_linear"),a(!e.genMipmaps,"mipmap generation not supported with float textures"));var u=t.images;for(r=0;r<16;++r)if(u[r]){var c=i>>r,l=o>>r;a(t.mipmask&1<<r,"missing mipmap data");var f=u[r];if(a(f.width===c&&f.height===l,"invalid shape for mip images"),a(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image"),f.compressed);else if(f.data){var p=Math.ceil(ee(f.type,s)*c/f.unpackAlignment)*f.unpackAlignment;a(f.data.byteLength===p*l,"invalid data for image, buffer size is inconsistent with image format")}else f.element||f.copy}else e.genMipmaps||a(0===(t.mipmask&1<<r),"extra mipmap data");t.compressed&&a(!e.genMipmaps,"mipmap generation for compressed images not supported")}function re(e,t,n,r){var i=e.width,o=e.height,s=e.channels;a(i>0&&i<=r.maxTextureSize&&o>0&&o<=r.maxTextureSize,"invalid texture shape"),a(i===o,"cube map must be square"),a(t.wrapS===R&&t.wrapT===R,"wrap mode not supported by cube map");for(var u=0;u<n.length;++u){var c=n[u];a(c.width===i&&c.height===o,"inconsistent cube map face shape"),t.genMipmaps&&(a(!c.compressed,"can not generate mipmap for compressed textures"),a(1===c.mipmask,"can not specify mipmaps and generate mipmaps"));for(var l=c.images,f=0;f<16;++f){var p=l[f];if(p){var h=i>>f,d=o>>f;a(c.mipmask&1<<f,"missing mipmap data"),a(p.width===h&&p.height===d,"invalid shape for mip images"),a(p.format===e.format&&p.internalformat===e.internalformat&&p.type===e.type,"incompatible type for mip image"),p.compressed||(p.data?a(p.data.byteLength===h*d*Math.max(ee(p.type,s),p.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):p.element||p.copy)}}}}$[U]=$[V]=1,$[H]=$[q]=$[Q]=$[K]=$[Y]=$[X]=2,$[G]=$[W]=$[Z]=$[J]=4;var ie=n(a,{optional:I,raise:o,commandRaise:T,command:A,parameter:u,commandParameter:P,constructor:m,type:f,commandType:M,isTypedArray:c,nni:p,oneOf:h,shaderError:E,linkError:k,callSite:_,saveCommandRef:C,saveDrawInfo:j,framebufferFormat:L,guessCommand:x,texture2D:ne,textureCube:re}),oe=0,ae=0,se=5,ue=6;function ce(e,t){this.id=oe++,this.type=e,this.data=t}function le(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function fe(e){if(0===e.length)return[];var t=e.charAt(0),n=e.charAt(e.length-1);if(e.length>1&&t===n&&('"'===t||"'"===t))return['"'+le(e.substr(1,e.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return fe(e.substr(0,r.index)).concat(fe(r[1])).concat(fe(e.substr(r.index+r[0].length)));var i=e.split(".");if(1===i.length)return['"'+le(e)+'"'];for(var o=[],a=0;a<i.length;++a)o=o.concat(fe(i[a]));return o}function pe(e){return"["+fe(e).join("][")+"]"}function he(e,t){return new ce(e,pe(t+""))}function de(e){return"function"===typeof e&&!e._reglType||e instanceof ce}function me(e,t){return"function"===typeof e?new ce(ae,e):"number"===typeof e||"boolean"===typeof e?new ce(se,e):Array.isArray(e)?new ce(ue,e.map((function(e,n){return me(e,t+"["+n+"]")}))):e instanceof ce?e:void ie(!1,"invalid option type in uniform "+t)}var ve={DynamicVariable:ce,define:he,isDynamic:de,unbox:me,accessor:pe},ye={next:"function"===typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"===typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},ge="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast,be=ge?function(){return+new Date}:"undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function xe(){var e={"":0},t=[""];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}function _e(e,t,r){var i,o=document.createElement("canvas");function a(){var t=window.innerWidth,n=window.innerHeight;if(e!==document.body){var i=o.getBoundingClientRect();t=i.right-i.left,n=i.bottom-i.top}o.width=r*t,o.height=r*n}function s(){i?i.disconnect():window.removeEventListener("resize",a),e.removeChild(o)}return n(o.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),e.appendChild(o),e===document.body&&(o.style.position="absolute",n(e.style,{margin:0,padding:0})),e!==document.body&&"function"===typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(a)})),i.observe(e)):window.addEventListener("resize",a,!1),a(),{canvas:o,onDestroy:s}}function we(e,t){function n(n){try{return e.getContext(n,t)}catch(r){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function Se(e){return"string"===typeof e.nodeName&&"function"===typeof e.appendChild&&"function"===typeof e.getBoundingClientRect}function Oe(e){return"function"===typeof e.drawArrays||"function"===typeof e.drawElements}function Ee(e){return"string"===typeof e?e.split():(ie(Array.isArray(e),"invalid extension array"),e)}function ke(e){return"string"===typeof e?(ie("undefined"!==typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function Ce(e){var t,n,r,i,o=e||{},a={},s=[],u=[],c="undefined"===typeof window?1:window.devicePixelRatio,l=!1,f=function(e){e&&ie.raise(e)},p=function(){};if("string"===typeof o?(ie("undefined"!==typeof document,"selector queries only supported in DOM environments"),t=document.querySelector(o),ie(t,"invalid query string for element")):"object"===typeof o?Se(o)?t=o:Oe(o)?(i=o,r=i.canvas):(ie.constructor(o),"gl"in o?i=o.gl:"canvas"in o?r=ke(o.canvas):"container"in o&&(n=ke(o.container)),"attributes"in o&&(a=o.attributes,ie.type(a,"object","invalid context attributes")),"extensions"in o&&(s=Ee(o.extensions)),"optionalExtensions"in o&&(u=Ee(o.optionalExtensions)),"onDone"in o&&(ie.type(o.onDone,"function","invalid or missing onDone callback"),f=o.onDone),"profile"in o&&(l=!!o.profile),"pixelRatio"in o&&(c=+o.pixelRatio,ie(c>0,"invalid pixel ratio"))):ie.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?r=t:n=t),!i){if(!r){ie("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");var h=_e(n||document.body,f,c);if(!h)return null;r=h.canvas,p=h.onDestroy}void 0===a.premultipliedAlpha&&(a.premultipliedAlpha=!0),i=we(r,a)}return i?{gl:i,canvas:r,container:n,extensions:s,optionalExtensions:u,pixelRatio:c,profile:l,onDone:f,onDestroy:p}:(p(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function je(e,t){var n={};function r(e){ie.type(e,"string","extension name must be string");var t,r=e.toLowerCase();try{t=n[r]=i(e)}catch(o){}return!!t}function i(t){return e.getExtension(t)?e.getExtension(t):e.getExtension(t.toLowerCase())?e.getExtension(t.toLowerCase()):null}for(var o=0;o<t.extensions.length;++o){var a=t.extensions[o];if(!r(a))return t.onDestroy(),t.onDone('"'+a+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(e){if(n[e]&&!r(e))throw new Error("(regl): error restoring extension "+e)}))}}}function Te(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}var Ae=5120,Pe=5121,Me=5122,Ie=5123,Le=5124,Re=5125,De=5126;function Ne(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function ze(e){var t,n;return t=(e>65535)<<4,e>>>=t,n=(e>255)<<3,e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,t|=n,t|e>>1}function Fe(){var e=Te(8,(function(){return[]}));function t(t){var n=Ne(t),r=e[ze(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[ze(t.byteLength)>>2].push(t)}function r(e,n){var r=null;switch(e){case Ae:r=new Int8Array(t(n),0,n);break;case Pe:r=new Uint8Array(t(n),0,n);break;case Me:r=new Int16Array(t(2*n),0,n);break;case Ie:r=new Uint16Array(t(2*n),0,n);break;case Le:r=new Int32Array(t(4*n),0,n);break;case Re:r=new Uint32Array(t(4*n),0,n);break;case De:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r}function i(e){n(e.buffer)}return{alloc:t,free:n,allocType:r,freeType:i}}var Be=Fe();Be.zero=Fe();var Ue=3408,Ve=3410,He=3411,qe=3412,Ge=3413,We=3414,Ze=3415,Ye=33901,Xe=33902,Ke=3379,Je=3386,Qe=34921,$e=36347,et=36348,tt=35661,nt=35660,rt=34930,it=36349,ot=34076,at=34024,st=7936,ut=7937,ct=7938,lt=35724,ft=34047,pt=36063,ht=34852,dt=3553,mt=34067,vt=34069,yt=33984,gt=6408,bt=5126,xt=5121,_t=36160,wt=36053,St=36064,Ot=16384,Et=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(ft));var r=1,i=1;t.webgl_draw_buffers&&(r=e.getParameter(ht),i=e.getParameter(pt));var o=!!t.oes_texture_float;if(o){var a=e.createTexture();e.bindTexture(dt,a),e.texImage2D(dt,0,gt,1,1,0,gt,bt,null);var s=e.createFramebuffer();if(e.bindFramebuffer(_t,s),e.framebufferTexture2D(_t,St,dt,a,0),e.bindTexture(dt,null),e.checkFramebufferStatus(_t)!==wt)o=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(Ot);var u=Be.allocType(bt,4);e.readPixels(0,0,1,1,gt,bt,u),e.getError()?o=!1:(e.deleteFramebuffer(s),e.deleteTexture(a),o=1===u[0]),Be.freeType(u)}}var c="undefined"!==typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),l=!0;if(!c){var f=e.createTexture(),p=Be.allocType(xt,36);e.activeTexture(yt),e.bindTexture(mt,f),e.texImage2D(vt,0,gt,3,3,0,gt,xt,p),Be.freeType(p),e.bindTexture(mt,null),e.deleteTexture(f),l=!e.getError()}return{colorBits:[e.getParameter(Ve),e.getParameter(He),e.getParameter(qe),e.getParameter(Ge)],depthBits:e.getParameter(We),stencilBits:e.getParameter(Ze),subpixelBits:e.getParameter(Ue),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:e.getParameter(Ye),lineWidthDims:e.getParameter(Xe),maxViewportDims:e.getParameter(Je),maxCombinedTextureUnits:e.getParameter(tt),maxCubeMapSize:e.getParameter(ot),maxRenderbufferSize:e.getParameter(at),maxTextureUnits:e.getParameter(rt),maxTextureSize:e.getParameter(Ke),maxAttributes:e.getParameter(Qe),maxVertexUniforms:e.getParameter($e),maxVertexTextureUnits:e.getParameter(nt),maxVaryingVectors:e.getParameter(et),maxFragmentUniforms:e.getParameter(it),glsl:e.getParameter(lt),renderer:e.getParameter(ut),vendor:e.getParameter(st),version:e.getParameter(ct),readFloat:o,npotTextureCube:l}};function kt(e){return!!e&&"object"===typeof e&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"===typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||t(e.data))}var Ct=function(e){return Object.keys(e).map((function(t){return e[t]}))},jt={shape:Lt,flatten:It};function Tt(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}function At(e,t,n,r){for(var i=0,o=0;o<t;++o)for(var a=e[o],s=0;s<n;++s)r[i++]=a[s]}function Pt(e,t,n,r,i,o){for(var a=o,s=0;s<t;++s)for(var u=e[s],c=0;c<n;++c)for(var l=u[c],f=0;f<r;++f)i[a++]=l[f]}function Mt(e,t,n,r,i){for(var o=1,a=n+1;a<t.length;++a)o*=t[a];var s=t[n];if(t.length-n===4){var u=t[n+1],c=t[n+2],l=t[n+3];for(a=0;a<s;++a)Pt(e[a],u,c,l,r,i),i+=o}else for(a=0;a<s;++a)Mt(e[a],t,n+1,r,i),i+=o}function It(e,t,n,r){var i=1;if(t.length)for(var o=0;o<t.length;++o)i*=t[o];else i=0;var a=r||Be.allocType(n,i);switch(t.length){case 0:break;case 1:Tt(e,t[0],a);break;case 2:At(e,t[0],t[1],a);break;case 3:Pt(e,t[0],t[1],t[2],a,0);break;default:Mt(e,t,0,a,0)}return a}function Lt(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t}var Rt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Dt=5120,Nt=5122,zt=5124,Ft=5121,Bt=5123,Ut=5125,Vt=5126,Ht=5126,qt={int8:Dt,int16:Nt,int32:zt,uint8:Ft,uint16:Bt,uint32:Ut,float:Vt,float32:Ht},Gt=35048,Wt=35040,Zt={dynamic:Gt,stream:Wt,static:35044},Yt=jt.flatten,Xt=jt.shape,Kt=35044,Jt=35040,Qt=5121,$t=5126,en=[];function tn(e){return 0|Rt[Object.prototype.toString.call(e)]}function nn(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function rn(e,t,n,r,i,o,a){for(var s=0,u=0;u<n;++u)for(var c=0;c<r;++c)e[s++]=t[i*u+o*c+a]}function on(e,n,r,i){var o=0,a={};function s(t){this.id=o++,this.buffer=e.createBuffer(),this.type=t,this.usage=Kt,this.byteLength=0,this.dimension=1,this.dtype=Qt,this.persistentData=null,r.profile&&(this.stats={size:0})}s.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){h(this)};var u=[];function c(e,t){var n=u.pop();return n||(n=new s(e)),n.bind(),p(n,t,Jt,0,1,!1),n}function l(e){u.push(e)}function f(t,n,r){t.byteLength=n.byteLength,e.bufferData(t.type,n,r)}function p(e,n,r,i,o,a){var s,u;if(e.usage=r,Array.isArray(n)){if(e.dtype=i||$t,n.length>0)if(Array.isArray(n[0])){s=Xt(n);for(var c=1,l=1;l<s.length;++l)c*=s[l];e.dimension=c,u=Yt(n,s,e.dtype),f(e,u,r),a?e.persistentData=u:Be.freeType(u)}else if("number"===typeof n[0]){e.dimension=o;var p=Be.allocType(e.dtype,n.length);nn(p,n),f(e,p,r),a?e.persistentData=p:Be.freeType(p)}else t(n[0])?(e.dimension=n[0].length,e.dtype=i||tn(n[0])||$t,u=Yt(n,[n.length,n[0].length],e.dtype),f(e,u,r),a?e.persistentData=u:Be.freeType(u)):ie.raise("invalid buffer data")}else if(t(n))e.dtype=i||tn(n),e.dimension=o,f(e,n,r),a&&(e.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(kt(n)){s=n.shape;var h=n.stride,d=n.offset,m=0,v=0,y=0,g=0;1===s.length?(m=s[0],v=1,y=h[0],g=0):2===s.length?(m=s[0],v=s[1],y=h[0],g=h[1]):ie.raise("invalid shape"),e.dtype=i||tn(n.data)||$t,e.dimension=v;var b=Be.allocType(e.dtype,m*v);rn(b,n.data,m,v,y,g,d),f(e,b,r),a?e.persistentData=b:Be.freeType(b)}else n instanceof ArrayBuffer?(e.dtype=Qt,e.dimension=o,f(e,n,r),a&&(e.persistentData=new Uint8Array(new Uint8Array(n)))):ie.raise("invalid buffer data")}function h(t){n.bufferCount--,i(t);var r=t.buffer;ie(r,"buffer must not be deleted already"),e.deleteBuffer(r),t.buffer=null,delete a[t.id]}function d(i,o,u,c){n.bufferCount++;var l=new s(o);function f(n){var i=Kt,o=null,a=0,s=0,u=1;return Array.isArray(n)||t(n)||kt(n)||n instanceof ArrayBuffer?o=n:"number"===typeof n?a=0|n:n&&(ie.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(ie(null===o||Array.isArray(o)||t(o)||kt(o),"invalid data for buffer"),o=n.data),"usage"in n&&(ie.parameter(n.usage,Zt,"invalid buffer usage"),i=Zt[n.usage]),"type"in n&&(ie.parameter(n.type,qt,"invalid buffer type"),s=qt[n.type]),"dimension"in n&&(ie.type(n.dimension,"number","invalid dimension"),u=0|n.dimension),"length"in n&&(ie.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),l.bind(),o?p(l,o,i,s,u,c):(a&&e.bufferData(l.type,a,i),l.dtype=s||Qt,l.usage=i,l.dimension=u,l.byteLength=a),r.profile&&(l.stats.size=l.byteLength*en[l.dtype]),f}function d(t,n){ie(n+t.byteLength<=l.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+t.byteLength+" starting from offset "+n+" to a buffer of size "+l.byteLength),e.bufferSubData(l.type,n,t)}function m(e,n){var r,i=0|(n||0);if(l.bind(),t(e)||e instanceof ArrayBuffer)d(e,i);else if(Array.isArray(e)){if(e.length>0)if("number"===typeof e[0]){var o=Be.allocType(l.dtype,e.length);nn(o,e),d(o,i),Be.freeType(o)}else if(Array.isArray(e[0])||t(e[0])){r=Xt(e);var a=Yt(e,r,l.dtype);d(a,i),Be.freeType(a)}else ie.raise("invalid buffer data")}else if(kt(e)){r=e.shape;var s=e.stride,u=0,c=0,p=0,h=0;1===r.length?(u=r[0],c=1,p=s[0],h=0):2===r.length?(u=r[0],c=r[1],p=s[0],h=s[1]):ie.raise("invalid shape");var m=Array.isArray(e.data)?l.dtype:tn(e.data),v=Be.allocType(m,u*c);rn(v,e.data,u,c,p,h,e.offset),d(v,i),Be.freeType(v)}else ie.raise("invalid data for buffer subdata");return f}return a[l.id]=l,u||f(i),f._reglType="buffer",f._buffer=l,f.subdata=m,r.profile&&(f.stats=l.stats),f.destroy=function(){h(l)},f}function m(){Ct(a).forEach((function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)}))}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(a).forEach((function(t){e+=a[t].stats.size})),e}),{create:d,createStream:c,destroyStream:l,clear:function(){Ct(a).forEach(h),u.forEach(h)},getBuffer:function(e){return e&&e._buffer instanceof s?e._buffer:null},restore:m,_initBuffer:p}}en[5120]=1,en[5122]=2,en[5124]=4,en[5121]=1,en[5123]=2,en[5125]=4,en[5126]=4;var an=0,sn=0,un=1,cn=1,ln=4,fn=4,pn={points:an,point:sn,lines:un,line:cn,triangles:ln,triangle:fn,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},hn=0,dn=1,mn=4,vn=5120,yn=5121,gn=5122,bn=5123,xn=5124,_n=5125,wn=34963,Sn=35040,On=35044;function En(e,n,r,i){var o={},a=0,s={uint8:yn,uint16:bn};function u(e){this.id=a++,o[this.id]=this,this.buffer=e,this.primType=mn,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(s.uint32=_n),u.prototype.bind=function(){this.buffer.bind()};var c=[];function l(e){var t=c.pop();return t||(t=new u(r.create(null,wn,!0,!1)._buffer)),p(t,e,Sn,-1,-1,0,0),t}function f(e){c.push(e)}function p(i,o,a,s,u,c,l){var f;if(i.buffer.bind(),o){var p=l;l||t(o)&&(!kt(o)||t(o.data))||(p=n.oes_element_index_uint?_n:bn),r._initBuffer(i.buffer,o,a,p,3)}else e.bufferData(wn,c,a),i.buffer.dtype=f||yn,i.buffer.usage=a,i.buffer.dimension=3,i.buffer.byteLength=c;if(f=l,!l){switch(i.buffer.dtype){case yn:case vn:f=yn;break;case bn:case gn:f=bn;break;case _n:case xn:f=_n;break;default:ie.raise("unsupported type for element array")}i.buffer.dtype=f}i.type=f,ie(f!==_n||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var h=u;h<0&&(h=i.buffer.byteLength,f===bn?h>>=1:f===_n&&(h>>=2)),i.vertCount=h;var d=s;if(s<0){d=mn;var m=i.buffer.dimension;1===m&&(d=hn),2===m&&(d=dn),3===m&&(d=mn)}i.primType=d}function h(e){i.elementsCount--,ie(null!==e.buffer,"must not double destroy elements"),delete o[e.id],e.buffer.destroy(),e.buffer=null}function d(e,n){var o=r.create(null,wn,!0),a=new u(o._buffer);function c(e){if(e)if("number"===typeof e)o(e),a.primType=mn,a.vertCount=0|e,a.type=yn;else{var n=null,r=On,i=-1,u=-1,l=0,f=0;Array.isArray(e)||t(e)||kt(e)?n=e:(ie.type(e,"object","invalid arguments for elements"),"data"in e&&(n=e.data,ie(Array.isArray(n)||t(n)||kt(n),"invalid data for element buffer")),"usage"in e&&(ie.parameter(e.usage,Zt,"invalid element buffer usage"),r=Zt[e.usage]),"primitive"in e&&(ie.parameter(e.primitive,pn,"invalid element buffer primitive"),i=pn[e.primitive]),"count"in e&&(ie("number"===typeof e.count&&e.count>=0,"invalid vertex count for elements"),u=0|e.count),"type"in e&&(ie.parameter(e.type,s,"invalid buffer type"),f=s[e.type]),"length"in e?l=0|e.length:(l=u,f===bn||f===gn?l*=2:f!==_n&&f!==xn||(l*=4))),p(a,n,r,i,u,l,f)}else o(),a.primType=mn,a.vertCount=0,a.type=yn;return c}return i.elementsCount++,c(e),c._reglType="elements",c._elements=a,c.subdata=function(e,t){return o.subdata(e,t),c},c.destroy=function(){h(a)},c}return{create:d,createStream:l,destroyStream:f,getElements:function(e){return"function"===typeof e&&e._elements instanceof u?e._elements:null},clear:function(){Ct(o).forEach(h)}}}var kn=new Float32Array(1),Cn=new Uint32Array(kn.buffer),jn=5123;function Tn(e){for(var t=Be.allocType(jn,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{kn[0]=e[n];var r=Cn[0],i=r>>>31<<15,o=(r<<1>>>24)-127,a=r>>13&1023;if(o<-24)t[n]=i;else if(o<-14){var s=-14-o;t[n]=i+(a+1024>>s)}else t[n]=o>15?i+31744:i+(o+15<<10)+a}return t}function An(e){return Array.isArray(e)||t(e)}var Pn=function(e){return!(e&e-1)&&!!e},Mn=34467,In=3553,Ln=34067,Rn=34069,Dn=6408,Nn=6406,zn=6407,Fn=6409,Bn=6410,Un=32854,Vn=32855,Hn=36194,qn=32819,Gn=32820,Wn=33635,Zn=34042,Yn=6402,Xn=34041,Kn=35904,Jn=35906,Qn=36193,$n=33776,er=33777,tr=33778,nr=33779,rr=35986,ir=35987,or=34798,ar=35840,sr=35841,ur=35842,cr=35843,lr=36196,fr=5121,pr=5123,hr=5125,dr=5126,mr=10242,vr=10243,yr=10497,gr=33071,br=33648,xr=10240,_r=10241,wr=9728,Sr=9729,Or=9984,Er=9985,kr=9986,Cr=9987,jr=33170,Tr=4352,Ar=4353,Pr=4354,Mr=34046,Ir=3317,Lr=37440,Rr=37441,Dr=37443,Nr=37444,zr=33984,Fr=[Or,kr,Er,Cr],Br=[0,Fn,Bn,zn,Dn],Ur={};function Vr(e){return"[object "+e+"]"}Ur[Fn]=Ur[Nn]=Ur[Yn]=1,Ur[Xn]=Ur[Bn]=2,Ur[zn]=Ur[Kn]=3,Ur[Dn]=Ur[Jn]=4;var Hr=Vr("HTMLCanvasElement"),qr=Vr("OffscreenCanvas"),Gr=Vr("CanvasRenderingContext2D"),Wr=Vr("ImageBitmap"),Zr=Vr("HTMLImageElement"),Yr=Vr("HTMLVideoElement"),Xr=Object.keys(Rt).concat([Hr,qr,Gr,Wr,Zr,Yr]),Kr=[];Kr[fr]=1,Kr[dr]=4,Kr[Qn]=2,Kr[pr]=2,Kr[hr]=4;var Jr=[];function Qr(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])}function $r(e){if(!Array.isArray(e))return!1;var t=e.length;return!(0===t||!An(e[0]))}function ei(e){return Object.prototype.toString.call(e)}function ti(e){return ei(e)===Hr}function ni(e){return ei(e)===qr}function ri(e){return ei(e)===Gr}function ii(e){return ei(e)===Wr}function oi(e){return ei(e)===Zr}function ai(e){return ei(e)===Yr}function si(e){var t="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast;return!!(t&&e&&e.getContext)}function ui(e){if(!e)return!1;if(si(e))return!0;var t=ei(e);return Xr.indexOf(t)>=0||(Qr(e)||$r(e)||kt(e))}function ci(e){return 0|Rt[Object.prototype.toString.call(e)]}function li(e,t){var n=t.length;switch(e.type){case fr:case pr:case hr:case dr:var r=Be.allocType(e.type,n);r.set(t),e.data=r;break;case Qn:e.data=Tn(t);break;default:ie.raise("unsupported texture type, must specify a typed array")}}function fi(e,t){return Be.allocType(e.type===Qn?dr:e.type,t)}function pi(e,t){e.type===Qn?(e.data=Tn(t),Be.freeType(t)):e.data=t}function hi(e,t,n,r,i,o){for(var a=e.width,s=e.height,u=e.channels,c=a*s*u,l=fi(e,c),f=0,p=0;p<s;++p)for(var h=0;h<a;++h)for(var d=0;d<u;++d)l[f++]=t[n*h+r*p+i*d+o];pi(e,l)}function di(e,t,n,r,i,o){var a;if(a="undefined"!==typeof Jr[e]?Jr[e]:Ur[e]*Kr[t],o&&(a*=6),i){var s=0,u=n;while(u>=1)s+=a*u*u,u/=2;return s}return a*n*r}function mi(e,r,i,o,a,s,u){var c={"don't care":Tr,"dont care":Tr,nice:Pr,fast:Ar},l={repeat:yr,clamp:gr,mirror:br},f={nearest:wr,linear:Sr},p=n({mipmap:Cr,"nearest mipmap nearest":Or,"linear mipmap nearest":Er,"nearest mipmap linear":kr,"linear mipmap linear":Cr},f),h={none:0,browser:Nr},d={uint8:fr,rgba4:qn,rgb565:Wn,"rgb5 a1":Gn},m={alpha:Nn,luminance:Fn,"luminance alpha":Bn,rgb:zn,rgba:Dn,rgba4:Un,"rgb5 a1":Vn,rgb565:Hn},v={};r.ext_srgb&&(m.srgb=Kn,m.srgba=Jn),r.oes_texture_float&&(d.float32=d["float"]=dr),r.oes_texture_half_float&&(d["float16"]=d["half float"]=Qn),r.webgl_depth_texture&&(n(m,{depth:Yn,"depth stencil":Xn}),n(d,{uint16:pr,uint32:hr,"depth stencil":Zn})),r.webgl_compressed_texture_s3tc&&n(v,{"rgb s3tc dxt1":$n,"rgba s3tc dxt1":er,"rgba s3tc dxt3":tr,"rgba s3tc dxt5":nr}),r.webgl_compressed_texture_atc&&n(v,{"rgb atc":rr,"rgba atc explicit alpha":ir,"rgba atc interpolated alpha":or}),r.webgl_compressed_texture_pvrtc&&n(v,{"rgb pvrtc 4bppv1":ar,"rgb pvrtc 2bppv1":sr,"rgba pvrtc 4bppv1":ur,"rgba pvrtc 2bppv1":cr}),r.webgl_compressed_texture_etc1&&(v["rgb etc1"]=lr);var y=Array.prototype.slice.call(e.getParameter(Mn)||new Uint32Array(0));Object.keys(v).forEach((function(e){var t=v[e];y.indexOf(t)>=0&&(m[e]=t)}));var g=Object.keys(m);i.textureFormats=g;var b=[];Object.keys(m).forEach((function(e){var t=m[e];b[t]=e}));var x=[];Object.keys(d).forEach((function(e){var t=d[e];x[t]=e}));var _=[];Object.keys(f).forEach((function(e){var t=f[e];_[t]=e}));var w=[];Object.keys(p).forEach((function(e){var t=p[e];w[t]=e}));var S=[];Object.keys(l).forEach((function(e){var t=l[e];S[t]=e}));var O=g.reduce((function(e,t){var n=m[t];return n===Fn||n===Nn||n===Fn||n===Bn||n===Yn||n===Xn||r.ext_srgb&&(n===Kn||n===Jn)?e[n]=n:n===Vn||t.indexOf("rgba")>=0?e[n]=Dn:e[n]=zn,e}),{});function E(){this.internalformat=Dn,this.format=Dn,this.type=fr,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Nr,this.width=0,this.height=0,this.channels=0}function k(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function C(e,t){if("object"===typeof t&&t){if("premultiplyAlpha"in t&&(ie.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(ie.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(ie.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(ie.parameter(t.colorSpace,h,"invalid colorSpace"),e.colorSpace=h[t.colorSpace]),"type"in t){var n=t.type;ie(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),ie(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ie(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ie.parameter(n,d,"invalid texture type"),e.type=d[n]}var o=e.width,a=e.height,s=e.channels,u=!1;"shape"in t?(ie(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),o=t.shape[0],a=t.shape[1],3===t.shape.length&&(s=t.shape[2],ie(s>0&&s<=4,"invalid number of channels"),u=!0),ie(o>=0&&o<=i.maxTextureSize,"invalid width"),ie(a>=0&&a<=i.maxTextureSize,"invalid height")):("radius"in t&&(o=a=t.radius,ie(o>=0&&o<=i.maxTextureSize,"invalid radius")),"width"in t&&(o=t.width,ie(o>=0&&o<=i.maxTextureSize,"invalid width")),"height"in t&&(a=t.height,ie(a>=0&&a<=i.maxTextureSize,"invalid height")),"channels"in t&&(s=t.channels,ie(s>0&&s<=4,"invalid number of channels"),u=!0)),e.width=0|o,e.height=0|a,e.channels=0|s;var c=!1;if("format"in t){var l=t.format;ie(r.webgl_depth_texture||!("depth"===l||"depth stencil"===l),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ie.parameter(l,m,"invalid texture format");var f=e.internalformat=m[l];e.format=O[f],l in d&&("type"in t||(e.type=d[l])),l in v&&(e.compressed=!0),c=!0}!u&&c?e.channels=Ur[e.format]:u&&!c?e.channels!==Br[e.format]&&(e.format=e.internalformat=Br[e.channels]):c&&u&&ie(e.channels===Ur[e.format],"number of channels inconsistent with specified format")}}function j(t){e.pixelStorei(Lr,t.flipY),e.pixelStorei(Rr,t.premultiplyAlpha),e.pixelStorei(Dr,t.colorSpace),e.pixelStorei(Ir,t.unpackAlignment)}function T(){E.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function A(e,n){var r=null;if(ui(n)?r=n:n&&(ie.type(n,"object","invalid pixel data type"),C(e,n),"x"in n&&(e.xOffset=0|n.x),"y"in n&&(e.yOffset=0|n.y),ui(n.data)&&(r=n.data)),ie(!e.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){ie(!r,"can not specify copy and data field for the same texture");var o=a.viewportWidth,s=a.viewportHeight;e.width=e.width||o-e.xOffset,e.height=e.height||s-e.yOffset,e.needsCopy=!0,ie(e.xOffset>=0&&e.xOffset<o&&e.yOffset>=0&&e.yOffset<s&&e.width>0&&e.width<=o&&e.height>0&&e.height<=s,"copy texture read out of bounds")}else if(r){if(t(r))e.channels=e.channels||4,e.data=r,"type"in n||e.type!==fr||(e.type=ci(r));else if(Qr(r))e.channels=e.channels||4,li(e,r),e.alignment=1,e.needsFree=!0;else if(kt(r)){var u=r.data;Array.isArray(u)||e.type!==fr||(e.type=ci(u));var c,l,f,p,h,d,m=r.shape,v=r.stride;3===m.length?(f=m[2],d=v[2]):(ie(2===m.length,"invalid ndarray pixel data, must be 2 or 3D"),f=1,d=1),c=m[0],l=m[1],p=v[0],h=v[1],e.alignment=1,e.width=c,e.height=l,e.channels=f,e.format=e.internalformat=Br[f],e.needsFree=!0,hi(e,u,p,h,d,r.offset)}else if(si(r)||ti(r)||ni(r)||ri(r))si(r)||ti(r)||ni(r)?e.element=r:e.element=r.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(ii(r))e.element=r,e.width=r.width,e.height=r.height,e.channels=4;else if(oi(r))e.element=r,e.width=r.naturalWidth,e.height=r.naturalHeight,e.channels=4;else if(ai(r))e.element=r,e.width=r.videoWidth,e.height=r.videoHeight,e.channels=4;else if($r(r)){var y=e.width||r[0].length,g=e.height||r.length,b=e.channels;b=An(r[0][0])?b||r[0][0].length:b||1;for(var x=jt.shape(r),_=1,w=0;w<x.length;++w)_*=x[w];var S=fi(e,_);jt.flatten(r,x,"",S),pi(e,S),e.alignment=1,e.width=y,e.height=g,e.channels=b,e.format=e.internalformat=Br[b],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4;e.type===dr?ie(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):e.type===Qn&&ie(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function P(t,n,r){var i=t.element,a=t.data,s=t.internalformat,u=t.format,c=t.type,l=t.width,f=t.height;j(t),i?e.texImage2D(n,r,u,u,c,i):t.compressed?e.compressedTexImage2D(n,r,s,l,f,0,a):t.needsCopy?(o(),e.copyTexImage2D(n,r,u,t.xOffset,t.yOffset,l,f,0)):e.texImage2D(n,r,u,l,f,0,u,c,a||null)}function M(t,n,r,i,a){var s=t.element,u=t.data,c=t.internalformat,l=t.format,f=t.type,p=t.width,h=t.height;j(t),s?e.texSubImage2D(n,a,r,i,l,f,s):t.compressed?e.compressedTexSubImage2D(n,a,r,i,c,p,h,u):t.needsCopy?(o(),e.copyTexSubImage2D(n,a,r,i,t.xOffset,t.yOffset,p,h)):e.texSubImage2D(n,a,r,i,p,h,l,f,u)}var I=[];function L(){return I.pop()||new T}function R(e){e.needsFree&&Be.freeType(e.data),T.call(e),I.push(e)}function D(){E.call(this),this.genMipmaps=!1,this.mipmapHint=Tr,this.mipmask=0,this.images=Array(16)}function N(e,t,n){var r=e.images[0]=L();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function z(e,t){var n=null;if(ui(t))n=e.images[0]=L(),k(n,e),A(n,t),e.mipmask=1;else if(C(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)n=e.images[i]=L(),k(n,e),n.width>>=i,n.height>>=i,A(n,r[i]),e.mipmask|=1<<i;else n=e.images[0]=L(),k(n,e),A(n,t),e.mipmask=1;k(e,e.images[0]),!e.compressed||e.internalformat!==$n&&e.internalformat!==er&&e.internalformat!==tr&&e.internalformat!==nr||ie(e.width%4===0&&e.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function F(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;P(n[r],t,r)}}var B=[];function U(){var e=B.pop()||new D;E.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function V(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&R(t[n]),t[n]=null;B.push(e)}function H(){this.minFilter=wr,this.magFilter=wr,this.wrapS=gr,this.wrapT=gr,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Tr}function q(e,t){if("min"in t){var n=t.min;ie.parameter(n,p),e.minFilter=p[n],Fr.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var r=t.mag;ie.parameter(r,f),e.magFilter=f[r]}var o=e.wrapS,a=e.wrapT;if("wrap"in t){var s=t.wrap;"string"===typeof s?(ie.parameter(s,l),o=a=l[s]):Array.isArray(s)&&(ie.parameter(s[0],l),ie.parameter(s[1],l),o=l[s[0]],a=l[s[1]])}else{if("wrapS"in t){var u=t.wrapS;ie.parameter(u,l),o=l[u]}if("wrapT"in t){var h=t.wrapT;ie.parameter(h,l),a=l[h]}}if(e.wrapS=o,e.wrapT=a,"anisotropic"in t){var d=t.anisotropic;ie("number"===typeof d&&d>=1&&d<=i.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var m=!1;switch(typeof t.mipmap){case"string":ie.parameter(t.mipmap,c,"invalid mipmap hint"),e.mipmapHint=c[t.mipmap],e.genMipmaps=!0,m=!0;break;case"boolean":m=e.genMipmaps=t.mipmap;break;case"object":ie(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,m=!0;break;default:ie.raise("invalid mipmap type")}m&&!("min"in t)&&(e.minFilter=Or)}}function G(t,n){e.texParameteri(n,_r,t.minFilter),e.texParameteri(n,xr,t.magFilter),e.texParameteri(n,mr,t.wrapS),e.texParameteri(n,vr,t.wrapT),r.ext_texture_filter_anisotropic&&e.texParameteri(n,Mr,t.anisotropic),t.genMipmaps&&(e.hint(jr,t.mipmapHint),e.generateMipmap(n))}var W=0,Z={},Y=i.maxTextureUnits,X=Array(Y).map((function(){return null}));function K(t){E.call(this),this.mipmask=0,this.internalformat=Dn,this.id=W++,this.refCount=1,this.target=t,this.texture=e.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new H,u.profile&&(this.stats={size:0})}function J(t){e.activeTexture(zr),e.bindTexture(t.target,t.texture)}function Q(){var t=X[0];t?e.bindTexture(t.target,t.texture):e.bindTexture(In,null)}function $(t){var n=t.texture;ie(n,"must not double destroy texture");var r=t.unit,i=t.target;r>=0&&(e.activeTexture(zr+r),e.bindTexture(i,null),X[r]=null),e.deleteTexture(n),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete Z[t.id],s.textureCount--}function ee(t,n){var r=new K(In);function o(e,t){var n=r.texInfo;H.call(n);var a=U();return"number"===typeof e?N(a,0|e,"number"===typeof t?0|t:0|e):e?(ie.type(e,"object","invalid arguments to regl.texture"),q(n,e),z(a,e)):N(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,k(r,a),ie.texture2D(n,a,i),r.internalformat=a.internalformat,o.width=a.width,o.height=a.height,J(r),F(a,In),G(n,In),Q(),V(a),u.profile&&(r.stats.size=di(r.internalformat,r.type,a.width,a.height,n.genMipmaps,!1)),o.format=b[r.internalformat],o.type=x[r.type],o.mag=_[n.magFilter],o.min=w[n.minFilter],o.wrapS=S[n.wrapS],o.wrapT=S[n.wrapT],o}function a(e,t,n,i){ie(!!e,"must specify image data");var a=0|t,s=0|n,u=0|i,c=L();return k(c,r),c.width=0,c.height=0,A(c,e),c.width=c.width||(r.width>>u)-a,c.height=c.height||(r.height>>u)-s,ie(r.type===c.type&&r.format===c.format&&r.internalformat===c.internalformat,"incompatible format for texture.subimage"),ie(a>=0&&s>=0&&a+c.width<=r.width&&s+c.height<=r.height,"texture.subimage write out of bounds"),ie(r.mipmask&1<<u,"missing mipmap data"),ie(c.data||c.element||c.needsCopy,"missing image data"),J(r),M(c,In,a,s,u),Q(),R(c),o}function c(t,n){var i=0|t,a=0|n||i;if(i===r.width&&a===r.height)return o;o.width=r.width=i,o.height=r.height=a,J(r);for(var s=0;r.mipmask>>s;++s){var c=i>>s,l=a>>s;if(!c||!l)break;e.texImage2D(In,s,r.format,c,l,0,r.format,r.type,null)}return Q(),u.profile&&(r.stats.size=di(r.internalformat,r.type,i,a,!1,!1)),o}return Z[r.id]=r,s.textureCount++,o(t,n),o.subimage=a,o.resize=c,o._reglType="texture2d",o._texture=r,u.profile&&(o.stats=r.stats),o.destroy=function(){r.decRef()},o}function te(t,n,r,o,a,c){var l=new K(Ln);Z[l.id]=l,s.cubeCount++;var f=new Array(6);function p(e,t,n,r,o,a){var s,c=l.texInfo;for(H.call(c),s=0;s<6;++s)f[s]=U();if("number"!==typeof e&&e)if("object"===typeof e)if(t)z(f[0],e),z(f[1],t),z(f[2],n),z(f[3],r),z(f[4],o),z(f[5],a);else if(q(c,e),C(l,e),"faces"in e){var h=e.faces;for(ie(Array.isArray(h)&&6===h.length,"cube faces must be a length 6 array"),s=0;s<6;++s)ie("object"===typeof h[s]&&!!h[s],"invalid input for cube map face"),k(f[s],l),z(f[s],h[s])}else for(s=0;s<6;++s)z(f[s],e);else ie.raise("invalid arguments to cube map");else{var d=0|e||1;for(s=0;s<6;++s)N(f[s],d,d)}for(k(l,f[0]),ie.optional((function(){i.npotTextureCube||ie(Pn(l.width)&&Pn(l.height),"your browser does not support non power or two texture dimensions")})),c.genMipmaps?l.mipmask=(f[0].width<<1)-1:l.mipmask=f[0].mipmask,ie.textureCube(l,c,f,i),l.internalformat=f[0].internalformat,p.width=f[0].width,p.height=f[0].height,J(l),s=0;s<6;++s)F(f[s],Rn+s);for(G(c,Ln),Q(),u.profile&&(l.stats.size=di(l.internalformat,l.type,p.width,p.height,c.genMipmaps,!0)),p.format=b[l.internalformat],p.type=x[l.type],p.mag=_[c.magFilter],p.min=w[c.minFilter],p.wrapS=S[c.wrapS],p.wrapT=S[c.wrapT],s=0;s<6;++s)V(f[s]);return p}function h(e,t,n,r,i){ie(!!t,"must specify image data"),ie("number"===typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var o=0|n,a=0|r,s=0|i,u=L();return k(u,l),u.width=0,u.height=0,A(u,t),u.width=u.width||(l.width>>s)-o,u.height=u.height||(l.height>>s)-a,ie(l.type===u.type&&l.format===u.format&&l.internalformat===u.internalformat,"incompatible format for texture.subimage"),ie(o>=0&&a>=0&&o+u.width<=l.width&&a+u.height<=l.height,"texture.subimage write out of bounds"),ie(l.mipmask&1<<s,"missing mipmap data"),ie(u.data||u.element||u.needsCopy,"missing image data"),J(l),M(u,Rn+e,o,a,s),Q(),R(u),p}function d(t){var n=0|t;if(n!==l.width){p.width=l.width=n,p.height=l.height=n,J(l);for(var r=0;r<6;++r)for(var i=0;l.mipmask>>i;++i)e.texImage2D(Rn+r,i,l.format,n>>i,n>>i,0,l.format,l.type,null);return Q(),u.profile&&(l.stats.size=di(l.internalformat,l.type,p.width,p.height,!1,!0)),p}}return p(t,n,r,o,a,c),p.subimage=h,p.resize=d,p._reglType="textureCube",p._texture=l,u.profile&&(p.stats=l.stats),p.destroy=function(){l.decRef()},p}function ne(){for(var t=0;t<Y;++t)e.activeTexture(zr+t),e.bindTexture(In,null),X[t]=null;Ct(Z).forEach($),s.cubeCount=0,s.textureCount=0}function re(){for(var t=0;t<Y;++t){var n=X[t];n&&(n.bindCount=0,n.unit=-1,X[t]=null)}Ct(Z).forEach((function(t){t.texture=e.createTexture(),e.bindTexture(t.target,t.texture);for(var n=0;n<32;++n)if(0!==(t.mipmask&1<<n))if(t.target===In)e.texImage2D(In,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);else for(var r=0;r<6;++r)e.texImage2D(Rn+r,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);G(t.texInfo,t.target)}))}function oe(){for(var t=0;t<Y;++t){var n=X[t];n&&(n.bindCount=0,n.unit=-1,X[t]=null),e.activeTexture(zr+t),e.bindTexture(In,null),e.bindTexture(Ln,null)}}return n(K.prototype,{bind:function(){var t=this;t.bindCount+=1;var n=t.unit;if(n<0){for(var r=0;r<Y;++r){var i=X[r];if(i){if(i.bindCount>0)continue;i.unit=-1}X[r]=t,n=r;break}n>=Y&&ie.raise("insufficient number of texture units"),u.profile&&s.maxTextureUnits<n+1&&(s.maxTextureUnits=n+1),t.unit=n,e.activeTexture(zr+n),e.bindTexture(t.target,t.texture)}return n},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&$(this)}}),u.profile&&(s.getTotalTextureSize=function(){var e=0;return Object.keys(Z).forEach((function(t){e+=Z[t].stats.size})),e}),{create2D:ee,createCube:te,clear:ne,getTexture:function(e){return null},restore:re,refresh:oe}}Jr[Un]=2,Jr[Vn]=2,Jr[Hn]=2,Jr[Xn]=4,Jr[$n]=.5,Jr[er]=.5,Jr[tr]=1,Jr[nr]=1,Jr[rr]=.5,Jr[ir]=1,Jr[or]=1,Jr[ar]=.5,Jr[sr]=.25,Jr[ur]=.5,Jr[cr]=.25,Jr[lr]=.5;var vi=36161,yi=32854,gi=32855,bi=36194,xi=33189,_i=36168,wi=34041,Si=35907,Oi=34836,Ei=34842,ki=34843,Ci=[];function ji(e,t,n){return Ci[e]*t*n}Ci[yi]=2,Ci[gi]=2,Ci[bi]=2,Ci[xi]=2,Ci[_i]=1,Ci[wi]=4,Ci[Si]=4,Ci[Oi]=16,Ci[Ei]=8,Ci[ki]=6;var Ti=function(e,t,n,r,i){var o={rgba4:yi,rgb565:bi,"rgb5 a1":gi,depth:xi,stencil:_i,"depth stencil":wi};t.ext_srgb&&(o["srgba"]=Si),t.ext_color_buffer_half_float&&(o["rgba16f"]=Ei,o["rgb16f"]=ki),t.webgl_color_buffer_float&&(o["rgba32f"]=Oi);var a=[];Object.keys(o).forEach((function(e){var t=o[e];a[t]=e}));var s=0,u={};function c(e){this.id=s++,this.refCount=1,this.renderbuffer=e,this.format=yi,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function l(t){var n=t.renderbuffer;ie(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(vi,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete u[t.id],r.renderbufferCount--}function f(t,s){var l=new c(e.createRenderbuffer());function f(t,r){var s=0,u=0,c=yi;if("object"===typeof t&&t){var p=t;if("shape"in p){var h=p.shape;ie(Array.isArray(h)&&h.length>=2,"invalid renderbuffer shape"),s=0|h[0],u=0|h[1]}else"radius"in p&&(s=u=0|p.radius),"width"in p&&(s=0|p.width),"height"in p&&(u=0|p.height);"format"in p&&(ie.parameter(p.format,o,"invalid renderbuffer format"),c=o[p.format])}else"number"===typeof t?(s=0|t,u="number"===typeof r?0|r:s):t?ie.raise("invalid arguments to renderbuffer constructor"):s=u=1;if(ie(s>0&&u>0&&s<=n.maxRenderbufferSize&&u<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==l.width||u!==l.height||c!==l.format)return f.width=l.width=s,f.height=l.height=u,l.format=c,e.bindRenderbuffer(vi,l.renderbuffer),e.renderbufferStorage(vi,c,s,u),ie(0===e.getError(),"invalid render buffer format"),i.profile&&(l.stats.size=ji(l.format,l.width,l.height)),f.format=a[l.format],f}function p(t,r){var o=0|t,a=0|r||o;return o===l.width&&a===l.height||(ie(o>0&&a>0&&o<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),f.width=l.width=o,f.height=l.height=a,e.bindRenderbuffer(vi,l.renderbuffer),e.renderbufferStorage(vi,l.format,o,a),ie(0===e.getError(),"invalid render buffer format"),i.profile&&(l.stats.size=ji(l.format,l.width,l.height))),f}return u[l.id]=l,r.renderbufferCount++,f(t,s),f.resize=p,f._reglType="renderbuffer",f._renderbuffer=l,i.profile&&(f.stats=l.stats),f.destroy=function(){l.decRef()},f}function p(){Ct(u).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(vi,t.renderbuffer),e.renderbufferStorage(vi,t.format,t.width,t.height)})),e.bindRenderbuffer(vi,null)}return c.prototype.decRef=function(){--this.refCount<=0&&l(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(u).forEach((function(t){e+=u[t].stats.size})),e}),{create:f,clear:function(){Ct(u).forEach(l)},restore:p}},Ai=36160,Pi=36161,Mi=3553,Ii=34069,Li=36064,Ri=36096,Di=36128,Ni=33306,zi=36053,Fi=36054,Bi=36055,Ui=36057,Vi=36061,Hi=36193,qi=5121,Gi=5126,Wi=6407,Zi=6408,Yi=6402,Xi=[Wi,Zi],Ki=[];Ki[Zi]=4,Ki[Wi]=3;var Ji=[];Ji[qi]=1,Ji[Gi]=4,Ji[Hi]=2;var Qi=32854,$i=32855,eo=36194,to=33189,no=36168,ro=34041,io=35907,oo=34836,ao=34842,so=34843,uo=[Qi,$i,eo,io,ao,so,oo],co={};function lo(e,t,r,i,o,a){var s={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],c=["rgba4","rgb565","rgb5 a1"];t.ext_srgb&&c.push("srgba"),t.ext_color_buffer_half_float&&c.push("rgba16f","rgb16f"),t.webgl_color_buffer_float&&c.push("rgba32f");var l=["uint8"];function f(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,i=0;t?(r=t.width,i=t.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function p(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function h(e,t,n){if(e)if(e.texture){var r=e.texture._texture,i=Math.max(1,r.width),o=Math.max(1,r.height);ie(i===t&&o===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=e.renderbuffer._renderbuffer;ie(a.width===t&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function d(t,n){n&&(n.texture?e.framebufferTexture2D(Ai,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(Ai,t,Pi,n.renderbuffer._renderbuffer.renderbuffer))}function m(e){var t=Mi,n=null,r=null,i=e;"object"===typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),ie.type(i,"function","invalid attachment data");var o=i._reglType;return"texture2d"===o?(n=i,ie(t===Mi)):"textureCube"===o?(n=i,ie(t>=Ii&&t<Ii+6,"invalid cube map target")):"renderbuffer"===o?(r=i,t=Pi):ie.raise("invalid regl object for attachment"),new f(t,n,r)}function v(e,t,n,r,a){if(n){var s=i.create2D({width:e,height:t,format:r,type:a});return s._texture.refCount=0,new f(Mi,s,null)}var u=o.create({width:e,height:t,format:r});return u._renderbuffer.refCount=0,new f(Pi,null,u)}function y(e){return e&&(e.texture||e.renderbuffer)}function g(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}t.oes_texture_half_float&&l.push("half float","float16"),t.oes_texture_float&&l.push("float","float32");var b=0,x={};function _(){this.id=b++,x[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function w(e){e.colorAttachments.forEach(p),p(e.depthAttachment),p(e.stencilAttachment),p(e.depthStencilAttachment)}function S(t){var n=t.framebuffer;ie(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,a.framebufferCount--,delete x[t.id]}function O(t){var n;e.bindFramebuffer(Ai,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)d(Li+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(Ai,Li+n,Mi,null,0);e.framebufferTexture2D(Ai,Ni,Mi,null,0),e.framebufferTexture2D(Ai,Ri,Mi,null,0),e.framebufferTexture2D(Ai,Di,Mi,null,0),d(Ri,t.depthAttachment),d(Di,t.stencilAttachment),d(Ni,t.depthStencilAttachment);var o=e.checkFramebufferStatus(Ai);e.isContextLost()||o===zi||ie.raise("framebuffer configuration not supported, status = "+co[o]),e.bindFramebuffer(Ai,s.next?s.next.framebuffer:null),s.cur=s.next,e.getError()}function E(e,i){var o=new _;function f(e,n){var i;ie(s.next!==o,"can not update framebuffer which is currently in use");var a=0,p=0,d=!0,g=!0,b=null,x=!0,_="rgba",S="uint8",E=1,k=null,C=null,j=null,T=!1;if("number"===typeof e)a=0|e,p=0|n||a;else if(e){ie.type(e,"object","invalid arguments for framebuffer");var A=e;if("shape"in A){var P=A.shape;ie(Array.isArray(P)&&P.length>=2,"invalid shape for framebuffer"),a=P[0],p=P[1]}else"radius"in A&&(a=p=A.radius),"width"in A&&(a=A.width),"height"in A&&(p=A.height);("color"in A||"colors"in A)&&(b=A.color||A.colors,Array.isArray(b)&&ie(1===b.length||t.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in A&&(E=0|A.colorCount,ie(E>0,"invalid color buffer count")),"colorTexture"in A&&(x=!!A.colorTexture,_="rgba4"),"colorType"in A&&(S=A.colorType,x?(ie(t.oes_texture_float||!("float"===S||"float32"===S),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ie(t.oes_texture_half_float||!("half float"===S||"float16"===S),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===S||"float16"===S?(ie(t.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),_="rgba16f"):"float"!==S&&"float32"!==S||(ie(t.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),_="rgba32f"),ie.oneOf(S,l,"invalid color type")),"colorFormat"in A&&(_=A.colorFormat,u.indexOf(_)>=0?x=!0:c.indexOf(_)>=0?x=!1:ie.optional((function(){x?ie.oneOf(A.colorFormat,u,"invalid color format for texture"):ie.oneOf(A.colorFormat,c,"invalid color format for renderbuffer")})))),("depthTexture"in A||"depthStencilTexture"in A)&&(T=!(!A.depthTexture&&!A.depthStencilTexture),ie(!T||t.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in A&&("boolean"===typeof A.depth?d=A.depth:(k=A.depth,g=!1)),"stencil"in A&&("boolean"===typeof A.stencil?g=A.stencil:(C=A.stencil,d=!1)),"depthStencil"in A&&("boolean"===typeof A.depthStencil?d=g=A.depthStencil:(j=A.depthStencil,d=!1,g=!1))}else a=p=1;var M=null,I=null,L=null,R=null;if(Array.isArray(b))M=b.map(m);else if(b)M=[m(b)];else for(M=new Array(E),i=0;i<E;++i)M[i]=v(a,p,x,_,S);ie(t.webgl_draw_buffers||M.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ie(M.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||M[0].width,p=p||M[0].height,k?I=m(k):d&&!g&&(I=v(a,p,T,"depth","uint32")),C?L=m(C):g&&!d&&(L=v(a,p,!1,"stencil","uint8")),j?R=m(j):!k&&!C&&g&&d&&(R=v(a,p,T,"depth stencil","depth stencil")),ie(!!k+!!C+!!j<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var D=null;for(i=0;i<M.length;++i)if(h(M[i],a,p),ie(!M[i]||M[i].texture&&Xi.indexOf(M[i].texture._texture.format)>=0||M[i].renderbuffer&&uo.indexOf(M[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),M[i]&&M[i].texture){var N=Ki[M[i].texture._texture.format]*Ji[M[i].texture._texture.type];null===D?D=N:ie(D===N,"all color attachments much have the same number of bits per pixel.")}return h(I,a,p),ie(!I||I.texture&&I.texture._texture.format===Yi||I.renderbuffer&&I.renderbuffer._renderbuffer.format===to,"invalid depth attachment for framebuffer object"),h(L,a,p),ie(!L||L.renderbuffer&&L.renderbuffer._renderbuffer.format===no,"invalid stencil attachment for framebuffer object"),h(R,a,p),ie(!R||R.texture&&R.texture._texture.format===ro||R.renderbuffer&&R.renderbuffer._renderbuffer.format===ro,"invalid depth-stencil attachment for framebuffer object"),w(o),o.width=a,o.height=p,o.colorAttachments=M,o.depthAttachment=I,o.stencilAttachment=L,o.depthStencilAttachment=R,f.color=M.map(y),f.depth=y(I),f.stencil=y(L),f.depthStencil=y(R),f.width=o.width,f.height=o.height,O(o),f}function p(e,t){ie(s.next!==o,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===o.width&&r===o.height)return f;for(var i=o.colorAttachments,a=0;a<i.length;++a)g(i[a],n,r);return g(o.depthAttachment,n,r),g(o.stencilAttachment,n,r),g(o.depthStencilAttachment,n,r),o.width=f.width=n,o.height=f.height=r,O(o),f}return a.framebufferCount++,f(e,i),n(f,{resize:p,_reglType:"framebuffer",_framebuffer:o,destroy:function(){S(o),w(o)},use:function(e){s.setFBO({framebuffer:f},e)}})}function k(e){var o=Array(6);function a(e){var r;ie(o.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var c,f={color:null},p=0,h=null,d="rgba",m="uint8",v=1;if("number"===typeof e)p=0|e;else if(e){ie.type(e,"object","invalid arguments for framebuffer");var y=e;if("shape"in y){var g=y.shape;ie(Array.isArray(g)&&g.length>=2,"invalid shape for framebuffer"),ie(g[0]===g[1],"cube framebuffer must be square"),p=g[0]}else"radius"in y&&(p=0|y.radius),"width"in y?(p=0|y.width,"height"in y&&ie(y.height===p,"must be square")):"height"in y&&(p=0|y.height);("color"in y||"colors"in y)&&(h=y.color||y.colors,Array.isArray(h)&&ie(1===h.length||t.webgl_draw_buffers,"multiple render targets not supported")),h||("colorCount"in y&&(v=0|y.colorCount,ie(v>0,"invalid color buffer count")),"colorType"in y&&(ie.oneOf(y.colorType,l,"invalid color type"),m=y.colorType),"colorFormat"in y&&(d=y.colorFormat,ie.oneOf(y.colorFormat,u,"invalid color format for texture"))),"depth"in y&&(f.depth=y.depth),"stencil"in y&&(f.stencil=y.stencil),"depthStencil"in y&&(f.depthStencil=y.depthStencil)}else p=1;if(h)if(Array.isArray(h))for(c=[],r=0;r<h.length;++r)c[r]=h[r];else c=[h];else{c=Array(v);var b={radius:p,format:d,type:m};for(r=0;r<v;++r)c[r]=i.createCube(b)}for(f.color=Array(c.length),r=0;r<c.length;++r){var x=c[r];ie("function"===typeof x&&"textureCube"===x._reglType,"invalid cube map"),p=p||x.width,ie(x.width===p&&x.height===p,"invalid cube map shape"),f.color[r]={target:Ii,data:c[r]}}for(r=0;r<6;++r){for(var _=0;_<c.length;++_)f.color[_].target=Ii+r;r>0&&(f.depth=o[0].depth,f.stencil=o[0].stencil,f.depthStencil=o[0].depthStencil),o[r]?o[r](f):o[r]=E(f)}return n(a,{width:p,height:p,color:c})}function c(e){var t,n=0|e;if(ie(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var i=a.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;t<6;++t)o[t].resize(n);return a.width=a.height=n,a}return a(e),n(a,{faces:o,resize:c,_reglType:"framebufferCube",destroy:function(){o.forEach((function(e){e.destroy()}))}})}function C(){s.cur=null,s.next=null,s.dirty=!0,Ct(x).forEach((function(t){t.framebuffer=e.createFramebuffer(),O(t)}))}return n(s,{getFramebuffer:function(e){if("function"===typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof _)return t}return null},create:E,createCube:k,clear:function(){Ct(x).forEach(S)},restore:C})}co[zi]="complete",co[Fi]="incomplete attachment",co[Ui]="incomplete dimensions",co[Bi]="incomplete, missing attachment",co[Vi]="unsupported";var fo=5126,po=34962,ho=34963,mo=["attributes","elements","offset","count","primitive","instances"];function vo(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=fo,this.offset=0,this.stride=0,this.divisor=0}function yo(e,n,r,i,o,a,s){for(var u=r.maxAttributes,c=new Array(u),l=0;l<u;++l)c[l]=new vo;var f=0,p={},h={Record:vo,scope:{},state:c,currentVAO:null,targetVAO:null,restore:m()?w:function(){},createVAO:S,getVAO:y,destroyBuffer:d,setVAO:m()?g:b,clear:m()?x:function(){}};function d(t){for(var n=0;n<c.length;++n){var r=c[n];r.buffer===t&&(e.disableVertexAttribArray(n),r.buffer=null)}}function m(){return n.oes_vertex_array_object}function v(){return n.angle_instanced_arrays}function y(e){return"function"===typeof e&&e._vao?e._vao:null}function g(e){if(e!==h.currentVAO){var t=m();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),h.currentVAO=e}}function b(t){if(t!==h.currentVAO){if(t)t.bindAttrs();else{for(var n=v(),r=0;r<c.length;++r){var i=c[r];i.buffer?(e.enableVertexAttribArray(r),i.buffer.bind(),e.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(r,i.divisor)):(e.disableVertexAttribArray(r),e.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}s.elements?e.bindBuffer(ho,s.elements.buffer.buffer):e.bindBuffer(ho,null)}h.currentVAO=t}}function x(){Ct(p).forEach((function(e){e.destroy()}))}function _(){this.id=++f,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var e=m();this.vao=e?e.createVertexArrayOES():null,p[this.id]=this,this.buffers=[]}function w(){var e=m();e&&Ct(p).forEach((function(e){e.refresh()}))}function S(e){var r=new _;function s(e){var i;if(Array.isArray(e))i=e,r.elements&&r.ownsElements&&r.elements.destroy(),r.elements=null,r.ownsElements=!1,r.offset=0,r.count=0,r.instances=-1,r.primitive=4;else{if(ie("object"===typeof e,"invalid arguments for create vao"),ie("attributes"in e,"must specify attributes for vao"),e.elements){var c=e.elements;r.ownsElements?"function"===typeof c&&"elements"===c._reglType?(r.elements.destroy(),r.ownsElements=!1):(r.elements(c),r.ownsElements=!1):a.getElements(e.elements)?(r.elements=e.elements,r.ownsElements=!1):(r.elements=a.create(e.elements),r.ownsElements=!0)}else r.elements=null,r.ownsElements=!1;i=e.attributes,r.offset=0,r.count=-1,r.instances=-1,r.primitive=4,r.elements&&(r.count=r.elements._elements.vertCount,r.primitive=r.elements._elements.primType),"offset"in e&&(r.offset=0|e.offset),"count"in e&&(r.count=0|e.count),"instances"in e&&(r.instances=0|e.instances),"primitive"in e&&(ie(e.primitive in pn,"bad primitive type: "+e.primitive),r.primitive=pn[e.primitive]),ie.optional((function(){for(var t=Object.keys(e),n=0;n<t.length;++n)ie(mo.indexOf(t[n])>=0,'invalid option for vao: "'+t[n]+'" valid options are '+mo)})),ie(Array.isArray(i),"attributes must be an array")}ie(i.length<u,"too many attributes"),ie(i.length>0,"must specify at least one attribute");var l={},f=r.attributes;f.length=i.length;for(var p=0;p<i.length;++p){var h,d=i[p],m=f[p]=new vo,v=d.data||d;if(Array.isArray(v)||t(v)||kt(v))r.buffers[p]&&(h=r.buffers[p],t(v)&&h._buffer.byteLength>=v.byteLength?h.subdata(v):(h.destroy(),r.buffers[p]=null)),r.buffers[p]||(h=r.buffers[p]=o.create(d,po,!1,!0)),m.buffer=o.getBuffer(h),m.size=0|m.buffer.dimension,m.normalized=!1,m.type=m.buffer.dtype,m.offset=0,m.stride=0,m.divisor=0,m.state=1,l[p]=1;else o.getBuffer(d)?(m.buffer=o.getBuffer(d),m.size=0|m.buffer.dimension,m.normalized=!1,m.type=m.buffer.dtype,m.offset=0,m.stride=0,m.divisor=0,m.state=1):o.getBuffer(d.buffer)?(m.buffer=o.getBuffer(d.buffer),m.size=0|(+d.size||m.buffer.dimension),m.normalized=!!d.normalized||!1,"type"in d?(ie.parameter(d.type,qt,"invalid buffer type"),m.type=qt[d.type]):m.type=m.buffer.dtype,m.offset=0|(d.offset||0),m.stride=0|(d.stride||0),m.divisor=0|(d.divisor||0),m.state=1,ie(m.size>=1&&m.size<=4,"size must be between 1 and 4"),ie(m.offset>=0,"invalid offset"),ie(m.stride>=0&&m.stride<=255,"stride must be between 0 and 255"),ie(m.divisor>=0,"divisor must be positive"),ie(!m.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in d?(ie(p>0,"first attribute must not be a constant"),m.x=+d.x||0,m.y=+d.y||0,m.z=+d.z||0,m.w=+d.w||0,m.state=2):ie(!1,"invalid attribute spec for location "+p)}for(var y=0;y<r.buffers.length;++y)!l[y]&&r.buffers[y]&&(r.buffers[y].destroy(),r.buffers[y]=null);return r.refresh(),s}return i.vaoCount+=1,s.destroy=function(){for(var e=0;e<r.buffers.length;++e)r.buffers[e]&&r.buffers[e].destroy();r.buffers.length=0,r.ownsElements&&(r.elements.destroy(),r.elements=null,r.ownsElements=!1),r.destroy()},s._vao=r,s._reglType="vao",s(e)}return _.prototype.bindAttrs=function(){for(var t=v(),n=this.attributes,r=0;r<n.length;++r){var i=n[r];i.buffer?(e.enableVertexAttribArray(r),e.bindBuffer(po,i.buffer.buffer),e.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offset),t&&i.divisor&&t.vertexAttribDivisorANGLE(r,i.divisor)):(e.disableVertexAttribArray(r),e.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}for(var o=n.length;o<u;++o)e.disableVertexAttribArray(o);var s=a.getElements(this.elements);s?e.bindBuffer(ho,s.buffer.buffer):e.bindBuffer(ho,null)},_.prototype.refresh=function(){var e=m();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),h.currentVAO=null,e.bindVertexArrayOES(null))},_.prototype.destroy=function(){if(this.vao){var e=m();this===h.currentVAO&&(h.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),p[this.id]&&(delete p[this.id],i.vaoCount-=1)},h}var go=35632,bo=35633,xo=35718,_o=35721;function wo(e,t,r,i){var o={},a={};function s(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function u(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function c(n,r,i){var s=n===go?o:a,u=s[r];if(!u){var c=t.str(r);u=e.createShader(n),e.shaderSource(u,c),e.compileShader(u),ie.shaderError(e,u,c,n,i),s[r]=u}return u}var l={},f=[],p=0;function h(e,t){this.id=p++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function d(n,r,o){var a,l,f=c(go,n.fragId),p=c(bo,n.vertId),h=n.program=e.createProgram();if(e.attachShader(h,f),e.attachShader(h,p),o)for(a=0;a<o.length;++a){var d=o[a];e.bindAttribLocation(h,d[0],d[1])}e.linkProgram(h),ie.linkError(e,h,t.str(n.fragId),t.str(n.vertId),r);var m=e.getProgramParameter(h,xo);i.profile&&(n.stats.uniformsCount=m);var v=n.uniforms;for(a=0;a<m;++a)if(l=e.getActiveUniform(h,a),l)if(l.size>1)for(var y=0;y<l.size;++y){var g=l.name.replace("[0]","["+y+"]");u(v,new s(g,t.id(g),e.getUniformLocation(h,g),l))}else u(v,new s(l.name,t.id(l.name),e.getUniformLocation(h,l.name),l));var b=e.getProgramParameter(h,_o);i.profile&&(n.stats.attributesCount=b);var x=n.attributes;for(a=0;a<b;++a)l=e.getActiveAttrib(h,a),l&&u(x,new s(l.name,t.id(l.name),e.getAttribLocation(h,l.name),l))}function m(){o={},a={};for(var e=0;e<f.length;++e)d(f[e],null,f[e].attributes.map((function(e){return[e.location,e.name]})))}return i.profile&&(r.getMaxUniformsCount=function(){var e=0;return f.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},r.getMaxAttributesCount=function(){var e=0;return f.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);Ct(o).forEach(t),o={},Ct(a).forEach(t),a={},f.forEach((function(t){e.deleteProgram(t.program)})),f.length=0,l={},r.shaderCount=0},program:function(t,i,s,u){ie.command(t>=0,"missing vertex shader",s),ie.command(i>=0,"missing fragment shader",s);var c=l[i];c||(c=l[i]={});var p=c[t];if(p&&(p.refCount++,!u))return p;var m=new h(i,t);return r.shaderCount++,d(m,s,u),p||(c[t]=m),f.push(m),n(m,{destroy:function(){if(m.refCount--,m.refCount<=0){e.deleteProgram(m.program);var t=f.indexOf(m);f.splice(t,1),r.shaderCount--}c[m.vertId].refCount<=0&&(e.deleteShader(a[m.vertId]),delete a[m.vertId],delete l[m.fragId][m.vertId]),Object.keys(l[m.fragId]).length||(e.deleteShader(o[m.fragId]),delete o[m.fragId],delete l[m.fragId])}})},restore:m,shader:c,frag:-1,vert:-1}}var So=6408,Oo=5121,Eo=3333,ko=5126;function Co(e,n,r,i,o,a,s){function u(u){var c;null===n.next?(ie(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),c=Oo):(ie(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),c=n.next.colorAttachments[0].texture._texture.type,ie.optional((function(){a.oes_texture_float?(ie(c===Oo||c===ko,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),c===ko&&ie(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ie(c===Oo,"Reading from a framebuffer is only allowed for the type 'uint8'")})));var l=0,f=0,p=i.framebufferWidth,h=i.framebufferHeight,d=null;t(u)?d=u:u&&(ie.type(u,"object","invalid arguments to regl.read()"),l=0|u.x,f=0|u.y,ie(l>=0&&l<i.framebufferWidth,"invalid x offset for regl.read"),ie(f>=0&&f<i.framebufferHeight,"invalid y offset for regl.read"),p=0|(u.width||i.framebufferWidth-l),h=0|(u.height||i.framebufferHeight-f),d=u.data||null),d&&(c===Oo?ie(d instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):c===ko&&ie(d instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ie(p>0&&p+l<=i.framebufferWidth,"invalid width for read pixels"),ie(h>0&&h+f<=i.framebufferHeight,"invalid height for read pixels"),r();var m=p*h*4;return d||(c===Oo?d=new Uint8Array(m):c===ko&&(d=d||new Float32Array(m))),ie.isTypedArray(d,"data buffer for regl.read() must be a typedarray"),ie(d.byteLength>=m,"data buffer for regl.read() too small"),e.pixelStorei(Eo,4),e.readPixels(l,f,p,h,So,c,d),d}function c(e){var t;return n.setFBO({framebuffer:e.framebuffer},(function(){t=u(e)})),t}function l(e){return e&&"framebuffer"in e?c(e):u(e)}return l}function jo(e){return Array.prototype.slice.call(e)}function To(e){return jo(e).join("")}function Ao(){var t=0,r=[],i=[];function o(e){for(var n=0;n<i.length;++n)if(i[n]===e)return r[n];var o="g"+t++;return r.push(o),i.push(e),o}function a(){var e=[];function r(){e.push.apply(e,jo(arguments))}var i=[];function o(){var n="v"+t++;return i.push(n),arguments.length>0&&(e.push(n,"="),e.push.apply(e,jo(arguments)),e.push(";")),n}return n(r,{def:o,toString:function(){return To([i.length>0?"var "+i.join(",")+";":"",To(e)])}})}function s(){var e=a(),t=a(),r=e.toString,i=t.toString;function o(n,r){t(n,r,"=",e.def(n,r),";")}return n((function(){e.apply(e,jo(arguments))}),{def:e.def,entry:e,exit:t,save:o,set:function(t,n,r){o(t,n),e(t,n,"=",r,";")},toString:function(){return r()+i()}})}function u(){var e=To(arguments),t=s(),r=s(),i=t.toString,o=r.toString;return n(t,{then:function(){return t.apply(t,jo(arguments)),this},else:function(){return r.apply(r,jo(arguments)),this},toString:function(){var t=o();return t&&(t="else{"+t+"}"),To(["if(",e,"){",i(),"}",t])}})}var c=a(),l={};function f(e,t){var r=[];function i(){var e="a"+r.length;return r.push(e),e}t=t||0;for(var o=0;o<t;++o)i();var a=s(),u=a.toString,c=l[e]=n(a,{arg:i,toString:function(){return To(["function(",r.join(),"){",u(),"}"])}});return c}function p(){var t=['"use strict";',c,"return {"];Object.keys(l).forEach((function(e){t.push('"',e,'":',l[e].toString(),",")})),t.push("}");var n=To(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n"),o="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast,a=o?e.Function.apply(null,r.concat(n)):Function.apply(null,r.concat(n));return a.apply(null,i)}return{global:c,link:o,block:a,proc:f,scope:s,cond:u,compile:p}}var Po="xyzw".split(""),Mo=5121,Io=1,Lo=2,Ro=0,Do=1,No=2,zo=3,Fo=4,Bo=5,Uo=6,Vo="dither",Ho="blend.enable",qo="blend.color",Go="blend.equation",Wo="blend.func",Zo="depth.enable",Yo="depth.func",Xo="depth.range",Ko="depth.mask",Jo="colorMask",Qo="cull.enable",$o="cull.face",ea="frontFace",ta="lineWidth",na="polygonOffset.enable",ra="polygonOffset.offset",ia="sample.alpha",oa="sample.enable",aa="sample.coverage",sa="stencil.enable",ua="stencil.mask",ca="stencil.func",la="stencil.opFront",fa="stencil.opBack",pa="scissor.enable",ha="scissor.box",da="viewport",ma="profile",va="framebuffer",ya="vert",ga="frag",ba="elements",xa="primitive",_a="count",wa="offset",Sa="instances",Oa="vao",Ea="Width",ka="Height",Ca=va+Ea,ja=va+ka,Ta=da+Ea,Aa=da+ka,Pa="drawingBuffer",Ma=Pa+Ea,Ia=Pa+ka,La=[Wo,Go,ca,la,fa,aa,da,ha,ra],Ra=34962,Da=34963,Na=35632,za=35633,Fa=3553,Ba=34067,Ua=2884,Va=3042,Ha=3024,qa=2960,Ga=2929,Wa=3089,Za=32823,Ya=32926,Xa=32928,Ka=5126,Ja=35664,Qa=35665,$a=35666,es=5124,ts=35667,ns=35668,rs=35669,is=35670,os=35671,as=35672,ss=35673,us=35674,cs=35675,ls=35676,fs=35678,ps=35680,hs=4,ds=1028,ms=1029,vs=2304,ys=2305,gs=32775,bs=32776,xs=519,_s=7680,ws=0,Ss=1,Os=32774,Es=513,ks=36160,Cs=36064,js={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ts=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],As={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ps={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ms={frag:Na,vert:za},Is={cw:vs,ccw:ys};function Ls(e){return Array.isArray(e)||t(e)||kt(e)}function Rs(e){return e.sort((function(e,t){return e===da?-1:t===da?1:e<t?-1:1}))}function Ds(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function Ns(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function zs(e){return new Ds(!1,!1,!1,e)}function Fs(e,t){var n=e.type;if(n===Ro){var r=e.data.length;return new Ds(!0,r>=1,r>=2,t)}if(n===Fo){var i=e.data;return new Ds(i.thisDep,i.contextDep,i.propDep,t)}if(n===Bo)return new Ds(!1,!1,!1,t);if(n===Uo){for(var o=!1,a=!1,s=!1,u=0;u<e.data.length;++u){var c=e.data[u];if(c.type===Do)s=!0;else if(c.type===No)a=!0;else if(c.type===zo)o=!0;else if(c.type===Ro){o=!0;var l=c.data;l>=1&&(a=!0),l>=2&&(s=!0)}else c.type===Fo&&(o=o||c.data.thisDep,a=a||c.data.contextDep,s=s||c.data.propDep)}return new Ds(o,a,s,t)}return new Ds(n===zo,n===No,n===Do,t)}var Bs=new Ds(!1,!1,!1,(function(){}));function Us(e,t,r,i,o,a,s,u,c,l,f,p,h,d,m){var v=l.Record,y={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(y.min=gs,y.max=bs);var g=r.angle_instanced_arrays,b=r.webgl_draw_buffers,x=r.oes_vertex_array_object,_={dirty:!0,profile:m.profile},w={},S=[],O={},E={};function k(e){return e.replace(".","_")}function C(e,t,n){var r=k(e);S.push(e),w[r]=_[r]=!!n,O[r]=t}function j(e,t,n){var r=k(e);S.push(e),Array.isArray(n)?(_[r]=n.slice(),w[r]=n.slice()):_[r]=w[r]=n,E[r]=t}C(Vo,Ha),C(Ho,Va),j(qo,"blendColor",[0,0,0,0]),j(Go,"blendEquationSeparate",[Os,Os]),j(Wo,"blendFuncSeparate",[Ss,ws,Ss,ws]),C(Zo,Ga,!0),j(Yo,"depthFunc",Es),j(Xo,"depthRange",[0,1]),j(Ko,"depthMask",!0),j(Jo,Jo,[!0,!0,!0,!0]),C(Qo,Ua),j($o,"cullFace",ms),j(ea,ea,ys),j(ta,ta,1),C(na,Za),j(ra,"polygonOffset",[0,0]),C(ia,Ya),C(oa,Xa),j(aa,"sampleCoverage",[1,!1]),C(sa,qa),j(ua,"stencilMask",-1),j(ca,"stencilFunc",[xs,0,-1]),j(la,"stencilOpSeparate",[ds,_s,_s,_s]),j(fa,"stencilOpSeparate",[ms,_s,_s,_s]),C(pa,Wa),j(ha,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),j(da,da,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var T={gl:e,context:h,strings:t,next:w,current:_,draw:p,elements:a,buffer:o,shader:f,attributes:l.state,vao:l,uniforms:c,framebuffer:u,extensions:r,timer:d,isBufferArgs:Ls},A={primTypes:pn,compareFuncs:As,blendFuncs:js,blendEquations:y,stencilOps:Ps,glTypes:qt,orientationType:Is};ie.optional((function(){T.isArrayLike=An})),b&&(A.backBuffer=[ms],A.drawBuffer=Te(i.maxDrawbuffers,(function(e){return 0===e?[0]:Te(e,(function(e){return Cs+e}))})));var P=0;function M(){var e=Ao(),n=e.link,r=e.global;e.id=P++,e.batchId="0";var i=n(T),o=e.shared={props:"a0"};Object.keys(T).forEach((function(e){o[e]=r.def(i,".",e)})),ie.optional((function(){e.CHECK=n(ie),e.commandStr=ie.guessCommand(),e.command=n(e.commandStr),e.assert=function(e,t,r){e("if(!(",t,"))",this.CHECK,".commandRaise(",n(r),",",this.command,");")},A.invalidBlendCombinations=Ts}));var a=e.next={},s=e.current={};Object.keys(E).forEach((function(e){Array.isArray(_[e])&&(a[e]=r.def(o.next,".",e),s[e]=r.def(o.current,".",e))}));var u=e.constants={};Object.keys(A).forEach((function(e){u[e]=r.def(JSON.stringify(A[e]))})),e.invoke=function(t,r){switch(r.type){case Ro:var i=["this",o.context,o.props,e.batchId];return t.def(n(r.data),".call(",i.slice(0,Math.max(r.data.length+1,4)),")");case Do:return t.def(o.props,r.data);case No:return t.def(o.context,r.data);case zo:return t.def("this",r.data);case Fo:return r.data.append(e,t),r.data.ref;case Bo:return r.data.toString();case Uo:return r.data.map((function(n){return e.invoke(t,n)}))}},e.attribCache={};var c={};return e.scopeAttrib=function(e){var r=t.id(e);if(r in c)return c[r];var i=l.scope[r];i||(i=l.scope[r]=new v);var o=c[r]=n(i);return o},e}function I(e){var t,n=e["static"],r=e.dynamic;if(ma in n){var i=!!n[ma];t=zs((function(e,t){return i})),t.enable=i}else if(ma in r){var o=r[ma];t=Fs(o,(function(e,t){return e.invoke(t,o)}))}return t}function L(e,t){var n=e["static"],r=e.dynamic;if(va in n){var i=n[va];return i?(i=u.getFramebuffer(i),ie.command(i,"invalid framebuffer object"),zs((function(e,t){var n=e.link(i),r=e.shared;t.set(r.framebuffer,".next",n);var o=r.context;return t.set(o,"."+Ca,n+".width"),t.set(o,"."+ja,n+".height"),n}))):zs((function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+Ca,r+"."+Ma),t.set(r,"."+ja,r+"."+Ia),"null"}))}if(va in r){var o=r[va];return Fs(o,(function(e,t){var n=e.invoke(t,o),r=e.shared,i=r.framebuffer,a=t.def(i,".getFramebuffer(",n,")");ie.optional((function(){e.assert(t,"!"+n+"||"+a,"invalid framebuffer object")})),t.set(i,".next",a);var s=r.context;return t.set(s,"."+Ca,a+"?"+a+".width:"+s+"."+Ma),t.set(s,"."+ja,a+"?"+a+".height:"+s+"."+Ia),a}))}return null}function R(e,t,n){var r=e["static"],i=e.dynamic;function o(e){if(e in r){var o=r[e];ie.commandType(o,"object","invalid "+e,n.commandStr);var a,s,u=!0,c=0|o.x,l=0|o.y;return"width"in o?(a=0|o.width,ie.command(a>=0,"invalid "+e,n.commandStr)):u=!1,"height"in o?(s=0|o.height,ie.command(s>=0,"invalid "+e,n.commandStr)):u=!1,new Ds(!u&&t&&t.thisDep,!u&&t&&t.contextDep,!u&&t&&t.propDep,(function(e,t){var n=e.shared.context,r=a;"width"in o||(r=t.def(n,".",Ca,"-",c));var i=s;return"height"in o||(i=t.def(n,".",ja,"-",l)),[c,l,r,i]}))}if(e in i){var f=i[e],p=Fs(f,(function(t,n){var r=t.invoke(n,f);ie.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}));var i=t.shared.context,o=n.def(r,".x|0"),a=n.def(r,".y|0"),s=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",Ca,"-",o,")"),u=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",ja,"-",a,")");return ie.optional((function(){t.assert(n,s+">=0&&"+u+">=0","invalid "+e)})),[o,a,s,u]}));return t&&(p.thisDep=p.thisDep||t.thisDep,p.contextDep=p.contextDep||t.contextDep,p.propDep=p.propDep||t.propDep),p}return t?new Ds(t.thisDep,t.contextDep,t.propDep,(function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",Ca),t.def(n,".",ja)]})):null}var a=o(da);if(a){var s=a;a=new Ds(a.thisDep,a.contextDep,a.propDep,(function(e,t){var n=s.append(e,t),r=e.shared.context;return t.set(r,"."+Ta,n[2]),t.set(r,"."+Aa,n[3]),n}))}return{viewport:a,scissor_box:o(ha)}}function D(e,t){var n=e["static"],r="string"===typeof n[ga]&&"string"===typeof n[ya];if(r){if(Object.keys(t.dynamic).length>0)return null;var i=t["static"],o=Object.keys(i);if(o.length>0&&"number"===typeof i[o[0]]){for(var a=[],s=0;s<o.length;++s)ie("number"===typeof i[o[s]],"must specify all vertex attribute locations when using vaos"),a.push([0|i[o[s]],o[s]]);return a}}return null}function N(e,n,r){var i=e["static"],o=e.dynamic;function a(e){if(e in i){var n=t.id(i[e]);ie.optional((function(){f.shader(Ms[e],n,ie.guessCommand())}));var r=zs((function(){return n}));return r.id=n,r}if(e in o){var a=o[e];return Fs(a,(function(t,n){var r=t.invoke(n,a),i=n.def(t.shared.strings,".id(",r,")");return ie.optional((function(){n(t.shared.shader,".shader(",Ms[e],",",i,",",t.command,");")})),i}))}return null}var s,u=a(ga),c=a(ya),l=null;return Ns(u)&&Ns(c)?(l=f.program(c.id,u.id,null,r),s=zs((function(e,t){return e.link(l)}))):s=new Ds(u&&u.thisDep||c&&c.thisDep,u&&u.contextDep||c&&c.contextDep,u&&u.propDep||c&&c.propDep,(function(e,t){var n,r,i=e.shared.shader;n=u?u.append(e,t):t.def(i,".",ga),r=c?c.append(e,t):t.def(i,".",ya);var o=i+".program("+r+","+n;return ie.optional((function(){o+=","+e.command})),t.def(o+")")})),{frag:u,vert:c,progVar:s,program:l}}function z(e,t){var n=e["static"],r=e.dynamic,i={},o=!1;function s(){if(Oa in n){var e=n[Oa];return null!==e&&null===l.getVAO(e)&&(e=l.createVAO(e)),o=!0,i.vao=e,zs((function(t){var n=l.getVAO(e);return n?t.link(n):"null"}))}if(Oa in r){o=!0;var t=r[Oa];return Fs(t,(function(e,n){var r=e.invoke(n,t);return n.def(e.shared.vao+".getVAO("+r+")")}))}return null}var u=s(),c=!1;function f(){if(ba in n){var e=n[ba];if(i.elements=e,Ls(e)){var s=i.elements=a.create(e,!0);e=a.getElements(s),c=!0}else e&&(e=a.getElements(e),c=!0,ie.command(e,"invalid elements",t.commandStr));var l=zs((function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null}));return l.value=e,l}if(ba in r){c=!0;var f=r[ba];return Fs(f,(function(e,t){var n=e.shared,r=n.isBufferArgs,i=n.elements,o=e.invoke(t,f),a=t.def("null"),s=t.def(r,"(",o,")"),u=e.cond(s).then(a,"=",i,".createStream(",o,");")["else"](a,"=",i,".getElements(",o,");");return ie.optional((function(){e.assert(u["else"],"!"+o+"||"+a,"invalid elements")})),t.entry(u),t.exit(e.cond(s).then(i,".destroyStream(",a,");")),e.ELEMENTS=a,a}))}return o?new Ds(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.elements+".getElements("+e.shared.vao+".currentVAO.elements):null")})):null}var p=f();function h(){if(xa in n){var e=n[xa];return i.primitive=e,ie.commandParameter(e,pn,"invalid primitve",t.commandStr),zs((function(t,n){return pn[e]}))}if(xa in r){var a=r[xa];return Fs(a,(function(e,t){var n=e.constants.primTypes,r=e.invoke(t,a);return ie.optional((function(){e.assert(t,r+" in "+n,"invalid primitive, must be one of "+Object.keys(pn))})),t.def(n,"[",r,"]")}))}return c?Ns(p)?p.value?zs((function(e,t){return t.def(e.ELEMENTS,".primType")})):zs((function(){return hs})):new Ds(p.thisDep,p.contextDep,p.propDep,(function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",hs)})):o?new Ds(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.primitive:"+hs)})):null}function d(e,a){if(e in n){var s=0|n[e];return a?i.offset=s:i.instances=s,ie.command(!a||s>=0,"invalid "+e,t.commandStr),zs((function(e,t){return a&&(e.OFFSET=s),s}))}if(e in r){var l=r[e];return Fs(l,(function(t,n){var r=t.invoke(n,l);return a&&(t.OFFSET=r,ie.optional((function(){t.assert(n,r+">=0","invalid "+e)}))),r}))}if(a){if(c)return zs((function(e,t){return e.OFFSET=0,0}));if(o)return new Ds(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.offset:0")}))}else if(o)return new Ds(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.instances:-1")}));return null}var m=d(wa,!0);function v(){if(_a in n){var e=0|n[_a];return i.count=e,ie.command("number"===typeof e&&e>=0,"invalid vertex count",t.commandStr),zs((function(){return e}))}if(_a in r){var a=r[_a];return Fs(a,(function(e,t){var n=e.invoke(t,a);return ie.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(c){if(Ns(p)){if(p)return m?new Ds(m.thisDep,m.contextDep,m.propDep,(function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return ie.optional((function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")})),n})):zs((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var s=zs((function(){return-1}));return ie.optional((function(){s.MISSING=!0})),s}var l=new Ds(p.thisDep||m.thisDep,p.contextDep||m.contextDep,p.propDep||m.propDep,(function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}));return ie.optional((function(){l.DYNAMIC=!0})),l}if(o){var f=new Ds(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao,".currentVAO?",e.shared.vao,".currentVAO.count:-1")}));return f}return null}var y=h(),g=v(),b=d(Sa,!1);return{elements:p,primitive:y,count:g,instances:b,offset:m,vao:u,vaoActive:o,elementsActive:c,static:i}}function F(e,t){var n=e["static"],r=e.dynamic,o={};return S.forEach((function(e){var a=k(e);function s(t,i){if(e in n){var s=t(n[e]);o[a]=zs((function(){return s}))}else if(e in r){var u=r[e];o[a]=Fs(u,(function(e,t){return i(e,t,e.invoke(t,u))}))}}switch(e){case Qo:case Ho:case Vo:case sa:case Zo:case pa:case na:case ia:case oa:case Ko:return s((function(n){return ie.commandType(n,"boolean",e,t.commandStr),n}),(function(t,n,r){return ie.optional((function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)})),r}));case Yo:return s((function(n){return ie.commandParameter(n,As,"invalid "+e,t.commandStr),As[n]}),(function(t,n,r){var i=t.constants.compareFuncs;return ie.optional((function(){t.assert(n,r+" in "+i,"invalid "+e+", must be one of "+Object.keys(As))})),n.def(i,"[",r,"]")}));case Xo:return s((function(e){return ie.command(An(e)&&2===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,n){ie.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")}));var r=t.def("+",n,"[0]"),i=t.def("+",n,"[1]");return[r,i]}));case Wo:return s((function(e){ie.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,o="dstAlpha"in e?e.dstAlpha:e.dst;return ie.commandParameter(n,js,a+".srcRGB",t.commandStr),ie.commandParameter(r,js,a+".srcAlpha",t.commandStr),ie.commandParameter(i,js,a+".dstRGB",t.commandStr),ie.commandParameter(o,js,a+".dstAlpha",t.commandStr),ie.command(-1===Ts.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",t.commandStr),[js[n],js[i],js[r],js[o]]}),(function(t,n,r){var i=t.constants.blendFuncs;function o(o,a){var s=n.def('"',o,a,'" in ',r,"?",r,".",o,a,":",r,".",o);return ie.optional((function(){t.assert(n,s+" in "+i,"invalid "+e+"."+o+a+", must be one of "+Object.keys(js))})),s}ie.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var a=o("src","RGB"),s=o("dst","RGB");ie.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var u=n.def(i,"[",a,"]"),c=n.def(i,"[",o("src","Alpha"),"]"),l=n.def(i,"[",s,"]"),f=n.def(i,"[",o("dst","Alpha"),"]");return[u,l,c,f]}));case Go:return s((function(n){return"string"===typeof n?(ie.commandParameter(n,y,"invalid "+e,t.commandStr),[y[n],y[n]]):"object"===typeof n?(ie.commandParameter(n.rgb,y,e+".rgb",t.commandStr),ie.commandParameter(n.alpha,y,e+".alpha",t.commandStr),[y[n.rgb],y[n.alpha]]):void ie.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,n,r){var i=t.constants.blendEquations,o=n.def(),a=n.def(),s=t.cond("typeof ",r,'==="string"');return ie.optional((function(){function n(e,n,r){t.assert(e,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(y))}n(s.then,e,r),t.assert(s["else"],r+"&&typeof "+r+'==="object"',"invalid "+e),n(s["else"],e+".rgb",r+".rgb"),n(s["else"],e+".alpha",r+".alpha")})),s.then(o,"=",a,"=",i,"[",r,"];"),s["else"](o,"=",i,"[",r,".rgb];",a,"=",i,"[",r,".alpha];"),n(s),[o,a]}));case qo:return s((function(e){return ie.command(An(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),Te(4,(function(t){return+e[t]}))}),(function(e,t,n){return ie.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),Te(4,(function(e){return t.def("+",n,"[",e,"]")}))}));case ua:return s((function(e){return ie.commandType(e,"number",a,t.commandStr),0|e}),(function(e,t,n){return ie.optional((function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")})),t.def(n,"|0")}));case ca:return s((function(n){ie.commandType(n,"object",a,t.commandStr);var r=n.cmp||"keep",i=n.ref||0,o="mask"in n?n.mask:-1;return ie.commandParameter(r,As,e+".cmp",t.commandStr),ie.commandType(i,"number",e+".ref",t.commandStr),ie.commandType(o,"number",e+".mask",t.commandStr),[As[r],i,o]}),(function(e,t,n){var r=e.constants.compareFuncs;ie.optional((function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")}));var i=t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",_s),o=t.def(n,".ref|0"),a=t.def('"mask" in ',n,"?",n,".mask|0:-1");return[i,o,a]}));case la:case fa:return s((function(n){ie.commandType(n,"object",a,t.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",o=n.zpass||"keep";return ie.commandParameter(r,Ps,e+".fail",t.commandStr),ie.commandParameter(i,Ps,e+".zfail",t.commandStr),ie.commandParameter(o,Ps,e+".zpass",t.commandStr),[e===fa?ms:ds,Ps[r],Ps[i],Ps[o]]}),(function(t,n,r){var i=t.constants.stencilOps;function o(o){return ie.optional((function(){t.assert(n,'!("'+o+'" in '+r+")||("+r+"."+o+" in "+i+")","invalid "+e+"."+o+", must be one of "+Object.keys(Ps))})),n.def('"',o,'" in ',r,"?",i,"[",r,".",o,"]:",_s)}return ie.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[e===fa?ms:ds,o("fail"),o("zfail"),o("zpass")]}));case ra:return s((function(e){ie.commandType(e,"object",a,t.commandStr);var n=0|e.factor,r=0|e.units;return ie.commandType(n,"number",a+".factor",t.commandStr),ie.commandType(r,"number",a+".units",t.commandStr),[n,r]}),(function(t,n,r){ie.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}));var i=n.def(r,".factor|0"),o=n.def(r,".units|0");return[i,o]}));case $o:return s((function(e){var n=0;return"front"===e?n=ds:"back"===e&&(n=ms),ie.command(!!n,a,t.commandStr),n}),(function(e,t,n){return ie.optional((function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),t.def(n,'==="front"?',ds,":",ms)}));case ta:return s((function(e){return ie.command("number"===typeof e&&e>=i.lineWidthDims[0]&&e<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],t.commandStr),e}),(function(e,t,n){return ie.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")})),n}));case ea:return s((function(e){return ie.commandParameter(e,Is,a,t.commandStr),Is[e]}),(function(e,t,n){return ie.optional((function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(n+'==="cw"?'+vs+":"+ys)}));case Jo:return s((function(e){return ie.command(An(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,n){return ie.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),Te(4,(function(e){return"!!"+n+"["+e+"]"}))}));case aa:return s((function(e){ie.command("object"===typeof e&&e,a,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return ie.command("number"===typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]}),(function(e,t,n){ie.optional((function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")}));var r=t.def('"value" in ',n,"?+",n,".value:1"),i=t.def("!!",n,".invert");return[r,i]}))}})),o}function B(e,t){var n=e["static"],r=e.dynamic,i={};return Object.keys(n).forEach((function(e){var r,o=n[e];if("number"===typeof o||"boolean"===typeof o)r=zs((function(){return o}));else if("function"===typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?r=zs((function(e){return e.link(o)})):"framebuffer"===a||"framebufferCube"===a?(ie.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=zs((function(e){return e.link(o.color[0])}))):ie.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else An(o)?r=zs((function(t){var n=t.global.def("[",Te(o.length,(function(n){return ie.command("number"===typeof o[n]||"boolean"===typeof o[n],"invalid uniform "+e,t.commandStr),o[n]})),"]");return n})):ie.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=o,i[e]=r})),Object.keys(r).forEach((function(e){var t=r[e];i[e]=Fs(t,(function(e,n){return e.invoke(n,t)}))})),i}function U(e,n){var r=e["static"],i=e.dynamic,a={};return Object.keys(r).forEach((function(e){var i=r[e],s=t.id(e),u=new v;if(Ls(i))u.state=Io,u.buffer=o.getBuffer(o.create(i,Ra,!1,!0)),u.type=0;else{var c=o.getBuffer(i);if(c)u.state=Io,u.buffer=c,u.type=0;else if(ie.command("object"===typeof i&&i,"invalid data for attribute "+e,n.commandStr),"constant"in i){var l=i.constant;u.buffer="null",u.state=Lo,"number"===typeof l?u.x=l:(ie.command(An(l)&&l.length>0&&l.length<=4,"invalid constant for attribute "+e,n.commandStr),Po.forEach((function(e,t){t<l.length&&(u[e]=l[t])})))}else{c=Ls(i.buffer)?o.getBuffer(o.create(i.buffer,Ra,!1,!0)):o.getBuffer(i.buffer),ie.command(!!c,'missing buffer for attribute "'+e+'"',n.commandStr);var f=0|i.offset;ie.command(f>=0,'invalid offset for attribute "'+e+'"',n.commandStr);var p=0|i.stride;ie.command(p>=0&&p<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',n.commandStr);var h=0|i.size;ie.command(!("size"in i)||h>0&&h<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',n.commandStr);var d=!!i.normalized,m=0;"type"in i&&(ie.commandParameter(i.type,qt,"invalid type for attribute "+e,n.commandStr),m=qt[i.type]);var y=0|i.divisor;ie.optional((function(){"divisor"in i&&(ie.command(0===y||g,'cannot specify divisor for attribute "'+e+'", instancing not supported',n.commandStr),ie.command(y>=0,'invalid divisor for attribute "'+e+'"',n.commandStr));var t=n.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(n){ie.command(r.indexOf(n)>=0,'unknown parameter "'+n+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",t)}))})),u.buffer=c,u.state=Io,u.size=h,u.normalized=d,u.type=m||c.dtype,u.offset=f,u.stride=p,u.divisor=y}}a[e]=zs((function(e,t){var n=e.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(u).forEach((function(e){r[e]=u[e]})),u.buffer&&(r.buffer=e.link(u.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r}))})),Object.keys(i).forEach((function(e){var t=i[e];function n(n,r){var i=n.invoke(r,t),o=n.shared,a=n.constants,s=o.isBufferArgs,u=o.buffer;ie.optional((function(){n.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+s+"("+i+")||"+u+".getBuffer("+i+")||"+u+".getBuffer("+i+".buffer)||"+s+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+o.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+e+'"')}));var c={isStream:r.def(!1)},l=new v;l.state=Io,Object.keys(l).forEach((function(e){c[e]=r.def(""+l[e])}));var f=c.buffer,p=c.type;function h(e){r(c[e],"=",i,".",e,"|0;")}return r("if(",s,"(",i,")){",c.isStream,"=true;",f,"=",u,".createStream(",Ra,",",i,");",p,"=",f,".dtype;","}else{",f,"=",u,".getBuffer(",i,");","if(",f,"){",p,"=",f,".dtype;",'}else if("constant" in ',i,"){",c.state,"=",Lo,";","if(typeof "+i+'.constant === "number"){',c[Po[0]],"=",i,".constant;",Po.slice(1).map((function(e){return c[e]})).join("="),"=0;","}else{",Po.map((function(e,t){return c[e]+"="+i+".constant.length>"+t+"?"+i+".constant["+t+"]:0;"})).join(""),"}}else{","if(",s,"(",i,".buffer)){",f,"=",u,".createStream(",Ra,",",i,".buffer);","}else{",f,"=",u,".getBuffer(",i,".buffer);","}",p,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",f,".dtype;",c.normalized,"=!!",i,".normalized;"),h("size"),h("offset"),h("stride"),h("divisor"),r("}}"),r.exit("if(",c.isStream,"){",u,".destroyStream(",f,");","}"),c}a[e]=Fs(t,n)})),a}function V(e){var t=e["static"],n=e.dynamic,r={};return Object.keys(t).forEach((function(e){var n=t[e];r[e]=zs((function(e,t){return"number"===typeof n||"boolean"===typeof n?""+n:e.link(n)}))})),Object.keys(n).forEach((function(e){var t=n[e];r[e]=Fs(t,(function(e,n){return e.invoke(n,t)}))})),r}function H(e,t,n,i,o){var a=e["static"],s=e.dynamic;ie.optional((function(){var e=[va,ya,ga,ba,xa,wa,_a,Sa,ma,Oa].concat(S);function t(t){Object.keys(t).forEach((function(t){ie.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',o.commandStr)}))}t(a),t(s)}));var u=D(e,t),c=L(e,o),f=R(e,c,o),p=z(e,o),h=F(e,o),d=N(e,o,u);function m(e){var t=f[e];t&&(h[e]=t)}m(da),m(k(ha));var v=Object.keys(h).length>0,y={framebuffer:c,draw:p,shader:d,state:h,dirty:v,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(y.profile=I(e,o),y.uniforms=B(n,o),y.drawVAO=y.scopeVAO=p.vao,!y.drawVAO&&d.program&&!u&&r.angle_instanced_arrays&&p["static"].elements){var g=!0,b=d.program.attributes.map((function(e){var n=t["static"][e];return g=g&&!!n,n}));if(g&&b.length>0){var x=l.getVAO(l.createVAO({attributes:b,elements:p["static"].elements}));y.drawVAO=new Ds(null,null,null,(function(e,t){return e.link(x)})),y.useVAO=!0}}return u?y.useVAO=!0:y.attributes=U(t,o),y.context=V(i,o),y}function q(e,t,n){var r=e.shared,i=r.context,o=e.scope();Object.keys(n).forEach((function(r){t.save(i,"."+r);var a=n[r],s=a.append(e,t);Array.isArray(s)?o(i,".",r,"=[",s.join(),"];"):o(i,".",r,"=",s,";")})),t(o)}function G(e,t,n,r){var i,o=e.shared,a=o.gl,s=o.framebuffer;b&&(i=t.def(o.extensions,".webgl_draw_buffers"));var u,c=e.constants,l=c.drawBuffer,f=c.backBuffer;u=n?n.append(e,t):t.def(s,".next"),r||t("if(",u,"!==",s,".cur){"),t("if(",u,"){",a,".bindFramebuffer(",ks,",",u,".framebuffer);"),b&&t(i,".drawBuffersWEBGL(",l,"[",u,".colorAttachments.length]);"),t("}else{",a,".bindFramebuffer(",ks,",null);"),b&&t(i,".drawBuffersWEBGL(",f,");"),t("}",s,".cur=",u,";"),r||t("}")}function W(e,t,n){var r=e.shared,i=r.gl,o=e.current,a=e.next,s=r.current,u=r.next,c=e.cond(s,".dirty");S.forEach((function(t){var r,l,f=k(t);if(!(f in n.state))if(f in a){r=a[f],l=o[f];var p=Te(_[f].length,(function(e){return c.def(r,"[",e,"]")}));c(e.cond(p.map((function(e,t){return e+"!=="+l+"["+t+"]"})).join("||")).then(i,".",E[f],"(",p,");",p.map((function(e,t){return l+"["+t+"]="+e})).join(";"),";"))}else{r=c.def(u,".",f);var h=e.cond(r,"!==",s,".",f);c(h),f in O?h(e.cond(r).then(i,".enable(",O[f],");")["else"](i,".disable(",O[f],");"),s,".",f,"=",r,";"):h(i,".",E[f],"(",r,");",s,".",f,"=",r,";")}})),0===Object.keys(n.state).length&&c(s,".dirty=false;"),t(c)}function Z(e,t,n,r){var i=e.shared,o=e.current,a=i.current,s=i.gl;Rs(Object.keys(n)).forEach((function(i){var u=n[i];if(!r||r(u)){var c=u.append(e,t);if(O[i]){var l=O[i];Ns(u)?t(s,c?".enable(":".disable(",l,");"):t(e.cond(c).then(s,".enable(",l,");")["else"](s,".disable(",l,");")),t(a,".",i,"=",c,";")}else if(An(c)){var f=o[i];t(s,".",E[i],"(",c,");",c.map((function(e,t){return f+"["+t+"]="+e})).join(";"),";")}else t(s,".",E[i],"(",c,");",a,".",i,"=",c,";")}}))}function Y(e,t){g&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function X(e,t,n,r,i){var o,a,s,u=e.shared,c=e.stats,l=u.current,f=u.timer,p=n.profile;function h(){var e="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast;return e||"undefined"===typeof performance?"Date.now()":"performance.now()"}function m(e){o=t.def(),e(o,"=",h(),";"),"string"===typeof i?e(c,".count+=",i,";"):e(c,".count++;"),d&&(r?(a=t.def(),e(a,"=",f,".getNumPendingQueries();")):e(f,".beginQuery(",c,");"))}function v(e){e(c,".cpuTime+=",h(),"-",o,";"),d&&(r?e(f,".pushScopeStats(",a,",",f,".getNumPendingQueries(),",c,");"):e(f,".endQuery();"))}function y(e){var n=t.def(l,".profile");t(l,".profile=",e,";"),t.exit(l,".profile=",n,";")}if(p){if(Ns(p))return void(p.enable?(m(t),v(t.exit),y("true")):y("false"));s=p.append(e,t),y(s)}else s=t.def(l,".profile");var g=e.block();m(g),t("if(",s,"){",g,"}");var b=e.block();v(b),t.exit("if(",s,"){",b,"}")}function K(e,t,n,r,i){var o=e.shared;function a(e){switch(e){case Ja:case ts:case os:return 2;case Qa:case ns:case as:return 3;case $a:case rs:case ss:return 4;default:return 1}}function s(n,r,i){var a=o.gl,s=t.def(n,".location"),u=t.def(o.attributes,"[",s,"]"),c=i.state,l=i.buffer,f=[i.x,i.y,i.z,i.w],p=["buffer","normalized","offset","stride"];function h(){t("if(!",u,".buffer){",a,".enableVertexAttribArray(",s,");}");var n,o=i.type;if(n=i.size?t.def(i.size,"||",r):r,t("if(",u,".type!==",o,"||",u,".size!==",n,"||",p.map((function(e){return u+"."+e+"!=="+i[e]})).join("||"),"){",a,".bindBuffer(",Ra,",",l,".buffer);",a,".vertexAttribPointer(",[s,n,o,i.normalized,i.stride,i.offset],");",u,".type=",o,";",u,".size=",n,";",p.map((function(e){return u+"."+e+"="+i[e]+";"})).join(""),"}"),g){var c=i.divisor;t("if(",u,".divisor!==",c,"){",e.instancing,".vertexAttribDivisorANGLE(",[s,c],");",u,".divisor=",c,";}")}}function d(){t("if(",u,".buffer){",a,".disableVertexAttribArray(",s,");",u,".buffer=null;","}if(",Po.map((function(e,t){return u+"."+e+"!=="+f[t]})).join("||"),"){",a,".vertexAttrib4f(",s,",",f,");",Po.map((function(e,t){return u+"."+e+"="+f[t]+";"})).join(""),"}")}c===Io?h():c===Lo?d():(t("if(",c,"===",Io,"){"),h(),t("}else{"),d(),t("}"))}r.forEach((function(r){var o,u=r.name,c=n.attributes[u];if(c){if(!i(c))return;o=c.append(e,t)}else{if(!i(Bs))return;var l=e.scopeAttrib(u);ie.optional((function(){e.assert(t,l+".state","missing attribute "+u)})),o={},Object.keys(new v).forEach((function(e){o[e]=t.def(l,".",e)}))}s(e.link(r),a(r.info.type),o)}))}function J(e,n,r,i,o,a){for(var s,u=e.shared,c=u.gl,l=0;l<i.length;++l){var f,p=i[l],h=p.name,d=p.info.type,m=r.uniforms[h],v=e.link(p),y=v+".location";if(m){if(!o(m))continue;if(Ns(m)){var g=m.value;if(ie.command(null!==g&&"undefined"!==typeof g,'missing uniform "'+h+'"',e.commandStr),d===fs||d===ps){ie.command("function"===typeof g&&(d===fs&&("texture2d"===g._reglType||"framebuffer"===g._reglType)||d===ps&&("textureCube"===g._reglType||"framebufferCube"===g._reglType)),"invalid texture for uniform "+h,e.commandStr);var b=e.link(g._texture||g.color[0]._texture);n(c,".uniform1i(",y,",",b+".bind());"),n.exit(b,".unbind();")}else if(d===us||d===cs||d===ls){ie.optional((function(){ie.command(An(g),"invalid matrix for uniform "+h,e.commandStr),ie.command(d===us&&4===g.length||d===cs&&9===g.length||d===ls&&16===g.length,"invalid length for matrix uniform "+h,e.commandStr)}));var x=e.global.def("new Float32Array(["+Array.prototype.slice.call(g)+"])"),_=2;d===cs?_=3:d===ls&&(_=4),n(c,".uniformMatrix",_,"fv(",y,",false,",x,");")}else{switch(d){case Ka:ie.commandType(g,"number","uniform "+h,e.commandStr),s="1f";break;case Ja:ie.command(An(g)&&2===g.length,"uniform "+h,e.commandStr),s="2f";break;case Qa:ie.command(An(g)&&3===g.length,"uniform "+h,e.commandStr),s="3f";break;case $a:ie.command(An(g)&&4===g.length,"uniform "+h,e.commandStr),s="4f";break;case is:ie.commandType(g,"boolean","uniform "+h,e.commandStr),s="1i";break;case es:ie.commandType(g,"number","uniform "+h,e.commandStr),s="1i";break;case os:ie.command(An(g)&&2===g.length,"uniform "+h,e.commandStr),s="2i";break;case ts:ie.command(An(g)&&2===g.length,"uniform "+h,e.commandStr),s="2i";break;case as:ie.command(An(g)&&3===g.length,"uniform "+h,e.commandStr),s="3i";break;case ns:ie.command(An(g)&&3===g.length,"uniform "+h,e.commandStr),s="3i";break;case ss:ie.command(An(g)&&4===g.length,"uniform "+h,e.commandStr),s="4i";break;case rs:ie.command(An(g)&&4===g.length,"uniform "+h,e.commandStr),s="4i";break}n(c,".uniform",s,"(",y,",",An(g)?Array.prototype.slice.call(g):g,");")}continue}f=m.append(e,n)}else{if(!o(Bs))continue;f=n.def(u.uniforms,"[",t.id(h),"]")}d===fs?(ie(!Array.isArray(f),"must specify a scalar prop for textures"),n("if(",f,"&&",f,'._reglType==="framebuffer"){',f,"=",f,".color[0];","}")):d===ps&&(ie(!Array.isArray(f),"must specify a scalar prop for cube maps"),n("if(",f,"&&",f,'._reglType==="framebufferCube"){',f,"=",f,".color[0];","}")),ie.optional((function(){function t(t,r){e.assert(n,t,'bad data or missing for uniform "'+h+'".  '+r)}function r(e){ie(!Array.isArray(f),"must not specify an array type for uniform"),t("typeof "+f+'==="'+e+'"',"invalid type, expected "+e)}function i(n,r){Array.isArray(f)?ie(f.length===n,"must have length "+n):t(u.isArrayLike+"("+f+")&&"+f+".length==="+n,"invalid vector, should have length "+n,e.commandStr)}function o(n){ie(!Array.isArray(f),"must not specify a value type"),t("typeof "+f+'==="function"&&'+f+'._reglType==="texture'+(n===Fa?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(d){case es:r("number");break;case ts:i(2,"number");break;case ns:i(3,"number");break;case rs:i(4,"number");break;case Ka:r("number");break;case Ja:i(2,"number");break;case Qa:i(3,"number");break;case $a:i(4,"number");break;case is:r("boolean");break;case os:i(2,"boolean");break;case as:i(3,"boolean");break;case ss:i(4,"boolean");break;case us:i(4,"number");break;case cs:i(9,"number");break;case ls:i(16,"number");break;case fs:o(Fa);break;case ps:o(Ba);break}}));var w=1;switch(d){case fs:case ps:var S=n.def(f,"._texture");n(c,".uniform1i(",y,",",S,".bind());"),n.exit(S,".unbind();");continue;case es:case is:s="1i";break;case ts:case os:s="2i",w=2;break;case ns:case as:s="3i",w=3;break;case rs:case ss:s="4i",w=4;break;case Ka:s="1f";break;case Ja:s="2f",w=2;break;case Qa:s="3f",w=3;break;case $a:s="4f",w=4;break;case us:s="Matrix2fv";break;case cs:s="Matrix3fv";break;case ls:s="Matrix4fv";break}if("M"===s.charAt(0)){n(c,".uniform",s,"(",y,",");var O=Math.pow(d-us+2,2),E=e.global.def("new Float32Array(",O,")");Array.isArray(f)?n("false,(",Te(O,(function(e){return E+"["+e+"]="+f[e]})),",",E,")"):n("false,(Array.isArray(",f,")||",f," instanceof Float32Array)?",f,":(",Te(O,(function(e){return E+"["+e+"]="+f+"["+e+"]"})),",",E,")"),n(");")}else if(w>1){for(var k=[],C=[],j=0;j<w;++j)Array.isArray(f)?C.push(f[j]):C.push(n.def(f+"["+j+"]")),a&&k.push(n.def());a&&n("if(!",e.batchId,"||",k.map((function(e,t){return e+"!=="+C[t]})).join("||"),"){",k.map((function(e,t){return e+"="+C[t]+";"})).join("")),n(c,".uniform",s,"(",y,",",C.join(","),");"),a&&n("}")}else{if(ie(!Array.isArray(f),"uniform value must not be an array"),a){var T=n.def();n("if(!",e.batchId,"||",T,"!==",f,"){",T,"=",f,";")}n(c,".uniform",s,"(",y,",",f,");"),a&&n("}")}}}function Q(e,t,n,r){var i=e.shared,o=i.gl,a=i.draw,s=r.draw;function u(){var u,c=s.elements,l=t;return c?((c.contextDep&&r.contextDynamic||c.propDep)&&(l=n),u=c.append(e,l),s.elementsActive&&l("if("+u+")"+o+".bindBuffer("+Da+","+u+".buffer.buffer);")):(u=l.def(),l(u,"=",a,".",ba,";","if(",u,"){",o,".bindBuffer(",Da,",",u,".buffer.buffer);}","else if(",i.vao,".currentVAO){",u,"=",e.shared.elements+".getElements("+i.vao,".currentVAO.elements);",x?"":"if("+u+")"+o+".bindBuffer("+Da+","+u+".buffer.buffer);","}")),u}function c(){var i,o=s.count,u=t;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(u=n),i=o.append(e,u),ie.optional((function(){o.MISSING&&e.assert(t,"false","missing vertex count"),o.DYNAMIC&&e.assert(u,i+">=0","missing vertex count")}))):(i=u.def(a,".",_a),ie.optional((function(){e.assert(u,i+">=0","missing vertex count")}))),i}var l=u();function f(i){var o=s[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(e,n):o.append(e,t):t.def(a,".",i)}var p,h,d=f(xa),m=f(wa),v=c();if("number"===typeof v){if(0===v)return}else n("if(",v,"){"),n.exit("}");g&&(p=f(Sa),h=e.instancing);var y=l+".type",b=s.elements&&Ns(s.elements)&&!s.vaoActive;function _(){function e(){n(h,".drawElementsInstancedANGLE(",[d,v,y,m+"<<(("+y+"-"+Mo+")>>1)",p],");")}function t(){n(h,".drawArraysInstancedANGLE(",[d,m,v,p],");")}l&&"null"!==l?b?e():(n("if(",l,"){"),e(),n("}else{"),t(),n("}")):t()}function w(){function e(){n(o+".drawElements("+[d,v,y,m+"<<(("+y+"-"+Mo+")>>1)"]+");")}function t(){n(o+".drawArrays("+[d,m,v]+");")}l&&"null"!==l?b?e():(n("if(",l,"){"),e(),n("}else{"),t(),n("}")):t()}g&&("number"!==typeof p||p>=0)?"string"===typeof p?(n("if(",p,">0){"),_(),n("}else if(",p,"<0){"),w(),n("}")):_():w()}function $(e,t,n,r,i){var o=M(),a=o.proc("body",i);return ie.optional((function(){o.commandStr=t.commandStr,o.command=o.link(t.commandStr)})),g&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),e(o,a,n,r),o.compile().body}function ee(e,t,n,r){Y(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),K(e,t,n,r.attributes,(function(){return!0}))),J(e,t,n,r.uniforms,(function(){return!0}),!1),Q(e,t,t,n)}function te(e,t){var n=e.proc("draw",1);Y(e,n),q(e,n,t.context),G(e,n,t.framebuffer),W(e,n,t),Z(e,n,t.state),X(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)ee(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var i=e.global.def("{}"),o=n.def(r,".id"),a=n.def(i,"[",o,"]");n(e.cond(a).then(a,".call(this,a0);")["else"](a,"=",i,"[",o,"]=",e.link((function(n){return $(ee,e,t,n,1)})),"(",r,");",a,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}function ne(e,t,n,r){function i(){return!0}e.batchId="a1",Y(e,t),K(e,t,n,r.attributes,i),J(e,t,n,r.uniforms,i,!1),Q(e,t,t,n)}function re(e,t,n,r){Y(e,t);var i=n.contextDep,o=t.def(),a="a0",s="a1",u=t.def();e.shared.props=u,e.batchId=o;var c=e.scope(),l=e.scope();function f(e){return e.contextDep&&i||e.propDep}function p(e){return!f(e)}if(t(c.entry,"for(",o,"=0;",o,"<",s,";++",o,"){",u,"=",a,"[",o,"];",l,"}",c.exit),n.needsContext&&q(e,l,n.context),n.needsFramebuffer&&G(e,l,n.framebuffer),Z(e,l,n.state,f),n.profile&&f(n.profile)&&X(e,l,n,!1,!0),r)n.useVAO?n.drawVAO?f(n.drawVAO)?l(e.shared.vao,".setVAO(",n.drawVAO.append(e,l),");"):c(e.shared.vao,".setVAO(",n.drawVAO.append(e,c),");"):c(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(c(e.shared.vao,".setVAO(null);"),K(e,c,n,r.attributes,p),K(e,l,n,r.attributes,f)),J(e,c,n,r.uniforms,p,!1),J(e,l,n,r.uniforms,f,!0),Q(e,c,l,n);else{var h=e.global.def("{}"),d=n.shader.progVar.append(e,l),m=l.def(d,".id"),v=l.def(h,"[",m,"]");l(e.shared.gl,".useProgram(",d,".program);","if(!",v,"){",v,"=",h,"[",m,"]=",e.link((function(t){return $(ne,e,n,t,2)})),"(",d,");}",v,".call(this,a0[",o,"],",o,");")}}function oe(e,t){var n=e.proc("batch",2);e.batchId="0",Y(e,n);var r=!1,i=!0;Object.keys(t.context).forEach((function(e){r=r||t.context[e].propDep})),r||(q(e,n,t.context),i=!1);var o=t.framebuffer,a=!1;function s(e){return e.contextDep&&r||e.propDep}o?(o.propDep?r=a=!0:o.contextDep&&r&&(a=!0),a||G(e,n,o)):G(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0),W(e,n,t),Z(e,n,t.state,(function(e){return!s(e)})),t.profile&&s(t.profile)||X(e,n,t,!1,"a1"),t.contextDep=r,t.needsContext=i,t.needsFramebuffer=a;var u=t.shader.progVar;if(u.contextDep&&r||u.propDep)re(e,n,t,null);else{var c=u.append(e,n);if(n(e.shared.gl,".useProgram(",c,".program);"),t.shader.program)re(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var l=e.global.def("{}"),f=n.def(c,".id"),p=n.def(l,"[",f,"]");n(e.cond(p).then(p,".call(this,a0,a1);")["else"](p,"=",l,"[",f,"]=",e.link((function(n){return $(re,e,t,n,2)})),"(",c,");",p,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}function ae(e,n){var r=e.proc("scope",3);e.batchId="a2";var i=e.shared,o=i.current;function a(t){var o=n.shader[t];o&&r.set(i.shader,"."+t,o.append(e,r))}q(e,r,n.context),n.framebuffer&&n.framebuffer.append(e,r),Rs(Object.keys(n.state)).forEach((function(t){var o=n.state[t],a=o.append(e,r);An(a)?a.forEach((function(n,i){r.set(e.next[t],"["+i+"]",n)})):r.set(i.next,"."+t,a)})),X(e,r,n,!0,!0),[ba,wa,_a,Sa,xa].forEach((function(t){var o=n.draw[t];o&&r.set(i.draw,"."+t,""+o.append(e,r))})),Object.keys(n.uniforms).forEach((function(o){var a=n.uniforms[o].append(e,r);Array.isArray(a)&&(a="["+a.join()+"]"),r.set(i.uniforms,"["+t.id(o)+"]",a)})),Object.keys(n.attributes).forEach((function(t){var i=n.attributes[t].append(e,r),o=e.scopeAttrib(t);Object.keys(new v).forEach((function(e){r.set(o,"."+e,i[e])}))})),n.scopeVAO&&r.set(i.vao,".targetVAO",n.scopeVAO.append(e,r)),a(ya),a(ga),Object.keys(n.state).length>0&&(r(o,".dirty=true;"),r.exit(o,".dirty=true;")),r("a1(",e.shared.context,",a0,",e.batchId,");")}function se(e){if("object"===typeof e&&!An(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(ve.isDynamic(e[t[n]]))return!0;return!1}}function ue(e,t,n){var r=t["static"][n];if(r&&se(r)){var i=e.global,o=Object.keys(r),a=!1,s=!1,u=!1,c=e.global.def("{}");o.forEach((function(t){var n=r[t];if(ve.isDynamic(n)){"function"===typeof n&&(n=r[t]=ve.unbox(n));var o=Fs(n,null);a=a||o.thisDep,u=u||o.propDep,s=s||o.contextDep}else{switch(i(c,".",t,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(e.link(n));break}i(";")}})),t.dynamic[n]=new ve.DynamicVariable(Fo,{thisDep:a,contextDep:s,propDep:u,ref:c,append:l}),delete t["static"][n]}function l(e,t){o.forEach((function(n){var i=r[n];if(ve.isDynamic(i)){var o=e.invoke(t,i);t(c,".",n,"=",o,";")}}))}}function ce(e,t,r,i,o){var a=M();a.stats=a.link(o),Object.keys(t["static"]).forEach((function(e){ue(a,t,e)})),La.forEach((function(t){ue(a,e,t)}));var s=H(e,t,r,i,a);return te(a,s),ae(a,s),oe(a,s),n(a.compile(),{destroy:function(){s.shader.program.destroy()}})}return{next:w,current:_,procs:function(){var e=M(),t=e.proc("poll"),n=e.proc("refresh"),o=e.block();t(o),n(o);var a,s=e.shared,u=s.gl,c=s.next,l=s.current;o(l,".dirty=false;"),G(e,t),G(e,n,null,!0),g&&(a=e.link(g)),r.oes_vertex_array_object&&n(e.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var f=0;f<i.maxAttributes;++f){var p=n.def(s.attributes,"[",f,"]"),h=e.cond(p,".buffer");h.then(u,".enableVertexAttribArray(",f,");",u,".bindBuffer(",Ra,",",p,".buffer.buffer);",u,".vertexAttribPointer(",f,",",p,".size,",p,".type,",p,".normalized,",p,".stride,",p,".offset);")["else"](u,".disableVertexAttribArray(",f,");",u,".vertexAttrib4f(",f,",",p,".x,",p,".y,",p,".z,",p,".w);",p,".buffer=null;"),n(h),g&&n(a,".vertexAttribDivisorANGLE(",f,",",p,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(O).forEach((function(r){var i=O[r],a=o.def(c,".",r),s=e.block();s("if(",a,"){",u,".enable(",i,")}else{",u,".disable(",i,")}",l,".",r,"=",a,";"),n(s),t("if(",a,"!==",l,".",r,"){",s,"}")})),Object.keys(E).forEach((function(r){var i,a,s=E[r],f=_[r],p=e.block();if(p(u,".",s,"("),An(f)){var h=f.length;i=e.global.def(c,".",r),a=e.global.def(l,".",r),p(Te(h,(function(e){return i+"["+e+"]"})),");",Te(h,(function(e){return a+"["+e+"]="+i+"["+e+"];"})).join("")),t("if(",Te(h,(function(e){return i+"["+e+"]!=="+a+"["+e+"]"})).join("||"),"){",p,"}")}else i=o.def(c,".",r),a=o.def(l,".",r),p(i,");",l,".",r,"=",i,";"),t("if(",i,"!==",a,"){",p,"}");n(p)})),e.compile()}(),compile:ce}}function Vs(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Hs=34918,qs=34919,Gs=35007,Ws=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function i(e){n.push(e)}var o=[];function a(e){var n=r();t.ext_disjoint_timer_query.beginQueryEXT(Gs,n),o.push(n),h(o.length-1,o.length,e)}function s(){t.ext_disjoint_timer_query.endQueryEXT(Gs)}function u(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var c=[];function l(){return c.pop()||new u}function f(e){c.push(e)}var p=[];function h(e,t,n){var r=l();r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,p.push(r)}var d=[],m=[];function v(){var e,n,r=o.length;if(0!==r){m.length=Math.max(m.length,r+1),d.length=Math.max(d.length,r+1),d[0]=0,m[0]=0;var a=0;for(e=0,n=0;n<o.length;++n){var s=o[n];t.ext_disjoint_timer_query.getQueryObjectEXT(s,qs)?(a+=t.ext_disjoint_timer_query.getQueryObjectEXT(s,Hs),i(s)):o[e++]=s,d[n+1]=a,m[n+1]=e}for(o.length=e,e=0,n=0;n<p.length;++n){var u=p[n],c=u.startQueryIndex,l=u.endQueryIndex;u.sum+=d[l]-d[c];var h=m[c],v=m[l];v===h?(u.stats.gpuTime+=u.sum/1e6,f(u)):(u.startQueryIndex=h,u.endQueryIndex=v,p[e++]=u)}p.length=e}}return{beginQuery:a,endQuery:s,pushScopeStats:h,update:v,getNumPendingQueries:function(){return o.length},clear:function(){n.push.apply(n,o);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);o.length=0,n.length=0},restore:function(){o.length=0,n.length=0}}},Zs=16384,Ys=256,Xs=1024,Ks=34962,Js="webglcontextlost",Qs="webglcontextrestored",$s=1,eu=2,tu=3;function nu(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function ru(e){var t=Ce(e);if(!t)return null;var r=t.gl,i=r.getContextAttributes(),o=r.isContextLost(),a=je(r,t);if(!a)return null;var s=xe(),u=Vs(),c=a.extensions,l=Ws(r,c),f=be(),p=r.drawingBufferWidth,h=r.drawingBufferHeight,d={tick:0,time:0,viewportWidth:p,viewportHeight:h,framebufferWidth:p,framebufferHeight:h,drawingBufferWidth:p,drawingBufferHeight:h,pixelRatio:t.pixelRatio},m={},v={elements:null,primitive:4,count:-1,offset:0,instances:-1},y=Et(r,c),g=on(r,u,t,_),b=En(r,c,g,u),x=yo(r,c,y,u,g,b,v);function _(e){return x.destroyBuffer(e)}var w=wo(r,s,u,t),S=mi(r,c,y,(function(){k.procs.poll()}),d,u,t),O=Ti(r,c,y,u,t),E=lo(r,c,y,S,O,u),k=Us(r,s,c,y,g,b,S,E,m,x,w,v,d,l,t),C=Co(r,E,k.procs.poll,d,i,c,y),j=k.next,T=r.canvas,A=[],P=[],M=[],I=[t.onDestroy],L=null;function R(){if(0===A.length)return l&&l.update(),void(L=null);L=ye.next(R),Y();for(var e=A.length-1;e>=0;--e){var t=A[e];t&&t(d,null,0)}r.flush(),l&&l.update()}function D(){!L&&A.length>0&&(L=ye.next(R))}function N(){L&&(ye.cancel(R),L=null)}function z(e){e.preventDefault(),o=!0,N(),P.forEach((function(e){e()}))}function F(e){r.getError(),o=!1,a.restore(),w.restore(),g.restore(),S.restore(),O.restore(),E.restore(),x.restore(),l&&l.restore(),k.procs.refresh(),D(),M.forEach((function(e){e()}))}var B="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast;function U(){A.length=0,N(),!B&&T&&(T.removeEventListener(Js,z),T.removeEventListener(Qs,F)),w.clear(),E.clear(),O.clear(),x.clear(),S.clear(),b.clear(),g.clear(),l&&l.clear(),I.forEach((function(e){e()}))}function V(e){function t(e){var t=n({},e);function r(e){if(e in t){var n=t[e];delete t[e],Object.keys(n).forEach((function(r){t[e+"."+r]=n[r]}))}}return delete t.uniforms,delete t.attributes,delete t.context,delete t.vao,"stencil"in t&&t.stencil.op&&(t.stencil.opBack=t.stencil.opFront=t.stencil.op,delete t.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in e&&(t.vao=e.vao),t}function r(e,t){var n={},r={};return Object.keys(e).forEach((function(i){var o=e[i];if(ve.isDynamic(o))r[i]=ve.unbox(o,i);else{if(t&&Array.isArray(o))for(var a=0;a<o.length;++a)if(ve.isDynamic(o[a]))return void(r[i]=ve.unbox(o,i));n[i]=o}})),{dynamic:r,static:n}}ie(!!e,"invalid args to regl({...})"),ie.type(e,"object","invalid args to regl({...})");var i=r(e.context||{},!0),a=r(e.uniforms||{},!0),s=r(e.attributes||{},!1),u=r(t(e),!1),c={gpuTime:0,cpuTime:0,count:0},l=k.compile(u,s,a,i,c),f=l.draw,p=l.batch,h=l.scope,d=[];function m(e){while(d.length<e)d.push(null);return d}function v(e,t){var n;if(o&&ie.raise("context lost"),"function"===typeof e)return h.call(this,null,e,0);if("function"===typeof t)if("number"===typeof e)for(n=0;n<e;++n)h.call(this,null,t,n);else{if(!Array.isArray(e))return h.call(this,e,t,0);for(n=0;n<e.length;++n)h.call(this,e[n],t,n)}else if("number"===typeof e){if(e>0)return p.call(this,m(0|e),0|e)}else{if(!Array.isArray(e))return f.call(this,e);if(e.length)return p.call(this,e,e.length)}}return n(v,{stats:c,destroy:function(){l.destroy()}})}!B&&T&&(T.addEventListener(Js,z,!1),T.addEventListener(Qs,F,!1));var H=E.setFBO=V({framebuffer:ve.define.call(null,$s,"framebuffer")});function q(e,t){var n=0;k.procs.poll();var i=t.color;i&&(r.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),n|=Zs),"depth"in t&&(r.clearDepth(+t.depth),n|=Ys),"stencil"in t&&(r.clearStencil(0|t.stencil),n|=Xs),ie(!!n,"called regl.clear with no buffer specified"),r.clear(n)}function G(e){if(ie("object"===typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var t=0;t<6;++t)H(n({framebuffer:e.framebuffer.faces[t]},e),q);else H(e,q);else q(null,e)}function W(e){function t(){var t=nu(A,e);function n(){var e=nu(A,n);A[e]=A[A.length-1],A.length-=1,A.length<=0&&N()}ie(t>=0,"cannot cancel a frame twice"),A[t]=n}return ie.type(e,"function","regl.frame() callback must be a function"),A.push(e),D(),{cancel:t}}function Z(){var e=j.viewport,t=j.scissor_box;e[0]=e[1]=t[0]=t[1]=0,d.viewportWidth=d.framebufferWidth=d.drawingBufferWidth=e[2]=t[2]=r.drawingBufferWidth,d.viewportHeight=d.framebufferHeight=d.drawingBufferHeight=e[3]=t[3]=r.drawingBufferHeight}function Y(){d.tick+=1,d.time=K(),Z(),k.procs.poll()}function X(){S.refresh(),Z(),k.procs.refresh(),l&&l.update()}function K(){return(be()-f)/1e3}function J(e,t){var n;switch(ie.type(t,"function","listener callback must be a function"),e){case"frame":return W(t);case"lost":n=P;break;case"restore":n=M;break;case"destroy":n=I;break;default:ie.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}}X();var Q=n(V,{clear:G,prop:ve.define.bind(null,$s),context:ve.define.bind(null,eu),this:ve.define.bind(null,tu),draw:V({}),buffer:function(e){return g.create(e,Ks,!1,!1)},elements:function(e){return b.create(e,!1)},texture:S.create2D,cube:S.createCube,renderbuffer:O.create,framebuffer:E.create,framebufferCube:E.createCube,vao:x.createVAO,attributes:i,frame:W,on:J,limits:y,hasExtension:function(e){return y.extensions.indexOf(e.toLowerCase())>=0},read:C,destroy:U,_gl:r,_refresh:X,poll:function(){Y(),l&&l.update()},now:K,stats:u});return t.onDone(null,Q),Q}return ru}))},Sf9Y:function(e,t,n){"use strict";var r=n("MMxC"),i=n("m0kY"),o=n("Ze4s"),a="Invalid number representation",s="Invalid radix",u=/^[\da-z]+$/;r({target:"Number",stat:!0},{fromString:function(e,t){var n,r,c=1;if("string"!=typeof e)throw TypeError(a);if(!e.length)throw SyntaxError(a);if("-"==e.charAt(0)&&(c=-1,e=e.slice(1),!e.length))throw SyntaxError(a);if(n=void 0===t?10:i(t),n<2||n>36)throw RangeError(s);if(!u.test(e)||(r=o(e,n)).toString(n)!==e)throw SyntaxError(a);return c*r}})},SfRM:function(e,t,n){var r=n("YESw");function i(){this.__data__=r?r(null):{},this.size=0}e.exports=i},Sk89:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n("MON2"),i=n("xfSm"),o=n("GXnB");function a(){return function(e,t,n){var a=new o.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,e.constructor)}}t.postConstruct=a},SksO:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports["default"]=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},Sn4z:function(e,t,n){var r=n("cTDu"),i=n("oa35"),o=n("9SZg"),a=n("bF+Q"),s=n("7BAe"),u=n("FVwB").aTypedArrayConstructor;e.exports=function(e){var t,n,c,l,f,p,h=r(e),d=arguments.length,m=d>1?arguments[1]:void 0,v=void 0!==m,y=o(h);if(void 0!=y&&!a(y)){f=y.call(h),p=f.next,h=[];while(!(l=p.call(f)).done)h.push(l.value)}for(v&&d>2&&(m=s(m,arguments[2],2)),n=i(h.length),c=new(u(this))(n),t=0;n>t;t++)c[t]=v?m(h[t],t):h[t];return c}},SprQ:function(e,t,n){var r=n("MVys");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},Srjj:function(e,t,n){var r=n("jtLI"),i=n("0qr0"),o=n("/3zY").indexOf,a=n("6ixQ");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);while(t.length>u)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},T1AV:function(e,t,n){var r=n("t2Dn"),i=n("5Tg0"),o=n("yP5f"),a=n("Q1l4"),s=n("+iFO"),u=n("03A+"),c=n("Z0cm"),l=n("3L66"),f=n("DSRE"),p=n("lSCD"),h=n("GoyQ"),d=n("YO3V"),m=n("c6wG"),v=n("itsj"),y=n("jeLo");function g(e,t,n,g,b,x,_){var w=v(e,n),S=v(t,n),O=_.get(S);if(O)r(e,n,O);else{var E=x?x(w,S,n+"",e,t,_):void 0,k=void 0===E;if(k){var C=c(S),j=!C&&f(S),T=!C&&!j&&m(S);E=S,C||j||T?c(w)?E=w:l(w)?E=a(w):j?(k=!1,E=i(S,!0)):T?(k=!1,E=o(S,!0)):E=[]:d(S)||u(S)?(E=w,u(w)?E=y(w):h(w)&&!p(w)||(E=s(S))):k=!1}k&&(_.set(S,E),b(E,S,g,x,_),_["delete"](S)),r(e,n,E)}}e.exports=g},TKrE:function(e,t,n){var r=n("qRkn"),i=n("dt0z"),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",u="\\u20d0-\\u20ff",c=a+s+u,l="["+c+"]",f=RegExp(l,"g");function p(e){return e=i(e),e&&e.replace(o,r).replace(f,"")}e.exports=p},TMUv:function(e,t,n){var r=n("ukPv"),i=n("lz10");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},TO8r:function(e,t){var n=/\s/;function r(e){var t=e.length;while(t--&&n.test(e.charAt(t)));return t}e.exports=r},TOwV:function(e,t,n){"use strict";e.exports=n("qT12")},TSYQ:function(e,t,n){var r,i;(function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(o["default"]=o,e.exports=o):(r=[],i=function(){return o}.apply(t,r),void 0===i||(e.exports=i))})()},TeRw:function(e,t,n){"use strict";n.r(t),n.d(t,"getInstance",(function(){return te}));var r=n("wx14"),i=n("rePB"),o=n("o0o1"),a=n.n(o),s=n("q1tI"),u=n("8tx+"),c=n("VTBJ"),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},f=l,p=n("6VBw"),h=function(e,t){return s["createElement"](p["a"],Object(c["a"])(Object(c["a"])({},e),{},{ref:t,icon:f}))};h.displayName="CloseOutlined";var d=s["forwardRef"](h),m=n("TSYQ"),v=n.n(m),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},g=y,b=function(e,t){return s["createElement"](p["a"],Object(c["a"])(Object(c["a"])({},e),{},{ref:t,icon:g}))};b.displayName="CheckCircleOutlined";var x=s["forwardRef"](b),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},w=_,S=function(e,t){return s["createElement"](p["a"],Object(c["a"])(Object(c["a"])({},e),{},{ref:t,icon:w}))};S.displayName="CloseCircleOutlined";var O=s["forwardRef"](S),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},k=E,C=function(e,t){return s["createElement"](p["a"],Object(c["a"])(Object(c["a"])({},e),{},{ref:t,icon:k}))};C.displayName="ExclamationCircleOutlined";var j=s["forwardRef"](C),T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},A=T,P=function(e,t){return s["createElement"](p["a"],Object(c["a"])(Object(c["a"])({},e),{},{ref:t,icon:A}))};P.displayName="InfoCircleOutlined";var M=s["forwardRef"](P),I=n("ODXe"),L=n("8HVG"),R=n("H84U");function D(e,t){var n=function(){var n,i=null,o={add:function(e,t){null===i||void 0===i||i.component.add(e,t)}},a=Object(L["a"])(o),u=Object(I["a"])(a,2),c=u[0],l=u[1];function f(o){var a=o.prefixCls,s=n("notification",a);e(Object(r["a"])(Object(r["a"])({},o),{prefixCls:s}),(function(e){var n=e.prefixCls,r=e.instance;i=r,c(t(o,n))}))}var p=s["useRef"]({});return p.current.open=f,["success","info","warning","error"].forEach((function(e){p.current[e]=function(t){return p.current.open(Object(r["a"])(Object(r["a"])({},t),{type:e}))}})),[p.current,s["createElement"](R["a"],{key:"holder"},(function(e){return n=e.getPrefixCls,l}))]};return n}var N,z,F=n("wEI+"),B=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},U={},V=4.5,H=24,q=24,G="",W="topRight",Z=!1;function Y(e){var t=e.duration,n=e.placement,r=e.bottom,i=e.top,o=e.getContainer,a=e.closeIcon,s=e.prefixCls;void 0!==s&&(G=s),void 0!==t&&(V=t),void 0!==n?W=n:e.rtl&&(W="topLeft"),void 0!==r&&(q=r),void 0!==i&&(H=i),void 0!==o&&(N=o),void 0!==a&&(z=a),void 0!==e.rtl&&(Z=e.rtl)}function X(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q;switch(e){case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r};break}return t}function K(e,t){var n=e.placement,r=void 0===n?W:n,o=e.top,a=e.bottom,c=e.getContainer,l=void 0===c?N:c,f=e.closeIcon,p=void 0===f?z:f,h=e.prefixCls,m=Object(F["a"])(),y=m.getPrefixCls,g=y("notification",h||G),b="".concat(g,"-").concat(r),x=U[b];if(x)Promise.resolve(x).then((function(e){t({prefixCls:"".concat(g,"-notice"),instance:e})}));else{var _=s["createElement"]("span",{className:"".concat(g,"-close-x")},p||s["createElement"](d,{className:"".concat(g,"-close-icon")})),w=v()("".concat(g,"-").concat(r),Object(i["a"])({},"".concat(g,"-rtl"),!0===Z));U[b]=new Promise((function(e){u["a"].newInstance({prefixCls:g,className:w,style:X(r,o,a),getContainer:l,closeIcon:_},(function(n){e(n),t({prefixCls:"".concat(g,"-notice"),instance:n})}))}))}}var J={success:x,info:M,error:O,warning:j};function Q(e,t){var n=e.duration,r=e.icon,o=e.type,a=e.description,u=e.message,c=e.btn,l=e.onClose,f=e.onClick,p=e.key,h=e.style,d=e.className,m=void 0===n?V:n,y=null;r?y=s["createElement"]("span",{className:"".concat(t,"-icon")},e.icon):o&&(y=s["createElement"](J[o]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(o)}));var g=!a&&y?s["createElement"]("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:s["createElement"]("div",{className:y?"".concat(t,"-with-icon"):"",role:"alert"},y,s["createElement"]("div",{className:"".concat(t,"-message")},g,u),s["createElement"]("div",{className:"".concat(t,"-description")},a),c?s["createElement"]("span",{className:"".concat(t,"-btn")},c):null),duration:m,closable:!0,onClose:l,onClick:f,key:p,style:h||{},className:v()(d,Object(i["a"])({},"".concat(t,"-").concat(o),!!o))}}function $(e){K(e,(function(t){var n=t.prefixCls,r=t.instance;r.notice(Q(e,n))}))}var ee={open:$,close:function(e){Object.keys(U).forEach((function(t){return Promise.resolve(U[t]).then((function(t){t.removeNotice(e)}))}))},config:Y,destroy:function(){Object.keys(U).forEach((function(e){Promise.resolve(U[e]).then((function(e){e.destroy()})),delete U[e]}))}};["success","info","warning","error"].forEach((function(e){ee[e]=function(t){return ee.open(Object(r["a"])(Object(r["a"])({},t),{type:e}))}})),ee.warn=ee.warning,ee.useNotification=D(K,Q);var te=function(e){return B(void 0,void 0,void 0,a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))};t["default"]=ee},Tfd0:function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},Tz1E:function(e,t,n){var r=n("MMxC"),i=n("IVUx"),o=n("29mP"),a=n("u+7+"),s=function(){var e=o("Object","freeze");return e?e(a(null)):a(null)};r({global:!0},{compositeKey:function(){return i.apply(Object,arguments).get("object",s)}})},"U+yc":function(e,t){function n(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"U/TZ":function(e,t,n){"use strict";function r(){var e=n("q1tI");return r=function(){return e},e}function i(e,t){return c(e)||u(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function c(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l=function(e,t){var n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r={};return Object.keys(t[1]).forEach((function(e){var n=(e.match(/^(.+)\.([^_]+)$/)||[]).slice(1),o=i(n,2),a=o[0],s=o[1];s&&s!==t[0]||(r[a||e]=t[1][e])})),r},o=(0,r().useState)(n(e,t)),a=i(o,2),s=a[0],u=a[1];return(0,r().useEffect)((function(){u(n(e,t))}),[e,t]),s};t["default"]=l},U1ZX:function(e,t){},"U8/t":function(e,t,n){var r=n("f1E4"),i=n("tSXo"),o=n("LUyE");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),a=n.resolve;return a(t),n.promise}},U8pU:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,"a",(function(){return r}))},U9fH:function(e,t,n){var r=n("MMxC"),i=n("IVUx"),o=n("29mP");r({global:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"===typeof arguments[0]?o("Symbol")["for"](arguments[0]):i.apply(null,arguments).get("symbol",o("Symbol"))}})},UB5X:function(e,t,n){var r=n("NykK"),i=n("ExA7"),o="[object Number]";function a(e){return"number"==typeof e||i(e)&&r(e)==o}e.exports=a},UHn5:function(e,t,n){"use strict";var r,i=n("ukPv"),o=n("ujhg"),a=n("a5mf"),s=n("/gva"),u=n("uz3g"),c=n("tSXo"),l=n("1aI8").enforce,f=n("ZkJ9"),p=!i.ActiveXObject&&"ActiveXObject"in i,h=Object.isExtensible,d=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},m=e.exports=s("WeakMap",d,u);if(f&&p){r=u.getConstructor(d,"WeakMap",!0),a.REQUIRED=!0;var v=m.prototype,y=v["delete"],g=v.has,b=v.get,x=v.set;o(v,{delete:function(e){if(c(e)&&!h(e)){var t=l(this);return t.frozen||(t.frozen=new r),y.call(this,e)||t.frozen["delete"](e)}return y.call(this,e)},has:function(e){if(c(e)&&!h(e)){var t=l(this);return t.frozen||(t.frozen=new r),g.call(this,e)||t.frozen.has(e)}return g.call(this,e)},get:function(e){if(c(e)&&!h(e)){var t=l(this);return t.frozen||(t.frozen=new r),g.call(this,e)?b.call(this,e):t.frozen.get(e)}return b.call(this,e)},set:function(e,t){if(c(e)&&!h(e)){var n=l(this);n.frozen||(n.frozen=new r),g.call(this,e)?x.call(this,e,t):n.frozen.set(e,t)}else x.call(this,e,t);return this}})}},UIoa:function(e,t,n){var r=n("MMxC"),i=n("f1E4"),o=n("8Cw2"),a=n("uoF6"),s=n("1aI8"),u="Seeded Random",c=u+" Generator",l=s.set,f=s.getterFor(c),p='Math.seededPRNG() argument should have a "seed" field with a finite value.',h=a((function(e){l(this,{type:c,seed:e%2147483647})}),u,(function(){var e=f(this),t=e.seed=(1103515245*e.seed+12345)%2147483647;return{value:(1073741823&t)/1073741823,done:!1}}));r({target:"Math",stat:!0,forced:!0},{seededPRNG:function(e){var t=i(e).seed;if(!o(t))throw TypeError(p);return new h(t)}})},"UNi/":function(e,t){function n(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}e.exports=n},UPML:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},URK0:function(e,t,n){var r=n("Mi8B");r("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},UVaH:function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n("FpZJ");e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},UXQe:function(e,t,n){var r=n("MMxC"),i=n("ukPv");r({global:!0},{globalThis:i})},Uc1W:function(e,t,n){var r=n("Mi8B");r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},Ucsi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Symbol["for"]("INJECTION");function i(e,t,n,i){function o(){return i&&!Reflect.hasMetadata(r,this,t)&&Reflect.defineMetadata(r,n(),this,t),Reflect.hasMetadata(r,this,t)?Reflect.getMetadata(r,this,t):n()}function a(e){Reflect.defineMetadata(r,e,this,t)}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:o,set:a})}function o(e,t){return function(n){return function(r,o){var a=function(){return e.get(n)};i(r,o,a,t)}}}function a(e,t){return function(n,r){return function(o,a){var s=function(){return e.getNamed(n,r)};i(o,a,s,t)}}}function s(e,t){return function(n,r,o){return function(a,s){var u=function(){return e.getTagged(n,r,o)};i(a,s,u,t)}}}function u(e,t){return function(n){return function(r,o){var a=function(){return e.getAll(n)};i(r,o,a,t)}}}t.makePropertyInjectDecorator=o,t.makePropertyInjectNamedDecorator=a,t.makePropertyInjectTaggedDecorator=s,t.makePropertyMultiInjectDecorator=u},"Un+d":function(e,t,n){var r=n("UwrT");e.exports=Array.isArray||function(e){return"Array"==r(e)}},Uq4z:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("cT1L"),s=n("jbR1"),u=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{reduce:function(e){var t=o(this),n=s(t),r=arguments.length<2,i=r?void 0:arguments[1];if(a(e),u(n,(function(n){r?(r=!1,i=n):i=e(i,n,n,t)}),void 0,!1,!0),r)throw TypeError("Reduce of empty set with no initial value");return i}})},UvYY:function(e,t,n){var r=n("MMxC"),i=n("ls1J"),o=n("f1E4"),a=n("Acmb"),s=i.has,u=i.toKey,c=function(e,t,n){var r=s(e,t,n);if(r)return!0;var i=a(t);return null!==i&&c(e,i,n)};r({target:"Reflect",stat:!0},{hasMetadata:function(e,t){var n=arguments.length<3?void 0:u(arguments[2]);return c(e,o(t),n)}})},UwrT:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},V0Bj:function(e,t,n){var r=n("I65O");r("observable")},V1cb:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["Hover"]="hover",e["Click"]="click",e["Select"]="select",e["Active"]="active",e["Drag"]="drag"}(r||(r={}))},V6Ve:function(e,t,n){var r=n("kekF"),i=r(Object.keys,Object);e.exports=i},VAJa:function(e,t,n){"use strict";var r=n("AM7I"),i=n("VF6F"),o=n("JxQ3"),a=r("%TypeError%"),s=r("%WeakMap%",!0),u=r("%Map%",!0),c=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),f=i("WeakMap.prototype.has",!0),p=i("Map.prototype.get",!0),h=i("Map.prototype.set",!0),d=i("Map.prototype.has",!0),m=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},v=function(e,t){var n=m(e,t);return n&&n.value},y=function(e,t,n){var r=m(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},g=function(e,t){return!!m(e,t)};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+o(e))},get:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return c(e,r)}else if(u){if(t)return p(t,r)}else if(n)return v(n,r)},has:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return f(e,r)}else if(u){if(t)return d(t,r)}else if(n)return g(n,r);return!1},set:function(r,i){s&&r&&("object"===typeof r||"function"===typeof r)?(e||(e=new s),l(e,r,i)):u?(t||(t=new u),h(t,r,i)):(n||(n={key:{},next:null}),y(n,r,i))}};return r}},VF6F:function(e,t,n){"use strict";var r=n("AM7I"),i=n("PrET"),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&o(e,".prototype.")>-1?i(n):n}},VIsB:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("Hel2");function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(u)throw a}}}}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=6378e3;function u(e,t){var n=e.dataArray,r=t.size,i=void 0===r?10:r,o=i/(2*Math.PI*s)*(256<<20)/2,a=c(n,i),u=a.gridHash,l=a.gridOffset,f=h(u,l,t);return{yOffset:o,xOffset:o,radius:o,type:"grid",dataArray:f}}function c(e,t){var n,r,o=1/0,a=-1/0,s=i(e);try{for(s.s();!(r=s.n()).done;){var u=r.value;n=u.coordinates[1],Number.isFinite(n)&&(o=n<o?n:o,a=n>a?n:a)}}catch(_){s.e(_)}finally{s.f()}var c=(o+a)/2,f=l(t,c);if(f.xOffset<=0||f.yOffset<=0)return{gridHash:{},gridOffset:f};var p,h={},d=i(e);try{for(d.s();!(p=d.n()).done;){var m=p.value,v=m.coordinates[1],y=m.coordinates[0];if(Number.isFinite(v)&&Number.isFinite(y)){var g=Math.floor((v+90)/f.yOffset),b=Math.floor((y+180)/f.xOffset),x="".concat(g,"-").concat(b);h[x]=h[x]||{count:0,points:[]},h[x].count+=1,h[x].points.push(m)}}}catch(_){d.e(_)}finally{d.f()}return{gridHash:h,gridOffset:f}}function l(e,t){var n=f(e),r=p(t,e);return{yOffset:n,xOffset:r}}function f(e){return e/s*(180/Math.PI)}function p(e,t){return t/s*(180/Math.PI)/Math.cos(e*Math.PI/180)}function h(e,t,n){return Object.keys(e).reduce((function(i,o,a){var s=o.split("-"),u=parseInt(s[0],10),c=parseInt(s[1],10),l={};if(n.field&&n.method){var f=r["c"].getColumn(e[o].points,n.field);l[n.method]=r["c"].statMap[n.method](f)}return Object.assign(l,{_id:a,coordinates:Object(r["d"])([t.xOffset*(c+.5)-180,t.yOffset*(u+.5)-90]),rawData:e[o].points,count:e[o].count}),i.push(l),i}),[])}},VOtZ:function(e,t,n){var r=n("juv8"),i=n("MvSz");function o(e,t){return r(e,i(e),t)}e.exports=o},VQRL:function(e,t,n){var r=n("I65O");r("replace")},VSU6:function(e,t,n){"use strict";var r=n("cTDu"),i=n("bIKR"),o=n("oa35");e.exports=function(e){var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);while(c>s)t[s++]=e;return t}},VTBJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("rePB");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},VUky:function(e,t,n){var r=n("MMxC"),i=n("qA1w");r({target:"Map",stat:!0},{of:i})},VWci:function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new j(r||[]);return o._invoke=O(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var l="suspendedStart",f="suspendedYield",p="executing",h="completed",d={};function m(){}function v(){}function y(){}var g={};g[o]=function(){return this};var b=Object.getPrototypeOf,x=b&&b(b(T([])));x&&x!==n&&r.call(x,o)&&(g=x);var _=y.prototype=m.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function S(e,t){function n(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;function o(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}this._invoke=o}function O(e,t,n){var r=l;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return A()}n.method=i,n.arg=o;while(1){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?h:f,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){while(++i<e.length)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:A}}function A(){return{value:t,done:!0}}return v.prototype=_.constructor=y,y.constructor=v,y[s]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(S.prototype),S.prototype[a]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),_[s]="Generator",_[o]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},VaNO:function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},VmRL:function(e,t,n){"use strict";function r(e,t,n){n=n||2;var r,o,s,u,c,l,p,h=t&&t.length,d=h?t[0]*n:e.length,m=i(e,0,d,n,!0),v=[];if(!m||m.next===m.prev)return v;if(h&&(m=f(e,t,m,n)),e.length>80*n){r=s=e[0],o=u=e[1];for(var y=n;y<d;y+=n)c=e[y],l=e[y+1],c<r&&(r=c),l<o&&(o=l),c>s&&(s=c),l>u&&(u=l);p=Math.max(s-r,u-o),p=0!==p?1/p:0}return a(m,v,n,r,o,p),v}function i(e,t,n,r,i){var o,a;if(i===L(e,t,n,r)>0)for(o=t;o<n;o+=r)a=P(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=P(o,e[o],e[o+1],a);return a&&S(a,a.next)&&(M(a),a=a.next),a}function o(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!S(r,r.next)&&0!==w(r.prev,r,r.next))r=r.next;else{if(M(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,i,f,p){if(e){!p&&f&&v(e,r,i,f);var h,d,m=e;while(e.prev!==e.next)if(h=e.prev,d=e.next,f?u(e,r,i,f):s(e))t.push(h.i/n),t.push(e.i/n),t.push(d.i/n),M(e),e=d.next,m=d.next;else if(e=d,e===m){p?1===p?(e=c(o(e),t,n),a(e,t,n,r,i,f,2)):2===p&&l(e,t,n,r,i,f):a(o(e),t,n,r,i,f,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(w(t,n,r)>=0)return!1;var i=e.next.next;while(i!==e.prev){if(x(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&w(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(e,t,n,r){var i=e.prev,o=e,a=e.next;if(w(i,o,a)>=0)return!1;var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=g(s,u,t,n,r),p=g(c,l,t,n,r),h=e.prevZ,d=e.nextZ;while(h&&h.z>=f&&d&&d.z<=p){if(h!==e.prev&&h!==e.next&&x(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&w(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,d!==e.prev&&d!==e.next&&x(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&w(d.prev,d,d.next)>=0)return!1;d=d.nextZ}while(h&&h.z>=f){if(h!==e.prev&&h!==e.next&&x(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&w(h.prev,h,h.next)>=0)return!1;h=h.prevZ}while(d&&d.z<=p){if(d!==e.prev&&d!==e.next&&x(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&w(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function c(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!S(i,a)&&O(i,r,r.next,a)&&j(i,a)&&j(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),M(r),M(r.next),r=e=a),r=r.next}while(r!==e);return o(r)}function l(e,t,n,r,i,s){var u=e;do{var c=u.next.next;while(c!==u.prev){if(u.i!==c.i&&_(u,c)){var l=A(u,c);return u=o(u,u.next),l=o(l,l.next),a(u,t,n,r,i,s),void a(l,t,n,r,i,s)}c=c.next}u=u.next}while(u!==e)}function f(e,t,n,r){var a,s,u,c,l,f=[];for(a=0,s=t.length;a<s;a++)u=t[a]*r,c=a<s-1?t[a+1]*r:e.length,l=i(e,u,c,r,!1),l===l.next&&(l.steiner=!0),f.push(b(l));for(f.sort(p),a=0;a<f.length;a++)n=h(f[a],n),n=o(n,n.next);return n}function p(e,t){return e.x-t.x}function h(e,t){var n=d(e,t);if(!n)return t;var r=A(n,e),i=o(n,n.next);return o(r,r.next),t===n?i:t}function d(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var u,c=n,l=n.x,f=n.y,p=1/0;r=n;do{i>=r.x&&r.x>=l&&i!==r.x&&x(o<f?i:a,o,l,f,o<f?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),j(r,e)&&(u<p||u===p&&(r.x>n.x||r.x===n.x&&m(n,r)))&&(n=r,p=u)),r=r.next}while(r!==c);return n}function m(e,t){return w(e.prev,e,t.prev)<0&&w(t.next,e,e.next)<0}function v(e,t,n,r){var i=e;do{null===i.z&&(i.z=g(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,y(i)}function y(e){var t,n,r,i,o,a,s,u,c=1;do{n=e,e=null,o=null,a=0;while(n){for(a++,r=n,s=0,t=0;t<c;t++)if(s++,r=r.nextZ,!r)break;u=c;while(s>0||u>0&&r)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1);return e}function g(e,t,n,r,i){return e=32767*(e-n)*i,t=32767*(t-r)*i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function b(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function x(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function _(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!C(e,t)&&(j(e,t)&&j(t,e)&&T(e,t)&&(w(e.prev,e,t.prev)||w(e,t.prev,t))||S(e,t)&&w(e.prev,e,e.next)>0&&w(t.prev,t,t.next)>0)}function w(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function S(e,t){return e.x===t.x&&e.y===t.y}function O(e,t,n,r){var i=k(w(e,t,n)),o=k(w(e,t,r)),a=k(w(n,r,e)),s=k(w(n,r,t));return i!==o&&a!==s||(!(0!==i||!E(e,n,t))||(!(0!==o||!E(e,r,t))||(!(0!==a||!E(n,e,r))||!(0!==s||!E(n,t,r)))))}function E(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function k(e){return e>0?1:e<0?-1:0}function C(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&O(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function j(e,t){return w(e.prev,e,e.next)<0?w(e,t,e.next)>=0&&w(e,e.prev,t)>=0:w(e,t,e.prev)<0||w(e,e.next,t)<0}function T(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}function A(e,t){var n=new I(e.i,e.x,e.y),r=new I(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function P(e,t,n,r){var i=new I(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function M(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function I(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function L(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=r,e.exports["default"]=r,r.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(L(e,0,o,n));if(i)for(var s=0,u=t.length;s<u;s++){var c=t[s]*n,l=s<u-1?t[s+1]*n:e.length;a-=Math.abs(L(e,c,l,n))}var f=0;for(s=0;s<r.length;s+=3){var p=r[s]*n,h=r[s+1]*n,d=r[s+2]*n;f+=Math.abs((e[p]-e[d])*(e[h+1]-e[p+1])-(e[p]-e[h])*(e[d+1]-e[p+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},r.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},VuYY:function(e,t,n){"use strict";var r=n("MMxC"),i=n("tny8"),o=n("ssJt"),a=n("cT1L"),s=n("f1E4"),u=n("tSXo"),c=n("igoe"),l=n("YfKC").f,f=n("lz10"),p=n("ujhg"),h=n("qcmB"),d=n("IuhT"),m=n("dnEI"),v=n("2kyd"),y=n("1aI8"),g=v("observable"),b=y.get,x=y.set,_=function(e){return null==e?void 0:a(e)},w=function(e){var t=e.cleanup;if(t){e.cleanup=void 0;try{t()}catch(n){m(n)}}},S=function(e){return void 0===e.observer},O=function(e,t){if(!i){e.closed=!0;var n=t.subscriptionObserver;n&&(n.closed=!0)}t.observer=void 0},E=function(e,t){var n,r=x(this,{cleanup:void 0,observer:s(e),subscriptionObserver:void 0});i||(this.closed=!1);try{(n=_(e.start))&&n.call(e,this)}catch(l){m(l)}if(!S(r)){var o=r.subscriptionObserver=new k(this);try{var u=t(o),c=u;null!=u&&(r.cleanup="function"===typeof u.unsubscribe?function(){c.unsubscribe()}:a(u))}catch(l){return void o.error(l)}S(r)&&w(r)}};E.prototype=p({},{unsubscribe:function(){var e=b(this);S(e)||(O(this,e),w(e))}}),i&&l(E.prototype,"closed",{configurable:!0,get:function(){return S(b(this))}});var k=function(e){x(this,{subscription:e}),i||(this.closed=!1)};k.prototype=p({},{next:function(e){var t=b(b(this).subscription);if(!S(t)){var n=t.observer;try{var r=_(n.next);r&&r.call(n,e)}catch(i){m(i)}}},error:function(e){var t=b(this).subscription,n=b(t);if(!S(n)){var r=n.observer;O(t,n);try{var i=_(r.error);i?i.call(r,e):m(e)}catch(o){m(o)}w(n)}},complete:function(){var e=b(this).subscription,t=b(e);if(!S(t)){var n=t.observer;O(e,t);try{var r=_(n.complete);r&&r.call(n)}catch(i){m(i)}w(t)}}}),i&&l(k.prototype,"closed",{configurable:!0,get:function(){return S(b(b(this).subscription))}});var C=function(e){c(this,C,"Observable"),x(this,{subscriber:a(e)})};p(C.prototype,{subscribe:function(e){var t=arguments.length;return new E("function"===typeof e?{next:e,error:t>1?arguments[1]:void 0,complete:t>2?arguments[2]:void 0}:u(e)?e:{},b(this).subscriber)}}),p(C,{from:function(e){var t="function"===typeof this?this:C,n=_(s(e)[g]);if(n){var r=s(n.call(e));return r.constructor===t?r:new t((function(e){return r.subscribe(e)}))}var i=h(e);return new t((function(e){d(i,(function(t){if(e.next(t),e.closed)return d.stop()}),void 0,!1,!0),e.complete()}))},of:function(){var e="function"===typeof this?this:C,t=arguments.length,n=new Array(t),r=0;while(r<t)n[r]=arguments[r++];return new e((function(e){for(var r=0;r<t;r++)if(e.next(n[r]),e.closed)return;e.complete()}))}}),f(C.prototype,g,(function(){return this})),r({global:!0},{Observable:C}),o("Observable")},VvX1:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),u=n("7BAe"),c=n("/dTS"),l=n("PPXv"),f=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{mapKeys:function(e){var t=a(this),n=l(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Map"))),p=s(i.set);return f(n,(function(e,n){p.call(i,r(n,e,t),n)}),void 0,!0,!0),i}})},W8MJ:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},WFqU:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("IyRk"))},WHYC:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return L})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return U})),n.d(t,"g",(function(){return V})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return I})),n.d(t,"j",(function(){return G})),n.d(t,"k",(function(){return W})),n.d(t,"l",(function(){return Z})),n.d(t,"m",(function(){return Y})),n.d(t,"n",(function(){return H}));var r=n("dI71"),i=n("q1tI"),o=n.n(i),a=(n("17x9"),n("YS25")),s=n("tEiQ"),u=n("9R94"),c=n("wx14"),l=n("vRGJ"),f=n.n(l),p=(n("TOwV"),n("zLVn")),h=n("2mql"),d=n.n(h),m=function(e){var t=Object(s["a"])();return t.displayName=e,t},v=m("Router-History"),y=function(e){var t=Object(s["a"])();return t.displayName=e,t},g=y("Router"),b=function(e){function t(t){var n;return n=e.call(this,t)||this,n.state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r["a"])(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(g.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(v.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);var x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,t.history=Object(a["d"])(t.props),t}Object(r["a"])(t,e);var n=t.prototype;return n.render=function(){return o.a.createElement(b,{history:this.history,children:this.props.children})},t}(o.a.Component);var _=function(e){function t(){return e.apply(this,arguments)||this}Object(r["a"])(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(o.a.Component);function w(e){var t=e.message,n=e.when,r=void 0===n||n;return o.a.createElement(g.Consumer,null,(function(e){if(e||Object(u["a"])(!1),!r||e.staticContext)return null;var n=e.history.block;return o.a.createElement(_,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var S={},O=1e4,E=0;function k(e){if(S[e])return S[e];var t=f.a.compile(e);return E<O&&(S[e]=t,E++),t}function C(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:k(e)(t,{pretty:!0})}function j(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return o.a.createElement(g.Consumer,null,(function(e){e||Object(u["a"])(!1);var r=e.history,s=e.staticContext,l=i?r.push:r.replace,f=Object(a["c"])(t?"string"===typeof n?C(n,t.params):Object(c["a"])({},n,{pathname:C(n.pathname,t.params)}):n);return s?(l(f),null):o.a.createElement(_,{onMount:function(){l(f)},onUpdate:function(e,t){var n=Object(a["c"])(t.to);Object(a["f"])(n,Object(c["a"])({},f,{key:n.key}))||l(f)},to:n})}))}var T={},A=1e4,P=0;function M(e,t){var n=""+t.end+t.strict+t.sensitive,r=T[n]||(T[n]={});if(r[e])return r[e];var i=[],o=f()(e,i,t),a={regexp:o,keys:i};return P<A&&(r[e]=a,P++),a}function I(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u,l=[].concat(r);return l.reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=M(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),p=e===l;return o&&!p?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:p,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var L=function(e){function t(){return e.apply(this,arguments)||this}Object(r["a"])(t,e);var n=t.prototype;return n.render=function(){var e=this;return o.a.createElement(g.Consumer,null,(function(t){t||Object(u["a"])(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?I(n.pathname,e.props):t.match,i=Object(c["a"])({},t,{location:n,match:r}),a=e.props,s=a.children,l=a.component,f=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(g.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?o.a.createElement(l,i):f?f(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function R(e){return"/"===e.charAt(0)?e:"/"+e}function D(e,t){return e?Object(c["a"])({},t,{pathname:R(e)+t.pathname}):t}function N(e,t){if(!e)return t;var n=R(e);return 0!==t.pathname.indexOf(n)?t:Object(c["a"])({},t,{pathname:t.pathname.substr(n.length)})}function z(e){return"string"===typeof e?e:Object(a["e"])(e)}function F(e){return function(){Object(u["a"])(!1)}}function B(){}var U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,t.handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return B},t.handleBlock=function(){return B},t}Object(r["a"])(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,i=void 0===r?"":r,o=n.context,s=void 0===o?{}:o;s.action=t,s.location=D(i,Object(a["c"])(e)),s.url=z(s.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,i=void 0===r?{}:r,s=e.location,u=void 0===s?"/":s,l=Object(p["a"])(e,["basename","context","location"]),f={createHref:function(e){return R(n+z(e))},action:"POP",location:N(n,Object(a["c"])(u)),push:this.handlePush,replace:this.handleReplace,go:F("go"),goBack:F("goBack"),goForward:F("goForward"),listen:this.handleListen,block:this.handleBlock};return o.a.createElement(b,Object(c["a"])({},l,{history:f,staticContext:i}))},t}(o.a.Component);var V=function(e){function t(){return e.apply(this,arguments)||this}Object(r["a"])(t,e);var n=t.prototype;return n.render=function(){var e=this;return o.a.createElement(g.Consumer,null,(function(t){t||Object(u["a"])(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?I(i.pathname,Object(c["a"])({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);function H(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(p["a"])(t,["wrappedComponentRef"]);return o.a.createElement(g.Consumer,null,(function(t){return t||Object(u["a"])(!1),o.a.createElement(e,Object(c["a"])({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,d()(n,e)}var q=o.a.useContext;function G(){return q(v)}function W(){return q(g).location}function Z(){var e=q(g).match;return e?e.params:{}}function Y(e){var t=W(),n=q(g).match;return e?I(t.pathname,e):n}},WJ3H:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},WQuA:function(e,t,n){"use strict";var r=n("MMxC"),i=n("tny8"),o=n("i7kj"),a=n("cTDu"),s=n("gFfw"),u=n("Acmb"),c=n("g8rt").f;i&&r({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(e){var t,n=a(this),r=s(e,!0);do{if(t=c(n,r))return t.set}while(n=u(n))}})},WWur:function(e,t,n){"use strict";var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.target,r=void 0===n?document.body:n,i=document.createElement("textarea"),o=document.activeElement;i.value=e,i.setAttribute("readonly",""),i.style.contain="strict",i.style.position="absolute",i.style.left="-9999px",i.style.fontSize="12pt";var a=document.getSelection(),s=!1;a.rangeCount>0&&(s=a.getRangeAt(0)),r.append(i),i.select(),i.selectionStart=0,i.selectionEnd=e.length;var u=!1;try{u=document.execCommand("copy")}catch(c){}return i.remove(),s&&(a.removeAllRanges(),a.addRange(s)),o&&o.focus(),u};e.exports=r,e.exports["default"]=r},WbBG:function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},WkPL:function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},WmNS:function(e,t,n){e.exports=n("VWci")},WwFo:function(e,t,n){var r=n("juv8"),i=n("7GkX");function o(e,t){return e&&r(t,i(t),e)}e.exports=o},X5kU:function(e,t,n){"use strict";var r=n("tSXo"),i=n("YfKC"),o=n("Acmb"),a=n("2kyd"),s=a("hasInstance"),u=Function.prototype;s in u||i.f(u,s,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;while(e=o(e))if(this.prototype===e)return!0;return!1}})},X6vt:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Un+d"),o=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o.call(this)}})},XWE6:function(e,t){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n},XX5T:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},XYm9:function(e,t,n){var r=n("+K+b");function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}e.exports=i},XcSm:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("H1Ra"),s=(n("Rsk4"),n("nKUr"));t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),Object(s["jsx"])(s["Fragment"],{children:Object(s["jsxs"])("div",{className:"markdown",children:[Object(s["jsxs"])("h2",{id:"marker-props",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#marker-props","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Marker Props"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"option"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"marker \u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"lnglat"}),Object(s["jsx"])("td",{children:"`Array"}),Object(s["jsx"])("td",{children:"Object`"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"onMarkerLoaded"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Function"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"layer \u56de\u8c03\u51fd\u6570"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"children"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"React.ReactNode"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"\u5b50\u7ec4\u4ef6"})]})]})]}),Object(s["jsxs"])("h3",{id:"option",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#option","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"option"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"color"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"blue"})}),Object(s["jsx"])("td",{children:"marker \u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"anchor"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"center, top, top-left, top-right, bottom, bottom-left,bottom-right,left, right"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"offsets"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Array[x,y]"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"marker \u4f4d\u7f6e\u504f\u79fb"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"extData"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"object"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"marker \u5c5e\u6027\u6570\u636e"})]})]})]}),Object(s["jsxs"])("h2",{id:"\u5b9e\u4f8b",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u5b9e\u4f8b","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u5b9e\u4f8b"]}),Object(s["jsx"])(a["a"],{code:"import { Marker } from '@antv/l7-react';\n<Marker\n  option={{\n    color: 'red',\n  }}\n  lnglat={[120, 32]}\n/>;",lang:"jsx"})]})}))},Xi7e:function(e,t,n){var r=n("KMkd"),i=n("adU4"),o=n("tMB7"),a=n("+6XX"),s=n("Z8oC");function u(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},Xn8V:function(e,t,n){"use strict";var r=n("MMxC"),i=n("ukPv"),o=n("29mP"),a=n("Zcjx"),s=n("tny8"),u=n("Fs9M"),c=n("wgKq"),l=n("MVys"),f=n("jtLI"),p=n("Un+d"),h=n("tSXo"),d=n("f1E4"),m=n("cTDu"),v=n("0qr0"),y=n("gFfw"),g=n("HhvW"),b=n("u+7+"),x=n("P0e2"),_=n("uGHk"),w=n("IGnA"),S=n("kyO0"),O=n("g8rt"),E=n("YfKC"),k=n("e3V2"),C=n("lz10"),j=n("NMFW"),T=n("xxaU"),A=n("CjUg"),P=n("6ixQ"),M=n("evbn"),I=n("2kyd"),L=n("IjB0"),R=n("I65O"),D=n("kiNa"),N=n("1aI8"),z=n("zv1X").forEach,F=A("hidden"),B="Symbol",U="prototype",V=I("toPrimitive"),H=N.set,q=N.getterFor(B),G=Object[U],W=i.Symbol,Z=o("JSON","stringify"),Y=O.f,X=E.f,K=w.f,J=k.f,Q=T("symbols"),$=T("op-symbols"),ee=T("string-to-symbol-registry"),te=T("symbol-to-string-registry"),ne=T("wks"),re=i.QObject,ie=!re||!re[U]||!re[U].findChild,oe=s&&l((function(){return 7!=b(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Y(G,t);r&&delete G[t],X(e,t,n),r&&e!==G&&X(G,t,r)}:X,ae=function(e,t){var n=Q[e]=b(W[U]);return H(n,{type:B,tag:e,description:t}),s||(n.description=t),n},se=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},ue=function(e,t,n){e===G&&ue($,t,n),d(e);var r=y(t,!0);return d(n),f(Q,r)?(n.enumerable?(f(e,F)&&e[F][r]&&(e[F][r]=!1),n=b(n,{enumerable:g(0,!1)})):(f(e,F)||X(e,F,g(1,{})),e[F][r]=!0),oe(e,r,n)):X(e,r,n)},ce=function(e,t){d(e);var n=v(t),r=x(n).concat(de(n));return z(r,(function(t){s&&!fe.call(n,t)||ue(e,t,n[t])})),e},le=function(e,t){return void 0===t?b(e):ce(b(e),t)},fe=function(e){var t=y(e,!0),n=J.call(this,t);return!(this===G&&f(Q,t)&&!f($,t))&&(!(n||!f(this,t)||!f(Q,t)||f(this,F)&&this[F][t])||n)},pe=function(e,t){var n=v(e),r=y(t,!0);if(n!==G||!f(Q,r)||f($,r)){var i=Y(n,r);return!i||!f(Q,r)||f(n,F)&&n[F][r]||(i.enumerable=!0),i}},he=function(e){var t=K(v(e)),n=[];return z(t,(function(e){f(Q,e)||f(P,e)||n.push(e)})),n},de=function(e){var t=e===G,n=K(t?$:v(e)),r=[];return z(n,(function(e){!f(Q,e)||t&&!f(G,e)||r.push(Q[e])})),r};if(u||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=M(e),n=function(e){this===G&&n.call($,e),f(this,F)&&f(this[F],t)&&(this[F][t]=!1),oe(this,t,g(1,e))};return s&&ie&&oe(G,t,{configurable:!0,set:n}),ae(t,e)},j(W[U],"toString",(function(){return q(this).tag})),j(W,"withoutSetter",(function(e){return ae(M(e),e)})),k.f=fe,E.f=ue,O.f=pe,_.f=w.f=he,S.f=de,L.f=function(e){return ae(I(e),e)},s&&(X(W[U],"description",{configurable:!0,get:function(){return q(this).description}}),a||j(G,"propertyIsEnumerable",fe,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:W}),z(x(ne),(function(e){R(e)})),r({target:B,stat:!0,forced:!u},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var n=W(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:le,defineProperty:ue,defineProperties:ce,getOwnPropertyDescriptor:pe}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:he,getOwnPropertySymbols:de}),r({target:"Object",stat:!0,forced:l((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(m(e))}}),Z){var me=!u||l((function(){var e=W();return"[null]"!=Z([e])||"{}"!=Z({a:e})||"{}"!=Z(Object(e))}));r({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,n){var r,i=[e],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=t,(h(t)||void 0!==e)&&!se(e))return p(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!se(t))return t}),i[1]=t,Z.apply(null,i)}})}W[U][V]||C(W[U],V,W[U].valueOf),D(W,B),P[F]=!0},"Xt/L":function(e,t){function n(e,t,n){var r=-1,i=null==e?0:e.length;while(++r<i)if(n(t,e[r]))return!0;return!1}e.exports=n},"Xxk+":function(e,t,n){var r=n("MMxC"),i=n("aF2d");r({target:"WeakSet",stat:!0},{from:i})},"Y+p1":function(e,t,n){var r=n("wF/u");function i(e,t){return r(e,t)}e.exports=i},Y3g6:function(e,t,n){var r=n("f1E4");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){var o=e["return"];throw void 0!==o&&r(o.call(e)),a}}},Y3xf:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("H1Ra"),s=(n("Rsk4"),n("nKUr"));t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),Object(s["jsx"])(s["Fragment"],{children:Object(s["jsxs"])("div",{className:"markdown",children:[Object(s["jsxs"])("h2",{id:"layer-\u7c7b\u578b",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#layer-\u7c7b\u578b","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Layer \u7c7b\u578b"]}),Object(s["jsx"])("p",{children:"React \u5404\u4e2a\u7ec4\u4ef6\u540d\u79f0\u548c L7 \u540d\u79f0\u4fdd\u6301\u4e00\u81f4"}),Object(s["jsxs"])("ul",{children:[Object(s["jsx"])("li",{children:"PointLayer"}),Object(s["jsx"])("li",{children:"PolygonLayer"}),Object(s["jsx"])("li",{children:"LineLayer"}),Object(s["jsx"])("li",{children:"HeatmapLayer"}),Object(s["jsx"])("li",{children:"RasterLayer"}),Object(s["jsx"])("li",{children:"ImageLayer"}),Object(s["jsx"])("li",{children:"CityBuildingLayer"})]}),Object(s["jsxs"])("h3",{id:"\u4f7f\u7528\u65b9\u5f0f",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u4f7f\u7528\u65b9\u5f0f","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u4f7f\u7528\u65b9\u5f0f"]}),Object(s["jsx"])(a["a"],{code:"import { PointLayer } from '@antv/l7-react';",lang:"jsx"}),Object(s["jsxs"])("h2",{id:"layer-props",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#layer-props","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Layer Props"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"options"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"layer options"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"layer \u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"source"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"sourceOption"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u6570\u636e\u6e90\u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"color"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"attributeOption"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u989c\u8272\u901a\u9053"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"shape"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"attributeOption"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u5f62\u72b6\u5c5e\u6027"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"size"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"attributeOption"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u5927\u5c0f\u5c5e\u6027"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"style"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Object"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u6837\u5f0f"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"scale"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"scale Option"})}),Object(s["jsx"])("td",{children:"\u9ed8\u8ba4\u4f1a\u6570\u503c\u7c7b\u8bbe\u5b9a scale\uff0c\u6570\u503c\u7c7b\u578b linear\uff0c\u5b57\u7b26\u4e32\u7c7b\u578b\u4e3a cat"}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u5ea6\u91cf"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"filter"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Function"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u6570\u636e\u8fc7\u6ee4\u65b9\u6cd5"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"select"}),Object(s["jsxs"])("td",{children:[Object(s["jsx"])("code",{children:"boolean"})," ",Object(s["jsx"])("code",{children:"interaction option"})]}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u9009\u4e2d\u9ad8\u4eae"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"active"}),Object(s["jsxs"])("td",{children:[Object(s["jsx"])("code",{children:"boolean"})," ",Object(s["jsx"])("code",{children:"interaction option"})]}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"false"})}),Object(s["jsx"])("td",{children:"\u56fe\u5c42 hover \u9ad8\u4eae"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"animate"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"animate Option"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u52a8\u753b\u914d\u7f6e"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"onLayerLoaded"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Function"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u6dfb\u52a0\u5b8c\u6210\u540e\u56de\u8c03\uff0c\u7528\u4e8e\u83b7\u53d6 layer \u5bf9\u8c61"})]})]})]}),Object(s["jsxs"])("h3",{id:"layer-options",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#layer-options","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"layer options"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"name"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u540d\u5b57\uff0c\u53ef\u6839\u636e\u540d\u79f0\u83b7\u53d6 layer"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"visible"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"boolean"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"true"})}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u662f\u5426\u53ef\u89c1"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"zIndex"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"0"}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u7ed8\u5236\u987a\u5e8f\uff0c"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"minZoom"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"0"}),Object(s["jsx"])("td",{children:"\u8bbe\u7f6e layer \u6700\u5c0f\u53ef\u89c1\u7b49\u7ea7\uff0c\u5c0f\u4e8e\u5219\u4e0d\u663e\u793a"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"maxZoom"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"\u4e0e map \u6700\u5927\u7f29\u653e\u7b49\u7ea7\u4e00\u81f4"}),Object(s["jsx"])("td",{children:"\u8bbe\u7f6e layerd \u7684\u6700\u5927\u53ef\u89c1\u7b49\u7ea7\uff0c\u5927\u4e8e\u5219\u4e0d\u663e\u793a"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"aotoFit"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"boolean"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"false"})}),Object(s["jsx"])("td",{children:"\u662f\u5426\u7f29\u653e\u5230\u56fe\u5c42\u8303\u56f4"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"blend"}),Object(s["jsx"])("td",{children:"'string'"}),Object(s["jsx"])("td",{children:"'normal'"}),Object(s["jsxs"])("td",{children:["\u56fe\u5c42\u5143\u7d20\u6df7\u5408\u6548\u679c ",Object(s["jsx"])(o["AnchorLink"],{to:"../layer/layer/#blend",children:"\u8be6\u60c5"})]})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"pickingBuffer"}),Object(s["jsx"])("td",{children:"'number'"}),Object(s["jsx"])("td",{children:"'0'"}),Object(s["jsxs"])("td",{children:["\u56fe\u5c42\u62fe\u53d6\u7f13\u5b58\u673a\u5236\uff0c\u5982 1px \u5bbd\u5ea6\u7684\u7ebf\u9f20\u6807\u5f88\u96be\u62fe\u53d6(\u70b9\u51fb)\u5230, \u901a\u8fc7\u8bbe\u7f6e\u8be5\u53c2\u6570\u53ef\u6269\u5927\u62fe\u53d6\u7684\u8303\u56f4 ","{","number","}"," default 0"]})]})]})]}),Object(s["jsxs"])("h3",{id:"attribute-option",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#attribute-option","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"attribute Option"]}),Object(s["jsx"])("p",{children:"color, size, shape \u7b49\u56fe\u5f62\u6620\u5c04\u901a\u9053\uff0c\u901a\u8fc7\u4e0b\u9762\u53c2\u6570\u914d\u7f6e"}),Object(s["jsxs"])("ul",{children:[Object(s["jsx"])("li",{children:"field \u6620\u5c04\u5b57\u6bb5\uff0c\u5982\u679c\u662f\u5e38\u91cf\u8bbe\u7f6e\u4e3a null"}),Object(s["jsx"])("li",{children:"values \u6620\u5c04\u503c \u652f\u6301 \u5e38\u91cf\uff0c\u6570\u7ec4\uff0c\u56de\u8c03\u51fd\u6570\uff0c\u5982\u679c values \u4e3a\u6570\u7ec4\u6216\u56de\u8c03\u9700\u8981\u8bbe\u7f6e field \u5b57\u6bb5"})]}),Object(s["jsxs"])("p",{children:["\u8be6\u7ec6",Object(s["jsx"])(o["AnchorLink"],{to:"../layer/layer/#size",children:"\u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("h3",{id:"source-option",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#source-option","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"source Option"]}),Object(s["jsx"])("p",{children:"\u6570\u636e\u6e90\u914d\u7f6e\u9879"}),Object(s["jsxs"])("ul",{children:[Object(s["jsx"])("li",{children:"data \u652f\u6301 geojson\u3001csv\u3001json"}),Object(s["jsx"])("li",{children:"parser \u6570\u636e\u89e3\u6790\u914d\u7f6e\u9879"}),Object(s["jsx"])("li",{children:"transforms \u6570\u636e\u5904\u7406\u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("p",{children:["\u8be6\u7ec6",Object(s["jsx"])(o["AnchorLink"],{to:"../source/source/#parser-1",children:"\u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("h3",{id:"scale-option",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#scale-option","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"scale Option"]}),Object(s["jsx"])("p",{children:"\u5ea6\u91cf\u914d\u7f6e\u9879"}),Object(s["jsx"])("ul",{children:Object(s["jsx"])("li",{children:"values scaleCfg"})}),Object(s["jsx"])("p",{children:Object(s["jsx"])("strong",{children:"scaleCfg"})}),Object(s["jsxs"])("ul",{children:[Object(s["jsx"])("li",{children:"key \u4e3a\u5b57\u6bb5\u540d fieldname | attributeName"}),Object(s["jsx"])("li",{children:"value scale \u914d\u7f6e\u9879"})]}),Object(s["jsx"])(a["a"],{code:"const scales = {\n  values: {\n    name: {\n      type: 'cat',\n    },\n  },\n};",lang:"javascript"}),Object(s["jsxs"])("h3",{id:"interaction-option",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#interaction-option","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"interaction option"]}),Object(s["jsx"])("p",{children:"active\uff0cselect \u914d\u7f6e\u9879"}),Object(s["jsx"])("p",{children:Object(s["jsx"])("strong",{children:"option"})}),Object(s["jsx"])("ul",{children:Object(s["jsx"])("li",{children:"color \u8bbe\u7f6e\u4ea4\u4e92\u7684\u989c\u8272\uff0c\u6307\u6ed1\u8fc7\u6216\u8005\u9009\u4e2d\u7684"})}),Object(s["jsxs"])("h3",{id:"\u83b7\u53d6-layer-\u5bf9\u8c61",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u83b7\u53d6-layer-\u5bf9\u8c61","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u83b7\u53d6 layer \u5bf9\u8c61"]}),Object(s["jsxs"])("h4",{id:"onlayerloaded",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#onlayerloaded","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"onLayerLoaded"]}),Object(s["jsx"])("p",{children:"\u56de\u8c03\u51fd\u6570\u83b7\u53d6 layer, scene \u5bf9\u8c61"}),Object(s["jsx"])(a["a"],{code:"onLayerLoaded = (layer, scene) => {};",lang:"javascript"}),Object(s["jsxs"])("h4",{id:"context-api",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#context-api","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Context API"]}),Object(s["jsx"])(a["a"],{code:"import { LayerContext } from '@antv/l7-react';\n<LayerContext.Consumer>\n  {(layer, scene) => {\n    // use `scene` here\n  }}\n</LayerContext.Consumer>;",lang:"jsx"}),Object(s["jsxs"])("h3",{id:"layer-\u793a\u4f8b",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#layer-\u793a\u4f8b","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Layer \u793a\u4f8b"]}),Object(s["jsx"])(a["a"],{code:"import { PolygonLayer } from '@antv/l7-react';\n<PolygonLayer\n  key={'2'}\n  source={{\n    data,\n  }}\n  color={{\n    field: 'name',\n    values: ['#2E8AE6', '#69D1AB', '#DAF291', '#FFD591', '#FF7A45', '#CF1D49'],\n  }}\n  shape={{\n    values: 'fill',\n  }}\n  style={{\n    opacity: 1,\n  }}\n  active={{\n    option: {\n      color: 'red',\n    },\n  }}\n/>;",lang:"jsx"}),Object(s["jsxs"])("h2",{id:"\u5b50\u7ec4\u4ef6",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u5b50\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u5b50\u7ec4\u4ef6"]}),Object(s["jsxs"])("h3",{id:"\u4e8b\u4ef6\u7ec4\u4ef6",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u4e8b\u4ef6\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u4e8b\u4ef6\u7ec4\u4ef6"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"type"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsxs"])("td",{children:["\u4e8b\u4ef6\u7c7b\u578b ",Object(s["jsx"])(o["AnchorLink"],{to:"../layer/layer/#%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6",children:"\u8be6\u60c5"})]})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"handler"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Function"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"layer \u56de\u8c03\u51fd\u6570"})]})]})]}),Object(s["jsxs"])("h3",{id:"\u793a\u4f8b",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u793a\u4f8b","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u793a\u4f8b"]}),Object(s["jsx"])(a["a"],{code:'import { LayerEvent, PolygonLayer } from \'@antv/l7-react\';\n<PolygonLayer>\n  <LayerEvent type="click" handler={() => {}} />\n  <LayerEvent type="mousemove" handler={() => {}} />\n</PolygonLayer>;',lang:"jsx"})]})}))},Y8BV:function(e,t,n){"use strict";function r(e,t){var n=t.callback;return n&&(e.dataArray=e.dataArray.filter(n)),e}n.d(t,"a",(function(){return r}))},YESw:function(e,t,n){var r=n("Cwc5"),i=r(Object,"create");e.exports=i},YJpY:function(e,t,n){"use strict";var r=n("MMxC"),i=n("hKmx"),o=n("cTDu"),a=n("oa35"),s=n("cT1L"),u=n("nMuc");r({target:"Array",proto:!0},{flatMap:function(e){var t,n=o(this),r=a(n.length);return s(e),t=u(n,0),t.length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},YMnH:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("wx14"),i=n("1OyB"),o=n("vuIU"),a=n("Ji7U"),s=n("LK+K"),u=n("q1tI"),c=n("ZvpZ"),l=c["a"],f=n("YlG9"),p=function(e){Object(a["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale,i=n||l[null!==t&&void 0!==t?t:"global"],o=this.context,a=t&&o?o[t]:{};return Object(r["a"])(Object(r["a"])({},i instanceof Function?i():i),a||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?l.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(u["Component"]);p.defaultProps={componentName:"global"},p.contextType=f["a"]},YMoz:function(e,t){e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},YO3V:function(e,t,n){var r=n("NykK"),i=n("LcsW"),o=n("ExA7"),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,f=c.call(Object);function p(e){if(!o(e)||r(e)!=a)return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}e.exports=p},YON3:function(e,t,n){var r=n("tSXo"),i=n("UwrT"),o=n("2kyd"),a=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},YS25:function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return B})),n.d(t,"d",(function(){return V})),n.d(t,"c",(function(){return _})),n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return x}));var r=n("wx14");function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function a(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,p=a.length;p>=0;p--){var h=a[p];"."===h?o(a,p):".."===h?(o(a,p),f++):f&&(o(a,p),f--)}if(!c)for(;f--;f)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var d=a.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d}var s=a;function u(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function c(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return c(e,t[n])}));if("object"===typeof e||"object"===typeof t){var n=u(e),r=u(t);return n!==e||r!==t?c(n,r):Object.keys(Object.assign({},e,t)).every((function(n){return c(e[n],t[n])}))}return!1}var l=c,f=n("cr+I"),p=n.n(f),h=n("9R94");function d(e){return"/"===e.charAt(0)?e:"/"+e}function m(e){return"/"===e.charAt(0)?e.substr(1):e}function v(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}function y(e,t){return v(e,t)?e.substr(t.length):e}function g(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function b(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function x(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function _(e,t,n,i){var o;"string"===typeof e?(o=b(e),o.query=o.search?p.a.parse(o.search):{},o.state=t):(o=Object(r["a"])({},e),void 0===o.pathname&&(o.pathname=""),o.search?("?"!==o.search.charAt(0)&&(o.search="?"+o.search),o.query=p.a.parse(o.search)):(o.search=o.query?p.a.stringify(o.query):"",o.query=o.query||{}),o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=s(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function w(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function S(){var e=null;function t(t){return e=t,function(){e===t&&(e=null)}}function n(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)}var r=[];function i(e){var t=!0;function n(){t&&e.apply(void 0,arguments)}return r.push(n),function(){t=!1,r=r.filter((function(e){return e!==n}))}}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach((function(e){return e.apply(void 0,t)}))}return{setPrompt:t,confirmTransitionTo:n,appendListener:i,notifyListeners:o}}var O=!("undefined"===typeof window||!window.document||!window.document.createElement);function E(e,t){t(window.confirm(e))}function k(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function C(){return-1===window.navigator.userAgent.indexOf("Trident")}function j(){return-1===window.navigator.userAgent.indexOf("Firefox")}function T(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}var A="popstate",P="hashchange";function M(){try{return window.history.state||{}}catch(e){return{}}}function I(e){void 0===e&&(e={}),O||Object(h["a"])(!1);var t=window.history,n=k(),i=!C(),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,c=void 0===u?E:u,l=o.keyLength,f=void 0===l?6:l,p=e.basename?g(d(e.basename)):"";function m(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname,a=i.search,s=i.hash,u=o+a+s;return p&&(u=y(u,p)),_(u,r,n)}function v(){return Math.random().toString(36).substr(2,f)}var b=S();function w(e){Object(r["a"])(K,e),K.length=t.length,b.notifyListeners(K.location,K.action)}function j(e){T(e)||R(m(e.state))}function I(){R(m(M()))}var L=!1;function R(e){if(L)L=!1,w();else{var t="POP";b.confirmTransitionTo(e,t,c,(function(n){n?w({action:t,location:e}):D(e)}))}}function D(e){var t=K.location,n=z.indexOf(t.key);-1===n&&(n=0);var r=z.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(L=!0,V(i))}var N=m(M()),z=[N.key];function F(e){return p+x(e)}function B(e,r){var i="PUSH",o=_(e,r,v(),K.location);b.confirmTransitionTo(o,i,c,(function(e){if(e){var r=F(o),a=o.key,u=o.state;if(n)if(t.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var c=z.indexOf(K.location.key),l=z.slice(0,c+1);l.push(o.key),z=l,w({action:i,location:o})}else window.location.href=r}}))}function U(e,r){var i="REPLACE",o=_(e,r,v(),K.location);b.confirmTransitionTo(o,i,c,(function(e){if(e){var r=F(o),a=o.key,u=o.state;if(n)if(t.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var c=z.indexOf(K.location.key);-1!==c&&(z[c]=o.key),w({action:i,location:o})}else window.location.replace(r)}}))}function V(e){t.go(e)}function H(){V(-1)}function q(){V(1)}var G=0;function W(e){G+=e,1===G&&1===e?(window.addEventListener(A,j),i&&window.addEventListener(P,I)):0===G&&(window.removeEventListener(A,j),i&&window.removeEventListener(P,I))}var Z=!1;function Y(e){void 0===e&&(e=!1);var t=b.setPrompt(e);return Z||(W(1),Z=!0),function(){return Z&&(Z=!1,W(-1)),t()}}function X(e){var t=b.appendListener(e);return W(1),function(){W(-1),t()}}var K={length:t.length,action:"POP",location:N,createHref:F,push:B,replace:U,go:V,goBack:H,goForward:q,block:Y,listen:X};return K}var L="hashchange",R={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+m(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:m,decodePath:d},slash:{encodePath:d,decodePath:d}};function D(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function N(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function z(e){window.location.hash=e}function F(e){window.location.replace(D(window.location.href)+"#"+e)}function B(e){void 0===e&&(e={}),O||Object(h["a"])(!1);var t=window.history,n=(j(),e),i=n.getUserConfirmation,o=void 0===i?E:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?g(d(e.basename)):"",c=R[s],l=c.encodePath,f=c.decodePath;function p(){var e=f(N());return u&&(e=y(e,u)),_(e)}var m=S();function v(e){Object(r["a"])(Q,e),Q.length=t.length,m.notifyListeners(Q.location,Q.action)}var b=!1,w=null;function k(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}function C(){var e=N(),t=l(e);if(e!==t)F(t);else{var n=p(),r=Q.location;if(!b&&k(r,n))return;if(w===x(n))return;w=null,T(n)}}function T(e){if(b)b=!1,v();else{var t="POP";m.confirmTransitionTo(e,t,o,(function(n){n?v({action:t,location:e}):A(e)}))}}function A(e){var t=Q.location,n=B.lastIndexOf(x(t));-1===n&&(n=0);var r=B.lastIndexOf(x(e));-1===r&&(r=0);var i=n-r;i&&(b=!0,q(i))}var P=N(),M=l(P);P!==M&&F(M);var I=p(),B=[x(I)];function U(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=D(window.location.href)),n+"#"+l(u+x(e))}function V(e,t){var n="PUSH",r=_(e,void 0,void 0,Q.location);m.confirmTransitionTo(r,n,o,(function(e){if(e){var t=x(r),i=l(u+t),o=N()!==i;if(o){w=t,z(i);var a=B.lastIndexOf(x(Q.location)),s=B.slice(0,a+1);s.push(t),B=s,v({action:n,location:r})}else v()}}))}function H(e,t){var n="REPLACE",r=_(e,void 0,void 0,Q.location);m.confirmTransitionTo(r,n,o,(function(e){if(e){var t=x(r),i=l(u+t),o=N()!==i;o&&(w=t,F(i));var a=B.indexOf(x(Q.location));-1!==a&&(B[a]=t),v({action:n,location:r})}}))}function q(e){t.go(e)}function G(){q(-1)}function W(){q(1)}var Z=0;function Y(e){Z+=e,1===Z&&1===e?window.addEventListener(L,C):0===Z&&window.removeEventListener(L,C)}var X=!1;function K(e){void 0===e&&(e=!1);var t=m.setPrompt(e);return X||(Y(1),X=!0),function(){return X&&(X=!1,Y(-1)),t()}}function J(e){var t=m.appendListener(e);return Y(1),function(){Y(-1),t()}}var Q={length:t.length,action:"POP",location:I,createHref:U,push:V,replace:H,go:q,goBack:G,goForward:W,block:K,listen:J};return Q}function U(e,t,n){return Math.min(Math.max(e,t),n)}function V(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=S();function f(e){Object(r["a"])(C,e),C.length=C.entries.length,l.notifyListeners(C.location,C.action)}function p(){return Math.random().toString(36).substr(2,c)}var h=U(s,0,o.length-1),d=o.map((function(e){return _(e,void 0,"string"===typeof e?p():e.key||p())})),m=x;function v(e,t){var r="PUSH",i=_(e,t,p(),C.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=C.index,n=t+1,o=C.entries.slice(0);o.length>n?o.splice(n,o.length-n,i):o.push(i),f({action:r,location:i,index:n,entries:o})}}))}function y(e,t){var r="REPLACE",i=_(e,t,p(),C.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(C.entries[C.index]=i,f({action:r,location:i}))}))}function g(e){var t=U(C.index+e,0,C.entries.length-1),r="POP",i=C.entries[t];l.confirmTransitionTo(i,r,n,(function(e){e?f({action:r,location:i,index:t}):f()}))}function b(){g(-1)}function w(){g(1)}function O(e){var t=C.index+e;return t>=0&&t<C.entries.length}function E(e){return void 0===e&&(e=!1),l.setPrompt(e)}function k(e){return l.appendListener(e)}var C={length:d.length,action:"POP",location:d[h],index:h,entries:d,createHref:m,push:v,replace:y,go:g,goBack:b,goForward:w,canGo:O,block:E,listen:k};return C}},YceZ:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("jbR1"),s=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{join:function(e){var t=o(this),n=a(t),r=void 0===e?",":String(e),i=[];return s(n,i.push,i,!1,!0),i.join(r)}})},YfKC:function(e,t,n){var r=n("tny8"),i=n("/yC2"),o=n("f1E4"),a=n("gFfw"),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},YjZU:function(e,t,n){var r=n("MMxC"),i=n("29mP"),o=n("cT1L"),a=n("f1E4"),s=n("tSXo"),u=n("u+7+"),c=n("+SQA"),l=n("MVys"),f=i("Reflect","construct"),p=l((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),h=!l((function(){f((function(){}))})),d=p||h;r({target:"Reflect",stat:!0,forced:d,sham:d},{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(h&&!p)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var i=n.prototype,l=u(s(i)?i:Object.prototype),d=Function.apply.call(e,l,t);return s(d)?d:l}})},Yk9n:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var r=n("MON2"),i=n("xfSm"),o=n("GXnB"),a=n("Ztfv"),s=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();function u(e){return function(t,n,s){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var u=new o.Metadata(i.INJECT_TAG,e);"number"===typeof s?a.tagParameter(t,n,s,u):a.tagProperty(t,n,u)}}t.LazyServiceIdentifer=s,t.inject=u},YlG9:function(e,t,n){"use strict";var r=n("q1tI"),i=Object(r["createContext"])(void 0);t["a"]=i},YrtM:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function i(e,t,n){var i=r["useRef"]({});return"value"in i.current&&!n(i.current.condition,t)||(i.current.value=e(),i.current.condition=t),i.current.value}},"Z+8a":function(e,t,n){"use strict";var r=n("f1E4"),i=n("cT1L");e.exports=function(){for(var e=r(this),t=i(e.add),n=0,o=arguments.length;n<o;n++)t.call(e,arguments[n]);return e}},Z0cm:function(e,t){var n=Array.isArray;e.exports=n},Z8oC:function(e,t,n){var r=n("y1pI");function i(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}e.exports=i},ZDb2:function(e,t,n){"use strict";var r=n("ENif"),i=n("YON3"),o=n("f1E4"),a=n("FCfD"),s=n("/dTS"),u=n("xH5X"),c=n("oa35"),l=n("dagG"),f=n("NcLc"),p=n("MVys"),h=[].push,d=Math.min,m=4294967295,v=!p((function(){return!RegExp(m,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),o=void 0===n?m:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);var s,u,c,l=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,v=new RegExp(e.source,p+"g");while(s=f.call(v,r)){if(u=v.lastIndex,u>d&&(l.push(r.slice(d,s.index)),s.length>1&&s.index<r.length&&h.apply(l,s.slice(1)),c=s[0].length,d=u,l.length>=o))break;v.lastIndex===s.index&&v.lastIndex++}return d===r.length?!c&&v.test("")||l.push(""):l.push(r.slice(d)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=a(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var a=n(r,e,this,i,r!==t);if(a.done)return a.value;var f=o(e),p=String(this),h=s(f,RegExp),y=f.unicode,g=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(v?"y":"g"),b=new h(v?f:"^(?:"+f.source+")",g),x=void 0===i?m:i>>>0;if(0===x)return[];if(0===p.length)return null===l(b,p)?[p]:[];var _=0,w=0,S=[];while(w<p.length){b.lastIndex=v?w:0;var O,E=l(b,v?p:p.slice(w));if(null===E||(O=d(c(b.lastIndex+(v?0:w)),p.length))===_)w=u(p,w,y);else{if(S.push(p.slice(_,w)),S.length===x)return S;for(var k=1;k<=E.length-1;k++)if(S.push(E[k]),S.length===x)return S;w=_=O}}return S.push(p.slice(_)),S}]}),!v)},ZFOp:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},ZK94:function(e,t){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},ZSlt:function(e,t,n){"use strict";var r=n("ukPv"),i=n("tny8"),o=n("GNqc"),a=n("lz10"),s=n("ujhg"),u=n("MVys"),c=n("igoe"),l=n("m0kY"),f=n("oa35"),p=n("J+Da"),h=n("Cq6t"),d=n("Acmb"),m=n("g1ZG"),v=n("uGHk").f,y=n("YfKC").f,g=n("VSU6"),b=n("kiNa"),x=n("1aI8"),_=x.get,w=x.set,S="ArrayBuffer",O="DataView",E="prototype",k="Wrong length",C="Wrong index",j=r[S],T=j,A=r[O],P=A&&A[E],M=Object.prototype,I=r.RangeError,L=h.pack,R=h.unpack,D=function(e){return[255&e]},N=function(e){return[255&e,e>>8&255]},z=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},F=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},B=function(e){return L(e,23,4)},U=function(e){return L(e,52,8)},V=function(e,t){y(e[E],t,{get:function(){return _(this)[t]}})},H=function(e,t,n,r){var i=p(n),o=_(e);if(i+t>o.byteLength)throw I(C);var a=_(o.buffer).bytes,s=i+o.byteOffset,u=a.slice(s,s+t);return r?u:u.reverse()},q=function(e,t,n,r,i,o){var a=p(n),s=_(e);if(a+t>s.byteLength)throw I(C);for(var u=_(s.buffer).bytes,c=a+s.byteOffset,l=r(+i),f=0;f<t;f++)u[c+f]=l[o?f:t-f-1]};if(o){if(!u((function(){j(1)}))||!u((function(){new j(-1)}))||u((function(){return new j,new j(1.5),new j(NaN),j.name!=S}))){T=function(e){return c(this,T),new j(p(e))};for(var G,W=T[E]=j[E],Z=v(j),Y=0;Z.length>Y;)(G=Z[Y++])in T||a(T,G,j[G]);W.constructor=T}m&&d(P)!==M&&m(P,M);var X=new A(new T(2)),K=P.setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||s(P,{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},{unsafe:!0})}else T=function(e){c(this,T,S);var t=p(e);w(this,{bytes:g.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},A=function(e,t,n){c(this,A,O),c(e,T,O);var r=_(e).byteLength,o=l(t);if(o<0||o>r)throw I("Wrong offset");if(n=void 0===n?r-o:f(n),o+n>r)throw I(k);w(this,{buffer:e,byteLength:n,byteOffset:o}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=o)},i&&(V(T,"byteLength"),V(A,"buffer"),V(A,"byteLength"),V(A,"byteOffset")),s(A[E],{getInt8:function(e){return H(this,1,e)[0]<<24>>24},getUint8:function(e){return H(this,1,e)[0]},getInt16:function(e){var t=H(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=H(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return F(H(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return F(H(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return R(H(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return R(H(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){q(this,1,e,D,t)},setUint8:function(e,t){q(this,1,e,D,t)},setInt16:function(e,t){q(this,2,e,N,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){q(this,2,e,N,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){q(this,4,e,z,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){q(this,4,e,z,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){q(this,4,e,B,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){q(this,8,e,U,t,arguments.length>2?arguments[2]:void 0)}});b(T,S),b(A,O),e.exports={ArrayBuffer:T,DataView:A}},ZaHm:function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return i})),n.d(t,"clone",(function(){return o})),n.d(t,"copy",(function(){return a})),n.d(t,"fromValues",(function(){return s})),n.d(t,"set",(function(){return u})),n.d(t,"identity",(function(){return c})),n.d(t,"transpose",(function(){return l})),n.d(t,"invert",(function(){return f})),n.d(t,"adjoint",(function(){return p})),n.d(t,"determinant",(function(){return h})),n.d(t,"multiply",(function(){return d})),n.d(t,"translate",(function(){return m})),n.d(t,"scale",(function(){return v})),n.d(t,"rotate",(function(){return y})),n.d(t,"rotateX",(function(){return g})),n.d(t,"rotateY",(function(){return b})),n.d(t,"rotateZ",(function(){return x})),n.d(t,"fromTranslation",(function(){return _})),n.d(t,"fromScaling",(function(){return w})),n.d(t,"fromRotation",(function(){return S})),n.d(t,"fromXRotation",(function(){return O})),n.d(t,"fromYRotation",(function(){return E})),n.d(t,"fromZRotation",(function(){return k})),n.d(t,"fromRotationTranslation",(function(){return C})),n.d(t,"fromQuat2",(function(){return j})),n.d(t,"getTranslation",(function(){return T})),n.d(t,"getScaling",(function(){return A})),n.d(t,"getRotation",(function(){return P})),n.d(t,"fromRotationTranslationScale",(function(){return M})),n.d(t,"fromRotationTranslationScaleOrigin",(function(){return I})),n.d(t,"fromQuat",(function(){return L})),n.d(t,"frustum",(function(){return R})),n.d(t,"perspective",(function(){return D})),n.d(t,"perspectiveFromFieldOfView",(function(){return N})),n.d(t,"ortho",(function(){return z})),n.d(t,"lookAt",(function(){return F})),n.d(t,"targetTo",(function(){return B})),n.d(t,"str",(function(){return U})),n.d(t,"frob",(function(){return V})),n.d(t,"add",(function(){return H})),n.d(t,"subtract",(function(){return q})),n.d(t,"multiplyScalar",(function(){return G})),n.d(t,"multiplyScalarAndAdd",(function(){return W})),n.d(t,"exactEquals",(function(){return Z})),n.d(t,"equals",(function(){return Y})),n.d(t,"mul",(function(){return X})),n.d(t,"sub",(function(){return K}));var r=n("yU0y");function i(){var e=new r["a"](16);return r["a"]!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function o(e){var t=new r["a"](16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function s(e,t,n,i,o,a,s,u,c,l,f,p,h,d,m,v){var y=new r["a"](16);return y[0]=e,y[1]=t,y[2]=n,y[3]=i,y[4]=o,y[5]=a,y[6]=s,y[7]=u,y[8]=c,y[9]=l,y[10]=f,y[11]=p,y[12]=h,y[13]=d,y[14]=m,y[15]=v,y}function u(e,t,n,r,i,o,a,s,u,c,l,f,p,h,d,m,v){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=c,e[9]=l,e[10]=f,e[11]=p,e[12]=h,e[13]=d,e[14]=m,e[15]=v,e}function c(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function l(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function f(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],p=t[10],h=t[11],d=t[12],m=t[13],v=t[14],y=t[15],g=n*s-r*a,b=n*u-i*a,x=n*c-o*a,_=r*u-i*s,w=r*c-o*s,S=i*c-o*u,O=l*m-f*d,E=l*v-p*d,k=l*y-h*d,C=f*v-p*m,j=f*y-h*m,T=p*y-h*v,A=g*T-b*j+x*C+_*k-w*E+S*O;return A?(A=1/A,e[0]=(s*T-u*j+c*C)*A,e[1]=(i*j-r*T-o*C)*A,e[2]=(m*S-v*w+y*_)*A,e[3]=(p*w-f*S-h*_)*A,e[4]=(u*k-a*T-c*E)*A,e[5]=(n*T-i*k+o*E)*A,e[6]=(v*x-d*S-y*b)*A,e[7]=(l*S-p*x+h*b)*A,e[8]=(a*j-s*k+c*O)*A,e[9]=(r*k-n*j-o*O)*A,e[10]=(d*w-m*x+y*g)*A,e[11]=(f*x-l*w-h*g)*A,e[12]=(s*E-a*C-u*O)*A,e[13]=(n*C-r*E+i*O)*A,e[14]=(m*b-d*_-v*g)*A,e[15]=(l*_-f*b+p*g)*A,e):null}function p(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],p=t[10],h=t[11],d=t[12],m=t[13],v=t[14],y=t[15];return e[0]=s*(p*y-h*v)-f*(u*y-c*v)+m*(u*h-c*p),e[1]=-(r*(p*y-h*v)-f*(i*y-o*v)+m*(i*h-o*p)),e[2]=r*(u*y-c*v)-s*(i*y-o*v)+m*(i*c-o*u),e[3]=-(r*(u*h-c*p)-s*(i*h-o*p)+f*(i*c-o*u)),e[4]=-(a*(p*y-h*v)-l*(u*y-c*v)+d*(u*h-c*p)),e[5]=n*(p*y-h*v)-l*(i*y-o*v)+d*(i*h-o*p),e[6]=-(n*(u*y-c*v)-a*(i*y-o*v)+d*(i*c-o*u)),e[7]=n*(u*h-c*p)-a*(i*h-o*p)+l*(i*c-o*u),e[8]=a*(f*y-h*m)-l*(s*y-c*m)+d*(s*h-c*f),e[9]=-(n*(f*y-h*m)-l*(r*y-o*m)+d*(r*h-o*f)),e[10]=n*(s*y-c*m)-a*(r*y-o*m)+d*(r*c-o*s),e[11]=-(n*(s*h-c*f)-a*(r*h-o*f)+l*(r*c-o*s)),e[12]=-(a*(f*v-p*m)-l*(s*v-u*m)+d*(s*p-u*f)),e[13]=n*(f*v-p*m)-l*(r*v-i*m)+d*(r*p-i*f),e[14]=-(n*(s*v-u*m)-a*(r*v-i*m)+d*(r*u-i*s)),e[15]=n*(s*p-u*f)-a*(r*p-i*f)+l*(r*u-i*s),e}function h(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],p=e[11],h=e[12],d=e[13],m=e[14],v=e[15],y=t*a-n*o,g=t*s-r*o,b=t*u-i*o,x=n*s-r*a,_=n*u-i*a,w=r*u-i*s,S=c*d-l*h,O=c*m-f*h,E=c*v-p*h,k=l*m-f*d,C=l*v-p*d,j=f*v-p*m;return y*j-g*C+b*k+x*E-_*O+w*S}function d(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],p=t[9],h=t[10],d=t[11],m=t[12],v=t[13],y=t[14],g=t[15],b=n[0],x=n[1],_=n[2],w=n[3];return e[0]=b*r+x*s+_*f+w*m,e[1]=b*i+x*u+_*p+w*v,e[2]=b*o+x*c+_*h+w*y,e[3]=b*a+x*l+_*d+w*g,b=n[4],x=n[5],_=n[6],w=n[7],e[4]=b*r+x*s+_*f+w*m,e[5]=b*i+x*u+_*p+w*v,e[6]=b*o+x*c+_*h+w*y,e[7]=b*a+x*l+_*d+w*g,b=n[8],x=n[9],_=n[10],w=n[11],e[8]=b*r+x*s+_*f+w*m,e[9]=b*i+x*u+_*p+w*v,e[10]=b*o+x*c+_*h+w*y,e[11]=b*a+x*l+_*d+w*g,b=n[12],x=n[13],_=n[14],w=n[15],e[12]=b*r+x*s+_*f+w*m,e[13]=b*i+x*u+_*p+w*v,e[14]=b*o+x*c+_*h+w*y,e[15]=b*a+x*l+_*d+w*g,e}function m(e,t,n){var r,i,o,a,s,u,c,l,f,p,h,d,m=n[0],v=n[1],y=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*y+t[12],e[13]=t[1]*m+t[5]*v+t[9]*y+t[13],e[14]=t[2]*m+t[6]*v+t[10]*y+t[14],e[15]=t[3]*m+t[7]*v+t[11]*y+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],p=t[9],h=t[10],d=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=p,e[10]=h,e[11]=d,e[12]=r*m+s*v+f*y+t[12],e[13]=i*m+u*v+p*y+t[13],e[14]=o*m+c*v+h*y+t[14],e[15]=a*m+l*v+d*y+t[15]),e}function v(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function y(e,t,n,i){var o,a,s,u,c,l,f,p,h,d,m,v,y,g,b,x,_,w,S,O,E,k,C,j,T=i[0],A=i[1],P=i[2],M=Math.hypot(T,A,P);return M<r["b"]?null:(M=1/M,T*=M,A*=M,P*=M,o=Math.sin(n),a=Math.cos(n),s=1-a,u=t[0],c=t[1],l=t[2],f=t[3],p=t[4],h=t[5],d=t[6],m=t[7],v=t[8],y=t[9],g=t[10],b=t[11],x=T*T*s+a,_=A*T*s+P*o,w=P*T*s-A*o,S=T*A*s-P*o,O=A*A*s+a,E=P*A*s+T*o,k=T*P*s+A*o,C=A*P*s-T*o,j=P*P*s+a,e[0]=u*x+p*_+v*w,e[1]=c*x+h*_+y*w,e[2]=l*x+d*_+g*w,e[3]=f*x+m*_+b*w,e[4]=u*S+p*O+v*E,e[5]=c*S+h*O+y*E,e[6]=l*S+d*O+g*E,e[7]=f*S+m*O+b*E,e[8]=u*k+p*C+v*j,e[9]=c*k+h*C+y*j,e[10]=l*k+d*C+g*j,e[11]=f*k+m*C+b*j,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function g(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*r,e[5]=a*i+l*r,e[6]=s*i+f*r,e[7]=u*i+p*r,e[8]=c*i-o*r,e[9]=l*i-a*r,e[10]=f*i-s*r,e[11]=p*i-u*r,e}function b(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],c=t[8],l=t[9],f=t[10],p=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*r,e[1]=a*i-l*r,e[2]=s*i-f*r,e[3]=u*i-p*r,e[8]=o*r+c*i,e[9]=a*r+l*i,e[10]=s*r+f*i,e[11]=u*r+p*i,e}function x(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],c=t[4],l=t[5],f=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*r,e[1]=a*i+l*r,e[2]=s*i+f*r,e[3]=u*i+p*r,e[4]=c*i-o*r,e[5]=l*i-a*r,e[6]=f*i-s*r,e[7]=p*i-u*r,e}function _(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function w(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function S(e,t,n){var i,o,a,s=n[0],u=n[1],c=n[2],l=Math.hypot(s,u,c);return l<r["b"]?null:(l=1/l,s*=l,u*=l,c*=l,i=Math.sin(t),o=Math.cos(t),a=1-o,e[0]=s*s*a+o,e[1]=u*s*a+c*i,e[2]=c*s*a-u*i,e[3]=0,e[4]=s*u*a-c*i,e[5]=u*u*a+o,e[6]=c*u*a+s*i,e[7]=0,e[8]=s*c*a+u*i,e[9]=u*c*a-s*i,e[10]=c*c*a+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function O(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function E(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function k(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function C(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=r+r,u=i+i,c=o+o,l=r*s,f=r*u,p=r*c,h=i*u,d=i*c,m=o*c,v=a*s,y=a*u,g=a*c;return e[0]=1-(h+m),e[1]=f+g,e[2]=p-y,e[3]=0,e[4]=f-g,e[5]=1-(l+m),e[6]=d+v,e[7]=0,e[8]=p+y,e[9]=d-v,e[10]=1-(l+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function j(e,t){var n=new r["a"](3),i=-t[0],o=-t[1],a=-t[2],s=t[3],u=t[4],c=t[5],l=t[6],f=t[7],p=i*i+o*o+a*a+s*s;return p>0?(n[0]=2*(u*s+f*i+c*a-l*o)/p,n[1]=2*(c*s+f*o+l*i-u*a)/p,n[2]=2*(l*s+f*a+u*o-c*i)/p):(n[0]=2*(u*s+f*i+c*a-l*o),n[1]=2*(c*s+f*o+l*i-u*a),n[2]=2*(l*s+f*a+u*o-c*i)),C(e,t,n),e}function T(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function A(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],s=t[6],u=t[8],c=t[9],l=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,s),e[2]=Math.hypot(u,c,l),e}function P(e,t){var n=new r["a"](3);A(n,t);var i=1/n[0],o=1/n[1],a=1/n[2],s=t[0]*i,u=t[1]*o,c=t[2]*a,l=t[4]*i,f=t[5]*o,p=t[6]*a,h=t[8]*i,d=t[9]*o,m=t[10]*a,v=s+f+m,y=0;return v>0?(y=2*Math.sqrt(v+1),e[3]=.25*y,e[0]=(p-d)/y,e[1]=(h-c)/y,e[2]=(u-l)/y):s>f&&s>m?(y=2*Math.sqrt(1+s-f-m),e[3]=(p-d)/y,e[0]=.25*y,e[1]=(u+l)/y,e[2]=(h+c)/y):f>m?(y=2*Math.sqrt(1+f-s-m),e[3]=(h-c)/y,e[0]=(u+l)/y,e[1]=.25*y,e[2]=(p+d)/y):(y=2*Math.sqrt(1+m-s-f),e[3]=(u-l)/y,e[0]=(h+c)/y,e[1]=(p+d)/y,e[2]=.25*y),e}function M(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3],u=i+i,c=o+o,l=a+a,f=i*u,p=i*c,h=i*l,d=o*c,m=o*l,v=a*l,y=s*u,g=s*c,b=s*l,x=r[0],_=r[1],w=r[2];return e[0]=(1-(d+v))*x,e[1]=(p+b)*x,e[2]=(h-g)*x,e[3]=0,e[4]=(p-b)*_,e[5]=(1-(f+v))*_,e[6]=(m+y)*_,e[7]=0,e[8]=(h+g)*w,e[9]=(m-y)*w,e[10]=(1-(f+d))*w,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function I(e,t,n,r,i){var o=t[0],a=t[1],s=t[2],u=t[3],c=o+o,l=a+a,f=s+s,p=o*c,h=o*l,d=o*f,m=a*l,v=a*f,y=s*f,g=u*c,b=u*l,x=u*f,_=r[0],w=r[1],S=r[2],O=i[0],E=i[1],k=i[2],C=(1-(m+y))*_,j=(h+x)*_,T=(d-b)*_,A=(h-x)*w,P=(1-(p+y))*w,M=(v+g)*w,I=(d+b)*S,L=(v-g)*S,R=(1-(p+m))*S;return e[0]=C,e[1]=j,e[2]=T,e[3]=0,e[4]=A,e[5]=P,e[6]=M,e[7]=0,e[8]=I,e[9]=L,e[10]=R,e[11]=0,e[12]=n[0]+O-(C*O+A*E+I*k),e[13]=n[1]+E-(j*O+P*E+L*k),e[14]=n[2]+k-(T*O+M*E+R*k),e[15]=1,e}function L(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,f=r*s,p=i*a,h=i*s,d=i*u,m=o*a,v=o*s,y=o*u;return e[0]=1-f-d,e[1]=l+y,e[2]=p-v,e[3]=0,e[4]=l-y,e[5]=1-c-d,e[6]=h+m,e[7]=0,e[8]=p+v,e[9]=h-m,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function R(e,t,n,r,i,o,a){var s=1/(n-t),u=1/(i-r),c=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*u,e[10]=(a+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*c,e[15]=0,e}function D(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e}function N(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(i+o);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(a-s)*u*.5,e[9]=(i-o)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function z(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*c,e[15]=1,e}function F(e,t,n,i){var o,a,s,u,l,f,p,h,d,m,v=t[0],y=t[1],g=t[2],b=i[0],x=i[1],_=i[2],w=n[0],S=n[1],O=n[2];return Math.abs(v-w)<r["b"]&&Math.abs(y-S)<r["b"]&&Math.abs(g-O)<r["b"]?c(e):(p=v-w,h=y-S,d=g-O,m=1/Math.hypot(p,h,d),p*=m,h*=m,d*=m,o=x*d-_*h,a=_*p-b*d,s=b*h-x*p,m=Math.hypot(o,a,s),m?(m=1/m,o*=m,a*=m,s*=m):(o=0,a=0,s=0),u=h*s-d*a,l=d*o-p*s,f=p*a-h*o,m=Math.hypot(u,l,f),m?(m=1/m,u*=m,l*=m,f*=m):(u=0,l=0,f=0),e[0]=o,e[1]=u,e[2]=p,e[3]=0,e[4]=a,e[5]=l,e[6]=h,e[7]=0,e[8]=s,e[9]=f,e[10]=d,e[11]=0,e[12]=-(o*v+a*y+s*g),e[13]=-(u*v+l*y+f*g),e[14]=-(p*v+h*y+d*g),e[15]=1,e)}function B(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=r[0],u=r[1],c=r[2],l=i-n[0],f=o-n[1],p=a-n[2],h=l*l+f*f+p*p;h>0&&(h=1/Math.sqrt(h),l*=h,f*=h,p*=h);var d=u*p-c*f,m=c*l-s*p,v=s*f-u*l;return h=d*d+m*m+v*v,h>0&&(h=1/Math.sqrt(h),d*=h,m*=h,v*=h),e[0]=d,e[1]=m,e[2]=v,e[3]=0,e[4]=f*v-p*m,e[5]=p*d-l*v,e[6]=l*m-f*d,e[7]=0,e[8]=l,e[9]=f,e[10]=p,e[11]=0,e[12]=i,e[13]=o,e[14]=a,e[15]=1,e}function U(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function V(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function H(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function q(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function G(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function W(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function Z(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Y(e,t){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],p=e[9],h=e[10],d=e[11],m=e[12],v=e[13],y=e[14],g=e[15],b=t[0],x=t[1],_=t[2],w=t[3],S=t[4],O=t[5],E=t[6],k=t[7],C=t[8],j=t[9],T=t[10],A=t[11],P=t[12],M=t[13],I=t[14],L=t[15];return Math.abs(n-b)<=r["b"]*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-x)<=r["b"]*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(o-_)<=r["b"]*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(a-w)<=r["b"]*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-S)<=r["b"]*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(u-O)<=r["b"]*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(c-E)<=r["b"]*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(l-k)<=r["b"]*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(f-C)<=r["b"]*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(p-j)<=r["b"]*Math.max(1,Math.abs(p),Math.abs(j))&&Math.abs(h-T)<=r["b"]*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(d-A)<=r["b"]*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(m-P)<=r["b"]*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(v-M)<=r["b"]*Math.max(1,Math.abs(v),Math.abs(M))&&Math.abs(y-I)<=r["b"]*Math.max(1,Math.abs(y),Math.abs(I))&&Math.abs(g-L)<=r["b"]*Math.max(1,Math.abs(g),Math.abs(L))}var X=d,K=q},ZahQ:function(e,t,n){"use strict";var r=n("MMxC"),i=n("tny8"),o=n("i7kj"),a=n("cTDu"),s=n("cT1L"),u=n("YfKC");i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function(e,t){u.f(a(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},Zcjx:function(e,t){e.exports=!1},Ze4s:function(e,t,n){var r=n("ukPv"),i=n("mTKU").trim,o=n("Tfd0"),a=r.parseInt,s=/^[+-]?0[Xx]/,u=8!==a(o+"08")||22!==a(o+"0x16");e.exports=u?function(e,t){var n=i(String(e));return a(n,t>>>0||(s.test(n)?16:10))}:a},ZhPi:function(e,t,n){var r=n("WkPL");function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},ZkJ9:function(e,t,n){var r=n("ukPv"),i=n("J3Yn"),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},Zkgb:function(e,t,n){},Zm9Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("q1tI"),i=n.n(r),o=n("TOwV");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return i.a.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(a(e)):Object(o["isFragment"])(e)&&e.props?n=n.concat(a(e.props.children,t)):n.push(e))})),n}},ZqBY:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ae}));var r=n("Qyje");n("LpSC");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e,t,n){return m=d()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),o=new i;return n&&h(o,n.prototype),o},m.apply(null,arguments)}function v(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function y(e){var t="function"===typeof Map?new Map:void 0;return y=function(e){if(null===e||!v(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return m(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,e)},y(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function x(e){var t=d();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function _(e){return w(e)||S(e)||O(e)||k()}function w(e){if(Array.isArray(e))return E(e)}function S(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function O(e,t){if(e){if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e){if(!Array.isArray(e))throw new TypeError("Middlewares must be an array!");for(var t=e.length,n=0;n<t;n++)if("function"!==typeof e[n])throw new TypeError("Middleware must be componsed of function");return function(t,n){var r=-1;function i(o){if(o<=r)return Promise.reject(new Error("next() should not be called multiple times in one middleware!"));r=o;var a=e[o]||n;if(!a)return Promise.resolve();try{return Promise.resolve(a(t,(function(){return i(o+1)})))}catch(s){return Promise.reject(s)}}return i(0)}}var j=function(){function t(e){if(s(this,t),!Array.isArray(e))throw new TypeError("Default middlewares must be an array!");this.defaultMiddlewares=_(e),this.middlewares=[]}return c(t,[{key:"use",value:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{global:!1,core:!1,defaultInstance:!1},i=!1,o=!1,s=!1;"number"===typeof r?(e&&Object({NODE_ENV:"production"}),i=!0,o=!1):"object"===a(r)&&r&&(o=r.global||!1,i=r.core||!1,s=r.defaultInstance||!1),o?t.globalMiddlewares.splice(t.globalMiddlewares.length-t.defaultGlobalMiddlewaresLength,0,n):i?t.coreMiddlewares.splice(t.coreMiddlewares.length-t.defaultCoreMiddlewaresLength,0,n):s?this.defaultMiddlewares.push(n):this.middlewares.push(n)}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=C([].concat(_(this.middlewares),_(this.defaultMiddlewares),_(t.globalMiddlewares),_(t.coreMiddlewares)));return n(e)}}]),t}();j.globalMiddlewares=[],j.defaultGlobalMiddlewaresLength=0,j.coreMiddlewares=[],j.defaultCoreMiddlewaresLength=0;var T=function(){function e(t){s(this,e),this.cache=new Map,this.timer={},this.extendOptions(t)}return c(e,[{key:"extendOptions",value:function(e){this.maxCache=e.maxCache||0}},{key:"get",value:function(e){return this.cache.get(JSON.stringify(e))}},{key:"set",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e4;if(this.maxCache>0&&this.cache.size>=this.maxCache){var i=_(this.cache.keys())[0];this.cache["delete"](i),this.timer[i]&&clearTimeout(this.timer[i])}var o=JSON.stringify(e);this.cache.set(o,t),r>0&&(this.timer[o]=setTimeout((function(){n.cache["delete"](o),delete n.timer[o]}),r))}},{key:"delete",value:function(e){var t=JSON.stringify(e);return delete this.timer[t],this.cache["delete"](t)}},{key:"clear",value:function(){return this.timer={},this.cache.clear()}}]),e}(),A=function(e){f(n,e);var t=x(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"RequestError";return s(this,n),i=t.call(this,e),i.name="RequestError",i.request=r,i.type=o,i}return n}(y(Error)),P=function(e){f(n,e);var t=x(n);function n(e,r,i,o){var a,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ResponseError";return s(this,n),a=t.call(this,r||e.statusText),a.name="ResponseError",a.data=i,a.response=e,a.request=o,a.type=u,a}return n}(y(Error));function M(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsText(e,"GBK")}))}function I(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{return JSON.parse(e)}catch(i){if(t)throw new P(n,"JSON.parse fail",e,r,"ParseError")}return e}function L(e,t,n){return new Promise((function(r,i){setTimeout((function(){i(new A(t||"timeout of ".concat(e,"ms exceeded"),n,"Timeout"))}),e)}))}function R(e){return new Promise((function(t,n){e.cancelToken&&e.cancelToken.promise.then((function(e){n(e)}))}))}var D=Object.prototype.toString;function N(){var t;return"undefined"!==typeof e&&"[object process]"===D.call(e)&&(t="NODE"),"undefined"!==typeof XMLHttpRequest&&(t="BROWSER"),t}function z(e){return"object"===a(e)&&"[object Array]"===Object.prototype.toString.call(e)}function F(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function B(e){return"object"===a(e)&&"[object Date]"===Object.prototype.toString.call(e)}function U(e){return null!==e&&"object"===a(e)}function V(e,t){if(e)if("object"!==a(e)&&(e=[e]),z(e))for(var n=0;n<e.length;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function H(e){return F(e)?Object(r["parse"])(e.toString(),{strictNullHandling:!0}):"string"===typeof e?[e]:e}function q(e){return Object(r["stringify"])(e,{arrayFormat:"repeat",strictNullHandling:!0})}function G(e,t){return o(o(o({},e),t),{},{headers:o(o({},e.headers),t.headers),params:o(o({},H(e.params)),H(t.params)),method:(t.method||e.method||"get").toLowerCase()})}var W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.prefix,r=t.suffix;return n&&(e="".concat(n).concat(e)),r&&(e="".concat(e).concat(r)),{url:e,options:t}};function Z(e,t){var n=t.method,r=void 0===n?"get":n;return"get"===r.toLowerCase()}function Y(t,n){if(!t)return n();var r=t.req;r=void 0===r?{}:r;var i=r.options,o=void 0===i?{}:i,a=r.url,s=void 0===a?"":a,u=t.cache,c=t.responseInterceptors,l=o.timeout,f=void 0===l?0:l,p=o.timeoutMessage,h=o.__umiRequestCoreType__,d=void 0===h?"normal":h,m=o.useCache,v=void 0!==m&&m,y=o.method,g=void 0===y?"get":y,b=o.params,x=o.ttl,_=o.validateCache,w=void 0===_?Z:_;if("normal"!==d)return e&&Object({NODE_ENV:"production"}),n();var S=fetch;if(!S)throw new Error("Global fetch not exist!");var O,E="BROWSER"===N(),k=w(s,o)&&v&&E;if(k){var C=u.get({url:s,params:b,method:g});if(C)return C=C.clone(),C.useCache=!0,t.res=C,n()}return O=f>0?Promise.race([R(o),S(s,o),L(f,p,t.req)]):Promise.race([R(o),S(s,o)]),c.forEach((function(e){O=O.then((function(t){var n="function"===typeof t.clone?t.clone():t;return e(n,o)}))})),O.then((function(e){if(k&&200===e.status){var r=e.clone();r.useCache=!0,u.set({url:s,params:b,method:g},r,x)}return t.res=e,n()}))}function X(e,t){var n;return t().then((function(){if(e){var t=e.res,r=void 0===t?{}:t,i=e.req,o=void 0===i?{}:i,a=o||{},s=a.options;s=void 0===s?{}:s;var u=s.responseType,c=void 0===u?"json":u,l=s.charset,f=void 0===l?"utf8":l,p=(s.getResponse,s.throwErrIfParseFail),h=void 0!==p&&p,d=s.parseResponse,m=void 0===d||d;if(m&&r&&r.clone){if(n="BROWSER"===N()?r.clone():r,n.useCache=r.useCache||!1,"gbk"===f)try{return r.blob().then(M).then((function(e){return I(e,!1,n,o)}))}catch(v){throw new P(n,v.message,null,o,"ParseError")}else if("json"===c)return r.text().then((function(e){return I(e,h,n,o)}));try{return r[c]()}catch(v){throw new P(n,"responseType not support",null,o,"ParseError")}}}})).then((function(t){if(e){e.res;var r=e.req,i=void 0===r?{}:r,o=i||{},a=o.options;a=void 0===a?{}:a;var s=a.getResponse,u=void 0!==s&&s;if(n){if(n.status>=200&&n.status<300)return u?void(e.res={data:t,response:n}):void(e.res=t);throw new P(n,"http error",t,i,"HttpError")}}}))["catch"]((function(t){if(t instanceof A||t instanceof P)throw t;var n=e.req,r=e.res;throw t.request=t.request||n,t.response=t.response||r,t.type=t.type||t.name,t.data=t.data||void 0,t}))}function K(e,t){if(!e)return t();var n=e.req;n=void 0===n?{}:n;var r=n.options,i=void 0===r?{}:r,a=i.method,s=void 0===a?"get":a;if(-1===["post","put","patch","delete"].indexOf(s.toLowerCase()))return t();var u=i.requestType,c=void 0===u?"json":u,l=i.data;if(l){var f=Object.prototype.toString.call(l);"[object Object]"===f||"[object Array]"===f?"json"===c?(i.headers=o({Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},i.headers),i.body=JSON.stringify(l)):"form"===c&&(i.headers=o({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},i.headers),i.body=q(l)):(i.headers=o({Accept:"application/json"},i.headers),i.body=l)}return e.req.options=i,t()}function J(e,t){var n,r;if(e)if(t)n=t(e);else if(F(e))n=e.toString();else if(z(e))r=[],V(e,(function(e){null===e||"undefined"===typeof e?r.push(e):r.push(U(e)?JSON.stringify(e):e)})),n=q(r);else{r={},V(e,(function(e,t){var n=e;null===e||"undefined"===typeof e?r[t]=e:B(e)?n=e.toISOString():z(e)?n=e:U(e)&&(n=JSON.stringify(e)),r[t]=n}));var i=q(r);n=i}return n}function Q(e,t){if(!e)return t();var n=e.req;n=void 0===n?{}:n;var r=n.options,i=void 0===r?{}:r,o=i.paramsSerializer,a=i.params,s=e.req;s=void 0===s?{}:s;var u=s.url,c=void 0===u?"":u;i.method=i.method?i.method.toUpperCase():"GET",i.credentials=i.credentials||"same-origin";var l=J(a,o);if(e.req.originUrl=c,l){var f=-1!==c.indexOf("?")?"&":"?";e.req.url="".concat(c).concat(f).concat(l)}return e.req.options=i,t()}var $=[K,Q,X],ee=[Y];j.globalMiddlewares=$,j.defaultGlobalMiddlewaresLength=$.length,j.coreMiddlewares=ee,j.defaultCoreMiddlewaresLength=ee.length;var te=function(){function e(t){s(this,e),this.onion=new j([]),this.fetchIndex=0,this.mapCache=new T(t),this.initOptions=t,this.instanceRequestInterceptors=[],this.instanceResponseInterceptors=[]}return c(e,[{key:"use",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{global:!1,core:!1};return this.onion.use(e,t),this}},{key:"extendOptions",value:function(e){this.initOptions=G(this.initOptions,e),this.mapCache.extendOptions(e)}},{key:"dealRequestInterceptors",value:function(t){var n=function(e,n){return e.then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.req.url=e.url||t.req.url,t.req.options=e.options||t.req.options,n(t.req.url,t.req.options)}))},r=[].concat(_(e.requestInterceptors),_(this.instanceRequestInterceptors));return r.reduce(n,Promise.resolve()).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.req.url=e.url||t.req.url,t.req.options=e.options||t.req.options,Promise.resolve()}))}},{key:"request",value:function(t,n){var r=this,i=this.onion,a={req:{url:t,options:o(o({},n),{},{url:t})},res:null,cache:this.mapCache,responseInterceptors:[].concat(_(e.responseInterceptors),_(this.instanceResponseInterceptors))};if("string"!==typeof t)throw new Error("url MUST be a string");return new Promise((function(e,t){r.dealRequestInterceptors(a).then((function(){return i.execute(a)})).then((function(){e(a.res)}))["catch"]((function(n){var r=a.req.options.errorHandler;if(r)try{var i=r(n);e(i)}catch(o){t(o)}else t(n)}))}))}}],[{key:"requestUse",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{global:!0};if("function"!==typeof t)throw new TypeError("Interceptor must be function!");n.global?e.requestInterceptors.push(t):this.instanceRequestInterceptors.push(t)}},{key:"responseUse",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{global:!0};if("function"!==typeof t)throw new TypeError("Interceptor must be function!");n.global?e.responseInterceptors.push(t):this.instanceResponseInterceptors.push(t)}}]),e}();function ne(e){this.message=e}function re(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new ne(e),t(n.reason))}))}function ie(e){return!(!e||!e.__CANCEL__)}te.requestInterceptors=[W],te.responseInterceptors=[],ne.prototype.toString=function(){return this.message?"Cancel: ".concat(this.message):"Cancel"},ne.prototype.__CANCEL__=!0,re.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},re.source=function(){var e,t=new re((function(t){e=t}));return{token:t,cancel:e}};var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new te(e),n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=G(t.initOptions,n);return t.request(e,r)};n.use=t.use.bind(t),n.fetchIndex=t.fetchIndex,n.interceptors={request:{use:te.requestUse.bind(t)},response:{use:te.responseUse.bind(t)}};var r=["get","post","delete","put","patch","head","options","rpc"];return r.forEach((function(e){n[e]=function(t,r){return n(t,o(o({},r),{},{method:e}))}})),n.Cancel=ne,n.CancelToken=re,n.isCancel=ie,n.extendOptions=t.extendOptions.bind(t),n.middlewares={instance:t.onion.middlewares,defaultInstance:t.onion.defaultMiddlewares,global:j.globalMiddlewares,core:j.coreMiddlewares},n},ae=function(e){return oe(e)};oe({parseResponse:!1}),oe({})}).call(this,n("Q2Ig"))},Ztfv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var r=n("MON2"),i=n("xfSm");function o(e,t,n,r){var o=i.TAGGED;s(o,e,t,r,n)}function a(e,t,n){var r=i.TAGGED_PROP;s(r,e.constructor,t,n)}function s(e,t,n,i,o){var a={},s="number"===typeof o,u=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var c=a[u];if(Array.isArray(c))for(var l=0,f=c;l<f.length;l++){var p=f[l];if(p.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+p.key.toString())}else c=[];c.push(i),a[u]=c,Reflect.defineMetadata(e,a,t)}function u(e,t){Reflect.decorate(e,t)}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t,n){"number"===typeof n?u([c(n,e)],t):"string"===typeof n?Reflect.decorate([e],t,n):u([e],t)}t.tagParameter=o,t.tagProperty=a,t.decorate=l},ZvpZ:function(e,t,n){"use strict";var r={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},i=n("wx14"),o={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},a=o,s={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},u=s,c={lang:Object(i["a"])({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},a),timePickerLocale:Object(i["a"])({},u)},l=c,f=l,p="${label} is not a valid ${type}",h={locale:"en",Pagination:r,DatePicker:l,TimePicker:u,Calendar:f,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:p,method:p,array:p,object:p,number:p,date:p,boolean:p,integer:p,float:p,regexp:p,email:p,url:p,hex:p},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}};t["a"]=h},ZxFD:function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return i})),n.d(t,"clone",(function(){return o})),n.d(t,"fromValues",(function(){return a})),n.d(t,"copy",(function(){return s})),n.d(t,"set",(function(){return u})),n.d(t,"add",(function(){return c})),n.d(t,"subtract",(function(){return l})),n.d(t,"multiply",(function(){return f})),n.d(t,"divide",(function(){return p})),n.d(t,"ceil",(function(){return h})),n.d(t,"floor",(function(){return d})),n.d(t,"min",(function(){return m})),n.d(t,"max",(function(){return v})),n.d(t,"round",(function(){return y})),n.d(t,"scale",(function(){return g})),n.d(t,"scaleAndAdd",(function(){return b})),n.d(t,"distance",(function(){return x})),n.d(t,"squaredDistance",(function(){return _})),n.d(t,"length",(function(){return w})),n.d(t,"squaredLength",(function(){return S})),n.d(t,"negate",(function(){return O})),n.d(t,"inverse",(function(){return E})),n.d(t,"normalize",(function(){return k})),n.d(t,"dot",(function(){return C})),n.d(t,"cross",(function(){return j})),n.d(t,"lerp",(function(){return T})),n.d(t,"random",(function(){return A})),n.d(t,"transformMat2",(function(){return P})),n.d(t,"transformMat2d",(function(){return M})),n.d(t,"transformMat3",(function(){return I})),n.d(t,"transformMat4",(function(){return L})),n.d(t,"rotate",(function(){return R})),n.d(t,"angle",(function(){return D})),n.d(t,"zero",(function(){return N})),n.d(t,"str",(function(){return z})),n.d(t,"exactEquals",(function(){return F})),n.d(t,"equals",(function(){return B})),n.d(t,"len",(function(){return U})),n.d(t,"sub",(function(){return V})),n.d(t,"mul",(function(){return H})),n.d(t,"div",(function(){return q})),n.d(t,"dist",(function(){return G})),n.d(t,"sqrDist",(function(){return W})),n.d(t,"sqrLen",(function(){return Z})),n.d(t,"forEach",(function(){return Y}));var r=n("yU0y");function i(){var e=new r["a"](2);return r["a"]!=Float32Array&&(e[0]=0,e[1]=0),e}function o(e){var t=new r["a"](2);return t[0]=e[0],t[1]=e[1],t}function a(e,t){var n=new r["a"](2);return n[0]=e,n[1]=t,n}function s(e,t){return e[0]=t[0],e[1]=t[1],e}function u(e,t,n){return e[0]=t,e[1]=n,e}function c(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function l(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function f(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function p(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function h(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function d(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function m(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function v(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function y(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function g(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function b(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function x(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function _(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function w(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function S(e){var t=e[0],n=e[1];return t*t+n*n}function O(e,t){return e[0]=-t[0],e[1]=-t[1],e}function E(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function k(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function C(e,t){return e[0]*t[0]+e[1]*t[1]}function j(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function T(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}function A(e,t){t=t||1;var n=2*r["c"]()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function P(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function M(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function I(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}function L(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}function R(e,t,n,r){var i=t[0]-n[0],o=t[1]-n[1],a=Math.sin(r),s=Math.cos(r);return e[0]=i*s-o*a+n[0],e[1]=i*a+o*s+n[1],e}function D(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function N(e){return e[0]=0,e[1]=0,e}function z(e){return"vec2("+e[0]+", "+e[1]+")"}function F(e,t){return e[0]===t[0]&&e[1]===t[1]}function B(e,t){var n=e[0],i=e[1],o=t[0],a=t[1];return Math.abs(n-o)<=r["b"]*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r["b"]*Math.max(1,Math.abs(i),Math.abs(a))}var U=w,V=l,H=f,q=p,G=x,W=_,Z=S,Y=function(){var e=i();return function(t,n,r,i,o,a){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],o(e,e,a),t[s]=e[0],t[s+1]=e[1];return t}}()},Zxc8:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("wx14"),a=n("rePB"),s=n("ODXe"),u=n("U8pU"),c=n("Ff2n"),l=n("VTBJ"),f=n("TSYQ"),p=n.n(f),h=n("Zm9Q"),d=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))};function m(e,t){var n=t||{},i=n.defaultValue,o=n.value,a=n.onChange,u=n.postState,c=r["useState"]((function(){return void 0!==o?o:void 0!==i?"function"===typeof i?i():i:"function"===typeof e?e():e})),l=Object(s["a"])(c,2),f=l[0],p=l[1],h=void 0!==o?o:f;function d(e){p(e),h!==e&&a&&a(e,h)}u&&(h=u(h));var m=r["useRef"](!0);return r["useEffect"]((function(){m.current?m.current=!1:void 0===o&&p(o)}),[o]),[h,d]}var v=n("KQm4"),y=n("wgJM"),g=n("1OyB"),b=n("vuIU"),x=n("Ji7U"),_=n("LK+K"),w=n("m+aA"),S=n("Kwbf"),O=n("c+Xe"),E=n("bdgK"),k="rc-observer-key",C=function(e){Object(x["a"])(n,e);var t=Object(_["a"])(n);function n(){var e;Object(g["a"])(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),e.resizeObserver=null,e.childNode=null,e.currentElement=null,e.state={width:0,height:0,offsetHeight:0,offsetWidth:0},e.onResize=function(t){var n=e.props.onResize,r=t[0].target,i=r.getBoundingClientRect(),o=i.width,a=i.height,s=r.offsetWidth,u=r.offsetHeight,c=Math.floor(o),f=Math.floor(a);if(e.state.width!==c||e.state.height!==f||e.state.offsetWidth!==s||e.state.offsetHeight!==u){var p={width:c,height:f,offsetWidth:s,offsetHeight:u};if(e.setState(p),n){var h=s===Math.round(o)?o:s,d=u===Math.round(a)?a:u;Promise.resolve().then((function(){n(Object(l["a"])(Object(l["a"])({},p),{},{offsetWidth:h,offsetHeight:d}),r)}))}}},e.setChildNode=function(t){e.childNode=t},e}return Object(b["a"])(n,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"componentDidUpdate",value:function(){this.onComponentUpdated()}},{key:"componentWillUnmount",value:function(){this.destroyObserver()}},{key:"onComponentUpdated",value:function(){var e=this.props.disabled;if(e)this.destroyObserver();else{var t=Object(w["a"])(this.childNode||this),n=t!==this.currentElement;n&&(this.destroyObserver(),this.currentElement=t),!this.resizeObserver&&t&&(this.resizeObserver=new E["a"](this.onResize),this.resizeObserver.observe(t))}}},{key:"destroyObserver",value:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"render",value:function(){var e=this.props.children,t=Object(h["a"])(e);if(t.length>1)Object(S["a"])(!1,"Find more than one child node with `children` in ResizeObserver. Will only observe first one.");else if(0===t.length)return Object(S["a"])(!1,"`children` of ResizeObserver is empty. Nothing is in observe."),null;var n=t[0];if(r["isValidElement"](n)&&Object(O["c"])(n)){var i=n.ref;t[0]=r["cloneElement"](n,{ref:Object(O["a"])(i,this.setChildNode)})}return 1===t.length?t[0]:t.map((function(e,t){return!r["isValidElement"](e)||"key"in e&&null!==e.key?e:r["cloneElement"](e,{key:"".concat(k,"-").concat(t)})}))}}]),n}(r["Component"]);C.displayName="ResizeObserver";var j=C;function T(e){var t=Object(r["useRef"])(),n=Object(r["useRef"])(!1);function i(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n.current||(y["a"].cancel(t.current),t.current=Object(y["a"])((function(){e.apply(void 0,i)})))}return Object(r["useEffect"])((function(){return function(){n.current=!0,y["a"].cancel(t.current)}}),[]),i}function A(e){var t=Object(r["useRef"])([]),n=Object(r["useState"])({}),i=Object(s["a"])(n,2),o=i[1],a=Object(r["useRef"])("function"===typeof e?e():e),u=T((function(){var e=a.current;t.current.forEach((function(t){e=t(e)})),t.current=[],a.current=e,o({})}));function c(e){t.current.push(e),u()}return[a.current,c]}var P={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=P.F1&&t<=P.F12)return!1;switch(t){case P.ALT:case P.CAPS_LOCK:case P.CONTEXT_MENU:case P.CTRL:case P.DOWN:case P.END:case P.ESC:case P.HOME:case P.INSERT:case P.LEFT:case P.MAC_FF_META:case P.META:case P.NUMLOCK:case P.NUM_CENTER:case P.PAGE_DOWN:case P.PAGE_UP:case P.PAUSE:case P.PRINT_SCREEN:case P.RIGHT:case P.SHIFT:case P.UP:case P.WIN_KEY:case P.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=P.ZERO&&e<=P.NINE)return!0;if(e>=P.NUM_ZERO&&e<=P.NUM_MULTIPLY)return!0;if(e>=P.A&&e<=P.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case P.SPACE:case P.QUESTION_MARK:case P.NUM_PLUS:case P.NUM_MINUS:case P.NUM_PERIOD:case P.NUM_DIVISION:case P.SEMICOLON:case P.DASH:case P.EQUALS:case P.COMMA:case P.PERIOD:case P.SLASH:case P.APOSTROPHE:case P.SINGLE_QUOTE:case P.OPEN_SQUARE_BRACKET:case P.BACKSLASH:case P.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},M=P;function I(e,t){var n,i=e.prefixCls,o=e.id,s=e.active,u=e.tab,c=u.key,l=u.tab,f=u.disabled,h=u.closeIcon,d=e.closable,m=e.renderWrapper,v=e.removeAriaLabel,y=e.editable,g=e.onClick,b=e.onRemove,x=e.onFocus,_=e.style,w="".concat(i,"-tab");r["useEffect"]((function(){return b}),[]);var S=y&&!1!==d&&!f;function O(e){f||g(e)}function E(e){e.preventDefault(),e.stopPropagation(),y.onEdit("remove",{key:c,event:e})}var k=r["createElement"]("div",{key:c,ref:t,className:p()(w,(n={},Object(a["a"])(n,"".concat(w,"-with-remove"),S),Object(a["a"])(n,"".concat(w,"-active"),s),Object(a["a"])(n,"".concat(w,"-disabled"),f),n)),style:_,onClick:O},r["createElement"]("div",{role:"tab","aria-selected":s,id:o&&"".concat(o,"-tab-").concat(c),className:"".concat(w,"-btn"),"aria-controls":o&&"".concat(o,"-panel-").concat(c),"aria-disabled":f,tabIndex:f?null:0,onClick:function(e){e.stopPropagation(),O(e)},onKeyDown:function(e){[M.SPACE,M.ENTER].includes(e.which)&&(e.preventDefault(),O(e))},onFocus:x},l),S&&r["createElement"]("button",{type:"button","aria-label":v||"remove",tabIndex:0,className:"".concat(w,"-remove"),onClick:function(e){e.stopPropagation(),E(e)}},h||y.removeIcon||"\xd7"));return m?m(k):k}var L=r["forwardRef"](I),R={width:0,height:0,left:0,top:0};function D(e,t,n){return Object(r["useMemo"])((function(){for(var n,r=new Map,i=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||R,o=i.left+i.width,a=0;a<e.length;a+=1){var s,u=e[a].key,c=t.get(u);if(!c)c=t.get(null===(s=e[a-1])||void 0===s?void 0:s.key)||R;var f=r.get(u)||Object(l["a"])({},c);f.right=o-f.left-f.width,r.set(u,f)}return r}),[e.map((function(e){return e.key})).join("_"),t,n])}var N={width:0,height:0,left:0,top:0,right:0};function z(e,t,n,i,o){var a,s,u,c=o.tabs,l=o.tabPosition,f=o.rtl;["top","bottom"].includes(l)?(a="width",s=f?"right":"left",u=Math.abs(t.left)):(a="height",s="top",u=-t.top);var p=t[a],h=n[a],d=i[a],m=p;return h+d>p&&(m=p-d),Object(r["useMemo"])((function(){if(!c.length)return[0,0];for(var t=c.length,n=t,r=0;r<t;r+=1){var i=e.get(c[r].key)||N;if(i[s]+i[a]>u+m){n=r-1;break}}for(var o=0,l=t-1;l>=0;l-=1){var f=e.get(c[l].key)||N;if(f[s]<u){o=l+1;break}}return[o,n]}),[e,u,m,l,c.map((function(e){return e.key})).join("_"),f])}var F=n("Gytx"),B=n.n(F),U=void 0;function V(e,t){var n=e.prefixCls,i=e.invalidate,a=e.item,s=e.renderItem,u=e.responsive,f=e.registerSize,h=e.itemKey,d=e.className,m=e.style,v=e.children,y=e.display,g=e.order,b=e.component,x=void 0===b?"div":b,_=Object(c["a"])(e,["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","className","style","children","display","order","component"]),w=u&&!y;function S(e){f(h,e)}r["useEffect"]((function(){return function(){S(null)}}),[]);var O,E=s&&a!==U?s(a):v;i||(O={opacity:w?0:1,height:w?0:U,overflowY:w?"hidden":U,order:u?g:U,pointerEvents:w?"none":U,position:w?"absolute":U});var k={};w&&(k["aria-hidden"]=!0);var C=r["createElement"](x,Object(o["a"])({className:p()(!i&&n,d),style:Object(l["a"])(Object(l["a"])({},O),m)},k,_,{ref:t}),E);return u&&(C=r["createElement"](j,{onResize:function(e){var t=e.offsetWidth;S(t)}},C)),C}var H=r["forwardRef"](V);H.displayName="Item";var q=H;function G(){var e=Object(r["useState"])({}),t=Object(s["a"])(e,2),n=t[1],i=Object(r["useRef"])([]),o=Object(r["useRef"])(!1),a=0,u=0;function c(e){var t=a;a+=1,i.current.length<t+1&&(i.current[t]=e);var r=i.current[t];function s(e){i.current[t]="function"===typeof e?e(i.current[t]):e,y["a"].cancel(u),u=Object(y["a"])((function(){o.current||n({})}))}return[r,s]}return Object(r["useEffect"])((function(){return function(){o.current=!0}}),[]),c}var W=function(e,t){var n=r["useContext"](X);if(!n){var i=e.component,a=void 0===i?"div":i,s=Object(c["a"])(e,["component"]);return r["createElement"](a,Object(o["a"])({},s,{ref:t}))}var u=n.className,l=Object(c["a"])(n,["className"]),f=e.className,h=Object(c["a"])(e,["className"]);return r["createElement"](X.Provider,{value:null},r["createElement"](q,Object(o["a"])({ref:t,className:p()(u,f)},l,h)))},Z=r["forwardRef"](W);Z.displayName="RawItem";var Y=Z,X=r["createContext"](null),K="responsive",J="invalidate";function Q(e){return"+ ".concat(e.length," ...")}function $(e,t){var n=e.prefixCls,i=void 0===n?"rc-overflow":n,a=e.data,u=void 0===a?[]:a,f=e.renderItem,h=e.renderRawItem,d=e.itemKey,m=e.itemWidth,v=void 0===m?10:m,y=e.ssr,g=e.style,b=e.className,x=e.maxCount,_=e.renderRest,w=e.renderRawRest,S=e.suffix,O=e.component,E=void 0===O?"div":O,k=e.itemComponent,C=e.onVisibleChange,T=Object(c["a"])(e,["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"]),A=G(),P="full"===y,M=A(null),I=Object(s["a"])(M,2),L=I[0],R=I[1],D=L||0,N=A(new Map),z=Object(s["a"])(N,2),F=z[0],B=z[1],U=A(0),V=Object(s["a"])(U,2),H=V[0],W=V[1],Z=A(0),Y=Object(s["a"])(Z,2),$=Y[0],ee=Y[1],te=A(0),ne=Object(s["a"])(te,2),re=ne[0],ie=ne[1],oe=Object(r["useState"])(null),ae=Object(s["a"])(oe,2),se=ae[0],ue=ae[1],ce=Object(r["useState"])(null),le=Object(s["a"])(ce,2),fe=le[0],pe=le[1],he=r["useMemo"]((function(){return null===fe&&P?Number.MAX_SAFE_INTEGER:fe||0}),[fe,L]),de=Object(r["useState"])(!1),me=Object(s["a"])(de,2),ve=me[0],ye=me[1],ge="".concat(i,"-item"),be=Math.max(H,$),xe=u.length&&x===K,_e=x===J,we=xe||"number"===typeof x&&u.length>x,Se=Object(r["useMemo"])((function(){var e=u;return xe?e=null===L&&P?u:u.slice(0,Math.min(u.length,D/v)):"number"===typeof x&&(e=u.slice(0,x)),e}),[u,v,L,x,xe]),Oe=Object(r["useMemo"])((function(){return xe?u.slice(he+1):u.slice(Se.length)}),[u,Se,xe,he]),Ee=Object(r["useCallback"])((function(e,t){var n;return"function"===typeof d?d(e):null!==(n=d&&(null===e||void 0===e?void 0:e[d]))&&void 0!==n?n:t}),[d]),ke=Object(r["useCallback"])(f||function(e){return e},[f]);function Ce(e,t){pe(e),t||(ye(e<u.length-1),null===C||void 0===C||C(e))}function je(e,t){R(t.clientWidth)}function Te(e,t){B((function(n){var r=new Map(n);return null===t?r["delete"](e):r.set(e,t),r}))}function Ae(e,t){ee(t),W($)}function Pe(e,t){ie(t)}function Me(e){return F.get(Ee(Se[e],e))}r["useLayoutEffect"]((function(){if(D&&be&&Se){var e=re,t=Se.length,n=t-1;if(!t)return Ce(0),void ue(null);for(var r=0;r<t;r+=1){var i=Me(r);if(void 0===i){Ce(r-1,!0);break}if(e+=i,0===n&&e<=D||r===n-1&&e+Me(n)<=D){Ce(n),ue(null);break}if(e+be>D){Ce(r-1),ue(e-i-re+$);break}}S&&Me(0)+re>D&&ue(null)}}),[D,F,$,re,Ee,Se]);var Ie=ve&&!!Oe.length,Le={};null!==se&&xe&&(Le={position:"absolute",left:se,top:0});var Re,De={prefixCls:ge,responsive:xe,component:k,invalidate:_e},Ne=h?function(e,t){var n=Ee(e,t);return r["createElement"](X.Provider,{key:n,value:Object(l["a"])(Object(l["a"])({},De),{},{order:t,item:e,itemKey:n,registerSize:Te,display:t<=he})},h(e,t))}:function(e,t){var n=Ee(e,t);return r["createElement"](q,Object(o["a"])({},De,{order:t,key:n,item:e,renderItem:ke,itemKey:n,registerSize:Te,display:t<=he}))},ze={order:Ie?he:Number.MAX_SAFE_INTEGER,className:"".concat(ge,"-rest"),registerSize:Ae,display:Ie};if(w)w&&(Re=r["createElement"](X.Provider,{value:Object(l["a"])(Object(l["a"])({},De),ze)},w(Oe)));else{var Fe=_||Q;Re=r["createElement"](q,Object(o["a"])({},De,ze),"function"===typeof Fe?Fe(Oe):Fe)}var Be=r["createElement"](E,Object(o["a"])({className:p()(!_e&&i,b),style:g,ref:t},T),Se.map(Ne),we?Re:null,S&&r["createElement"](q,Object(o["a"])({},De,{order:he,className:"".concat(ge,"-suffix"),registerSize:Pe,display:!0,style:Le}),S));return xe&&(Be=r["createElement"](j,{onResize:je},Be)),Be}var ee=r["forwardRef"]($);ee.displayName="Overflow",ee.Item=Y,ee.RESPONSIVE=K,ee.INVALIDATE=J;var te=ee,ne=te;function re(e,t){var n=Object(l["a"])({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var ie=n("YrtM"),oe=r["createContext"](null);function ae(e,t){var n=Object(l["a"])({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}function se(e){var t=e.children,n=e.locked,i=Object(c["a"])(e,["children","locked"]),o=r["useContext"](oe),a=Object(ie["a"])((function(){return ae(o,i)}),[o,i],(function(e,t){return!n&&(e[0]!==t[0]||!B()(e[1],t[1]))}));return r["createElement"](oe.Provider,{value:a},t)}function ue(e,t,n,i){var o=r["useContext"](oe),a=o.activeKey,s=o.onActive,u=o.onInactive,c={active:a===e};return t||(c.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),s(e)},c.onMouseLeave=function(t){null===i||void 0===i||i({key:e,domEvent:t}),u(e)}),c}function ce(e){var t=e.item,n=Object(c["a"])(e,["item"]);return Object.defineProperty(n,"item",{get:function(){return Object(S["a"])(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function le(e){var t,n=e.icon,i=e.props,o=e.children;return t="function"===typeof n?r["createElement"](n,Object(l["a"])({},i)):n,t||o||null}function fe(e){var t=r["useContext"](oe),n=t.mode,i=t.rtl,o=t.inlineIndent;if("inline"!==n)return null;var a=e;return i?{paddingRight:a*o}:{paddingLeft:a*o}}var pe=[],he=r["createContext"](null);function de(){return r["useContext"](he)}var me=r["createContext"](pe);function ve(e){var t=r["useContext"](me);return r["useMemo"]((function(){return void 0!==e?[].concat(Object(v["a"])(t),[e]):t}),[t,e])}var ye=r["createContext"](null),ge=r["createContext"](null);function be(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function xe(e){var t=r["useContext"](ge);return be(t,e)}var _e=function(e){Object(x["a"])(n,e);var t=Object(_["a"])(n);function n(){return Object(g["a"])(this,n),t.apply(this,arguments)}return Object(b["a"])(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,i=e.elementRef,a=Object(c["a"])(e,["title","attribute","elementRef"]),s=re(a,["eventKey"]);return Object(S["a"])(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),r["createElement"](ne.Item,Object(o["a"])({},n,{title:"string"===typeof t?t:void 0},s,{ref:i}))}}]),n}(r["Component"]),we=function(e){var t,n=e.style,i=e.className,s=e.eventKey,u=(e.warnKey,e.disabled),f=e.itemIcon,h=e.children,d=e.role,m=e.onMouseEnter,y=e.onMouseLeave,g=e.onClick,b=e.onKeyDown,x=e.onFocus,_=Object(c["a"])(e,["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"]),w=xe(s),S=r["useContext"](oe),O=S.prefixCls,E=S.onItemClick,k=S.disabled,C=S.overflowDisabled,j=S.itemIcon,T=S.selectedKeys,A=S.onActive,P="".concat(O,"-item"),I=r["useRef"](),L=r["useRef"](),R=k||u,D=ve(s);var N=function(e){return{key:s,keyPath:Object(v["a"])(D).reverse(),item:I.current,domEvent:e}},z=f||j,F=ue(s,R,m,y),B=F.active,U=Object(c["a"])(F,["active"]),V=T.includes(s),H=fe(D.length),q=function(e){if(!R){var t=N(e);null===g||void 0===g||g(ce(t)),E(t)}},G=function(e){if(null===b||void 0===b||b(e),e.which===M.ENTER){var t=N(e);null===g||void 0===g||g(ce(t)),E(t)}},W=function(e){A(s),null===x||void 0===x||x(e)},Z={};return"option"===e.role&&(Z["aria-selected"]=V),r["createElement"](_e,Object(o["a"])({ref:I,elementRef:L,role:null===d?"none":d||"menuitem",tabIndex:u?null:-1,"data-menu-id":C&&w?null:w},_,U,Z,{component:"li","aria-disabled":u,style:Object(l["a"])(Object(l["a"])({},H),n),className:p()(P,(t={},Object(a["a"])(t,"".concat(P,"-active"),B),Object(a["a"])(t,"".concat(P,"-selected"),V),Object(a["a"])(t,"".concat(P,"-disabled"),R),t),i),onClick:q,onKeyDown:G,onFocus:W}),h,r["createElement"](le,{props:Object(l["a"])(Object(l["a"])({},e),{},{isSelected:V}),icon:z}))};function Se(e){var t=e.eventKey,n=de(),i=ve(t);return r["useEffect"]((function(){if(n)return n.registerPath(t,i),function(){n.unregisterPath(t,i)}}),[i]),n?null:r["createElement"](we,e)}var Oe=Se;function Ee(e,t){return Object(h["a"])(e).map((function(e,n){if(r["isValidElement"](e)){var i,o,a=e.key,s=null!==(i=null===(o=e.props)||void 0===o?void 0:o.eventKey)&&void 0!==i?i:a,u=null===s||void 0===s;u&&(s="tmp_key-".concat([].concat(Object(v["a"])(t),[n]).join("-")));var c={key:s,eventKey:s};return r["cloneElement"](e,c)}return e}))}function ke(e){var t=r["useRef"](e);t.current=e;var n=r["useCallback"]((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var Ce=function(e,t){var n=e.className,i=e.children,a=Object(c["a"])(e,["className","children"]),s=r["useContext"](oe),u=s.prefixCls,l=s.mode;return r["createElement"]("ul",Object(o["a"])({className:p()(u,"".concat(u,"-sub"),"".concat(u,"-").concat("inline"===l?"inline":"vertical"),n)},a,{"data-menu-list":!0,ref:t}),i)},je=r["forwardRef"](Ce);je.displayName="SubMenuList";var Te=je,Ae=n("JX7q"),Pe=n("i8i4"),Me=n.n(Pe);function Ie(e,t){return!!e&&e.contains(t)}function Le(e,t,n,r){var i=Me.a.unstable_batchedUpdates?function(e){Me.a.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i)}}}var Re=n("MNnm"),De=Object(r["forwardRef"])((function(e,t){var n=e.didUpdate,i=e.getContainer,o=e.children,a=Object(r["useRef"])();Object(r["useImperativeHandle"])(t,(function(){return{}}));var s=Object(r["useRef"])(!1);return!s.current&&Object(Re["a"])()&&(a.current=i(),s.current=!0),Object(r["useEffect"])((function(){null===n||void 0===n||n(e)})),Object(r["useEffect"])((function(){return function(){var e,t;null===(e=a.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(a.current)}}),[]),a.current?Me.a.createPortal(o,a.current):null})),Ne=De;function ze(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Fe(e,t,n){var r=e[t]||{};return Object(l["a"])(Object(l["a"])({},r),n)}function Be(e,t,n,r){for(var i=n.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s=o[a];if(ze(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}var Ue=n("8XRh");function Ve(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function He(e){var t=e.prefixCls,n=e.visible,i=e.zIndex,a=e.mask,s=e.maskMotion,u=e.maskAnimation,c=e.maskTransitionName;if(!a)return null;var f={};return(s||c||u)&&(f=Object(l["a"])({motionAppear:!0},Ve({motion:s,prefixCls:t,transitionName:c,animation:u}))),r["createElement"](Ue["b"],Object(o["a"])({},f,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return r["createElement"]("div",{style:{zIndex:i},className:p()("".concat(t,"-mask"),n)})}))}var qe,Ge=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1};function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e){return Ye="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(e)}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ke={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function Je(){if(void 0!==qe)return qe;qe="";var e=document.createElement("p").style,t="Transform";for(var n in Ke)n+t in e&&(qe=n);return qe}function Qe(){return Je()?"".concat(Je(),"TransitionProperty"):"transitionProperty"}function $e(){return Je()?"".concat(Je(),"Transform"):"transform"}function et(e,t){var n=Qe();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function tt(e,t){var n=$e();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}function nt(e){return e.style.transitionProperty||e.style[Qe()]}function rt(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue($e());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}var it=/matrix\((.*)\)/,ot=/matrix3d\((.*)\)/;function at(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue($e());if(r&&"none"!==r){var i,o=r.match(it);if(o)o=o[1],i=o.split(",").map((function(e){return parseFloat(e,10)})),i[4]=t.x,i[5]=t.y,tt(e,"matrix(".concat(i.join(","),")"));else{var a=r.match(ot)[1];i=a.split(",").map((function(e){return parseFloat(e,10)})),i[12]=t.x,i[13]=t.y,tt(e,"matrix3d(".concat(i.join(","),")"))}}else tt(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var st,ut=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function ct(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function lt(e,t,n){var r=n;if("object"!==Ye(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):st(e,t);for(var i in t)t.hasOwnProperty(i)&&lt(e,i,t[i])}function ft(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),n=t.left,r=t.top,n-=a.clientLeft||o.clientLeft||0,r-=a.clientTop||o.clientTop||0,{left:n,top:r}}function pt(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;n=i.documentElement[r],"number"!==typeof n&&(n=i.body[r])}return n}function ht(e){return pt(e)}function dt(e){return pt(e,!0)}function mt(e){var t=ft(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=ht(r),t.top+=dt(r),t}function vt(e){return null!==e&&void 0!==e&&e==e.window}function yt(e){return vt(e)?e.document:9===e.nodeType?e:e.ownerDocument}function gt(e,t,n){var r=n,i="",o=yt(e);return r=r||o.defaultView.getComputedStyle(e,null),r&&(i=r.getPropertyValue(t)||r[t]),i}var bt=new RegExp("^(".concat(ut,")(?!px)[a-z%]+$"),"i"),xt=/^(top|right|bottom|left)$/,_t="currentStyle",wt="runtimeStyle",St="left",Ot="px";function Et(e,t){var n=e[_t]&&e[_t][t];if(bt.test(n)&&!xt.test(t)){var r=e.style,i=r[St],o=e[wt][St];e[wt][St]=e[_t][St],r[St]="fontSize"===t?"1em":n||0,n=r.pixelLeft+Ot,r[St]=i,e[wt][St]=o}return""===n?"auto":n}function kt(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function Ct(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function jt(e,t,n){"static"===lt(e,"position")&&(e.style.position="relative");var r=-999,i=-999,o=kt("left",n),a=kt("top",n),s=Ct(o),u=Ct(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var c="",l=mt(e);("left"in t||"top"in t)&&(c=nt(e)||"",et(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[u]="",e.style[a]="".concat(i,"px")),ct(e);var f=mt(e),p={};for(var h in t)if(t.hasOwnProperty(h)){var d=kt(h,n),m="left"===h?r:i,v=l[h]-f[h];p[d]=d===h?m+v:m-v}lt(e,p),ct(e),("left"in t||"top"in t)&&et(e,c);var y={};for(var g in t)if(t.hasOwnProperty(g)){var b=kt(g,n),x=t[g]-l[g];y[b]=g===b?p[b]+x:p[b]-x}lt(e,y)}function Tt(e,t){var n=mt(e),r=rt(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),at(e,i)}function At(e,t,n){if(n.ignoreShake){var r=mt(e),i=r.left.toFixed(0),o=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(i===a&&o===s)return}n.useCssRight||n.useCssBottom?jt(e,t,n):n.useCssTransform&&$e()in document.body.style?Tt(e,t):jt(e,t,n)}function Pt(e,t){for(var n=0;n<e.length;n++)t(e[n])}function Mt(e){return"border-box"===st(e,"boxSizing")}"undefined"!==typeof window&&(st=window.getComputedStyle?gt:Et);var It=["margin","border","padding"],Lt=-1,Rt=2,Dt=1,Nt=0;function zt(e,t,n){var r,i={},o=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=o[r],o[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(o[r]=i[r])}function Ft(e,t,n){var r,i,o,a=0;for(i=0;i<t.length;i++)if(r=t[i],r)for(o=0;o<n.length;o++){var s=void 0;s="border"===r?"".concat(r).concat(n[o],"Width"):r+n[o],a+=parseFloat(st(e,s))||0}return a}var Bt={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function Ut(e,t,n){var r=n;if(vt(e))return"width"===t?Bt.viewportWidth(e):Bt.viewportHeight(e);if(9===e.nodeType)return"width"===t?Bt.docWidth(e):Bt.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,a=Mt(e),s=0;(null===o||void 0===o||o<=0)&&(o=void 0,s=st(e,t),(null===s||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=a?Dt:Lt);var u=void 0!==o||a,c=o||s;return r===Lt?u?c-Ft(e,["border","padding"],i):s:u?r===Dt?c:c+(r===Rt?-Ft(e,["border"],i):Ft(e,["margin"],i)):s+Ft(e,It.slice(r),i)}Pt(["Width","Height"],(function(e){Bt["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Bt["viewport".concat(e)](n))},Bt["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,o=r.documentElement,a=o[n];return"CSS1Compat"===r.compatMode&&a||i&&i[n]||a}}));var Vt={position:"absolute",visibility:"hidden",display:"block"};function Ht(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=Ut.apply(void 0,t):zt(i,Vt,(function(){r=Ut.apply(void 0,t)})),r}function qt(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Pt(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Bt["outer".concat(t)]=function(t,n){return t&&Ht(t,e,n?Nt:Dt)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Bt[e]=function(t,r){var i=r;if(void 0===i)return t&&Ht(t,e,Lt);if(t){var o=Mt(t);return o&&(i+=Ft(t,["padding","border"],n)),lt(t,e,i)}}}));var Gt={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:yt,offset:function(e,t,n){if("undefined"===typeof t)return mt(e);At(e,t,n||{})},isWindow:vt,each:Pt,css:lt,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);var r=e.overflow;if(r)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:qt,getWindowScrollLeft:function(e){return ht(e)},getWindowScrollTop:function(e){return dt(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Gt.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};qt(Gt,Bt);var Wt=Gt.getParent;function Zt(e){if(Gt.isWindow(e)||9===e.nodeType)return null;var t,n=Gt.getDocument(e),r=n.body,i=Gt.css(e,"position"),o="fixed"===i||"absolute"===i;if(!o)return"html"===e.nodeName.toLowerCase()?null:Wt(e);for(t=Wt(e);t&&t!==r&&9!==t.nodeType;t=Wt(t))if(i=Gt.css(t,"position"),"static"!==i)return t;return null}var Yt=Gt.getParent;function Xt(e){if(Gt.isWindow(e)||9===e.nodeType)return!1;var t=Gt.getDocument(e),n=t.body,r=null;for(r=Yt(e);r&&r!==n&&r!==t;r=Yt(r)){var i=Gt.css(r,"position");if("fixed"===i)return!0}return!1}function Kt(e,t){var n={left:0,right:1/0,top:0,bottom:1/0},r=Zt(e),i=Gt.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;while(r){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===s||"visible"===Gt.css(r,"overflow")){if(r===a||r===s)break}else{var u=Gt.offset(r);u.left+=r.clientLeft,u.top+=r.clientTop,n.top=Math.max(n.top,u.top),n.right=Math.min(n.right,u.left+r.clientWidth),n.bottom=Math.min(n.bottom,u.top+r.clientHeight),n.left=Math.max(n.left,u.left)}r=Zt(r)}var c=null;if(!Gt.isWindow(e)&&9!==e.nodeType){c=e.style.position;var l=Gt.css(e,"position");"absolute"===l&&(e.style.position="fixed")}var f=Gt.getWindowScrollLeft(o),p=Gt.getWindowScrollTop(o),h=Gt.viewportWidth(o),d=Gt.viewportHeight(o),m=s.scrollWidth,v=s.scrollHeight,y=window.getComputedStyle(a);if("hidden"===y.overflowX&&(m=o.innerWidth),"hidden"===y.overflowY&&(v=o.innerHeight),e.style&&(e.style.position=c),t||Xt(e))n.left=Math.max(n.left,f),n.top=Math.max(n.top,p),n.right=Math.min(n.right,f+h),n.bottom=Math.min(n.bottom,p+d);else{var g=Math.max(m,f+h);n.right=Math.min(n.right,g);var b=Math.max(v,p+d);n.bottom=Math.min(n.bottom,b)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Jt(e,t,n,r){var i=Gt.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),Gt.mix(i,o)}function Qt(e){var t,n,r;if(Gt.isWindow(e)||9===e.nodeType){var i=Gt.getWindow(e);t={left:Gt.getWindowScrollLeft(i),top:Gt.getWindowScrollTop(i)},n=Gt.viewportWidth(i),r=Gt.viewportHeight(i)}else t=Gt.offset(e),n=Gt.outerWidth(e),r=Gt.outerHeight(e);return t.width=n,t.height=r,t}function $t(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}function en(e,t,n,r,i){var o=$t(t,n[1]),a=$t(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function tn(e,t,n){return e.left<n.left||e.left+t.width>n.right}function nn(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function rn(e,t,n){return e.left>n.right||e.left+t.width<n.left}function on(e,t,n){return e.top>n.bottom||e.top+t.height<n.top}function an(e,t,n){var r=[];return Gt.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function sn(e,t){return e[t]=-e[t],e}function un(e,t){var n;return n=/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10),n||0}function cn(e,t){e[0]=un(e[0],t.width),e[1]=un(e[1],t.height)}function ln(e,t,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,u=n.source||e;o=[].concat(o),a=[].concat(a),s=s||{};var c={},l=0,f=!(!s||!s.alwaysByViewport),p=Kt(u,f),h=Qt(u);cn(o,h),cn(a,t);var d=en(h,t,i,o,a),m=Gt.merge(h,d);if(p&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&tn(d,h,p)){var v=an(i,/[lr]/gi,{l:"r",r:"l"}),y=sn(o,0),g=sn(a,0),b=en(h,t,v,y,g);rn(b,h,p)||(l=1,i=v,o=y,a=g)}if(s.adjustY&&nn(d,h,p)){var x=an(i,/[tb]/gi,{t:"b",b:"t"}),_=sn(o,1),w=sn(a,1),S=en(h,t,x,_,w);on(S,h,p)||(l=1,i=x,o=_,a=w)}l&&(d=en(h,t,i,o,a),Gt.mix(m,d));var O=tn(d,h,p),E=nn(d,h,p);if(O||E){var k=i;O&&(k=an(i,/[lr]/gi,{l:"r",r:"l"})),E&&(k=an(i,/[tb]/gi,{t:"b",b:"t"})),i=k,o=n.offset||[0,0],a=n.targetOffset||[0,0]}c.adjustX=s.adjustX&&O,c.adjustY=s.adjustY&&E,(c.adjustX||c.adjustY)&&(m=Jt(d,h,p,c))}return m.width!==h.width&&Gt.css(u,"width",Gt.width(u)+m.width-h.width),m.height!==h.height&&Gt.css(u,"height",Gt.height(u)+m.height-h.height),Gt.offset(u,{left:m.left,top:m.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:c}}function fn(e,t){var n=Kt(e,t),r=Qt(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}function pn(e,t,n){var r=n.target||t,i=Qt(r),o=!fn(r,n.overflow&&n.overflow.alwaysByViewport);return ln(e,i,n,o)}function hn(e,t,n){var r,i,o=Gt.getDocument(e),a=o.defaultView||o.parentWindow,s=Gt.getWindowScrollLeft(a),u=Gt.getWindowScrollTop(a),c=Gt.viewportWidth(a),l=Gt.viewportHeight(a);r="pageX"in t?t.pageX:s+t.clientX,i="pageY"in t?t.pageY:u+t.clientY;var f={left:r,top:i,width:0,height:0},p=r>=0&&r<=s+c&&i>=0&&i<=u+l,h=[n.points[0],"cc"];return ln(e,f,Ze(Ze({},n),{},{points:h}),p)}pn.__getOffsetParent=Zt,pn.__getVisibleRectForElement=Kt;var dn=n("Y+p1"),mn=n.n(dn);function vn(e,t){return e===t||!(!e||!t)&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&(e.clientX===t.clientX&&e.clientY===t.clientY))}function yn(e,t){e!==document.activeElement&&Ie(t,e)&&"function"===typeof e.focus&&e.focus()}function gn(e,t){var n=null,r=null;function i(e){var i=Object(s["a"])(e,1),o=i[0].target;if(document.documentElement.contains(o)){var a=o.getBoundingClientRect(),u=a.width,c=a.height,l=Math.floor(u),f=Math.floor(c);n===l&&r===f||Promise.resolve().then((function(){t({width:l,height:f})})),n=l,r=f}}var o=new E["a"](i);return e&&o.observe(e),function(){o.disconnect()}}var bn=function(e,t){var n=i.a.useRef(!1),r=i.a.useRef(null);function o(){window.clearTimeout(r.current)}function a(i){if(n.current&&!0!==i)o(),r.current=window.setTimeout((function(){n.current=!1,a()}),t);else{if(!1===e())return;n.current=!0,o(),r.current=window.setTimeout((function(){n.current=!1}),t)}}return[a,function(){n.current=!1,o()}]};function xn(e){return"function"!==typeof e?null:e()}function _n(e){return"object"===Object(u["a"])(e)&&e?e:null}var wn=function(e,t){var n=e.children,r=e.disabled,o=e.target,a=e.align,u=e.onAlign,c=e.monitorWindowResize,l=e.monitorBufferTime,f=void 0===l?0:l,p=i.a.useRef({}),h=i.a.useRef(),d=i.a.Children.only(n),m=i.a.useRef({});m.current.disabled=r,m.current.target=o,m.current.align=a,m.current.onAlign=u;var v=bn((function(){var e=m.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var o,a=h.current,s=xn(n),u=_n(n);p.current.element=s,p.current.point=u,p.current.align=r;var c=document,l=c.activeElement;return s&&Ge(s)?o=pn(a,s,r):u&&(o=hn(a,u,r)),yn(l,a),i&&o&&i(a,o),!0}return!1}),f),y=Object(s["a"])(v,2),g=y[0],b=y[1],x=i.a.useRef({cancel:function(){}}),_=i.a.useRef({cancel:function(){}});i.a.useEffect((function(){var e=xn(o),t=_n(o);h.current!==_.current.element&&(_.current.cancel(),_.current.element=h.current,_.current.cancel=gn(h.current,g)),p.current.element===e&&vn(p.current.point,t)&&mn()(p.current.align,a)||(g(),x.current.element!==e&&(x.current.cancel(),x.current.element=e,x.current.cancel=gn(e,g)))})),i.a.useEffect((function(){r?b():g()}),[r]);var w=i.a.useRef(null);return i.a.useEffect((function(){c?w.current||(w.current=Le(window,"resize",g)):w.current&&(w.current.remove(),w.current=null)}),[c]),i.a.useEffect((function(){return function(){x.current.cancel(),_.current.cancel(),w.current&&w.current.remove(),b()}}),[]),i.a.useImperativeHandle(t,(function(){return{forceAlign:function(){return g(!0)}}})),i.a.isValidElement(d)&&(d=i.a.cloneElement(d,{ref:Object(O["a"])(d.ref,h)})),d},Sn=i.a.forwardRef(wn);Sn.displayName="Align";var On=Sn,En=On,kn=n("o0o1"),Cn=n.n(kn),jn=n("HaE+"),Tn=["measure","align",null,"motion"],An=function(e,t){var n=Object(r["useState"])(null),i=Object(s["a"])(n,2),o=i[0],a=i[1],u=Object(r["useRef"])(),c=Object(r["useRef"])(!1);function l(e){c.current||a(e)}function f(){y["a"].cancel(u.current)}function p(e){f(),u.current=Object(y["a"])((function(){l((function(e){switch(o){case"align":return"motion";case"motion":return"stable";default:}return e})),null===e||void 0===e||e()}))}return Object(r["useEffect"])((function(){l("measure")}),[e]),Object(r["useEffect"])((function(){switch(o){case"measure":t();break;default:}o&&(u.current=Object(y["a"])(Object(jn["a"])(Cn.a.mark((function e(){var t,n;return Cn.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Tn.indexOf(o),n=Tn[t+1],n&&-1!==t&&l(n);case 3:case"end":return e.stop()}}),e)})))))}),[o]),Object(r["useEffect"])((function(){return function(){c.current=!0,f()}}),[]),[o,p]},Pn=function(e){var t=r["useState"]({width:0,height:0}),n=Object(s["a"])(t,2),i=n[0],o=n[1];function a(e){o({width:e.offsetWidth,height:e.offsetHeight})}var u=r["useMemo"]((function(){var t={};if(e){var n=i.width,r=i.height;-1!==e.indexOf("height")&&r?t.height=r:-1!==e.indexOf("minHeight")&&r&&(t.minHeight=r),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,i]);return[u,a]},Mn=r["forwardRef"]((function(e,t){var n=e.visible,i=e.prefixCls,a=e.className,u=e.style,c=e.children,f=e.zIndex,h=e.stretch,d=e.destroyPopupOnHide,m=e.forceRender,v=e.align,y=e.point,g=e.getRootDomNode,b=e.getClassNameFromAlign,x=e.onAlign,_=e.onMouseEnter,w=e.onMouseLeave,S=e.onMouseDown,O=e.onTouchStart,E=Object(r["useRef"])(),k=Object(r["useRef"])(),C=Object(r["useState"])(),j=Object(s["a"])(C,2),T=j[0],A=j[1],P=Pn(h),M=Object(s["a"])(P,2),I=M[0],L=M[1];function R(){h&&L(g())}var D=An(n,R),N=Object(s["a"])(D,2),z=N[0],F=N[1],B=Object(r["useRef"])();function U(){return y||g}function V(){var e;null===(e=E.current)||void 0===e||e.forceAlign()}function H(e,t){var n=b(t);T!==n&&A(n),"align"===z&&(T!==n?Promise.resolve().then((function(){V()})):F((function(){var e;null===(e=B.current)||void 0===e||e.call(B)})),null===x||void 0===x||x(e,t))}var q=Object(l["a"])({},Ve(e));function G(){return new Promise((function(e){B.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=q[e];q[e]=function(e,n){return F(),null===t||void 0===t?void 0:t(e,n)}})),r["useEffect"]((function(){q.motionName||"motion"!==z||F()}),[q.motionName,z]),r["useImperativeHandle"](t,(function(){return{forceAlign:V,getElement:function(){return k.current}}}));var W=Object(l["a"])(Object(l["a"])({},I),{},{zIndex:f,opacity:"motion"!==z&&"stable"!==z&&n?0:void 0,pointerEvents:"stable"===z?void 0:"none"},u),Z=!0;!(null===v||void 0===v?void 0:v.points)||"align"!==z&&"stable"!==z||(Z=!1);var Y=c;return r["Children"].count(c)>1&&(Y=r["createElement"]("div",{className:"".concat(i,"-content")},c)),r["createElement"](Ue["b"],Object(o["a"])({visible:n,ref:k,leavedClassName:"".concat(i,"-hidden")},q,{onAppearPrepare:G,onEnterPrepare:G,removeOnLeave:d,forceRender:m}),(function(e,t){var n=e.className,o=e.style,s=p()(i,a,T,n);return r["createElement"](En,{target:U(),key:"popup",ref:E,monitorWindowResize:!0,disabled:Z,align:v,onAlign:H},r["createElement"]("div",{ref:t,className:s,onMouseEnter:_,onMouseLeave:w,onMouseDownCapture:S,onTouchStartCapture:O,style:Object(l["a"])(Object(l["a"])({},o),W)},Y))}))}));Mn.displayName="PopupInner";var In=Mn,Ln=r["forwardRef"]((function(e,t){var n=e.prefixCls,i=e.visible,a=e.zIndex,s=e.children,u=e.mobile;u=void 0===u?{}:u;var c=u.popupClassName,f=u.popupStyle,h=u.popupMotion,d=void 0===h?{}:h,m=u.popupRender,v=r["useRef"]();r["useImperativeHandle"](t,(function(){return{forceAlign:function(){},getElement:function(){return v.current}}}));var y=Object(l["a"])({zIndex:a},f),g=s;return r["Children"].count(s)>1&&(g=r["createElement"]("div",{className:"".concat(n,"-content")},s)),m&&(g=m(g)),r["createElement"](Ue["b"],Object(o["a"])({visible:i,ref:v,removeOnLeave:!0},d),(function(e,t){var i=e.className,o=e.style,a=p()(n,c,i);return r["createElement"]("div",{ref:t,className:a,style:Object(l["a"])(Object(l["a"])({},o),y)},g)}))}));Ln.displayName="MobilePopupInner";var Rn=Ln,Dn=["visible","mobile"],Nn=r["forwardRef"]((function(e,t){var n=e.visible,i=e.mobile,a=Object(c["a"])(e,Dn),u=Object(r["useState"])(n),f=Object(s["a"])(u,2),p=f[0],h=f[1],m=Object(r["useState"])(!1),v=Object(s["a"])(m,2),y=v[0],g=v[1],b=Object(l["a"])(Object(l["a"])({},a),{},{visible:p});Object(r["useEffect"])((function(){h(n),n&&i&&g(d())}),[n,i]);var x=y?r["createElement"](Rn,Object(o["a"])({},b,{mobile:i,ref:t})):r["createElement"](In,Object(o["a"])({},b,{ref:t}));return r["createElement"]("div",null,r["createElement"](He,b),x)}));Nn.displayName="Popup";var zn=Nn,Fn=r["createContext"](null),Bn=Fn;function Un(){}function Vn(){return""}function Hn(e){return e?e.ownerDocument:window.document}var qn=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function Gn(e){var t=function(t){Object(x["a"])(i,t);var n=Object(_["a"])(i);function i(e){var t,a;return Object(g["a"])(this,i),t=n.call(this,e),t.popupRef=r["createRef"](),t.triggerRef=r["createRef"](),t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&Ie(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),i=t.getPopupDomNode();Ie(r,n)&&!t.isContextMenuOnly()||Ie(i,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=Object(w["a"])(t.triggerRef.current);if(n)return n}catch(r){}return Me.a.findDOMNode(Object(Ae["a"])(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,i=r.popupPlacement,o=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,u=r.getPopupClassNameFromAlign;return i&&o&&n.push(Be(o,a,e,s)),u&&n.push(u(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,i=e.destroyPopupOnHide,a=e.popupClassName,s=e.onPopupAlign,u=e.popupMotion,c=e.popupAnimation,l=e.popupTransitionName,f=e.popupStyle,p=e.mask,h=e.maskAnimation,d=e.maskTransitionName,m=e.maskMotion,v=e.zIndex,y=e.popup,g=e.stretch,b=e.alignPoint,x=e.mobile,_=e.forceRender,w=t.state,S=w.popupVisible,O=w.point,E=t.getPopupAlign(),k={};return t.isMouseEnterToShow()&&(k.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(k.onMouseLeave=t.onPopupMouseLeave),k.onMouseDown=t.onPopupMouseDown,k.onTouchStart=t.onPopupMouseDown,r["createElement"](zn,Object(o["a"])({prefixCls:n,destroyPopupOnHide:i,visible:S,point:b&&O,className:a,align:E,onAlign:s,animation:c,getClassNameFromAlign:t.getPopupClassNameFromAlign},k,{stretch:g,getRootDomNode:t.getRootDomNode,style:f,mask:p,zIndex:v,transitionName:l,maskAnimation:h,maskTransitionName:d,maskMotion:m,ref:t.popupRef,motion:u,mobile:x,forceRender:_}),"function"===typeof y?y():y)},t.attachParent=function(e){y["a"].cancel(t.attachId);var n,r=t.props,i=r.getPopupContainer,o=r.getDocument,a=t.getRootDomNode();i?(a||0===i.length)&&(n=i(a)):n=o(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=Object(y["a"])((function(){t.attachParent(e)}))},t.getContainer=function(){var e=t.props.getDocument,n=e(t.getRootDomNode()).createElement("div");return n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",t.attachParent(n),n},t.setPoint=function(e){var n=t.props.alignPoint;n&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},a="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:a,popupVisible:a},qn.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return Object(b["a"])(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props,n=this.state;if(n.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Le(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Le(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Le(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Le(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),y["a"].cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?Fe(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,o),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,i=n.children,o=n.forceRender,a=n.alignPoint,s=n.className,u=n.autoDestroy,c=r["Children"].only(i),f={key:"trigger"};this.isContextMenuToShow()?f.onContextMenu=this.onContextMenu:f.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(f.onClick=this.onClick,f.onMouseDown=this.onMouseDown,f.onTouchStart=this.onTouchStart):(f.onClick=this.createTwoChains("onClick"),f.onMouseDown=this.createTwoChains("onMouseDown"),f.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(f.onMouseEnter=this.onMouseEnter,a&&(f.onMouseMove=this.onMouseMove)):f.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?f.onMouseLeave=this.onMouseLeave:f.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(f.onFocus=this.onFocus,f.onBlur=this.onBlur):(f.onFocus=this.createTwoChains("onFocus"),f.onBlur=this.createTwoChains("onBlur"));var h=p()(c&&c.props&&c.props.className,s);h&&(f.className=h);var d=Object(l["a"])({},f);Object(O["c"])(c)&&(d.ref=Object(O["a"])(this.triggerRef,c.ref));var m,v=r["cloneElement"](c,d);return(t||this.popupRef.current||o)&&(m=r["createElement"](e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&u&&(m=null),r["createElement"](Bn.Provider,{value:this.triggerContextValue},v,m)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),i}(r["Component"]);return t.contextType=Bn,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Vn,getDocument:Hn,onPopupVisibleChange:Un,afterPopupVisibleChange:Un,onPopupAlign:Un,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}var Wn=Gn(Ne),Zn={adjustX:1,adjustY:1},Yn={topLeft:{points:["bl","tl"],overflow:Zn,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Zn,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Zn,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Zn,offset:[4,0]}},Xn={topLeft:{points:["bl","tl"],overflow:Zn,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Zn,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Zn,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Zn,offset:[4,0]}};function Kn(e,t,n){return t||(n?n[e]||n.other:void 0)}var Jn={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Qn(e){var t=e.prefixCls,n=e.visible,i=e.children,o=e.popup,u=e.popupClassName,c=e.popupOffset,f=e.disabled,h=e.mode,d=e.onVisibleChange,m=r["useContext"](oe),v=m.getPopupContainer,g=m.rtl,b=m.subMenuOpenDelay,x=m.subMenuCloseDelay,_=m.builtinPlacements,w=m.triggerSubMenuAction,S=m.forceSubMenuRender,O=m.motion,E=m.defaultMotions,k=r["useState"](!1),C=Object(s["a"])(k,2),j=C[0],T=C[1],A=g?Object(l["a"])(Object(l["a"])({},Xn),_):Object(l["a"])(Object(l["a"])({},Yn),_),P=Jn[h],M=Kn(h,O,E),I=Object(l["a"])(Object(l["a"])({},M),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),L=r["useRef"]();return r["useEffect"]((function(){return L.current=Object(y["a"])((function(){T(n)})),function(){y["a"].cancel(L.current)}}),[n]),r["createElement"](Wn,{prefixCls:t,popupClassName:p()("".concat(t,"-popup"),Object(a["a"])({},"".concat(t,"-rtl"),g),u),stretch:"horizontal"===h?"minWidth":null,getPopupContainer:v,builtinPlacements:A,popupPlacement:P,popupVisible:j,popup:o,popupAlign:c&&{offset:c},action:f?[]:[w],mouseEnterDelay:b,mouseLeaveDelay:x,onPopupVisibleChange:d,forceRender:S,popupMotion:I},i)}function $n(e){var t=e.id,n=e.open,i=e.keyPath,a=e.children,u="inline",c=r["useContext"](oe),f=c.prefixCls,p=c.forceSubMenuRender,h=c.motion,d=c.defaultMotions,m=c.mode,v=r["useRef"](!1);v.current=m===u;var y=r["useState"](!v.current),g=Object(s["a"])(y,2),b=g[0],x=g[1],_=!!v.current&&n;r["useEffect"]((function(){v.current&&x(!1)}),[m]);var w=Object(l["a"])({},Kn(u,h,d));i.length>1&&(w.motionAppear=!1);var S=w.onVisibleChanged;return w.onVisibleChanged=function(e){return v.current||e||x(!0),null===S||void 0===S?void 0:S(e)},b?null:r["createElement"](se,{mode:u,locked:!v.current},r["createElement"](Ue["b"],Object(o["a"])({visible:_},w,{forceRender:p,removeOnLeave:!1,leavedClassName:"".concat(f,"-hidden")}),(function(e){var n=e.className,i=e.style;return r["createElement"](Te,{id:t,className:n,style:i},a)})))}var er=function(e){var t,n=e.style,i=e.className,u=e.title,f=e.eventKey,h=(e.warnKey,e.disabled),d=e.internalPopupClose,m=e.children,v=e.itemIcon,y=e.expandIcon,g=e.popupClassName,b=e.popupOffset,x=e.onClick,_=e.onMouseEnter,w=e.onMouseLeave,S=e.onTitleClick,O=e.onTitleMouseEnter,E=e.onTitleMouseLeave,k=Object(c["a"])(e,["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"]),C=xe(f),j=r["useContext"](oe),T=j.prefixCls,A=j.mode,P=j.openKeys,M=j.disabled,I=j.overflowDisabled,L=j.activeKey,R=j.selectedKeys,D=j.itemIcon,N=j.expandIcon,z=j.onItemClick,F=j.onOpenChange,B=j.onActive,U=r["useContext"](ye),V=U.isSubPathKey,H=ve(),q="".concat(T,"-submenu"),G=M||h,W=r["useRef"](),Z=r["useRef"]();var Y=v||D,X=y||N,K=P.includes(f),J=!I&&K,Q=V(R,f),$=ue(f,G,O,E),ee=$.active,te=Object(c["a"])($,["active"]),re=r["useState"](!1),ie=Object(s["a"])(re,2),ae=ie[0],pe=ie[1],he=function(e){G||pe(e)},de=function(e){he(!0),null===_||void 0===_||_({key:f,domEvent:e})},me=function(e){he(!1),null===w||void 0===w||w({key:f,domEvent:e})},ge=r["useMemo"]((function(){return ee||"inline"!==A&&(ae||V([L],f))}),[A,ee,L,ae,f,V]),be=fe(H.length),_e=function(e){G||(null===S||void 0===S||S({key:f,domEvent:e}),"inline"===A&&F(f,!K))},we=ke((function(e){null===x||void 0===x||x(ce(e)),z(e)})),Se=function(e){"inline"!==A&&F(f,e)},Oe=function(){B(f)},Ee=C&&"".concat(C,"-popup"),Ce=r["createElement"]("div",Object(o["a"])({role:"menuitem",style:be,className:"".concat(q,"-title"),tabIndex:G?null:-1,ref:W,title:"string"===typeof u?u:null,"data-menu-id":I&&C?null:C,"aria-expanded":J,"aria-haspopup":!0,"aria-controls":Ee,"aria-disabled":G,onClick:_e,onFocus:Oe},te),u,r["createElement"](le,{icon:"horizontal"!==A?X:null,props:Object(l["a"])(Object(l["a"])({},e),{},{isOpen:J,isSubMenu:!0})},r["createElement"]("i",{className:"".concat(q,"-arrow")}))),je=r["useRef"](A);if("inline"!==A&&(je.current=H.length>1?"vertical":A),!I){var Ae=je.current;Ce=r["createElement"](Qn,{mode:Ae,prefixCls:q,visible:!d&&J&&"inline"!==A,popupClassName:g,popupOffset:b,popup:r["createElement"](se,{mode:"horizontal"===Ae?"vertical":Ae},r["createElement"](Te,{id:Ee,ref:Z},m)),disabled:G,onVisibleChange:Se},Ce)}return r["createElement"](se,{onItemClick:we,mode:"horizontal"===A?"vertical":A,itemIcon:Y,expandIcon:X},r["createElement"](ne.Item,Object(o["a"])({role:"none"},k,{component:"li",style:n,className:p()(q,"".concat(q,"-").concat(A),i,(t={},Object(a["a"])(t,"".concat(q,"-open"),J),Object(a["a"])(t,"".concat(q,"-active"),ge),Object(a["a"])(t,"".concat(q,"-selected"),Q),Object(a["a"])(t,"".concat(q,"-disabled"),G),t)),onMouseEnter:de,onMouseLeave:me}),Ce,!I&&r["createElement"]($n,{id:Ee,open:J,keyPath:H},m)))};function tr(e){var t,n=e.eventKey,i=e.children,o=ve(n),a=Ee(i,o),s=de();return r["useEffect"]((function(){if(s)return s.registerPath(n,o),function(){s.unregisterPath(n,o)}}),[o]),t=s?a:r["createElement"](er,e,a),r["createElement"](me.Provider,{value:o},t)}function nr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Ge(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),o=Number(i),a=null;return i&&!Number.isNaN(o)?a=o:r&&null===a&&(a=0),r&&e.disabled&&(a=null),null!==a&&(a>=0||t&&a<0)}return!1}function rr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(v["a"])(e.querySelectorAll("*")).filter((function(e){return nr(e,t)}));return nr(e,t)&&n.unshift(e),n}var ir=M.LEFT,or=M.RIGHT,ar=M.UP,sr=M.DOWN,ur=M.ENTER,cr=M.ESC,lr=[ar,sr,ir,or];function fr(e,t,n,r){var i,o,s,u,c="prev",l="next",f="children",p="parent";if("inline"===e&&r===ur)return{inlineTrigger:!0};var h=(i={},Object(a["a"])(i,ar,c),Object(a["a"])(i,sr,l),i),d=(o={},Object(a["a"])(o,ir,n?l:c),Object(a["a"])(o,or,n?c:l),Object(a["a"])(o,sr,f),Object(a["a"])(o,ur,f),o),m=(s={},Object(a["a"])(s,ar,c),Object(a["a"])(s,sr,l),Object(a["a"])(s,ur,f),Object(a["a"])(s,cr,p),Object(a["a"])(s,ir,n?f:p),Object(a["a"])(s,or,n?p:f),s),v={inline:h,horizontal:d,vertical:m,inlineSub:h,horizontalSub:m,verticalSub:m},y=null===(u=v["".concat(e).concat(t?"":"Sub")])||void 0===u?void 0:u[r];switch(y){case c:return{offset:-1,sibling:!0};case l:return{offset:1,sibling:!0};case p:return{offset:-1,sibling:!1};case f:return{offset:1,sibling:!1};default:return null}}function pr(e){var t=e;while(t){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}function hr(e,t){var n=e||document.activeElement;while(n){if(t.has(n))return n;n=n.parentElement}return null}function dr(e,t){var n=rr(e,!0);return n.filter((function(e){return t.has(e)}))}function mr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=dr(e,t),o=i.length,a=i.findIndex((function(e){return n===e}));return r<0?-1===a?a=o-1:a-=1:r>0&&(a+=1),a=(a+o)%o,i[a]}function vr(e,t,n,i,o,a,s,u,c,l){var f=r["useRef"](),p=r["useRef"]();p.current=t;var h=function(){y["a"].cancel(f.current)};return r["useEffect"]((function(){return function(){h()}}),[]),function(r){var d=r.which;if([].concat(lr,[ur,cr]).includes(d)){var m,v,g,b=function(){m=new Set,v=new Map,g=new Map;var e=a();return e.forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(be(i,e),"']"));t&&(m.add(t),g.set(t,e),v.set(e,t))})),m};b();var x=v.get(t),_=hr(x,m),w=g.get(_),S=fr(e,1===s(w,!0).length,n,d);if(!S)return;lr.includes(d)&&r.preventDefault();var O=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=g.get(e);u(r),h(),f.current=Object(y["a"])((function(){p.current===r&&t.focus()}))}};if(S.sibling||!_){var E;E=_&&"inline"!==e?pr(_):o.current;var k=mr(E,m,_,S.offset);O(k)}else if(S.inlineTrigger)c(w);else if(S.offset>0)c(w,!0),h(),f.current=Object(y["a"])((function(){b();var e=_.getAttribute("aria-controls"),t=document.getElementById(e),n=mr(t,m);O(n)}),5);else if(S.offset<0){var C=s(w,!0),j=C[C.length-2],T=v.get(j);c(j,!1),O(T)}}null===l||void 0===l||l(r)}}var yr=Math.random().toFixed(5).toString().slice(2),gr=0;function br(e){var t=m(e,{value:e}),n=Object(s["a"])(t,2),i=n[0],o=n[1];return r["useEffect"]((function(){gr+=1;var e="".concat(yr,"-").concat(gr);o("rc-menu-uuid-".concat(e))}),[]),i}function xr(e){Promise.resolve().then(e)}var _r="__RC_UTIL_PATH_SPLIT__",wr=function(e){return e.join(_r)},Sr=function(e){return e.split(_r)},Or="rc-menu-more";function Er(){var e=r["useState"]({}),t=Object(s["a"])(e,2),n=t[1],i=Object(r["useRef"])(new Map),o=Object(r["useRef"])(new Map),a=r["useState"]([]),u=Object(s["a"])(a,2),c=u[0],l=u[1],f=Object(r["useRef"])(0),p=Object(r["useRef"])(!1),h=function(){p.current||n({})},d=Object(r["useCallback"])((function(e,t){var n=wr(t);o.current.set(n,e),i.current.set(e,n),f.current+=1;var r=f.current;xr((function(){r===f.current&&h()}))}),[]),m=Object(r["useCallback"])((function(e,t){var n=wr(t);o.current["delete"](n),i.current["delete"](e)}),[]),y=Object(r["useCallback"])((function(e){l(e)}),[]),g=Object(r["useCallback"])((function(e,t){var n=i.current.get(e)||"",r=Sr(n);return t&&c.includes(r[0])&&r.unshift(Or),r}),[c]),b=Object(r["useCallback"])((function(e,t){return e.some((function(e){var n=g(e,!0);return n.includes(t)}))}),[g]),x=function(){var e=Object(v["a"])(i.current.keys());return c.length&&e.push(Or),e},_=Object(r["useCallback"])((function(e){var t="".concat(i.current.get(e)).concat(_r),n=new Set;return Object(v["a"])(o.current.keys()).forEach((function(e){e.startsWith(t)&&n.add(o.current.get(e))})),n}),[]);return r["useEffect"]((function(){return function(){p.current=!0}}),[]),{registerPath:d,unregisterPath:m,refreshOverflowKeys:y,isSubPathKey:b,getKeyPath:g,getKeys:x,getSubPathKeys:_}}var kr=[],Cr=function(e){var t,n,i=e.prefixCls,u=void 0===i?"rc-menu":i,f=e.style,h=e.className,d=e.tabIndex,y=void 0===d?0:d,g=e.children,b=e.direction,x=e.id,_=e.mode,w=void 0===_?"vertical":_,S=e.inlineCollapsed,O=e.disabled,E=e.disabledOverflow,k=e.subMenuOpenDelay,C=void 0===k?.1:k,j=e.subMenuCloseDelay,T=void 0===j?.1:j,A=e.forceSubMenuRender,P=e.defaultOpenKeys,M=e.openKeys,I=e.activeKey,L=e.defaultActiveFirst,R=e.selectable,D=void 0===R||R,N=e.multiple,z=void 0!==N&&N,F=e.defaultSelectedKeys,U=e.selectedKeys,V=e.onSelect,H=e.onDeselect,q=e.inlineIndent,G=void 0===q?24:q,W=e.motion,Z=e.defaultMotions,Y=e.triggerSubMenuAction,X=void 0===Y?"hover":Y,K=e.builtinPlacements,J=e.itemIcon,Q=e.expandIcon,$=e.overflowedIndicator,ee=void 0===$?"...":$,te=e.overflowedIndicatorPopupClassName,re=e.getPopupContainer,ie=e.onClick,oe=e.onOpenChange,ae=e.onKeyDown,ue=(e.openAnimation,e.openTransitionName,Object(c["a"])(e,["prefixCls","style","className","tabIndex","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName"])),le=Ee(g,kr),fe=r["useState"](!1),pe=Object(s["a"])(fe,2),de=pe[0],me=pe[1],ve=r["useRef"](),be=br(x),xe="rtl"===b;var _e=r["useMemo"]((function(){return"inline"!==w&&"vertical"!==w||!S?[w,!1]:["vertical",S]}),[w,S]),we=Object(s["a"])(_e,2),Se=we[0],Ce=we[1],je=r["useState"](0),Te=Object(s["a"])(je,2),Ae=Te[0],Pe=Te[1],Me=Ae>=le.length-1||"horizontal"!==Se||E,Ie=m(P,{value:M,postState:function(e){return e||kr}}),Le=Object(s["a"])(Ie,2),Re=Le[0],De=Le[1],Ne=function(e){De(e),null===oe||void 0===oe||oe(e)},ze=r["useState"](Re),Fe=Object(s["a"])(ze,2),Be=Fe[0],Ue=Fe[1],Ve="inline"===Se,He=r["useRef"](!1);r["useEffect"]((function(){Ve&&Ue(Re)}),[Re]),r["useEffect"]((function(){He.current?Ve?De(Be):Ne(kr):He.current=!0}),[Ve]);var qe=Er(),Ge=qe.registerPath,We=qe.unregisterPath,Ze=qe.refreshOverflowKeys,Ye=qe.isSubPathKey,Xe=qe.getKeyPath,Ke=qe.getKeys,Je=qe.getSubPathKeys,Qe=r["useMemo"]((function(){return{registerPath:Ge,unregisterPath:We}}),[Ge,We]),$e=r["useMemo"]((function(){return{isSubPathKey:Ye}}),[Ye]);r["useEffect"]((function(){Ze(Me?kr:le.slice(Ae+1).map((function(e){return e.key})))}),[Ae,Me]);var et=m(I||L&&(null===(t=le[0])||void 0===t?void 0:t.key),{value:I}),tt=Object(s["a"])(et,2),nt=tt[0],rt=tt[1],it=ke((function(e){rt(e)})),ot=ke((function(){rt(void 0)})),at=m(F||[],{value:U,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?kr:[e]}}),st=Object(s["a"])(at,2),ut=st[0],ct=st[1],lt=function(e){if(D){var t,n=e.key,r=ut.includes(n);t=z?r?ut.filter((function(e){return e!==n})):[].concat(Object(v["a"])(ut),[n]):[n],ct(t);var i=Object(l["a"])(Object(l["a"])({},e),{},{selectedKeys:t});r?null===H||void 0===H||H(i):null===V||void 0===V||V(i)}!z&&Re.length&&"inline"!==Se&&Ne(kr)},ft=ke((function(e){null===ie||void 0===ie||ie(ce(e)),lt(e)})),pt=ke((function(e,t){var n=Re.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==Se){var r=Je(e);n=n.filter((function(e){return!r.has(e)}))}B()(Re,n)||Ne(n)})),ht=ke(re),dt=function(e,t){var n=null!==t&&void 0!==t?t:!Re.includes(e);pt(e,n)},mt=vr(Se,nt,xe,be,ve,Ke,Xe,rt,dt,ae);r["useEffect"]((function(){me(!0)}),[]);var vt="horizontal"!==Se||E?le:le.map((function(e,t){return r["createElement"](se,{key:e.key,overflowDisabled:t>Ae},e)})),yt=r["createElement"](ne,Object(o["a"])({id:x,ref:ve,prefixCls:"".concat(u,"-overflow"),component:"ul",itemComponent:Oe,className:p()(u,"".concat(u,"-root"),"".concat(u,"-").concat(Se),h,(n={},Object(a["a"])(n,"".concat(u,"-inline-collapsed"),Ce),Object(a["a"])(n,"".concat(u,"-rtl"),xe),n)),dir:b,style:f,role:"menu",tabIndex:y,data:vt,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?le.slice(-t):null;return r["createElement"](tr,{eventKey:Or,title:ee,disabled:Me,internalPopupClose:0===t,popupClassName:te},n)},maxCount:"horizontal"!==Se||E?ne.INVALIDATE:ne.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Pe(e)},onKeyDown:mt},ue));return r["createElement"](ge.Provider,{value:be},r["createElement"](se,{prefixCls:u,mode:Se,openKeys:Re,rtl:xe,disabled:O,motion:de?W:null,defaultMotions:de?Z:null,activeKey:nt,onActive:it,onInactive:ot,selectedKeys:ut,inlineIndent:G,subMenuOpenDelay:C,subMenuCloseDelay:T,forceSubMenuRender:A,builtinPlacements:K,triggerSubMenuAction:X,getPopupContainer:ht,itemIcon:J,expandIcon:Q,onItemClick:ft,onOpenChange:pt},r["createElement"](ye.Provider,{value:$e},yt),r["createElement"]("div",{style:{display:"none"},"aria-hidden":!0},r["createElement"](he.Provider,{value:Qe},le))))},jr=Cr,Tr=function(e){var t=e.className,n=e.title,i=(e.eventKey,e.children),a=Object(c["a"])(e,["className","title","eventKey","children"]),s=r["useContext"](oe),u=s.prefixCls,l="".concat(u,"-item-group");return r["createElement"]("li",Object(o["a"])({},a,{onClick:function(e){return e.stopPropagation()},className:p()(l,t)}),r["createElement"]("div",{className:"".concat(l,"-title"),title:"string"===typeof n?n:void 0},n),r["createElement"]("ul",{className:"".concat(l,"-list")},i))};function Ar(e){var t=e.children,n=Object(c["a"])(e,["children"]),i=ve(n.eventKey),o=Ee(t,i),a=de();return a?o:r["createElement"](Tr,re(n,["warnKey"]),o)}function Pr(e){var t=e.className,n=e.style,i=r["useContext"](oe),o=i.prefixCls,a=de();return a?null:r["createElement"]("li",{className:p()("".concat(o,"-item-divider"),t),style:n})}var Mr=jr;Mr.Item=Oe,Mr.SubMenu=tr,Mr.ItemGroup=Ar,Mr.Divider=Pr;var Ir=Mr,Lr={adjustX:1,adjustY:1},Rr=[0,0],Dr={topLeft:{points:["bl","tl"],overflow:Lr,offset:[0,-4],targetOffset:Rr},topCenter:{points:["bc","tc"],overflow:Lr,offset:[0,-4],targetOffset:Rr},topRight:{points:["br","tr"],overflow:Lr,offset:[0,-4],targetOffset:Rr},bottomLeft:{points:["tl","bl"],overflow:Lr,offset:[0,4],targetOffset:Rr},bottomCenter:{points:["tc","bc"],overflow:Lr,offset:[0,4],targetOffset:Rr},bottomRight:{points:["tr","br"],overflow:Lr,offset:[0,4],targetOffset:Rr}},Nr=Dr;function zr(e,t){var n=e.arrow,i=void 0!==n&&n,o=e.prefixCls,u=void 0===o?"rc-dropdown":o,l=e.transitionName,f=e.animation,h=e.align,d=e.placement,m=void 0===d?"bottomLeft":d,v=e.placements,y=void 0===v?Nr:v,g=e.getPopupContainer,b=e.showAction,x=e.hideAction,_=e.overlayClassName,w=e.overlayStyle,S=e.visible,O=e.trigger,E=void 0===O?["hover"]:O,k=Object(c["a"])(e,["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"]),C=r["useState"](),j=Object(s["a"])(C,2),T=j[0],A=j[1],P="visible"in e?S:T,M=r["useRef"](null);r["useImperativeHandle"](t,(function(){return M.current}));var I=function(){var t,n=e.overlay;return t="function"===typeof n?n():n,t},L=function(t){var n=e.onOverlayClick,r=I().props;A(!1),n&&n(t),r.onClick&&r.onClick(t)},R=function(t){var n=e.onVisibleChange;A(t),"function"===typeof n&&n(t)},D=function(){var e=I(),t={prefixCls:"".concat(u,"-menu"),onClick:L};return"string"===typeof e.type&&delete t.prefixCls,r["createElement"](r["Fragment"],null,i&&r["createElement"]("div",{className:"".concat(u,"-arrow")}),r["cloneElement"](e,t))},N=function(){var t=e.overlay;return"function"===typeof t?D:D()},z=function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n},F=function(){var t=e.openClassName;return void 0!==t?t:"".concat(u,"-open")},B=function(){var t=e.children,n=t.props?t.props:{},i=p()(n.className,F());return T&&t?r["cloneElement"](t,{className:i}):t},U=x;return U||-1===E.indexOf("contextMenu")||(U=["click"]),r["createElement"](Wn,Object.assign({},k,{prefixCls:u,ref:M,popupClassName:p()(_,Object(a["a"])({},"".concat(u,"-show-arrow"),i)),popupStyle:w,builtinPlacements:y,action:E,showAction:b,hideAction:U||[],popupPlacement:m,popupAlign:h,popupTransitionName:l,popupAnimation:f,popupVisible:P,stretch:z()?"minWidth":"",popup:N(),onPopupVisibleChange:R,getPopupContainer:g}),B())}var Fr=r["forwardRef"](zr),Br=Fr;function Ur(e,t){var n=e.prefixCls,i=e.editable,o=e.locale,a=e.style;return i&&!1!==i.showAdd?r["createElement"]("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:a,"aria-label":(null===o||void 0===o?void 0:o.addAriaLabel)||"Add tab",onClick:function(e){i.onEdit("add",{event:e})}},i.addIcon||"+"):null}var Vr=r["forwardRef"](Ur);function Hr(e,t){var n=e.prefixCls,i=e.id,o=e.tabs,u=e.locale,c=e.mobile,l=e.moreIcon,f=void 0===l?"More":l,h=e.moreTransitionName,d=e.style,m=e.className,v=e.editable,y=e.tabBarGutter,g=e.rtl,b=e.onTabClick,x=Object(r["useState"])(!1),_=Object(s["a"])(x,2),w=_[0],S=_[1],O=Object(r["useState"])(null),E=Object(s["a"])(O,2),k=E[0],C=E[1],j="".concat(i,"-more-popup"),T="".concat(n,"-dropdown"),A=null!==k?"".concat(j,"-").concat(k):null,P=null===u||void 0===u?void 0:u.dropdownAriaLabel,I=r["createElement"](Ir,{onClick:function(e){var t=e.key,n=e.domEvent;b(t,n),S(!1)},id:j,tabIndex:-1,role:"listbox","aria-activedescendant":A,selectedKeys:[k],"aria-label":void 0!==P?P:"expanded dropdown"},o.map((function(e){return r["createElement"](Oe,{key:e.key,id:"".concat(j,"-").concat(e.key),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(e.key),disabled:e.disabled},e.tab)})));function L(e){for(var t=o.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===k}))||0,r=t.length,i=0;i<r;i+=1){n=(n+e+r)%r;var a=t[n];if(!a.disabled)return void C(a.key)}}function R(e){var t=e.which;if(w)switch(t){case M.UP:L(-1),e.preventDefault();break;case M.DOWN:L(1),e.preventDefault();break;case M.ESC:S(!1);break;case M.SPACE:case M.ENTER:null!==k&&b(k,e);break}else[M.DOWN,M.SPACE,M.ENTER].includes(t)&&(S(!0),e.preventDefault())}Object(r["useEffect"])((function(){var e=document.getElementById(A);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[k]),Object(r["useEffect"])((function(){w||C(null)}),[w]);var D=Object(a["a"])({},g?"marginRight":"marginLeft",y);o.length||(D.visibility="hidden",D.order=1);var N=p()(Object(a["a"])({},"".concat(T,"-rtl"),g)),z=c?null:r["createElement"](Br,{prefixCls:T,overlay:I,trigger:["hover"],visible:w,transitionName:h,onVisibleChange:S,overlayClassName:N,mouseEnterDelay:.1,mouseLeaveDelay:.1},r["createElement"]("button",{type:"button",className:"".concat(n,"-nav-more"),style:D,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":j,id:"".concat(i,"-more"),"aria-expanded":w,onKeyDown:R},f));return r["createElement"]("div",{className:p()("".concat(n,"-nav-operations"),m),style:d,ref:t},z,r["createElement"](Vr,{prefixCls:n,locale:u,editable:v}))}var qr=r["forwardRef"](Hr),Gr=Object(r["createContext"])(null),Wr=.1,Zr=.01,Yr=20,Xr=Math.pow(.995,Yr);function Kr(e,t){var n=Object(r["useState"])(),i=Object(s["a"])(n,2),o=i[0],a=i[1],u=Object(r["useState"])(0),c=Object(s["a"])(u,2),l=c[0],f=c[1],p=Object(r["useState"])(0),h=Object(s["a"])(p,2),d=h[0],m=h[1],v=Object(r["useState"])(),y=Object(s["a"])(v,2),g=y[0],b=y[1],x=Object(r["useRef"])();function _(e){var t=e.touches[0],n=t.screenX,r=t.screenY;a({x:n,y:r}),window.clearInterval(x.current)}function w(e){if(o){e.preventDefault();var n=e.touches[0],r=n.screenX,i=n.screenY;a({x:r,y:i});var s=r-o.x,u=i-o.y;t(s,u);var c=Date.now();f(c),m(c-l),b({x:s,y:u})}}function S(){if(o&&(a(null),b(null),g)){var e=g.x/d,n=g.y/d,r=Math.abs(e),i=Math.abs(n);if(Math.max(r,i)<Wr)return;var s=e,u=n;x.current=window.setInterval((function(){Math.abs(s)<Zr&&Math.abs(u)<Zr?window.clearInterval(x.current):(s*=Xr,u*=Xr,t(s*Yr,u*Yr))}),Yr)}}var O=Object(r["useRef"])();function E(e){var n=e.deltaX,r=e.deltaY,i=0,o=Math.abs(n),a=Math.abs(r);o===a?i="x"===O.current?n:r:o>a?(i=n,O.current="x"):(i=r,O.current="y"),t(-i,-i)&&e.preventDefault()}var k=Object(r["useRef"])(null);k.current={onTouchStart:_,onTouchMove:w,onTouchEnd:S,onWheel:E},r["useEffect"]((function(){function t(e){k.current.onTouchStart(e)}function n(e){k.current.onTouchMove(e)}function r(e){k.current.onTouchEnd(e)}function i(e){k.current.onWheel(e)}return document.addEventListener("touchmove",n,{passive:!1}),document.addEventListener("touchend",r,{passive:!1}),e.current.addEventListener("touchstart",t,{passive:!1}),e.current.addEventListener("wheel",i),function(){document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r)}}),[])}function Jr(){var e=Object(r["useRef"])(new Map);function t(t){return e.current.has(t)||e.current.set(t,r["createRef"]()),e.current.get(t)}function n(t){e.current["delete"](t)}return[t,n]}function Qr(e,t){var n=r["useRef"](e),i=r["useState"]({}),o=Object(s["a"])(i,2),a=o[1];function u(e){var r="function"===typeof e?e(n.current):e;r!==n.current&&t(r,n.current),n.current=r,a({})}return[n.current,u]}var $r=function(e){var t,n=e.position,i=e.prefixCls,o=e.extra;if(!o)return null;var a={};return o&&"object"===Object(u["a"])(o)&&!r["isValidElement"](o)?a=o:a.right=o,"right"===n&&(t=a.right),"left"===n&&(t=a.left),t?r["createElement"]("div",{className:"".concat(i,"-extra-content")},t):null};function ei(e,t){var n,i=r["useContext"](Gr),u=i.prefixCls,c=i.tabs,f=e.className,h=e.style,d=e.id,m=e.animated,g=e.activeKey,b=e.rtl,x=e.extra,_=e.editable,w=e.locale,S=e.tabPosition,O=e.tabBarGutter,E=e.children,k=e.onTabClick,C=e.onTabScroll,P=Object(r["useRef"])(),M=Object(r["useRef"])(),I=Object(r["useRef"])(),R=Object(r["useRef"])(),N=Jr(),F=Object(s["a"])(N,2),B=F[0],U=F[1],V="top"===S||"bottom"===S,H=Qr(0,(function(e,t){V&&C&&C({direction:e>t?"left":"right"})})),q=Object(s["a"])(H,2),G=q[0],W=q[1],Z=Qr(0,(function(e,t){!V&&C&&C({direction:e>t?"top":"bottom"})})),Y=Object(s["a"])(Z,2),X=Y[0],K=Y[1],J=Object(r["useState"])(0),Q=Object(s["a"])(J,2),$=Q[0],ee=Q[1],te=Object(r["useState"])(0),ne=Object(s["a"])(te,2),re=ne[0],ie=ne[1],oe=Object(r["useState"])(0),ae=Object(s["a"])(oe,2),se=ae[0],ue=ae[1],ce=Object(r["useState"])(0),le=Object(s["a"])(ce,2),fe=le[0],pe=le[1],he=Object(r["useState"])(null),de=Object(s["a"])(he,2),me=de[0],ve=de[1],ye=Object(r["useState"])(null),ge=Object(s["a"])(ye,2),be=ge[0],xe=ge[1],_e=Object(r["useState"])(0),we=Object(s["a"])(_e,2),Se=we[0],Oe=we[1],Ee=Object(r["useState"])(0),ke=Object(s["a"])(Ee,2),Ce=ke[0],je=ke[1],Te=A(new Map),Ae=Object(s["a"])(Te,2),Pe=Ae[0],Me=Ae[1],Ie=D(c,Pe,$),Le="".concat(u,"-nav-operations-hidden"),Re=0,De=0;function Ne(e){return e<Re?Re:e>De?De:e}V?b?(Re=0,De=Math.max(0,$-me)):(Re=Math.min(0,me-$),De=0):(Re=Math.min(0,be-re),De=0);var ze=Object(r["useRef"])(),Fe=Object(r["useState"])(),Be=Object(s["a"])(Fe,2),Ue=Be[0],Ve=Be[1];function He(){Ve(Date.now())}function qe(){window.clearTimeout(ze.current)}function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=Ie.get(e)||{width:0,height:0,left:0,right:0,top:0};if(V){var n=G;b?t.right<G?n=t.right:t.right+t.width>G+me&&(n=t.right+t.width-me):t.left<-G?n=-t.left:t.left+t.width>-G+me&&(n=-(t.left+t.width-me)),K(0),W(Ne(n))}else{var r=X;t.top<-X?r=-t.top:t.top+t.height>-X+be&&(r=-(t.top+t.height-be)),W(0),K(Ne(r))}}Kr(P,(function(e,t){function n(e,t){e((function(e){var n=Ne(e+t);return n}))}if(V){if(me>=$)return!1;n(W,e)}else{if(be>=re)return!1;n(K,t)}return qe(),He(),!0})),Object(r["useEffect"])((function(){return qe(),Ue&&(ze.current=window.setTimeout((function(){Ve(0)}),100)),qe}),[Ue]);var We=z(Ie,{width:me,height:be,left:G,top:X},{width:se,height:fe},{width:Se,height:Ce},Object(l["a"])(Object(l["a"])({},e),{},{tabs:c})),Ze=Object(s["a"])(We,2),Ye=Ze[0],Xe=Ze[1],Ke={};"top"===S||"bottom"===S?Ke[b?"marginRight":"marginLeft"]=O:Ke.marginTop=O;var Je=c.map((function(e,t){var n=e.key;return r["createElement"](L,{id:d,prefixCls:u,key:n,tab:e,style:0===t?void 0:Ke,closable:e.closable,editable:_,active:n===g,renderWrapper:E,removeAriaLabel:null===w||void 0===w?void 0:w.removeAriaLabel,ref:B(n),onClick:function(e){k(n,e)},onRemove:function(){U(n)},onFocus:function(){Ge(n),He(),P.current&&(b||(P.current.scrollLeft=0),P.current.scrollTop=0)}})})),Qe=T((function(){var e,t,n,r,i,o,a,s,u,l=(null===(e=P.current)||void 0===e?void 0:e.offsetWidth)||0,f=(null===(t=P.current)||void 0===t?void 0:t.offsetHeight)||0,p=(null===(n=R.current)||void 0===n?void 0:n.offsetWidth)||0,h=(null===(r=R.current)||void 0===r?void 0:r.offsetHeight)||0,d=(null===(i=I.current)||void 0===i?void 0:i.offsetWidth)||0,m=(null===(o=I.current)||void 0===o?void 0:o.offsetHeight)||0;ve(l),xe(f),Oe(p),je(h);var v=((null===(a=M.current)||void 0===a?void 0:a.offsetWidth)||0)-p,y=((null===(s=M.current)||void 0===s?void 0:s.offsetHeight)||0)-h;ee(v),ie(y);var g=null===(u=I.current)||void 0===u?void 0:u.className.includes(Le);ue(v-(g?0:d)),pe(y-(g?0:m)),Me((function(){var e=new Map;return c.forEach((function(t){var n=t.key,r=B(n).current;r&&e.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),e}))})),$e=c.slice(0,Ye),et=c.slice(Xe+1),tt=[].concat(Object(v["a"])($e),Object(v["a"])(et)),nt=Object(r["useState"])(),rt=Object(s["a"])(nt,2),it=rt[0],ot=rt[1],at=Ie.get(g),st=Object(r["useRef"])();function ut(){y["a"].cancel(st.current)}Object(r["useEffect"])((function(){var e={};return at&&(V?(b?e.right=at.right:e.left=at.left,e.width=at.width):(e.top=at.top,e.height=at.height)),ut(),st.current=Object(y["a"])((function(){ot(e)})),ut}),[at,V,b]),Object(r["useEffect"])((function(){Ge()}),[g,at,Ie,V]),Object(r["useEffect"])((function(){Qe()}),[b,O,g,c.map((function(e){return e.key})).join("_")]);var ct,lt,ft,pt,ht=!!tt.length,dt="".concat(u,"-nav-wrap");return V?b?(lt=G>0,ct=G+me<$):(ct=G<0,lt=-G+me<$):(ft=X<0,pt=-X+be<re),r["createElement"]("div",{ref:t,role:"tablist",className:p()("".concat(u,"-nav"),f),style:h,onKeyDown:function(){He()}},r["createElement"]($r,{position:"left",extra:x,prefixCls:u}),r["createElement"](j,{onResize:Qe},r["createElement"]("div",{className:p()(dt,(n={},Object(a["a"])(n,"".concat(dt,"-ping-left"),ct),Object(a["a"])(n,"".concat(dt,"-ping-right"),lt),Object(a["a"])(n,"".concat(dt,"-ping-top"),ft),Object(a["a"])(n,"".concat(dt,"-ping-bottom"),pt),n)),ref:P},r["createElement"](j,{onResize:Qe},r["createElement"]("div",{ref:M,className:"".concat(u,"-nav-list"),style:{transform:"translate(".concat(G,"px, ").concat(X,"px)"),transition:Ue?"none":void 0}},Je,r["createElement"](Vr,{ref:R,prefixCls:u,locale:w,editable:_,style:Object(l["a"])(Object(l["a"])({},0===Je.length?void 0:Ke),{},{visibility:ht?"hidden":null})}),r["createElement"]("div",{className:p()("".concat(u,"-ink-bar"),Object(a["a"])({},"".concat(u,"-ink-bar-animated"),m.inkBar)),style:it}))))),r["createElement"](qr,Object(o["a"])({},e,{ref:I,prefixCls:u,tabs:tt,className:!ht&&Le})),r["createElement"]($r,{position:"right",extra:x,prefixCls:u}))}var ti=r["forwardRef"](ei);function ni(e){var t=e.id,n=e.activeKey,i=e.animated,o=e.tabPosition,s=e.rtl,u=e.destroyInactiveTabPane,c=r["useContext"](Gr),l=c.prefixCls,f=c.tabs,h=i.tabPane,d=f.findIndex((function(e){return e.key===n}));return r["createElement"]("div",{className:p()("".concat(l,"-content-holder"))},r["createElement"]("div",{className:p()("".concat(l,"-content"),"".concat(l,"-content-").concat(o),Object(a["a"])({},"".concat(l,"-content-animated"),h)),style:d&&h?Object(a["a"])({},s?"marginRight":"marginLeft","-".concat(d,"00%")):null},f.map((function(e){return r["cloneElement"](e.node,{key:e.key,prefixCls:l,tabKey:e.key,id:t,animated:h,active:e.key===n,destroyInactiveTabPane:u})}))))}function ri(e){var t=e.prefixCls,n=e.forceRender,i=e.className,o=e.style,a=e.id,u=e.active,c=e.animated,f=e.destroyInactiveTabPane,h=e.tabKey,d=e.children,m=r["useState"](n),v=Object(s["a"])(m,2),y=v[0],g=v[1];r["useEffect"]((function(){u?g(!0):f&&g(!1)}),[u,f]);var b={};return u||(c?(b.visibility="hidden",b.height=0,b.overflowY="hidden"):b.display="none"),r["createElement"]("div",{id:a&&"".concat(a,"-panel-").concat(h),role:"tabpanel",tabIndex:u?0:-1,"aria-labelledby":a&&"".concat(a,"-tab-").concat(h),"aria-hidden":!u,style:Object(l["a"])(Object(l["a"])({},b),o),className:p()("".concat(t,"-tabpane"),u&&"".concat(t,"-tabpane-active"),i)},(u||y||n)&&d)}var ii=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll"],oi=0;function ai(e){return Object(h["a"])(e).map((function(e){if(r["isValidElement"](e)){var t=void 0!==e.key?String(e.key):void 0;return Object(l["a"])(Object(l["a"])({key:t},e.props),{},{node:e})}return null})).filter((function(e){return e}))}function si(e,t){var n,i,f=e.id,h=e.prefixCls,v=void 0===h?"rc-tabs":h,y=e.className,g=e.children,b=e.direction,x=e.activeKey,_=e.defaultActiveKey,w=e.editable,S=e.animated,O=void 0===S?{inkBar:!0,tabPane:!1}:S,E=e.tabPosition,k=void 0===E?"top":E,C=e.tabBarGutter,j=e.tabBarStyle,T=e.tabBarExtraContent,A=e.locale,P=e.moreIcon,M=e.moreTransitionName,I=e.destroyInactiveTabPane,L=e.renderTabBar,R=e.onChange,D=e.onTabClick,N=e.onTabScroll,z=Object(c["a"])(e,ii),F=ai(g),B="rtl"===b;i=!1===O?{inkBar:!1,tabPane:!1}:!0===O?{inkBar:!0,tabPane:!0}:Object(l["a"])({inkBar:!0,tabPane:!1},"object"===Object(u["a"])(O)?O:{});var U=Object(r["useState"])(!1),V=Object(s["a"])(U,2),H=V[0],q=V[1];Object(r["useEffect"])((function(){q(d())}),[]);var G=m((function(){var e;return null===(e=F[0])||void 0===e?void 0:e.key}),{value:x,defaultValue:_}),W=Object(s["a"])(G,2),Z=W[0],Y=W[1],X=Object(r["useState"])((function(){return F.findIndex((function(e){return e.key===Z}))})),K=Object(s["a"])(X,2),J=K[0],Q=K[1];Object(r["useEffect"])((function(){var e,t=F.findIndex((function(e){return e.key===Z}));-1===t&&(t=Math.max(0,Math.min(J,F.length-1)),Y(null===(e=F[t])||void 0===e?void 0:e.key));Q(t)}),[F.map((function(e){return e.key})).join("_"),Z,J]);var $=m(null,{value:f}),ee=Object(s["a"])($,2),te=ee[0],ne=ee[1],re=k;function ie(e,t){null===D||void 0===D||D(e,t),Y(e),null===R||void 0===R||R(e)}H&&!["left","right"].includes(k)&&(re="top"),Object(r["useEffect"])((function(){f||(ne("rc-tabs-".concat(oi)),oi+=1)}),[]);var oe,ae={id:te,activeKey:Z,animated:i,tabPosition:re,rtl:B,mobile:H},se=Object(l["a"])(Object(l["a"])({},ae),{},{editable:w,locale:A,moreIcon:P,moreTransitionName:M,tabBarGutter:C,onTabClick:ie,onTabScroll:N,extra:T,style:j,panes:g});return oe=L?L(se,ti):r["createElement"](ti,se),r["createElement"](Gr.Provider,{value:{tabs:F,prefixCls:v}},r["createElement"]("div",Object(o["a"])({ref:t,id:f,className:p()(v,"".concat(v,"-").concat(re),(n={},Object(a["a"])(n,"".concat(v,"-mobile"),H),Object(a["a"])(n,"".concat(v,"-editable"),w),Object(a["a"])(n,"".concat(v,"-rtl"),B),n),y)},z),oe,r["createElement"](ni,Object(o["a"])({destroyInactiveTabPane:I},ae,{animated:i}))))}var ui=r["forwardRef"](si);ui.TabPane=ri;var ci=ui,li=ci,fi=n("9kvl"),pi=n("dEAq"),hi=n("H1Ra");n("RZMt");function di(e,t){return bi(e)||gi(e,t)||vi(e,t)||mi()}function mi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vi(e,t){if(e){if("string"===typeof e)return yi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yi(e,t):void 0}}function yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gi(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function bi(e){if(Array.isArray(e))return e}function xi(e,t){var n,r=null===(n=e.match(/\.(\w+)$/))||void 0===n?void 0:n[1];return r||(r=t.tsx?"tsx":"jsx"),r}var _i=function(e){var t,n,o,a=Object(r["useRef"])(),s=Object(r["useContext"])(pi["context"]),u=s.locale,c=Object(pi["useLocaleProps"])(u,e),l=Object(pi["useDemoUrl"])(c.identifier),f=c.demoUrl||l,p=(null===fi["a"]||void 0===fi["a"]?void 0:fi["a"].location.hash)==="#".concat(c.identifier),h=1===Object.keys(c.sources).length,d=Object(pi["useCodeSandbox"])((null===(t=c.hideActions)||void 0===t?void 0:t.includes("CSB"))?null:c),m=Object(pi["useRiddle"])((null===(n=c.hideActions)||void 0===n?void 0:n.includes("RIDDLE"))?null:c),v=Object(pi["useMotions"])(c.motions||[],a.current),y=di(v,2),g=y[0],b=y[1],x=Object(pi["useCopy"])(),_=di(x,2),w=_[0],S=_[1],O=Object(r["useState"])("_"),E=di(O,2),k=E[0],C=E[1],j=Object(r["useState"])(xi(k,c.sources[k])),T=di(j,2),A=T[0],P=T[1],M=Object(r["useState"])(Boolean(c.defaultShowCode)),I=di(M,2),L=I[0],R=I[1],D=Object(r["useState"])(Math.random()),N=di(D,2),z=N[0],F=N[1],B=c.sources[k][A]||c.sources[k].content,U=Object(pi["useTSPlaygroundUrl"])(u,B),V=Object(r["useRef"])(),H=Object(pi["usePrefersColor"])(),q=di(H,1),G=q[0];function W(e){C(e),P(xi(e,c.sources[e]))}return Object(r["useEffect"])((function(){F(Math.random())}),[G]),i.a.createElement("div",{style:c.style,className:[c.className,"__dumi-default-previewer",p?"__dumi-default-previewer-target":""].filter(Boolean).join(" "),id:c.identifier,"data-debug":c.debug||void 0,"data-iframe":c.iframe||void 0},c.iframe&&i.a.createElement("div",{className:"__dumi-default-previewer-browser-nav"}),i.a.createElement("div",{ref:a,className:"__dumi-default-previewer-demo",style:{transform:c.transform?"translate(0, 0)":void 0,padding:c.compact||c.iframe&&!1!==c.compact?"0":void 0,background:c.background}},c.iframe?i.a.createElement("iframe",{title:"dumi-previewer",style:{height:String(c.iframe).replace(/(\d)$/,"$1px")},key:z,src:f,ref:V}):c.children),i.a.createElement("div",{className:"__dumi-default-previewer-desc","data-title":c.title},c.title&&i.a.createElement(pi["AnchorLink"],{to:"#".concat(c.identifier)},c.title),c.description&&i.a.createElement("div",{dangerouslySetInnerHTML:{__html:c.description}})),i.a.createElement("div",{className:"__dumi-default-previewer-actions"},d&&i.a.createElement("button",{title:"Open demo on CodeSandbox.io",className:"__dumi-default-icon",role:"codesandbox",onClick:d}),m&&i.a.createElement("button",{title:"Open demo on Riddle",className:"__dumi-default-icon",role:"riddle",onClick:m}),c.motions&&i.a.createElement("button",{title:"Execute motions",className:"__dumi-default-icon",role:"motions",disabled:b,onClick:function(){return g()}}),c.iframe&&i.a.createElement("button",{title:"Reload demo iframe page",className:"__dumi-default-icon",role:"refresh",onClick:function(){return F(Math.random())}}),!(null===(o=c.hideActions)||void 0===o?void 0:o.includes("EXTERNAL"))&&i.a.createElement(pi["Link"],{target:"_blank",to:f},i.a.createElement("button",{title:"Open demo in new tab",className:"__dumi-default-icon",role:"open-demo",type:"button"})),i.a.createElement("span",null),i.a.createElement("button",{title:"Copy source code",className:"__dumi-default-icon",role:"copy","data-status":S,onClick:function(){return w(B)}}),"tsx"===A&&L&&i.a.createElement(pi["Link"],{target:"_blank",to:U},i.a.createElement("button",{title:"Get JSX via TypeScript Playground",className:"__dumi-default-icon",role:"change-tsx",type:"button"})),i.a.createElement("button",{title:"Toggle source code panel",className:"__dumi-default-icon".concat(L?" __dumi-default-btn-expand":""),role:"source",type:"button",onClick:function(){return R(!L)}})),L&&i.a.createElement("div",{className:"__dumi-default-previewer-source-wrapper"},!h&&i.a.createElement(li,{className:"__dumi-default-previewer-source-tab",prefixCls:"__dumi-default-tabs",moreIcon:"\xb7\xb7\xb7",defaultActiveKey:k,onChange:W},Object.keys(c.sources).map((function(e){return i.a.createElement(ri,{tab:"_"===e?"index.".concat(xi(e,c.sources[e])):e,key:e})}))),i.a.createElement("div",{className:"__dumi-default-previewer-source"},i.a.createElement(hi["a"],{code:B,lang:A,showCopy:!1}))))};t["default"]=_i},ZzCi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var r=n("xfSm"),i=n("GXnB"),o=n("Ztfv");function a(e){return function(t,n,a){var s=new i.Metadata(r.NAMED_TAG,e);"number"===typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}t.named=a},a1gu:function(e,t,n){var r=n("cDf5")["default"],i=n("PJYZ");function o(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)}e.exports=o,e.exports["default"]=e.exports,e.exports.__esModule=!0},a3WO:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},a5mf:function(e,t,n){var r=n("6ixQ"),i=n("tSXo"),o=n("jtLI"),a=n("YfKC").f,s=n("evbn"),u=n("R/Zn"),c=s("meta"),l=0,f=Object.isExtensible||function(){return!0},p=function(e){a(e,c,{value:{objectID:"O"+ ++l,weakData:{}}})},h=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,c)){if(!f(e))return"F";if(!t)return"E";p(e)}return e[c].objectID},d=function(e,t){if(!o(e,c)){if(!f(e))return!0;if(!t)return!1;p(e)}return e[c].weakData},m=function(e){return u&&v.REQUIRED&&f(e)&&!o(e,c)&&p(e),e},v=e.exports={REQUIRED:!1,fastKey:h,getWeakData:d,onFreeze:m};r[c]=!0},aF1E:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("lSNA"),i=n.n(r);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){var n=t.sourceField,r=t.targetField,i=t.data,o={};return i.forEach((function(e){o[e[n]]=e})),e.dataArray=e.dataArray.map((function(e){var t=e[r];return a(a({},e),o[t])})),e}},aF2d:function(e,t,n){"use strict";var r=n("cT1L"),i=n("7BAe"),o=n("IuhT");e.exports=function(e){var t,n,a,s,u=arguments.length,c=u>1?arguments[1]:void 0;return r(this),t=void 0!==c,t&&r(c),void 0==e?new this:(n=[],t?(a=0,s=i(c,u>2?arguments[2]:void 0,2),o(e,(function(e){n.push(s(e,a++))}))):o(e,n.push,n),new this(n))}},aHGi:function(e,t,n){var r=n("I65O");r("toStringTag")},aI7X:function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,a="[object Function]";e.exports=function(e){var t=this;if("function"!==typeof t||o.call(t)!==a)throw new TypeError(r+t);for(var n,s=i.call(arguments,1),u=function(){if(this instanceof n){var r=t.apply(this,s.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(e,s.concat(i.call(arguments)))},c=Math.max(0,t.length-s.length),l=[],f=0;f<c;f++)l.push("$"+f);if(n=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),t.prototype){var p=function(){};p.prototype=t.prototype,n.prototype=new p,p.prototype=null}return n}},aKVN:function(e,t,n){"use strict";var r=n("f1E4"),i=n("gFfw");e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!==e)}},aKtI:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("cT1L"),s=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{merge:function(e){var t=o(this),n=a(t.set),r=0;while(r<arguments.length)s(arguments[r++],n,t,!0);return t}})},aLaE:function(e,t,n){var r=n("MMxC"),i=n("ls1J"),o=n("f1E4"),a=i.toKey,s=i.set;r({target:"Reflect",stat:!0},{metadata:function(e,t){return function(n,r){s(e,t,o(n),a(r))}}})},aNdP:function(e,t,n){var r=n("MMxC"),i=n("YMoz");r({target:"Math",stat:!0},{scale:i})},aPG5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var r=n("MON2"),i=n("FV85"),o=n("qK8v"),a=n("ujMp"),s=n("cSJO"),u=function(e,t,n){try{return n()}catch(i){throw o.isStackOverflowExeption(i)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):i}},c=function e(t){return function(n){n.parentContext.setCurrentRequest(n);var o=n.bindings,c=n.childRequests,l=n.target&&n.target.isArray(),f=!n.parentRequest||!n.parentRequest.target||!n.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier);if(l&&f)return c.map((function(n){var r=e(t);return r(n)}));var p=null;if(!n.target.isOptional()||0!==o.length){var h=o[0],d=h.scope===i.BindingScopeEnum.Singleton,m=h.scope===i.BindingScopeEnum.Request;if(d&&h.activated)return h.cache;if(m&&null!==t&&t.has(h.id))return t.get(h.id);if(h.type===i.BindingTypeEnum.ConstantValue)p=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Function)p=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Constructor)p=h.implementationType;else if(h.type===i.BindingTypeEnum.DynamicValue&&null!==h.dynamicValue)p=u("toDynamicValue",h.serviceIdentifier,(function(){return h.dynamicValue(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Factory&&null!==h.factory)p=u("toFactory",h.serviceIdentifier,(function(){return h.factory(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Provider&&null!==h.provider)p=u("toProvider",h.serviceIdentifier,(function(){return h.provider(n.parentContext)}));else{if(h.type!==i.BindingTypeEnum.Instance||null===h.implementationType){var v=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+v)}p=s.resolveInstance(h.implementationType,c,e(t))}return"function"===typeof h.onActivation&&(p=h.onActivation(n.parentContext,p)),d&&(h.cache=p,h.activated=!0),m&&null!==t&&!t.has(h.id)&&t.set(h.id,p),p}}};function l(e){var t=c(e.plan.rootRequest.requestScope);return t(e.plan.rootRequest)}t.resolve=l},aRU8:function(e,t,n){var r=n("MMxC"),i=n("ukPv"),o=n("C3pJ"),a=!i.setImmediate||!i.clearImmediate;r({global:!0,bind:!0,enumerable:!0,forced:a},{setImmediate:o.set,clearImmediate:o.clear})},aaB2:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("k1fw"),i=n("8ml+"),o=n("q1tI"),a=n("i8i4"),s=n("45oE");class u extends o["PureComponent"]{constructor(e){super(e),this.el=void 0,this.scene=void 0,this.popup=void 0,this.el=document.createElement("div")}componentDidMount(){var e,t=this.props,n=t.lnglat,o=t.children,a=t.option,s=t.lngLat,u=new i["Popup"](Object(r["a"])(Object(r["a"])({},a),{},{stopPropagation:null===(e=this.props.option)||void 0===e?void 0:e.stopPropagation}));n&&u.setLnglat(n),s&&u.setLnglat(s),o&&u.setDOMContent(this.el),this.popup=u,this.scene.addPopup(u)}componentDidUpdate(e){var t,n,o,a,s,u,c,l=Array.isArray(e.lnglat)?e.lnglat:[null===e||void 0===e||null===(t=e.lnglat)||void 0===t?void 0:t.lng,null===e||void 0===e||null===(n=e.lnglat)||void 0===n?void 0:n.lat],f=Array.isArray(this.props.lnglat)?this.props.lnglat:[null===(o=this.props)||void 0===o||null===(a=o.lnglat)||void 0===a?void 0:a.lng,null===(s=this.props)||void 0===s||null===(u=s.lnglat)||void 0===u?void 0:u.lat],p=l.toString()!==f.toString();p&&(this.popup.remove(),this.popup=new i["Popup"](Object(r["a"])(Object(r["a"])({},this.props.option),{},{stopPropagation:null===(c=this.props.option)||void 0===c?void 0:c.stopPropagation})),this.popup.setLnglat(this.props.lnglat),this.popup.setDOMContent(this.el),this.scene.addPopup(this.popup))}componentWillUnmount(){this.popup.remove()}render(){return o["createElement"](s["a"].Consumer,{},(e=>(e&&(this.scene=e),Object(a["createPortal"])(this.props.children,this.el))))}}},adU4:function(e,t,n){var r=n("y1pI"),i=Array.prototype,o=i.splice;function a(e){var t=this.__data__,n=r(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():o.call(t,n,1),--this.size,!0}e.exports=a},arQb:function(e,t,n){"use strict";var r=n("gFfw"),i=n("YfKC"),o=n("HhvW");e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},asDA:function(e,t){function n(e,t,n,r){var i=-1,o=null==e?0:e.length;r&&o&&(n=e[++i]);while(++i<o)n=t(n,e[i],i,e);return n}e.exports=n},b2z7:function(e,t){var n=/\w*$/;function r(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}e.exports=r},b48C:function(e,t){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},b6st:function(e,t,n){var r=n("ukPv");e.exports=r.Promise},b80T:function(e,t,n){var r=n("UNi/"),i=n("03A+"),o=n("Z0cm"),a=n("DSRE"),s=n("wJg7"),u=n("c6wG"),c=Object.prototype,l=c.hasOwnProperty;function f(e,t){var n=o(e),c=!n&&i(e),f=!n&&!c&&a(e),p=!n&&!c&&!f&&u(e),h=n||c||f||p,d=h?r(e.length,String):[],m=d.length;for(var v in e)!t&&!l.call(e,v)||h&&("length"==v||f&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||d.push(v);return d}e.exports=f},bB6j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={IEventEmitter:Symbol["for"]("IEventEmitter"),ISceneService:Symbol["for"]("ISceneService"),IGlobalConfigService:Symbol["for"]("IGlobalConfigService"),ICameraService:Symbol["for"]("ICameraService"),ICoordinateSystemService:Symbol["for"]("ICoordinateSystemService"),ILayerService:Symbol["for"]("ILayerService"),ILayerMappingService:Symbol["for"]("ILayerMappingService"),ILayerStyleService:Symbol["for"]("ILayerStyleService"),IMapService:Symbol["for"]("IMapService"),IMarkerService:Symbol["for"]("IMarkerService"),IPopupService:Symbol["for"]("PopupService"),IFactoryMapService:Symbol["for"]("Factory<IMapService>"),IRendererService:Symbol["for"]("IRendererService"),IShaderModuleService:Symbol["for"]("IShaderModuleService"),IIconService:Symbol["for"]("IIconService"),IFontService:Symbol["for"]("IFontService"),IInteractionService:Symbol["for"]("IInteractionService"),IPickingService:Symbol["for"]("IPickingService"),IControlService:Symbol["for"]("IControlService"),IStyleAttributeService:Symbol["for"]("IStyleAttributeService"),ILayer:Symbol["for"]("ILayer"),ILayerPlugin:Symbol["for"]("ILayerPlugin"),INormalPass:Symbol["for"]("INormalPass"),IPostProcessor:Symbol["for"]("IPostProcessor"),IPostProcessingPass:Symbol["for"]("IPostProcessingPass"),IFactoryPostProcessingPass:Symbol["for"]("Factory<IPostProcessingPass>"),IFactoryNormalPass:Symbol["for"]("Factory<IFactoryNormalPass>"),IMultiPassRenderer:Symbol["for"]("IMultiPassRenderer"),SceneID:Symbol["for"]("SceneID"),MapConfig:Symbol["for"]("MapConfig")}},bCY9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("LtsZ"),i=new r["Plugin"]({validKeys:["modifyClientRenderOpts","patchRoutes","rootContainer","render","onRouteChange","__mfsu","getInitialState","initialStateConfig","request"]})},"bF+Q":function(e,t,n){var r=n("2kyd"),i=n("5yw/"),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},bIKR:function(e,t,n){var r=n("m0kY"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},bPAU:function(e,t,n){"use strict";var r=n("MMxC"),i=n("uoF6"),o=n("FCfD"),a=n("oa35"),s=n("cT1L"),u=n("f1E4"),c=n("UwrT"),l=n("YON3"),f=n("k/J9"),p=n("lz10"),h=n("MVys"),d=n("2kyd"),m=n("/dTS"),v=n("xH5X"),y=n("1aI8"),g=n("Zcjx"),b=d("matchAll"),x="RegExp String",_=x+" Iterator",w=y.set,S=y.getterFor(_),O=RegExp.prototype,E=O.exec,k="".matchAll,C=!!k&&!h((function(){"a".matchAll(/./)})),j=function(e,t){var n,r=e.exec;if("function"==typeof r){if(n=r.call(e,t),"object"!=typeof n)throw TypeError("Incorrect exec result");return n}return E.call(e,t)},T=i((function(e,t,n,r){w(this,{type:_,regexp:e,string:t,global:n,unicode:r,done:!1})}),x,(function(){var e=S(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,r=j(t,n);return null===r?{value:void 0,done:e.done=!0}:e.global?(""==String(r[0])&&(t.lastIndex=v(n,a(t.lastIndex),e.unicode)),{value:r,done:!1}):(e.done=!0,{value:r,done:!1})})),A=function(e){var t,n,r,i,o,s,c=u(this),l=String(e);return t=m(c,RegExp),n=c.flags,void 0===n&&c instanceof RegExp&&!("flags"in O)&&(n=f.call(c)),r=void 0===n?"":String(n),i=new t(t===RegExp?c.source:c,r),o=!!~r.indexOf("g"),s=!!~r.indexOf("u"),i.lastIndex=a(c.lastIndex),new T(i,l,o,s)};r({target:"String",proto:!0,forced:C},{matchAll:function(e){var t,n,r,i,a=o(this);if(null!=e){if(l(e)&&(t=String(o("flags"in O?e.flags:f.call(e))),!~t.indexOf("g")))throw TypeError("`.matchAll` does not allow non-global regexes");if(C)return k.apply(a,arguments);if(r=e[b],void 0===r&&g&&"RegExp"==c(e)&&(r=A),null!=r)return s(r).call(e,a)}else if(C)return k.apply(a,arguments);return n=String(a),i=new RegExp(e,"g"),g?A.call(i,n):i[b](n)}}),g||b in O||p(O,b,A)},bPkA:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["Normal"]="normal",e["PostProcessing"]="post-processing"}(r||(r={}))},bTtR:function(e,t){},bXwC:function(e,t,n){},bYHP:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=c(n("q1tI")),o=n("LtsZ"),a=s(n("hKI/"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i["default"]=e,n&&n.set(e,i),i}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){return v(e)||m(e,t)||h(e,t)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function v(e){if(Array.isArray(e))return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}var x=new(function(){function e(){y(this,e),this.anchors=[],this.listeners=[],this.listener=void 0,this.listener=(0,a["default"])(this._matchActiveAnchor.bind(this),200)}return b(e,[{key:"_matchActiveAnchor",value:function(){var e=this,t=this.anchors.findIndex((function(t,n){return t.getBoundingClientRect().top>128||n===e.anchors.length-1})),n=this.anchors[Math.max(0,t-1)],r=n.parentElement.id;this.listeners.forEach((function(e){return e(r)}))}},{key:"watch",value:function(e){0===this.anchors.length&&"undefined"!==typeof window&&window.addEventListener("scroll",this.listener),this.anchors.push(e),this.listener()}},{key:"unwatch",value:function(e){this.anchors.splice(this.anchors.findIndex((function(t){return t===e})),1),0===this.anchors.length&&"undefined"!==typeof window&&window.removeEventListener("scroll",this.listener)}},{key:"listen",value:function(e){this.listeners.push(e)}},{key:"unlisten",value:function(e){this.listeners.splice(this.listeners.findIndex((function(t){return t===e})),1)}}]),e}());function _(e){return e.offsetTop+(e.offsetParent?_(e.offsetParent):0)}var w=function e(t){var n,r=(null===(n=t.to.match(/(#[^&?]*)/))||void 0===n?void 0:n[1])||"",a=(0,i.useRef)(null),s=(0,i.useState)(!1),u=f(s,2),c=u[0],p=u[1];return(0,i.useEffect)((function(){var e,t;if(["H1","H2","H3"].includes(null===(e=a.current)||void 0===e||null===(t=e.parentElement)||void 0===t?void 0:t.tagName)&&a.current.parentElement.id){var n=a.current;return x.watch(n),function(){x.unwatch(n)}}var i=function(e){p(r==="#".concat(e))};return x.listen(i),function(){return x.unlisten(i)}}),[]),i["default"].createElement(o.NavLink,l({},t,{ref:a,onClick:function(){return e.scrollToAnchor(r.substring(1))},isActive:function(){return c}}))};w.scrollToAnchor=function(e){window.requestAnimationFrame((function(){var t=document.getElementById(decodeURIComponent(e));t&&window.scrollTo(0,_(t)-100)}))};var S=w;t["default"]=S},bYl4:function(e,t){},bZMm:function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",(function(){return f})),n.d(t,"Request",(function(){return _})),n.d(t,"Response",(function(){return O})),n.d(t,"DOMException",(function(){return k})),n.d(t,"fetch",(function(){return C}));var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof r&&r,i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function o(e){return e&&DataView.prototype.isPrototypeOf(e)}if(i.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!==typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function d(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function m(e){var t=new FileReader,n=h(t);return t.readAsText(e),n}function v(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i.arrayBuffer&&i.blob&&o(e)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=p(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(d)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return m(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=u(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype["delete"]=function(e){delete this.map[u(e)]},f.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},f.prototype.set=function(e,t){this.map[u(e)]=c(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},i.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var n=t.body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=x(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function S(e){var t=new f,n=e.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function O(e,t){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},g.call(_.prototype),g.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},O.error=function(){var e=new O(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];O.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new O(null,{status:t,headers:{location:e}})};var k=r.DOMException;try{new k}catch(j){k=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},k.prototype=Object.create(Error.prototype),k.prototype.constructor=k}function C(e,t){return new Promise((function(n,o){var a=new _(e,t);if(a.signal&&a.signal.aborted)return o(new k("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}function l(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:S(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;setTimeout((function(){n(new O(t,e))}),0)},s.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){o(new k("Aborted","AbortError"))}),0)},s.open(a.method,l(a.url),!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&(i.blob?s.responseType="blob":i.arrayBuffer&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!t||"object"!==typeof t.headers||t.headers instanceof f?a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){s.setRequestHeader(e,c(t.headers[e]))})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}C.polyfill=!0,r.fetch||(r.fetch=C,r.Headers=f,r.Request=_,r.Response=O)},bahg:function(e,t){function n(e){return e.split("")}e.exports=n},bcvT:function(e,t,n){var r=n("ukPv"),i=n("XX5T"),o=n("PHrn"),a=n("lz10");for(var s in i){var u=r[s],c=u&&u.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(l){c.forEach=o}}},bdgK:function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype["delete"]=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i=function(){return"undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),o=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)}}(),a=2;function s(e,t){var n=!1,r=!1,i=0;function s(){n&&(n=!1,e()),r&&c()}function u(){o(s)}function c(){var e=Date.now();if(n){if(e-i<a)return;r=!0}else n=!0,r=!1,setTimeout(u,t);i=e}return c}var u=20,c=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,f=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),u)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=c.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),p=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||i},d=O(0,0,0,0);function m(e){return parseFloat(e)||0}function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){var r=e["border-"+n+"-width"];return t+m(r)}),0)}function y(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var o=i[r],a=e["padding-"+o];n[o]=m(a)}return n}function g(e){var t=e.getBBox();return O(0,0,t.width,t.height)}function b(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=h(e).getComputedStyle(e),i=y(r),o=i.left+i.right,a=i.top+i.bottom,s=m(r.width),u=m(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=v(r,"left","right")+o),Math.round(u+a)!==n&&(u-=v(r,"top","bottom")+a)),!_(e)){var c=Math.round(s+o)-t,l=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return O(i.left,i.top,s,u)}var x=function(){return"undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"===typeof e.getBBox}}();function _(e){return e===h(e).document.documentElement}function w(e){return r?x(e)?g(e):b(e):d}function S(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return p(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}function O(e,t,n,r){return{x:e,y:t,width:n,height:r}}var E=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=O(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=w(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),k=function(){function e(e,t){var n=S(t);p(this,{target:e,contentRect:n})}return e}(),C=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new E(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t["delete"](e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new k(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),j="undefined"!==typeof WeakMap?new WeakMap:new n,T=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=f.getInstance(),r=new C(t,n,this);j.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach((function(e){T.prototype[e]=function(){var t;return(t=j.get(this))[e].apply(t,arguments)}}));var A=function(){return"undefined"!==typeof i.ResizeObserver?i.ResizeObserver:T}();t["a"]=A}).call(this,n("IyRk"))},beRK:function(e,t,n){"use strict";function r(){var e=n("q1tI");return r=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.getDemoUrl=t.getDemoRouteName=void 0;var i=o(n("nLCz"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return f(e)||l(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function f(e){if(Array.isArray(e))return e}function p(){return"BASEMENT"===Object({NODE_ENV:"production"}).PLATFORM_TYPE}var h=function(){return p()?"_demos":"~demos"};t.getDemoRouteName=h;var d=function(e,t){var n,r=window,i=r.location,o=i.href,s=i.origin,u=o.split(/#\//),c=a(u,2),l=c[0],f=c[1],d="string"===typeof f;return[d?"".concat(l,"#"):s,"".concat((null===(n=window)||void 0===n?void 0:n.routerBase)||"","/").replace(/\/\/$/,"/"),h(),"/",e,p()?"/index.html":"".concat(t?".html":"")].join("")};t.getDemoUrl=d;var m=function(e){var t=(0,r().useContext)(i["default"]),n=t.config,o=(0,r().useState)(""),s=a(o,2),u=s[0],c=s[1];return(0,r().useEffect)((function(){c(d(e,n.exportStatic&&n.exportStatic.htmlSuffix))}),[e,n]),u};t["default"]=m},beyn:function(e,t,n){"use strict";var r=n("MMxC"),i=n("mTKU").end,o=n("HKQd"),a=o("trimEnd"),s=a?function(){return i(this)}:"".trimEnd;r({target:"String",proto:!0,forced:a},{trimEnd:s,trimRight:s})},bfL6:function(e,t,n){var r=n("mGKP");function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(u)throw a}}}}e.exports=i},bgtt:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("H1Ra"),s=(n("Rsk4"),n("nKUr"));t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),Object(s["jsx"])(s["Fragment"],{children:Object(s["jsxs"])("div",{className:"markdown",children:[Object(s["jsxs"])("h2",{id:"layer-\u7c7b\u578b",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#layer-\u7c7b\u578b","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Layer \u7c7b\u578b"]}),Object(s["jsx"])("p",{children:"React \u5404\u4e2a\u7ec4\u4ef6\u540d\u79f0\u548c L7 \u540d\u79f0\u4fdd\u6301\u4e00\u81f4"}),Object(s["jsxs"])("ul",{children:[Object(s["jsx"])("li",{children:"PointLayer"}),Object(s["jsx"])("li",{children:"PolygonLayer"}),Object(s["jsx"])("li",{children:"LineLayer"}),Object(s["jsx"])("li",{children:"HeatmapLayer"}),Object(s["jsx"])("li",{children:"RasterLayer"}),Object(s["jsx"])("li",{children:"ImageLayer"}),Object(s["jsx"])("li",{children:"CityBuildingLayer"})]}),Object(s["jsxs"])("h3",{id:"\u4f7f\u7528\u65b9\u5f0f",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u4f7f\u7528\u65b9\u5f0f","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u4f7f\u7528\u65b9\u5f0f"]}),Object(s["jsx"])(a["a"],{code:"import { PointLayer } from '@antv/l7-react';",lang:"jsx"}),Object(s["jsxs"])("h2",{id:"layer-props",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#layer-props","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Layer Props"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"options"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"layer options"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"layer \u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"source"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"sourceOption"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u6570\u636e\u6e90\u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"color"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"attributeOption"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u989c\u8272\u901a\u9053"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"shape"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"attributeOption"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u5f62\u72b6\u5c5e\u6027"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"size"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"attributeOption"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u5927\u5c0f\u5c5e\u6027"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"style"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Object"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u6837\u5f0f"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"scale"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"scale Option"})}),Object(s["jsx"])("td",{children:"\u9ed8\u8ba4\u4f1a\u6570\u503c\u7c7b\u8bbe\u5b9a scale\uff0c\u6570\u503c\u7c7b\u578b linear\uff0c\u5b57\u7b26\u4e32\u7c7b\u578b\u4e3a cat"}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u5ea6\u91cf"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"filter"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Function"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u6570\u636e\u8fc7\u6ee4\u65b9\u6cd5"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"select"}),Object(s["jsxs"])("td",{children:[Object(s["jsx"])("code",{children:"boolean"})," ",Object(s["jsx"])("code",{children:"interaction option"})]}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u9009\u4e2d\u9ad8\u4eae"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"active"}),Object(s["jsxs"])("td",{children:[Object(s["jsx"])("code",{children:"boolean"})," ",Object(s["jsx"])("code",{children:"interaction option"})]}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"false"})}),Object(s["jsx"])("td",{children:"\u56fe\u5c42 hover \u9ad8\u4eae"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"animate"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"animate Option"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u52a8\u753b\u914d\u7f6e"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"onLayerLoaded"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Function"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u6dfb\u52a0\u5b8c\u6210\u540e\u56de\u8c03\uff0c\u7528\u4e8e\u83b7\u53d6 layer \u5bf9\u8c61"})]})]})]}),Object(s["jsxs"])("h3",{id:"layer-options",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#layer-options","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"layer options"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"name"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u540d\u5b57\uff0c\u53ef\u6839\u636e\u540d\u79f0\u83b7\u53d6 layer"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"visible"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"boolean"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"true"})}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u662f\u5426\u53ef\u89c1"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"zIndex"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"0"}),Object(s["jsx"])("td",{children:"\u56fe\u5c42\u7ed8\u5236\u987a\u5e8f\uff0c"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"minZoom"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"0"}),Object(s["jsx"])("td",{children:"\u8bbe\u7f6e layer \u6700\u5c0f\u53ef\u89c1\u7b49\u7ea7\uff0c\u5c0f\u4e8e\u5219\u4e0d\u663e\u793a"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"maxZoom"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"\u4e0e map \u6700\u5927\u7f29\u653e\u7b49\u7ea7\u4e00\u81f4"}),Object(s["jsx"])("td",{children:"\u8bbe\u7f6e layerd \u7684\u6700\u5927\u53ef\u89c1\u7b49\u7ea7\uff0c\u5927\u4e8e\u5219\u4e0d\u663e\u793a"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"aotoFit"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"boolean"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"false"})}),Object(s["jsx"])("td",{children:"\u662f\u5426\u7f29\u653e\u5230\u56fe\u5c42\u8303\u56f4"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"blend"}),Object(s["jsx"])("td",{children:"'string'"}),Object(s["jsx"])("td",{children:"'normal'"}),Object(s["jsxs"])("td",{children:["\u56fe\u5c42\u5143\u7d20\u6df7\u5408\u6548\u679c ",Object(s["jsx"])(o["AnchorLink"],{to:"../layer/layer/#blend",children:"\u8be6\u60c5"})]})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"pickingBuffer"}),Object(s["jsx"])("td",{children:"'number'"}),Object(s["jsx"])("td",{children:"'0'"}),Object(s["jsxs"])("td",{children:["\u56fe\u5c42\u62fe\u53d6\u7f13\u5b58\u673a\u5236\uff0c\u5982 1px \u5bbd\u5ea6\u7684\u7ebf\u9f20\u6807\u5f88\u96be\u62fe\u53d6(\u70b9\u51fb)\u5230, \u901a\u8fc7\u8bbe\u7f6e\u8be5\u53c2\u6570\u53ef\u6269\u5927\u62fe\u53d6\u7684\u8303\u56f4 ","{","number","}"," default 0"]})]})]})]}),Object(s["jsxs"])("h3",{id:"attribute-option",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#attribute-option","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"attribute Option"]}),Object(s["jsx"])("p",{children:"color, size, shape \u7b49\u56fe\u5f62\u6620\u5c04\u901a\u9053\uff0c\u901a\u8fc7\u4e0b\u9762\u53c2\u6570\u914d\u7f6e"}),Object(s["jsxs"])("ul",{children:[Object(s["jsx"])("li",{children:"field \u6620\u5c04\u5b57\u6bb5\uff0c\u5982\u679c\u662f\u5e38\u91cf\u8bbe\u7f6e\u4e3a null"}),Object(s["jsx"])("li",{children:"values \u6620\u5c04\u503c \u652f\u6301 \u5e38\u91cf\uff0c\u6570\u7ec4\uff0c\u56de\u8c03\u51fd\u6570\uff0c\u5982\u679c values \u4e3a\u6570\u7ec4\u6216\u56de\u8c03\u9700\u8981\u8bbe\u7f6e field \u5b57\u6bb5"})]}),Object(s["jsxs"])("p",{children:["\u8be6\u7ec6",Object(s["jsx"])(o["AnchorLink"],{to:"../layer/layer/#size",children:"\u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("h3",{id:"source-option",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#source-option","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"source Option"]}),Object(s["jsx"])("p",{children:"\u6570\u636e\u6e90\u914d\u7f6e\u9879"}),Object(s["jsxs"])("ul",{children:[Object(s["jsx"])("li",{children:"data \u652f\u6301 geojson\u3001csv\u3001json"}),Object(s["jsx"])("li",{children:"parser \u6570\u636e\u89e3\u6790\u914d\u7f6e\u9879"}),Object(s["jsx"])("li",{children:"transforms \u6570\u636e\u5904\u7406\u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("p",{children:["\u8be6\u7ec6",Object(s["jsx"])(o["AnchorLink"],{to:"../source/source/#parser-1",children:"\u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("h3",{id:"scale-option",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#scale-option","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"scale Option"]}),Object(s["jsx"])("p",{children:"\u5ea6\u91cf\u914d\u7f6e\u9879"}),Object(s["jsx"])("ul",{children:Object(s["jsx"])("li",{children:"values scaleCfg"})}),Object(s["jsx"])("p",{children:Object(s["jsx"])("strong",{children:"scaleCfg"})}),Object(s["jsxs"])("ul",{children:[Object(s["jsx"])("li",{children:"key \u4e3a\u5b57\u6bb5\u540d fieldname | attributeName"}),Object(s["jsx"])("li",{children:"value scale \u914d\u7f6e\u9879"})]}),Object(s["jsx"])(a["a"],{code:"const scales = {\n  values: {\n    name: {\n      type: 'cat',\n    },\n  },\n};",lang:"javascript"}),Object(s["jsxs"])("h3",{id:"interaction-option",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#interaction-option","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"interaction option"]}),Object(s["jsx"])("p",{children:"active\uff0cselect \u914d\u7f6e\u9879"}),Object(s["jsx"])("p",{children:Object(s["jsx"])("strong",{children:"option"})}),Object(s["jsx"])("ul",{children:Object(s["jsx"])("li",{children:"color \u8bbe\u7f6e\u4ea4\u4e92\u7684\u989c\u8272\uff0c\u6307\u6ed1\u8fc7\u6216\u8005\u9009\u4e2d\u7684"})}),Object(s["jsxs"])("h3",{id:"\u83b7\u53d6-layer-\u5bf9\u8c61",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u83b7\u53d6-layer-\u5bf9\u8c61","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u83b7\u53d6 layer \u5bf9\u8c61"]}),Object(s["jsxs"])("h4",{id:"onlayerloaded",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#onlayerloaded","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"onLayerLoaded"]}),Object(s["jsx"])("p",{children:"\u56de\u8c03\u51fd\u6570\u83b7\u53d6 layer, scene \u5bf9\u8c61"}),Object(s["jsx"])(a["a"],{code:"onLayerLoaded = (layer, scene) => {};",lang:"javascript"}),Object(s["jsxs"])("h4",{id:"context-api",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#context-api","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Context API"]}),Object(s["jsx"])(a["a"],{code:"import { LayerContext } from '@antv/l7-react';\n<LayerContext.Consumer>\n  {(layer, scene) => {\n    // use `scene` here\n  }}\n</LayerContext.Consumer>;",lang:"jsx"}),Object(s["jsxs"])("h3",{id:"layer-\u793a\u4f8b",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#layer-\u793a\u4f8b","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Layer \u793a\u4f8b"]}),Object(s["jsx"])(a["a"],{code:"import { PolygonLayer } from '@antv/l7-react';\n<PolygonLayer\n  key={'2'}\n  source={{\n    data,\n  }}\n  color={{\n    field: 'name',\n    values: ['#2E8AE6', '#69D1AB', '#DAF291', '#FFD591', '#FF7A45', '#CF1D49'],\n  }}\n  shape={{\n    values: 'fill',\n  }}\n  style={{\n    opacity: 1,\n  }}\n  active={{\n    option: {\n      color: 'red',\n    },\n  }}\n/>;",lang:"jsx"}),Object(s["jsxs"])("h2",{id:"\u5b50\u7ec4\u4ef6",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u5b50\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u5b50\u7ec4\u4ef6"]}),Object(s["jsxs"])("h3",{id:"\u4e8b\u4ef6\u7ec4\u4ef6",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u4e8b\u4ef6\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u4e8b\u4ef6\u7ec4\u4ef6"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"type"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsxs"])("td",{children:["\u4e8b\u4ef6\u7c7b\u578b ",Object(s["jsx"])(o["AnchorLink"],{to:"../layer/layer/#%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6",children:"\u8be6\u60c5"})]})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"handler"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Function"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"layer \u56de\u8c03\u51fd\u6570"})]})]})]}),Object(s["jsxs"])("h3",{id:"\u793a\u4f8b",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u793a\u4f8b","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u793a\u4f8b"]}),Object(s["jsx"])(a["a"],{code:'import { LayerEvent, PolygonLayer } from \'@antv/l7-react\';\n<PolygonLayer>\n  <LayerEvent type="click" handler={() => {}} />\n  <LayerEvent type="mousemove" handler={() => {}} />\n</PolygonLayer>;',lang:"jsx"})]})}))},bl9R:function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return i})),n.d(t,"clone",(function(){return o})),n.d(t,"fromValues",(function(){return a})),n.d(t,"copy",(function(){return s})),n.d(t,"set",(function(){return u})),n.d(t,"add",(function(){return c})),n.d(t,"subtract",(function(){return l})),n.d(t,"multiply",(function(){return f})),n.d(t,"divide",(function(){return p})),n.d(t,"ceil",(function(){return h})),n.d(t,"floor",(function(){return d})),n.d(t,"min",(function(){return m})),n.d(t,"max",(function(){return v})),n.d(t,"round",(function(){return y})),n.d(t,"scale",(function(){return g})),n.d(t,"scaleAndAdd",(function(){return b})),n.d(t,"distance",(function(){return x})),n.d(t,"squaredDistance",(function(){return _})),n.d(t,"length",(function(){return w})),n.d(t,"squaredLength",(function(){return S})),n.d(t,"negate",(function(){return O})),n.d(t,"inverse",(function(){return E})),n.d(t,"normalize",(function(){return k})),n.d(t,"dot",(function(){return C})),n.d(t,"cross",(function(){return j})),n.d(t,"lerp",(function(){return T})),n.d(t,"random",(function(){return A})),n.d(t,"transformMat4",(function(){return P})),n.d(t,"transformQuat",(function(){return M})),n.d(t,"zero",(function(){return I})),n.d(t,"str",(function(){return L})),n.d(t,"exactEquals",(function(){return R})),n.d(t,"equals",(function(){return D})),n.d(t,"sub",(function(){return N})),n.d(t,"mul",(function(){return z})),n.d(t,"div",(function(){return F})),n.d(t,"dist",(function(){return B})),n.d(t,"sqrDist",(function(){return U})),n.d(t,"len",(function(){return V})),n.d(t,"sqrLen",(function(){return H})),n.d(t,"forEach",(function(){return q}));var r=n("yU0y");function i(){var e=new r["a"](4);return r["a"]!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function o(e){var t=new r["a"](4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function a(e,t,n,i){var o=new r["a"](4);return o[0]=e,o[1]=t,o[2]=n,o[3]=i,o}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function u(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function c(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function l(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function f(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function p(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function h(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function d(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function m(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function v(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function y(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function g(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function b(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}function x(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.hypot(n,r,i,o)}function _(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return n*n+r*r+i*i+o*o}function w(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.hypot(t,n,r,i)}function S(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function O(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function E(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function k(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a,e}function C(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function j(e,t,n,r){var i=n[0]*r[1]-n[1]*r[0],o=n[0]*r[2]-n[2]*r[0],a=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],u=n[1]*r[3]-n[3]*r[1],c=n[2]*r[3]-n[3]*r[2],l=t[0],f=t[1],p=t[2],h=t[3];return e[0]=f*c-p*u+h*s,e[1]=-l*c+p*a-h*o,e[2]=l*u-f*a+h*i,e[3]=-l*s+f*o-p*i,e}function T(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e[3]=s+r*(n[3]-s),e}function A(e,t){var n,i,o,a,s,u;t=t||1;do{n=2*r["c"]()-1,i=2*r["c"]()-1,s=n*n+i*i}while(s>=1);do{o=2*r["c"]()-1,a=2*r["c"]()-1,u=o*o+a*a}while(u>=1);var c=Math.sqrt((1-s)/u);return e[0]=t*n,e[1]=t*i,e[2]=t*o*c,e[3]=t*a*c,e}function P(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}function M(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2],c=n[3],l=c*r+s*o-u*i,f=c*i+u*r-a*o,p=c*o+a*i-s*r,h=-a*r-s*i-u*o;return e[0]=l*c+h*-a+f*-u-p*-s,e[1]=f*c+h*-s+p*-a-l*-u,e[2]=p*c+h*-u+l*-s-f*-a,e[3]=t[3],e}function I(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function L(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function R(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function D(e,t){var n=e[0],i=e[1],o=e[2],a=e[3],s=t[0],u=t[1],c=t[2],l=t[3];return Math.abs(n-s)<=r["b"]*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=r["b"]*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=r["b"]*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-l)<=r["b"]*Math.max(1,Math.abs(a),Math.abs(l))}var N=l,z=f,F=p,B=x,U=_,V=w,H=S,q=function(){var e=i();return function(t,n,r,i,o,a){var s,u;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}()},bmMU:function(e,t){var n="undefined"!==typeof Element,r="function"===typeof Map,i="function"===typeof Set,o="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var s,u,c,l;if(Array.isArray(e)){if(s=e.length,s!=t.length)return!1;for(u=s;0!==u--;)if(!a(e[u],t[u]))return!1;return!0}if(r&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;l=e.entries();while(!(u=l.next()).done)if(!t.has(u.value[0]))return!1;l=e.entries();while(!(u=l.next()).done)if(!a(u.value[1],t.get(u.value[0])))return!1;return!0}if(i&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;l=e.entries();while(!(u=l.next()).done)if(!t.has(u.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(s=e.length,s!=t.length)return!1;for(u=s;0!==u--;)if(e[u]!==t[u])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(c=Object.keys(e),s=c.length,s!==Object.keys(t).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(t,c[u]))return!1;if(n&&e instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!e.$$typeof)&&!a(e[c[u]],t[c[u]]))return!1;return!0}return e!==e&&t!==t}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},bwJD:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},bzyH:function(e,t){},"c+Xe":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n("U8pU"),i=n("TOwV");function o(e,t){"function"===typeof e?e(t):"object"===Object(r["a"])(e)&&e&&"current"in e&&(e.current=t)}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){o(t,e)}))}}function s(e){var t,n,r=Object(i["isMemo"])(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}},c0go:function(e,t,n){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),o=0;o<r.length;o++){var a=r[o],s=e[a];(i?-1!==t.indexOf(a):t(a,s,e))&&(n[a]=s)}return n}},c6wG:function(e,t,n){var r=n("dD9F"),i=n("sEf8"),o=n("mdPL"),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},cC5k:function(e,t,n){var r=n("29mP"),i=n("uGHk"),o=n("kyO0"),a=n("f1E4");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},cDf5:function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},cIOH:function(e,t,n){},cSJO:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var i=n("MON2"),o=n("FV85"),a=n("xfSm");function s(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(t,n){var r="";r=t.target.name.value();var o=i[n];e[r]=o})),e}function u(e,t){return new(e.bind.apply(e,r([void 0],t)))}function c(e,t){if(Reflect.hasMetadata(a.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,e);try{t[n.value]()}catch(r){throw new Error(i.POST_CONSTRUCT_ERROR(e.name,r.message))}}}function l(e,t,n){var r=null;if(t.length>0){var i=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ConstructorArgument})),a=i.map(n);r=u(e,a),r=s(r,t,n)}else r=new e;return c(e,r),r}t.resolveInstance=l},cT1L:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},cTDu:function(e,t,n){var r=n("FCfD");e.exports=function(e){return Object(r(e))}},cZ5Q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n("MON2"),i=n("xfSm");function o(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}t.injectable=o},cZlC:function(e,t,n){"use strict";var r,i,o;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),function(e){e["LINEAR"]="linear",e["POWER"]="power",e["LOG"]="log",e["IDENTITY"]="identity",e["TIME"]="time",e["QUANTILE"]="quantile",e["QUANTIZE"]="quantize",e["THRESHOLD"]="threshold",e["CAT"]="cat"}(r||(r={})),function(e){e["CONSTANT"]="constant",e["VARIABLE"]="variable"}(i||(i={})),function(e){e[e["Attribute"]=0]="Attribute",e[e["InstancedAttribute"]=1]="InstancedAttribute",e[e["Uniform"]=2]="Uniform"}(o||(o={}))},"cq/+":function(e,t,n){var r=n("mc0g"),i=r();e.exports=i},"cr+I":function(e,t,n){"use strict";var r=n("5wUe"),i=n("bfL6"),o=n("R5yR"),a=n("ZFOp"),s=n("8jRI"),u=n("8yz6"),c=n("c0go"),l=function(e){return null===e||void 0===e};function f(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[d(t,e),"[",i,"]"].join("")]:[[d(t,e),"[",d(i,e),"]=",d(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[d(t,e),"[]"].join("")]:[[d(t,e),"[]=",d(r,e)].join("")])}};case"comma":case"separator":return function(t){return function(n,r){return null===r||void 0===r||0===r.length?n:0===n.length?[[d(t,e),"=",d(r,e)].join("")]:[[n,d(r,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[d(t,e)]:[[d(t,e),"=",d(r,e)].join("")])}}}}function p(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return function(t,n,r){var i="string"===typeof n&&n.includes(e.arrayFormatSeparator),o="string"===typeof n&&!i&&m(n,e).includes(e.arrayFormatSeparator);n=o?m(n,e):n;var a=i||o?n.split(e.arrayFormatSeparator).map((function(t){return m(t,e)})):null===n?n:m(n,e);r[t]=a};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}function h(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function d(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}function m(e,t){return t.decode?s(e):e}function v(e){return Array.isArray(e)?e.sort():"object"===typeof e?v(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function y(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function g(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}function b(e){e=y(e);var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function x(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function _(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),h(t.arrayFormatSeparator);var n=p(t),o=Object.create(null);if("string"!==typeof e)return o;if(e=e.trim().replace(/^[?#&]/,""),!e)return o;var a,s=i(e.split("&"));try{for(s.s();!(a=s.n()).done;){var c=a.value;if(""!==c){var l=u(t.decode?c.replace(/\+/g," "):c,"="),f=r(l,2),d=f[0],y=f[1];y=void 0===y?null:["comma","separator"].includes(t.arrayFormat)?y:m(y,t),n(m(d,t),y,o)}}}catch(k){s.e(k)}finally{s.f()}for(var g=0,b=Object.keys(o);g<b.length;g++){var _=b[g],w=o[_];if("object"===typeof w&&null!==w)for(var S=0,O=Object.keys(w);S<O.length;S++){var E=O[S];w[E]=x(w[E],t)}else o[_]=x(w,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((function(e,t){var n=o[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=v(n):e[t]=n,e}),Object.create(null))}t.extract=b,t.parse=_,t.stringify=function(e,t){if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),h(t.arrayFormatSeparator);for(var n=function(n){return t.skipNull&&l(e[n])||t.skipEmptyString&&""===e[n]},r=f(t),i={},o=0,a=Object.keys(e);o<a.length;o++){var s=a[o];n(s)||(i[s]=e[s])}var u=Object.keys(i);return!1!==t.sort&&u.sort(t.sort),u.map((function(n){var i=e[n];return void 0===i?"":null===i?d(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):d(n,t)+"="+d(i,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=u(e,"#"),i=r(n,2),o=i[0],a=i[1];return Object.assign({url:o.split("?")[0]||"",query:_(b(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:m(a,t)}:{})},t.stringifyUrl=function(e,n){n=Object.assign({encode:!0,strict:!0},n);var r=y(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query),s=t.stringify(a,n);s&&(s="?".concat(s));var u=g(e.url);return e.fragmentIdentifier&&(u="#".concat(d(e.fragmentIdentifier,n))),"".concat(r).concat(s).concat(u)},t.pick=function(e,n,r){r=Object.assign({parseFragmentIdentifier:!0},r);var i=t.parseUrl(e,r),o=i.url,a=i.query,s=i.fragmentIdentifier;return t.stringifyUrl({url:o,query:c(a,n),fragmentIdentifier:s},r)},t.exclude=function(e,n,r){var i=Array.isArray(n)?function(e){return!n.includes(e)}:function(e,t){return!n(e,t)};return t.pick(e,i,r)}},cs7w:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("H1Ra"),s=(n("Rsk4"),n("nKUr"));t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),Object(s["jsx"])(s["Fragment"],{children:Object(s["jsxs"])("div",{className:"markdown",children:[Object(s["jsxs"])("h2",{id:"popup-props",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#popup-props","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Popup Props"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"option"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"popup \u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"lnglat"}),Object(s["jsx"])("td",{children:"`Array"}),Object(s["jsx"])("td",{children:"Object`"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"children"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"React.ReactNode"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"\u5b50\u7ec4\u4ef6"})]})]})]}),Object(s["jsxs"])("h3",{id:"option",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#option","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"option"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"closeButton"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"true"})}),Object(s["jsx"])("td",{children:"\u662f\u5426\u663e\u793a\u5173\u95ed\u6309\u94ae"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"closeOnClick"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"blue"})}),Object(s["jsx"])("td",{children:"\u70b9\u51fb\u662f\u5426\u5173\u95ed popup"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"anchor"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"center, top, top-left, top-right, bottom, bottom-left,bottom-right,left, right"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"offsets"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Array[x,y]"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"popup \u4f4d\u7f6e\u504f\u79fb"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"className"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"\u6837\u5f0f\u540d\u79f0"})]})]})]}),Object(s["jsx"])(a["a"],{code:"import { Popup } from '@antv/l7-react';\n\n<Popup\n  option={{\n    closeOnClick: false, // \u5982\u679cPopup\u5185\u9700\u8981\u54cd\u5e94Dom\u4e8b\u4ef6\u9700\u8bbe\u7f6e\u6210false,\u5426\u5219\u4e8b\u4ef6\u4e0d\u751f\u6548\n  }}\n  lnglat={[]}\n/>;",lang:"jsx"}),Object(s["jsx"])("p",{children:Object(s["jsx"])(o["AnchorLink"],{to:"../../../examples/react/covid#covid_bubble",children:"popup \u4f7f\u7528\u5b8c\u6574 demo"})})]})}))},cvCv:function(e,t){function n(e){return function(){return e}}e.exports=n},"d/5L":function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("+X1D");r({target:"WeakMap",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},d0Wm:function(e,t,n){"use strict";var r=n("k1fw"),i=n("PpiC"),o=n("8ml+"),a=n("q1tI"),s=n.n(a),u=n("45oE");t["a"]=s.a.memo((function(e){var t=Object(u["b"])(),n=Object(a["useRef"])(),s=e.type,c=e.position,l=Object(i["a"])(e,["type","position"]);return Object(a["useEffect"])((()=>{var e;switch(s){case"scale":e=new o["Scale"]({position:c||"bottomright"});break;case"zoom":e=new o["Zoom"](Object(r["a"])({position:c||"topright"},l));break;case"logo":e=new o["Logo"](Object(r["a"])({position:c||"bottomleft"},l));case"layer":e=new o["Layers"](Object(r["a"])({position:c||"bottomleft"},l))}return n.current=e,t.addControl(e),()=>{n.current=void 0,t.removeControl(e)}}),[s]),Object(a["useEffect"])((()=>{n.current&&n.current.setPosition(c||"bottomleft")}),[c]),null}))},d4sm:function(e,t,n){"use strict";n.r(t);var r=n("9og8"),i=n("WmNS"),o=n.n(i),a=n("q1tI"),s=n.n(a),u=n("/7QA"),c=n("0iz5"),l=n("nKUr");function f(e){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(o.a.mark((function e(t){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}var h={world:"https://gw.alipayobjects.com/os/bmw-prod/79143b04-5fab-4d24-8cce-80b818a3d189.json",grid:"https://gw.alipayobjects.com/os/bmw-prod/8990e8b4-c58e-419b-afb9-8ea3daff2dd1.json"};t["default"]=()=>{var e,t,n=Object(c["a"])(f,{manual:!0,fetchKey:e=>e}),r=n.run,i=n.fetches;return s.a.useEffect((()=>{r(h.world),r(h.grid)}),[]),Object(l["jsxs"])(u["MapScene"],{map:{pitch:0,style:"light",zoom:2,center:[112,30]},style:{height:"400px",position:"relative",background:"#011030"},children:[!1===(null===(e=i[h.grid])||void 0===e?void 0:e.loading)&&Object(l["jsx"])(u["HeatmapLayer"],{source:{data:i[h.grid].data,transforms:[{type:"hexagon",size:5e5,field:"capacity",method:"sum"}]},color:{values:"#132953"},shape:{values:"circle"},style:{coverage:.5,angle:.3,opacity:.8}},"2"),!1===(null===(t=i[h.world])||void 0===t?void 0:t.loading)&&Object(l["jsx"])(u["PolygonLayer"],{options:{autoFit:!0},source:{data:i[h.world].data},active:!1,size:{values:.6},color:{values:"#274A91"},shape:{values:"line"},style:{opacity:.6}},"1"),Object(l["jsx"])(u["Control"],{type:"scale",position:"bottomright"}),Object(l["jsx"])(u["Control"],{type:"zoom",position:"bottomleft"})]})}},d9O0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var r=0;function i(){return r++}t.id=i},dD9F:function(e,t,n){var r=n("NykK"),i=n("shjB"),o=n("ExA7"),a="[object Arguments]",s="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",f="[object Function]",p="[object Map]",h="[object Number]",d="[object Object]",m="[object RegExp]",v="[object Set]",y="[object String]",g="[object WeakMap]",b="[object ArrayBuffer]",x="[object DataView]",_="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",O="[object Int16Array]",E="[object Int32Array]",k="[object Uint8Array]",C="[object Uint8ClampedArray]",j="[object Uint16Array]",T="[object Uint32Array]",A={};function P(e){return o(e)&&i(e.length)&&!!A[r(e)]}A[_]=A[w]=A[S]=A[O]=A[E]=A[k]=A[C]=A[j]=A[T]=!0,A[a]=A[s]=A[b]=A[u]=A[x]=A[c]=A[l]=A[f]=A[p]=A[h]=A[d]=A[m]=A[v]=A[y]=A[g]=!1,e.exports=P},dEAq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"context",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(t,"NavLink",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(t,"AnchorLink",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(t,"useSearch",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(t,"useCopy",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(t,"useRiddle",{enumerable:!0,get:function(){return c["default"]}}),Object.defineProperty(t,"useMotions",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(t,"useCodeSandbox",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(t,"useLocaleProps",{enumerable:!0,get:function(){return p["default"]}}),Object.defineProperty(t,"useDemoUrl",{enumerable:!0,get:function(){return h["default"]}}),Object.defineProperty(t,"useApiData",{enumerable:!0,get:function(){return d["default"]}}),Object.defineProperty(t,"useTSPlaygroundUrl",{enumerable:!0,get:function(){return m["default"]}}),Object.defineProperty(t,"usePrefersColor",{enumerable:!0,get:function(){return v["default"]}});var r=y(n("nLCz")),i=y(n("zqmC")),o=y(n("6asN")),a=y(n("bYHP")),s=y(n("t/kZ")),u=y(n("dfPH")),c=y(n("o0kM")),l=y(n("zYLY")),f=y(n("r1Q5")),p=y(n("U/TZ")),h=y(n("beRK")),d=y(n("3QDa")),m=y(n("7sf/")),v=y(n("2N97"));function y(e){return e&&e.__esModule?e:{default:e}}},dI71:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("s4An");function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r["a"])(e,t)}},dLjG:function(e,t,n){var r=n("MMxC"),i=n("1H91"),o=n("GPrf"),a=!o((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:a},{from:i})},dQpi:function(e,t,n){var r=n("yGk4"),i=n("vN+2"),o=n("rEGp"),a=1/0,s=r&&1/o(new r([,-0]))[1]==a?function(e){return new r(e)}:i;e.exports=s},dTAl:function(e,t,n){var r=n("GoyQ"),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},dVn5:function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function r(e){return e.match(n)||[]}e.exports=r},dX1H:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var r=n("xfSm"),i=n("d9O0"),o=n("GXnB"),a=n("zxMA"),s=function(){function e(e,t,n,s){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new a.QueryableString(t||""),this.metadata=new Array;var u=null;"string"===typeof s?u=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(u=s),null!==u&&this.metadata.push(u)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){var r=n[t];if(r.key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===r.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}();t.Target=s},dagG:function(e,t,n){var r=n("UwrT"),i=n("NcLc");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},dfPH:function(e,t,n){"use strict";function r(){var e=n("q1tI");return r=function(){return e},e}function i(){var e=o(n("WWur"));return i=function(){return e},e}function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return f(e)||l(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function f(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var p=function(){var e=(0,r().useState)(),t=a(e,2),n=t[0],o=t[1],s=(0,r().useState)("ready"),u=a(s,2),c=u[0],l=u[1],f=(0,r().useCallback)((function(e){(0,i()["default"])(e),l("copied"),clearTimeout(n),o(setTimeout((function(){l("ready")}),2e3))}),[]);return[f,c]};t["default"]=p},dnEI:function(e,t,n){var r=n("ukPv");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},dnZx:function(e,t,n){"use strict";n("KvPC");var r,i=n("MMxC"),o=n("tny8"),a=n("lgSf"),s=n("ukPv"),u=n("HctQ"),c=n("NMFW"),l=n("igoe"),f=n("jtLI"),p=n("qitQ"),h=n("1H91"),d=n("eYKs").codeAt,m=n("Di6M"),v=n("kiNa"),y=n("5JgN"),g=n("1aI8"),b=s.URL,x=y.URLSearchParams,_=y.getState,w=g.set,S=g.getterFor("URL"),O=Math.floor,E=Math.pow,k="Invalid authority",C="Invalid scheme",j="Invalid host",T="Invalid port",A=/[A-Za-z]/,P=/[\d+-.A-Za-z]/,M=/\d/,I=/^(0x|0X)/,L=/^[0-7]+$/,R=/^\d+$/,D=/^[\dA-Fa-f]+$/,N=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,z=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,F=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,B=/[\u0009\u000A\u000D]/g,U=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return j;if(n=H(t.slice(1,-1)),!n)return j;e.host=n}else if(Q(e)){if(t=m(t),N.test(t))return j;if(n=V(t),null===n)return j;e.host=n}else{if(z.test(t))return j;for(n="",r=h(t),i=0;i<r.length;i++)n+=K(r[i],W);e.host=n}},V=function(e){var t,n,r,i,o,a,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),t=u.length,t>4)return e;for(n=[],r=0;r<t;r++){if(i=u[r],""==i)return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=I.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?R:8==o?L:D).test(i))return e;a=parseInt(i,o)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=E(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*E(256,3-r);return s},H=function(e){var t,n,r,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,p=function(){return e.charAt(f)};if(":"==p()){if(":"!=e.charAt(1))return;f+=2,c++,l=c}while(p()){if(8==c)return;if(":"!=p()){t=n=0;while(n<4&&D.test(p()))t=16*t+parseInt(p(),16),f++,n++;if("."==p()){if(0==n)return;if(f-=n,c>6)return;r=0;while(p()){if(i=null,r>0){if(!("."==p()&&r<4))return;f++}if(!M.test(p()))return;while(M.test(p())){if(o=parseInt(p(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}u[c]=256*u[c]+i,r++,2!=r&&4!=r||c++}if(4!=r)return;break}if(":"==p()){if(f++,!p())return}else if(p())return;u[c++]=t}else{if(null!==l)return;f++,c++,l=c}}if(null!==l){a=c-l,c=7;while(0!=c&&a>0)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s}else if(8!=c)return;return u},q=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t},G=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=O(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=q(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},W={},Z=p({},W,{" ":1,'"':1,"<":1,">":1,"`":1}),Y=p({},Z,{"#":1,"?":1,"{":1,"}":1}),X=p({},Y,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),K=function(e,t){var n=d(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},J={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Q=function(e){return f(J,e.scheme)},$=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var n;return 2==e.length&&A.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ne=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},re=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&te(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},oe=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},ae={},se={},ue={},ce={},le={},fe={},pe={},he={},de={},me={},ve={},ye={},ge={},be={},xe={},_e={},we={},Se={},Oe={},Ee={},ke={},Ce=function(e,t,n,i){var o,a,s,u,c=n||ae,l=0,p="",d=!1,m=!1,v=!1;n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(F,"")),t=t.replace(B,""),o=h(t);while(l<=o.length){switch(a=o[l],c){case ae:if(!a||!A.test(a)){if(n)return C;c=ue;continue}p+=a.toLowerCase(),c=se;break;case se:if(a&&(P.test(a)||"+"==a||"-"==a||"."==a))p+=a.toLowerCase();else{if(":"!=a){if(n)return C;p="",c=ue,l=0;continue}if(n&&(Q(e)!=f(J,p)||"file"==p&&($(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(Q(e)&&J[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?c=be:Q(e)&&i&&i.scheme==e.scheme?c=ce:Q(e)?c=he:"/"==o[l+1]?(c=le,l++):(e.cannotBeABaseURL=!0,e.path.push(""),c=Oe)}break;case ue:if(!i||i.cannotBeABaseURL&&"#"!=a)return C;if(i.cannotBeABaseURL&&"#"==a){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,c=ke;break}c="file"==i.scheme?be:fe;continue;case ce:if("/"!=a||"/"!=o[l+1]){c=fe;continue}c=de,l++;break;case le:if("/"==a){c=me;break}c=Se;continue;case fe:if(e.scheme=i.scheme,a==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==a||"\\"==a&&Q(e))c=pe;else if("?"==a)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",c=Ee;else{if("#"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),c=Se;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=ke}break;case pe:if(!Q(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,c=Se;continue}c=me}else c=de;break;case he:if(c=de,"/"!=a||"/"!=p.charAt(l+1))continue;l++;break;case de:if("/"!=a&&"\\"!=a){c=me;continue}break;case me:if("@"==a){d&&(p="%40"+p),d=!0,s=h(p);for(var y=0;y<s.length;y++){var g=s[y];if(":"!=g||v){var b=K(g,X);v?e.password+=b:e.username+=b}else v=!0}p=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Q(e)){if(d&&""==p)return k;l-=h(p).length+1,p="",c=ve}else p+=a;break;case ve:case ye:if(n&&"file"==e.scheme){c=_e;continue}if(":"!=a||m){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Q(e)){if(Q(e)&&""==p)return j;if(n&&""==p&&($(e)||null!==e.port))return;if(u=U(e,p),u)return u;if(p="",c=we,n)return;continue}"["==a?m=!0:"]"==a&&(m=!1),p+=a}else{if(""==p)return j;if(u=U(e,p),u)return u;if(p="",c=ge,n==ye)return}break;case ge:if(!M.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Q(e)||n){if(""!=p){var x=parseInt(p,10);if(x>65535)return T;e.port=Q(e)&&x===J[e.scheme]?null:x,p=""}if(n)return;c=we;continue}return T}p+=a;break;case be:if(e.scheme="file","/"==a||"\\"==a)c=xe;else{if(!i||"file"!=i.scheme){c=Se;continue}if(a==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==a)e.host=i.host,e.path=i.path.slice(),e.query="",c=Ee;else{if("#"!=a){ne(o.slice(l).join(""))||(e.host=i.host,e.path=i.path.slice(),re(e)),c=Se;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=ke}}break;case xe:if("/"==a||"\\"==a){c=_e;break}i&&"file"==i.scheme&&!ne(o.slice(l).join(""))&&(te(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),c=Se;continue;case _e:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&te(p))c=Se;else if(""==p){if(e.host="",n)return;c=we}else{if(u=U(e,p),u)return u;if("localhost"==e.host&&(e.host=""),n)return;p="",c=we}continue}p+=a;break;case we:if(Q(e)){if(c=Se,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(c=Se,"/"!=a))continue}else e.fragment="",c=ke;else e.query="",c=Ee;break;case Se:if(a==r||"/"==a||"\\"==a&&Q(e)||!n&&("?"==a||"#"==a)){if(oe(p)?(re(e),"/"==a||"\\"==a&&Q(e)||e.path.push("")):ie(p)?"/"==a||"\\"==a&&Q(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(a==r||"?"==a||"#"==a))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==a?(e.query="",c=Ee):"#"==a&&(e.fragment="",c=ke)}else p+=K(a,Y);break;case Oe:"?"==a?(e.query="",c=Ee):"#"==a?(e.fragment="",c=ke):a!=r&&(e.path[0]+=K(a,W));break;case Ee:n||"#"!=a?a!=r&&("'"==a&&Q(e)?e.query+="%27":e.query+="#"==a?"%23":K(a,W)):(e.fragment="",c=ke);break;case ke:a!=r&&(e.fragment+=K(a,Z));break}l++}},je=function(e){var t,n,r=l(this,je,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(e),s=w(r,{type:"URL"});if(void 0!==i)if(i instanceof je)t=S(i);else if(n=Ce(t={},String(i)),n)throw TypeError(n);if(n=Ce(s,a,null,t),n)throw TypeError(n);var u=s.searchParams=new x,c=_(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},o||(r.href=Ae.call(r),r.origin=Pe.call(r),r.protocol=Me.call(r),r.username=Ie.call(r),r.password=Le.call(r),r.host=Re.call(r),r.hostname=De.call(r),r.port=Ne.call(r),r.pathname=ze.call(r),r.search=Fe.call(r),r.searchParams=Be.call(r),r.hash=Ue.call(r))},Te=je.prototype,Ae=function(){var e=S(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",$(e)&&(c+=n+(r?":"+r:"")+"@"),c+=G(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Pe=function(){var e=S(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&Q(e)?t+"://"+G(e.host)+(null!==n?":"+n:""):"null"},Me=function(){return S(this).scheme+":"},Ie=function(){return S(this).username},Le=function(){return S(this).password},Re=function(){var e=S(this),t=e.host,n=e.port;return null===t?"":null===n?G(t):G(t)+":"+n},De=function(){var e=S(this).host;return null===e?"":G(e)},Ne=function(){var e=S(this).port;return null===e?"":String(e)},ze=function(){var e=S(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Fe=function(){var e=S(this).query;return e?"?"+e:""},Be=function(){return S(this).searchParams},Ue=function(){var e=S(this).fragment;return e?"#"+e:""},Ve=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&u(Te,{href:Ve(Ae,(function(e){var t=S(this),n=String(e),r=Ce(t,n);if(r)throw TypeError(r);_(t.searchParams).updateSearchParams(t.query)})),origin:Ve(Pe),protocol:Ve(Me,(function(e){var t=S(this);Ce(t,String(e)+":",ae)})),username:Ve(Ie,(function(e){var t=S(this),n=h(String(e));if(!ee(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=K(n[r],X)}})),password:Ve(Le,(function(e){var t=S(this),n=h(String(e));if(!ee(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=K(n[r],X)}})),host:Ve(Re,(function(e){var t=S(this);t.cannotBeABaseURL||Ce(t,String(e),ve)})),hostname:Ve(De,(function(e){var t=S(this);t.cannotBeABaseURL||Ce(t,String(e),ye)})),port:Ve(Ne,(function(e){var t=S(this);ee(t)||(e=String(e),""==e?t.port=null:Ce(t,e,ge))})),pathname:Ve(ze,(function(e){var t=S(this);t.cannotBeABaseURL||(t.path=[],Ce(t,e+"",we))})),search:Ve(Fe,(function(e){var t=S(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ce(t,e,Ee)),_(t.searchParams).updateSearchParams(t.query)})),searchParams:Ve(Be),hash:Ve(Ue,(function(e){var t=S(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ce(t,e,ke)):t.fragment=null}))}),c(Te,"toJSON",(function(){return Ae.call(this)}),{enumerable:!0}),c(Te,"toString",(function(){return Ae.call(this)}),{enumerable:!0}),b){var He=b.createObjectURL,qe=b.revokeObjectURL;He&&c(je,"createObjectURL",(function(e){return He.apply(b,arguments)})),qe&&c(je,"revokeObjectURL",(function(e){return qe.apply(b,arguments)}))}v(je,"URL"),i({global:!0,forced:!a,sham:!o},{URL:je})},doU7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0;var r={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};t.BindingCount=r},dt0z:function(e,t,n){var r=n("zoYe");function i(e){return null==e?"":r(e)}e.exports=i},dxzI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var r=n("d9O0"),i=function(){function e(e){this.id=r.id(),this.registry=e}return e}();t.ContainerModule=i;var o=function(){function e(e){this.id=r.id(),this.registry=e}return e}();t.AsyncContainerModule=o},e3V2:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},e4Nc:function(e,t,n){var r=n("fGT3"),i=n("k+1r"),o=n("JHgL"),a=n("pSRY"),s=n("H8j4");function u(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},e5cp:function(e,t,n){var r=n("fmRc"),i=n("or5M"),o=n("HDyB"),a=n("seXi"),s=n("QqLw"),u=n("Z0cm"),c=n("DSRE"),l=n("c6wG"),f=1,p="[object Arguments]",h="[object Array]",d="[object Object]",m=Object.prototype,v=m.hasOwnProperty;function y(e,t,n,m,y,g){var b=u(e),x=u(t),_=b?h:s(e),w=x?h:s(t);_=_==p?d:_,w=w==p?d:w;var S=_==d,O=w==d,E=_==w;if(E&&c(e)){if(!c(t))return!1;b=!0,S=!1}if(E&&!S)return g||(g=new r),b||l(e)?i(e,t,n,m,y,g):o(e,t,_,n,m,y,g);if(!(n&f)){var k=S&&v.call(e,"__wrapped__"),C=O&&v.call(t,"__wrapped__");if(k||C){var j=k?e.value():e,T=C?t.value():t;return g||(g=new r),y(j,T,n,m,g)}}return!!E&&(g||(g=new r),a(e,t,n,m,y,g))}e.exports=y},eCow:function(e,t,n){var r=n("MMxC"),i=n("ls1J"),o=n("f1E4"),a=n("Acmb"),s=i.has,u=i.get,c=i.toKey,l=function(e,t,n){var r=s(e,t,n);if(r)return u(e,t,n);var i=a(t);return null!==i?l(e,i,n):void 0};r({target:"Reflect",stat:!0},{getMetadata:function(e,t){var n=arguments.length<3?void 0:c(arguments[2]);return l(e,o(t),n)}})},eNh0:function(e,t,n){var r=n("2kyd"),i=n("u+7+"),o=n("YfKC"),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},eP3D:function(e,t,n){var r=n("Mi8B");r("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},eUgh:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}e.exports=n},eYKs:function(e,t,n){var r=n("m0kY"),i=n("FCfD"),o=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},ebwN:function(e,t,n){var r=n("Cwc5"),i=n("Kz5y"),o=r(i,"Map");e.exports=o},ecuC:function(e,t,n){"use strict";var r=n("MMxC"),i=n("uoF6"),o=n("FCfD"),a=n("1aI8"),s=n("eYKs"),u=s.codeAt,c=s.charAt,l="String Iterator",f=a.set,p=a.getterFor(l),h=i((function(e){f(this,{type:l,string:e,index:0})}),"String",(function(){var e,t=p(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=c(n,r),t.index+=e.length,{value:{codePoint:u(e,0),position:r},done:!1})}));r({target:"String",proto:!0},{codePoints:function(){return new h(String(o(this)))}})},"eg+a":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["loaded","maploaded","resize","destroy","dragstart","dragging","dragend","dragcancel"]},"egz/":function(e,t){var n=Math.log;e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:n(1+e)}},ekgI:function(e,t,n){var r=n("YESw"),i=Object.prototype,o=i.hasOwnProperty;function a(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}e.exports=a},evbn:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},"f/k9":function(e,t,n){"use strict";var r=n("MgzW"),i=n("q1tI");t.useSubscription=function(e){var t=e.getCurrentValue,n=e.subscribe,o=i.useState((function(){return{getCurrentValue:t,subscribe:n,value:t()}}));e=o[0];var a=o[1];return o=e.value,e.getCurrentValue===t&&e.subscribe===n||(o=t(),a({getCurrentValue:t,subscribe:n,value:o})),i.useDebugValue(o),i.useEffect((function(){function e(){if(!i){var e=t();a((function(i){return i.getCurrentValue!==t||i.subscribe!==n||i.value===e?i:r({},i,{value:e})}))}}var i=!1,o=n(e);return e(),function(){i=!0,o()}}),[t,n]),o}},f1E4:function(e,t,n){var r=n("tSXo");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},f1zR:function(e,t,n){"use strict";n.r(t);var r=n("k1fw"),i=n("q1tI"),o=n.n(i),a=n("dEAq"),s=n("Zxc8"),u=n("Rsk4"),c=n("nKUr"),l=o.a.memo(u["default"]["docs-imagelayer"].component);t["default"]=e=>(o.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),Object(c["jsx"])(c["Fragment"],{children:Object(c["jsxs"])(o.a.Fragment,{children:[Object(c["jsx"])("div",{className:"markdown",children:Object(c["jsxs"])("h2",{id:"\u56fe\u7247\u56fe\u5c42",children:[Object(c["jsx"])(a["AnchorLink"],{to:"#\u56fe\u7247\u56fe\u5c42","aria-hidden":"true",tabIndex:-1,children:Object(c["jsx"])("span",{className:"icon icon-link"})}),"\u56fe\u7247\u56fe\u5c42"]})}),Object(c["jsx"])(s["default"],Object(r["a"])(Object(r["a"])({},u["default"]["docs-imagelayer"].previewerProps),{},{children:Object(c["jsx"])(l,{})}))]})}))},fDrP:function(e,t,n){"use strict";var r=n("MMxC"),i=n("bIKR"),o=n("m0kY"),a=n("oa35"),s=n("cTDu"),u=n("nMuc"),c=n("arQb"),l=n("jMDO"),f=n("kGMc"),p=l("splice"),h=f("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,m=Math.min,v=9007199254740991,y="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!p||!h},{splice:function(e,t){var n,r,l,f,p,h,g=s(this),b=a(g.length),x=i(e,b),_=arguments.length;if(0===_?n=r=0:1===_?(n=0,r=b-x):(n=_-2,r=m(d(o(t),0),b-x)),b+n-r>v)throw TypeError(y);for(l=u(g,r),f=0;f<r;f++)p=x+f,p in g&&c(l,f,g[p]);if(l.length=r,n<r){for(f=x;f<b-r;f++)p=f+r,h=f+n,p in g?g[h]=g[p]:delete g[h];for(f=b;f>b-r+n;f--)delete g[f-1]}else if(n>r)for(f=b-r;f>x;f--)p=f+r-1,h=f+n-1,p in g?g[h]=g[p]:delete g[h];for(f=0;f<n;f++)g[f+x]=arguments[f+2];return g.length=b-r+n,l}})},"fF/C":function(e,t,n){"use strict";var r=n("MMxC"),i=n("/3zY").includes,o=n("eNh0"),a=n("kGMc"),s=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},fGT3:function(e,t,n){var r=n("4kuk"),i=n("Xi7e"),o=n("ebwN");function a(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}e.exports=a},fQri:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("Z+8a");r({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},"fR/l":function(e,t,n){var r=n("CH3K"),i=n("Z0cm");function o(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}e.exports=o},fVI1:function(e,t,n){},fX6N:function(e,t,n){"use strict";n.d(t,"d",(function(){return Bo})),n.d(t,"b",(function(){return Vo})),n.d(t,"a",(function(){return Ho}));n("mNvP");var r=n("uhBA"),i=n.n(r),o=n("4cb6"),a=n("APxj"),s=n.n(a),u=n("bB6j"),c=n("lwsE"),l=n.n(c),f=n("W8MJ"),p=n.n(f),h=n("lSNA"),d=n.n(h),m=n("Hel2"),v=n("rxlC"),y=n.n(v);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function _(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S,O,E=30;function k(e){var t=e.characterSet,n=e.getFontWidth,r=e.fontHeight,i=e.buffer,o=e.maxCanvasWidth,a=e.mapping,s=void 0===a?{}:a,u=e.xOffset,c=void 0===u?0:u,l=e.yOffset,f=void 0===l?0:l,p=0,h=c;Array.from(t).forEach((function(e,t){if(!s[e]){var r=n(e,t);h+E>o&&(h=0,p++),s[e]={x:h,y:f+p*E,width:E,height:E,advance:r},h+=E}}));var d=r+2*i;return{mapping:s,xOffset:h,yOffset:f+p*d,canvasHeight:T(f+(p+1)*d)}}function C(e,t,n){var r,i=0,o=0,a=0,s=[],u={},c=x(e);try{for(c.s();!(r=c.n()).done;){var l=r.value;if(!u[l.id]){var f=l.size;i+f+t>n&&(j(u,s,o),i=0,o=a+o+t,a=0,s=[]),s.push({icon:l,xOffset:i}),i=i+f+t,a=Math.max(a,f)}}}catch(h){c.e(h)}finally{c.f()}s.length>0&&j(u,s,o);var p=T(a+o+t);return{mapping:u,canvasHeight:p}}function j(e,t,n){var r,i=x(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.icon,s=o.xOffset;e[a.id]=b(b({},a),{},{x:s,y:n,image:a.image,width:a.width,height:a.height})}}catch(u){i.e(u)}finally{i.f()}}function T(e){return Math.pow(2,Math.ceil(Math.log2(e)))}function A(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=P(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function P(e,t){if(e){if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=W(),D="sans-serif",N="normal",z=24,F=3,B=.25,U=8,V=1024,H=1,q=1,G=3;function W(){for(var e=[],t=32;t<128;t++)e.push(String.fromCharCode(t));return e}function Z(e,t,n,r){e.font="".concat(r," ").concat(n,"px ").concat(t),e.fillStyle="black",e.textBaseline="middle"}function Y(e,t){for(var n=0;n<e.length;n++)t.data[4*n+3]=e[n]}var X,K,J=(S=Object(o["injectable"])(),S(O=function(){function e(){l()(this,e),d()(this,"fontAtlas",void 0),d()(this,"iconFontMap",void 0),d()(this,"iconFontGlyphs",{}),d()(this,"fontOptions",void 0),d()(this,"key",void 0),d()(this,"cache",new m["b"](G))}return p()(e,[{key:"scale",get:function(){return q}},{key:"canvas",get:function(){var e=this.cache.get(this.key);return e&&e.data}},{key:"mapping",get:function(){var e=this.cache.get(this.key);return e&&e.mapping}},{key:"init",value:function(){this.cache.clear(),this.fontOptions={fontFamily:D,fontWeight:N,characterSet:R,fontSize:z,buffer:F,sdf:!0,cutoff:B,radius:U,iconfont:!1},this.key="",this.iconFontMap=new Map}},{key:"addIconGlyphs",value:function(e){var t=this;e.forEach((function(e){t.iconFontGlyphs[e.name]=e.unicode}))}},{key:"addIconFont",value:function(e,t){this.iconFontMap.set(e,t)}},{key:"getIconFontKey",value:function(e){return this.iconFontMap.get(e)||e}},{key:"getGlyph",value:function(e){return this.iconFontGlyphs[e]?String.fromCharCode(parseInt(this.iconFontGlyphs[e],16)):""}},{key:"setFontOptions",value:function(e){this.fontOptions=L(L({},this.fontOptions),e),this.key=this.getKey();var t=this.getNewChars(this.key,this.fontOptions.characterSet),n=this.cache.get(this.key);if(!n||0!==t.length){var r=this.generateFontAtlas(this.key,t,n);this.fontAtlas=r,this.cache.set(this.key,r)}}},{key:"destroy",value:function(){this.cache.clear(),this.iconFontMap.clear()}},{key:"generateFontAtlas",value:function(e,t,n){var r=this.fontOptions,i=r.fontFamily,o=r.fontWeight,a=r.fontSize,s=r.buffer,u=r.sdf,c=r.radius,l=r.cutoff,f=r.iconfont,p=n&&n.data;p||(p=document.createElement("canvas"),p.width=V);var h=p.getContext("2d");Z(h,i,a,o);var d=k(L({getFontWidth:function(e){return h.measureText(e).width},fontHeight:a*q,buffer:s,characterSet:t,maxCanvasWidth:V},n&&{mapping:n.mapping,xOffset:n.xOffset,yOffset:n.yOffset})),m=d.mapping,v=d.canvasHeight,g=d.xOffset,b=d.yOffset,x=h.getImageData(0,0,p.width,p.height);if(p.height=v,h.putImageData(x,0,0),Z(h,i,a,o),u){var _,w=new y.a(a,s,c,l,i,o),S=h.getImageData(0,0,w.size,w.size),O=A(t);try{for(O.s();!(_=O.n()).done;){var E=_.value;if(f){var C=String.fromCharCode(parseInt(E.replace("&#x","").replace(";",""),16)),j=w.draw(C);Y(j,S)}else Y(w.draw(E),S);h.putImageData(S,m[E].x,m[E].y)}}catch(I){O.e(I)}finally{O.f()}}else{var T,P=A(t);try{for(P.s();!(T=P.n()).done;){var M=T.value;h.fillText(M,m[M].x,m[M].y+a*H)}}catch(I){P.e(I)}finally{P.f()}}return{xOffset:g,yOffset:b,mapping:m,data:p,width:p.width,height:p.height}}},{key:"getKey",value:function(){return"key"}},{key:"getNewChars",value:function(e,t){var n=this.cache.get(e);if(!n)return t;var r=[],i=n.mapping,o=new Set(Object.keys(i)),a=new Set(t);return a.forEach((function(e){o.has(e)||r.push(e)})),r}}]),e}())||O),Q=n("PJYZ"),$=n.n(Q),ee=n("7W2i"),te=n.n(ee),ne=n("a1gu"),re=n.n(ne),ie=n("Nsbk"),oe=n.n(ie);function ae(e){var t=se();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function se(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ue,ce,le,fe,pe=3,he=1024,de=64,me=(X=Object(o["injectable"])(),X(K=function(e){te()(n,e);var t=ae(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),d()($()(e),"canvasHeight",128),d()($()(e),"texture",void 0),d()($()(e),"canvas",void 0),d()($()(e),"iconData",void 0),d()($()(e),"iconMap",void 0),d()($()(e),"ctx",void 0),d()($()(e),"loadingImageCount",0),e}return p()(n,[{key:"isLoading",value:function(){return 0===this.loadingImageCount}},{key:"init",value:function(){this.iconData=[],this.iconMap={},this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}},{key:"addImage",value:function(e,t){var n=this,r=new Image;if(this.loadingImageCount++,this.hasImage(e))throw new Error("Image Id already exists");this.iconData.push({id:e,size:de}),this.updateIconMap(),this.loadImage(t).then((function(t){r=t;var i=n.iconData.find((function(t){return t.id===e}));i&&(i.image=r,i.width=r.width,i.height=r.height),n.update()}))}},{key:"getTexture",value:function(){return this.texture}},{key:"getIconMap",value:function(){return this.iconMap}},{key:"getCanvas",value:function(){return this.canvas}},{key:"hasImage",value:function(e){return this.iconMap.hasOwnProperty(e)}},{key:"removeImage",value:function(e){this.hasImage(e)&&(this.iconData=this.iconData.filter((function(t){return t.id!==e})),delete this.iconMap[e],this.update())}},{key:"destroy",value:function(){this.iconData=[],this.iconMap={}}},{key:"update",value:function(){this.updateIconMap(),this.updateIconAtlas(),this.loadingImageCount--,0===this.loadingImageCount&&this.emit("imageUpdate")}},{key:"updateIconAtlas",value:function(){var e=this;this.canvas.width=he,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach((function(t){var n=e.iconMap[t],r=n.x,i=n.y,o=n.image,a=n.width,s=void 0===a?64:a,u=n.height,c=void 0===u?64:u,l=Math.max(s,c),f=l/de,p=c/f,h=s/f;o&&e.ctx.drawImage(o,r+(de-h)/2,i+(de-p)/2,h,p)}))}},{key:"updateIconMap",value:function(){var e=C(this.iconData,pe,he),t=e.mapping,n=e.canvasHeight;this.iconMap=t,this.canvasHeight=n}},{key:"loadImage",value:function(e){return new Promise((function(t,n){if(e instanceof HTMLImageElement)t(e);else{var r=new Image;r.crossOrigin="anonymous",r.onload=function(){t(r)},r.onerror=function(){n(new Error("Could not load image at "+e))},r.src=e instanceof File?URL.createObjectURL(e):e}}))}}]),n}(r["EventEmitter"]))||K),ve=n("J4zp"),ye=n.n(ve),ge=n("IOcx"),be=(ue=Object(o["injectable"])(),ue(ce=function(){function e(){l()(this,e),d()(this,"viewport",void 0),d()(this,"overridedViewProjectionMatrix",void 0),d()(this,"jitteredViewProjectionMatrix",void 0),d()(this,"jitteredProjectionMatrix",void 0),d()(this,"viewMatrixInverse",void 0),d()(this,"cameraPosition",void 0)}return p()(e,[{key:"init",value:function(){}},{key:"update",value:function(e){this.viewport=e,this.viewMatrixInverse=ge["b"].create(),ge["b"].invert(this.viewMatrixInverse,e.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]]}},{key:"getProjectionMatrix",value:function(){return this.jitteredProjectionMatrix||this.viewport.getProjectionMatrix()}},{key:"getModelMatrix",value:function(){return this.viewport.getModelMatrix()}},{key:"getViewMatrix",value:function(){return this.viewport.getViewMatrix()}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.getViewMatrixUncentered()}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.getViewProjectionMatrixUncentered()}},{key:"getViewProjectionMatrix",value:function(){return this.overridedViewProjectionMatrix||this.jitteredViewProjectionMatrix||this.viewport.getViewProjectionMatrix()}},{key:"getZoom",value:function(){return this.viewport.getZoom()}},{key:"getZoomScale",value:function(){return this.viewport.getZoomScale()}},{key:"getCenter",value:function(){var e=this.viewport.getCenter(),t=ye()(e,2),n=t[0],r=t[1];return[n,r]}},{key:"getFocalDistance",value:function(){return this.viewport.getFocalDistance()}},{key:"getCameraPosition",value:function(){return this.cameraPosition}},{key:"projectFlat",value:function(e,t){return this.viewport.projectFlat(e,t)}},{key:"setViewProjectionMatrix",value:function(e){this.overridedViewProjectionMatrix=e}},{key:"jitterProjectionMatrix",value:function(e,t){var n=ge["b"].fromTranslation(ge["b"].create(),[e,t,0]);this.jitteredProjectionMatrix=ge["b"].multiply(ge["b"].create(),n,this.viewport.getProjectionMatrix()),this.jitteredViewProjectionMatrix=ge["b"].multiply(ge["b"].create(),this.jitteredProjectionMatrix,this.viewport.getViewMatrix())}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0,this.jitteredViewProjectionMatrix=void 0}}]),e}())||ce);function xe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_e(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function _e(e,t){if(e){if("string"===typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Se,Oe,Ee,ke,Ce,je,Te=(le=Object(o["injectable"])(),le(fe=function(){function e(){l()(this,e),d()(this,"container",void 0),d()(this,"controlCorners",void 0),d()(this,"controlContainer",void 0),d()(this,"scene",void 0),d()(this,"mapsService",void 0),d()(this,"controls",[]),d()(this,"unAddControls",[])}return p()(e,[{key:"init",value:function(e,t){this.container=e.container,this.scene=t,this.mapsService=t.get(u["a"].IMapService),this.initControlPos()}},{key:"addControl",value:function(e,t){var n=t.get(u["a"].IMapService);n.map?(e.addTo(this.scene),this.controls.push(e)):this.unAddControls.push(e)}},{key:"getControlByName",value:function(e){return this.controls.find((function(t){return t.controlOption.name===e}))}},{key:"removeControl",value:function(e){var t=this.controls.indexOf(e);return t>-1&&this.controls.splice(t,1),e.remove(),this}},{key:"addControls",value:function(){var e=this;this.unAddControls.forEach((function(t){t.addTo(e.scene),e.controls.push(t)})),this.unAddControls=[]}},{key:"destroy",value:function(){var e,t=xe(this.controls);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.remove()}}catch(r){t.e(r)}finally{t.f()}this.controls=[],this.clearControlPos()}},{key:"initControlPos",value:function(){var e=this.controlCorners={},t="l7-",n=this.controlContainer=m["a"].create("div",t+"control-container",this.container);function r(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=r.map((function(e){return t+e})).join(" ");e[r.join("")]=m["a"].create("div",i,n)}r(["top","left"]),r(["top","right"]),r(["bottom","left"]),r(["bottom","right"]),r(["top","center"]),r(["right","center"]),r(["left","center"]),r(["bottom","center"])}},{key:"clearControlPos",value:function(){for(var e in this.controlCorners)this.controlCorners[e]&&m["a"].remove(this.controlCorners[e]);this.controlContainer&&m["a"].remove(this.controlContainer),delete this.controlCorners,delete this.controlContainer}}]),e}())||fe),Ae=(Se=Object(o["injectable"])(),Se(Oe=function(){function e(){l()(this,e),d()(this,"container",void 0),d()(this,"scene",void 0),d()(this,"mapsService",void 0),d()(this,"markers",[]),d()(this,"markerLayers",[]),d()(this,"unAddMarkers",[]),d()(this,"unAddMarkerLayers",[])}return p()(e,[{key:"addMarkerLayer",value:function(e){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(e),e.addTo(this.scene)):this.unAddMarkerLayers.push(e)}},{key:"removeMarkerLayer",value:function(e){e.destroy(),this.markerLayers.indexOf(e);var t=this.markerLayers.indexOf(e);t>-1&&this.markerLayers.splice(t,1)}},{key:"addMarker",value:function(e){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(e),e.addTo(this.scene)):this.unAddMarkers.push(e)}},{key:"addMarkers",value:function(){var e=this;this.unAddMarkers.forEach((function(t){t.addTo(e.scene),e.markers.push(t)})),this.unAddMarkers=[]}},{key:"addMarkerLayers",value:function(){var e=this;this.unAddMarkerLayers.forEach((function(t){e.markerLayers.push(t),t.addTo(e.scene)})),this.unAddMarkers=[]}},{key:"removeMarker",value:function(e){e.remove(),this.markers.indexOf(e);var t=this.markers.indexOf(e);t>-1&&this.markers.splice(t,1)}},{key:"removeAllMarkers",value:function(){this.destroy()}},{key:"init",value:function(e){this.scene=e,this.mapsService=e.get(u["a"].IMapService)}},{key:"destroy",value:function(){this.markers.forEach((function(e){e.remove()})),this.markers=[],this.markerLayers.forEach((function(e){e.destroy()})),this.markerLayers=[]}},{key:"removeMakerLayerMarker",value:function(e){e.destroy()}}]),e}())||Oe),Pe=(Ee=Object(o["injectable"])(),Ee(ke=function(){function e(){l()(this,e),d()(this,"scene",void 0),d()(this,"popup",void 0),d()(this,"mapsService",void 0),d()(this,"unAddPopup",void 0)}return p()(e,[{key:"removePopup",value:function(e){e.remove()}},{key:"destroy",value:function(){this.popup.remove()}},{key:"addPopup",value:function(e){this.popup&&this.popup.remove(),this.mapsService.map&&this.mapsService.getMarkerContainer()?(e.addTo(this.scene),this.popup=e):this.unAddPopup=e}},{key:"initPopup",value:function(){this.unAddPopup&&(this.addPopup(this.unAddPopup),this.unAddPopup=null)}},{key:"init",value:function(e){this.scene=e,this.mapsService=e.get(u["a"].IMapService)}}]),e}())||ke),Me=n("QkVN"),Ie=n.n(Me),Le={MapToken:"\u60a8\u6b63\u5728\u4f7f\u7528 Demo\u6d4b\u8bd5\u5730\u56fetoken\uff0c\u5982\u679c\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u53bb\u5bf9\u5e94\u5730\u56fe\u8bf7\u6ce8\u518cToken",SDK:"\u8bf7\u786e\u8ba4\u5f15\u5165\u4e86mapbox-gl api\u4e14\u5728L7\u4e4b\u524d\u5f15\u5165"},Re=Le;function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze={id:"map",logoPosition:"bottomleft",logoVisible:!0,antialias:!0,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},Fe={colors:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],size:10,shape:"circle",scales:{},shape2d:["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],shape3d:["cylinder","triangleColumn","hexagonColumn","squareColumn"],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:"normal",pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:"#2f54eb",enableHighlight:!1,enableSelect:!1,highlightColor:"#2f54eb",selectColor:"blue",enableTAA:!1,jitterScale:1,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15},forward:!0},Be=(Ce=Object(o["injectable"])(),Ce(je=function(){function e(){l()(this,e),d()(this,"sceneConfigCache",{}),d()(this,"layerConfigCache",{})}return p()(e,[{key:"getSceneConfig",value:function(e){return this.sceneConfigCache[e]}},{key:"getSceneWarninfo",value:function(e){return Re[e]}},{key:"setSceneConfig",value:function(e,t){this.sceneConfigCache[e]=Ne(Ne({},ze),t)}},{key:"getLayerConfig",value:function(e){return this.layerConfigCache[e]}},{key:"setLayerConfig",value:function(e,t,n){this.layerConfigCache[t]=Ne({},Ie()({},this.sceneConfigCache[e],Fe,n))}},{key:"clean",value:function(){this.sceneConfigCache={},this.layerConfigCache={}}}]),e}())||je),Ue=n("yG8O"),Ve=n.n(Ue),He=n("U+yc"),qe=n.n(He),Ge=(n("1ABj"),Math.PI/180),We=512,Ze=4003e4;function Ye(e){var t=e.latitude,n=void 0===t?0:t,r=e.zoom,i=void 0===r?0:r,o=e.scale,a=e.highPrecision,s=void 0!==a&&a,u=e.flipY,c=void 0!==u&&u;o=void 0!==o?o:Math.pow(2,i);var l={},f=We*o,p=Math.cos(n*Ge),h=f/360,d=h/p,m=f/Ze/p;if(l.pixelsPerMeter=[m,-m,m],l.metersPerPixel=[1/m,-1/m,1/m],l.pixelsPerDegree=[h,-d,m],l.degreesPerPixel=[1/h,-1/d,1/m],s){var v=Ge*Math.tan(n*Ge)/p,y=h*v/2,g=f/Ze*v,b=g/d*m;l.pixelsPerDegree2=[0,-y,g],l.pixelsPerMeter2=[b,0,b],c&&(l.pixelsPerDegree2[1]=-l.pixelsPerDegree2[1],l.pixelsPerMeter2[1]=-l.pixelsPerMeter2[1])}return c&&(l.pixelsPerMeter[1]=-l.pixelsPerMeter[1],l.metersPerPixel[1]=-l.metersPerPixel[1],l.pixelsPerDegree[1]=-l.pixelsPerDegree[1],l.degreesPerPixel[1]=-l.degreesPerPixel[1]),l}var Xe,Ke,Je,Qe,$e,et,tt,nt,rt,it,ot=n("HthE"),at=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],st=(Xe=Object(o["injectable"])(),Ke=Object(o["inject"])(u["a"].ICameraService),Xe((Qe=function(){function e(){l()(this,e),d()(this,"needRefresh",!0),Ve()(this,"cameraService",$e,this),d()(this,"coordinateSystem",void 0),d()(this,"viewportCenter",void 0),d()(this,"viewportCenterProjection",void 0),d()(this,"pixelsPerDegree",void 0),d()(this,"pixelsPerDegree2",void 0),d()(this,"pixelsPerMeter",void 0)}return p()(e,[{key:"refresh",value:function(){var e=this.cameraService.getZoom(),t=this.cameraService.getZoomScale(),n=this.cameraService.getCenter(),r=Ye({latitude:n[1],zoom:e}),i=r.pixelsPerMeter,o=r.pixelsPerDegree;this.viewportCenter=n,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=i,this.pixelsPerDegree=o,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===ot["a"].LNGLAT||this.coordinateSystem===ot["a"].P20?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===ot["a"].LNGLAT_OFFSET?this.calculateLnglatOffset(n,e):this.coordinateSystem===ot["a"].P20_OFFSET&&this.calculateLnglatOffset(n,e,t,!0),this.needRefresh=!1}},{key:"getCoordinateSystem",value:function(){return this.coordinateSystem}},{key:"setCoordinateSystem",value:function(e){this.coordinateSystem=e}},{key:"getViewportCenter",value:function(){return this.viewportCenter}},{key:"getViewportCenterProjection",value:function(){return this.viewportCenterProjection}},{key:"getPixelsPerDegree",value:function(){return this.pixelsPerDegree}},{key:"getPixelsPerDegree2",value:function(){return this.pixelsPerDegree2}},{key:"getPixelsPerMeter",value:function(){return this.pixelsPerMeter}},{key:"calculateLnglatOffset",value:function(e,t,n,r){var i=Ye({latitude:e[1],zoom:t,scale:n,flipY:r,highPrecision:!0}),o=i.pixelsPerMeter,a=i.pixelsPerDegree,s=i.pixelsPerDegree2,u=this.cameraService.getViewMatrix(),c=this.cameraService.getProjectionMatrix(),l=ge["b"].multiply([],c,u),f=this.cameraService.projectFlat([Math.fround(e[0]),Math.fround(e[1])],Math.pow(2,t));this.viewportCenterProjection=ge["e"].transformMat4([],[f[0],f[1],0,1],l),u=this.cameraService.getViewMatrixUncentered()||u,l=ge["b"].multiply([],c,u),l=ge["b"].multiply([],l,at),this.cameraService.setViewProjectionMatrix(l),this.pixelsPerMeter=o,this.pixelsPerDegree=a,this.pixelsPerDegree2=s}}]),e}(),$e=qe()(Qe.prototype,"cameraService",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=Qe))||Je),ut=n("yLV6"),ct=n.n(ut),lt=n("V1cb");function ft(e){var t=pt();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function pt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ht={panstart:"dragstart",panmove:"dragging",panend:"dragend",pancancel:"dragcancel"},dt=(et=Object(o["injectable"])(),tt=Object(o["inject"])(u["a"].IMapService),et((rt=function(e){te()(n,e);var t=ft(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Ve()($()(e),"mapService",it,$()(e)),d()($()(e),"hammertime",void 0),d()($()(e),"lastClickTime",0),d()($()(e),"lastClickXY",[-1,-1]),d()($()(e),"clickTimer",void 0),d()($()(e),"$containter",void 0),d()($()(e),"onDrag",(function(t){var n=e.interactionEvent(t);n.type=ht[n.type],e.emit(lt["a"].Drag,n)})),d()($()(e),"onHammer",(function(t){t.srcEvent.stopPropagation();var n=e.interactionEvent(t);e.emit(lt["a"].Hover,n)})),d()($()(e),"onTouch",(function(t){var n=t.touches[0];e.onHover({x:n.pageX,y:n.pageY,type:"touch"})})),d()($()(e),"onHover",(function(t){var n=t.clientX,r=t.clientY,i=n,o=r,a=t.type,s=e.mapService.getMapContainer();if(s){var u=s.getBoundingClientRect(),c=u.top,l=u.left;i=i-l-s.clientLeft,o=o-c-s.clientTop}var f=e.mapService.containerToLngLat([i,o]);if("click"!==a)"touch"!==a?"click"!==a&&"dblclick"!==a&&e.emit(lt["a"].Hover,{x:i,y:o,lngLat:f,type:a,target:t}):e.isDoubleTap(i,o,f);else{if("ontouchstart"in document.documentElement===!0)return;e.isDoubleTap(i,o,f)}})),e}return p()(n,[{key:"init",value:function(){this.addEventListenerOnMap(),this.$containter=this.mapService.getMapContainer()}},{key:"destroy",value:function(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(lt["a"].Hover)}},{key:"triggerHover",value:function(e){var t=e.x,n=e.y;this.emit(lt["a"].Hover,{x:t,y:n})}},{key:"triggerSelect",value:function(e){this.emit(lt["a"].Select,{featureId:e})}},{key:"triggerActive",value:function(e){this.emit(lt["a"].Active,{featureId:e})}},{key:"addEventListenerOnMap",value:function(){var e=this.mapService.getMapContainer();if(e){var t=new ct.a.Manager(e);t.add(new ct.a.Tap({event:"dblclick",taps:2})),t.add(new ct.a.Tap({event:"click"})),t.add(new ct.a.Pan({threshold:0,pointers:0})),t.add(new ct.a.Press({})),t.on("dblclick click",this.onHammer),t.on("panstart panmove panend pancancel",this.onDrag),e.addEventListener("mousemove",this.onHover),e.addEventListener("mousedown",this.onHover,!0),e.addEventListener("mouseup",this.onHover),e.addEventListener("contextmenu",this.onHover),this.hammertime=t}}},{key:"removeEventListenerOnMap",value:function(){var e=this.mapService.getMapContainer();e&&(e.removeEventListener("mousemove",this.onHover),this.hammertime.off("panstart panmove panend pancancel",this.onDrag),e.removeEventListener("mousedown",this.onHover),e.removeEventListener("mouseup",this.onHover),e.removeEventListener("contextmenu",this.onHover))}},{key:"interactionEvent",value:function(e){var t,n,r=e.type,i=e.pointerType;"touch"===i?(n=Math.floor(e.pointers[0].clientY),t=Math.floor(e.pointers[0].clientX)):(n=Math.floor(e.srcEvent.y),t=Math.floor(e.srcEvent.x));var o=this.mapService.getMapContainer();if(o){var a=o.getBoundingClientRect(),s=a.top,u=a.left;t-=u,n-=s}var c=this.mapService.containerToLngLat([t,n]);return{x:t,y:n,lngLat:c,type:r,target:e.srcEvent}}},{key:"isDoubleTap",value:function(e,t,n){var r=this,i=(new Date).getTime(),o="click";i-this.lastClickTime<400&&Math.abs(this.lastClickXY[0]-e)<10&&Math.abs(this.lastClickXY[1]-t)<10?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),o="dblclick",this.emit(lt["a"].Hover,{x:e,y:t,lngLat:n,type:o})):(this.lastClickTime=i,this.lastClickXY=[e,t],this.clickTimer=setTimeout((function(){o="click",r.emit(lt["a"].Hover,{x:e,y:t,lngLat:n,type:o})}),400))}}]),n}(i.a),it=qe()(rt.prototype,"mapService",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=rt))||nt),mt=n("yXPU"),vt=n.n(mt),yt=n("o0o1"),gt=n.n(yt),bt=(window.document.documentElement.style,0);function xt(e){var t=e;if("string"===typeof e&&(t=document.getElementById(e)),t){var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      z-index:2;\n      height: 100%;\n      width: 100%;\n      pointer-events: none;\n    ",n.id="l7-scene-".concat(bt++),n.classList.add("l7-scene"),t.appendChild(n),n}return null}function _t(e){var t,n,r=!0;return null===e||void 0===e||null===(t=e.target)||void 0===t||null===(n=t.path)||void 0===n||n.map((function(e){var t;null!==e&&void 0!==e&&e.classList&&(null===e||void 0===e||null===(t=e.classList)||void 0===t||t.forEach((function(e){"l7-marker"!==e&&"l7-popup"!==e||(r=!1)})))})),r}var wt,St,Ot,Et,kt,Ct,jt,Tt,At,Pt,Mt,It=n("o+pz");function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dt,Nt,zt,Ft,Bt,Ut,Vt,Ht,qt,Gt,Wt,Zt,Yt,Xt=(wt=Object(o["injectable"])(),St=Object(o["inject"])(u["a"].IRendererService),Ot=Object(o["inject"])(u["a"].IGlobalConfigService),Et=Object(o["inject"])(u["a"].IInteractionService),kt=Object(o["inject"])(u["a"].ILayerService),wt((jt=function(){function e(){var t=this;l()(this,e),Ve()(this,"rendererService",Tt,this),Ve()(this,"configService",At,this),Ve()(this,"interactionService",Pt,this),Ve()(this,"layerService",Mt,this),d()(this,"pickingFBO",void 0),d()(this,"width",0),d()(this,"height",0),d()(this,"alreadyInPicking",!1),d()(this,"pickBufferScale",1),d()(this,"pickFromPickingFBO",(function(e,n){var r,i=n.x,o=n.y,a=n.lngLat,s=n.type,u=n.target,c=!1,l=t.rendererService,f=(l.getViewportSize,l.readPixels),p=l.getContainer,h=p().getBoundingClientRect(),d=h.width,v=h.height;d*=m["a"].DPR,v*=m["a"].DPR;var y,g=e.getLayerConfig(),b=g.enableHighlight,x=g.enableSelect,_=i*m["a"].DPR,w=o*m["a"].DPR;if(_>d-1*m["a"].DPR||_<0||w>v-1*m["a"].DPR||w<0)return!1;if(y=f({x:Math.floor(_/t.pickBufferScale),y:Math.floor((v-(o+1)*m["a"].DPR)/t.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}),0!==y[0]||0!==y[1]||0!==y[2]){var S=Object(m["k"])(y),O=e.getSource().getFeatureById(S);S!==e.getCurrentPickId()&&"mousemove"===s&&(s="mouseenter");var E={x:i,y:o,type:s,lngLat:a,featureId:S,feature:O,target:u};O&&(c=!0,e.setCurrentPickId(S),t.triggerHoverOnLayer(e,E))}else{var k={x:i,y:o,lngLat:a,type:null!==e.getCurrentPickId()&&"mousemove"===s?"mouseout":"un"+s,featureId:null,target:u,feature:null};t.triggerHoverOnLayer(e,Rt(Rt({},k),{},{type:"unpick"})),t.triggerHoverOnLayer(e,k),e.setCurrentPickId(null)}if(b&&t.highlightPickedFeature(e,y),x&&"click"===s&&(null===(r=y)||void 0===r?void 0:r.toString())!==[0,0,0,0].toString()){var C=Object(m["k"])(y);null===e.getCurrentSelectedId()||C!==e.getCurrentSelectedId()?(t.selectFeature(e,y),e.setCurrentSelectedId(C)):(t.selectFeature(e,new Uint8Array([0,0,0,0])),e.setCurrentSelectedId(null))}return c}))}return p()(e,[{key:"init",value:function(e){var t=this.rendererService,n=t.createTexture2D,r=t.createFramebuffer,i=(t.getViewportSize,t.getContainer),o=i().getBoundingClientRect(),a=o.width,s=o.height;a*=m["a"].DPR,s*=m["a"].DPR,this.pickBufferScale=this.configService.getSceneConfig(e).pickBufferScale||1,this.pickingFBO=r({color:n({width:Math.round(a/this.pickBufferScale),height:Math.round(s/this.pickBufferScale),wrapS:It["a"].CLAMP_TO_EDGE,wrapT:It["a"].CLAMP_TO_EDGE})}),this.interactionService.on(lt["a"].Hover,this.pickingAllLayer.bind(this))}},{key:"boxPickLayer",value:function(){var e=vt()(gt.a.mark((function e(t,n,r){var i,o,a,s=this;return gt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=this.rendererService,o=i.useFramebuffer,a=i.clear,i.getContainer,this.resizePickingFBO(),o(this.pickingFBO,(function(){a({framebuffer:s.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),t.hooks.beforePickingEncode.call(),t.renderModels(),t.hooks.afterPickingEncode.call();var e=s.pickBox(t,n);r(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"pickBox",value:function(e,t){var n,r=this,i=t.map((function(e){var t=e<0?0:e;return Math.floor(t*m["a"].DPR/r.pickBufferScale)})),o=ye()(i,4),a=o[0],s=o[1],u=o[2],c=o[3],l=this.rendererService,f=(l.getViewportSize,l.readPixels),p=l.getContainer,h=p().getBoundingClientRect(),d=h.width,v=h.height;if(d*=m["a"].DPR,v*=m["a"].DPR,a>(d-1)*m["a"].DPR/this.pickBufferScale||u<0||s>(v-1)*m["a"].DPR/this.pickBufferScale||c<0)return[];var y=Math.min(d/this.pickBufferScale,u)-a,g=Math.min(v/this.pickBufferScale,c)-s;n=f({x:a,y:Math.floor(v/this.pickBufferScale-(c+1)),width:y,height:g,data:new Uint8Array(y*g*4),framebuffer:this.pickingFBO});for(var b=[],x={},_=0;_<n.length/4;_+=1){var w=n.slice(4*_,4*_+4),S=Object(m["k"])(w);if(-1!==S&&!x[S]){var O=e.getSource().getFeatureById(S);b.push(O),x[S]=!0}}return b}},{key:"pickingAllLayer",value:function(){var e=vt()(gt.a.mark((function e(t){return gt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.alreadyInPicking&&!this.layerService.alreadyInRendering){e.next=2;break}return e.abrupt("return");case 2:return this.alreadyInPicking=!0,e.next=5,this.pickingLayers(t);case 5:this.layerService.renderLayers("picking"),this.alreadyInPicking=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resizePickingFBO",value:function(){var e=this.rendererService.getContainer,t=e().getBoundingClientRect(),n=t.width,r=t.height;n*=m["a"].DPR,r*=m["a"].DPR,this.width===n&&this.height===r||(this.pickingFBO.resize({width:Math.round(n/this.pickBufferScale),height:Math.round(r/this.pickBufferScale)}),this.width=n,this.height=r)}},{key:"pickingLayers",value:function(){var e=vt()(gt.a.mark((function e(t){var n,r,i,o=this;return gt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=this.rendererService,n.getViewportSize,r=n.useFramebuffer,i=n.clear,n.getContainer,this.resizePickingFBO(),r(this.pickingFBO,(function(){var e=o.layerService.getLayers();e.filter((function(e){return e.needPick(t.type)})).reverse().some((function(e){i({framebuffer:o.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),e.hooks.beforePickingEncode.call(),e.renderModels(),e.hooks.afterPickingEncode.call();var n=o.pickFromPickingFBO(e,t);return n&&!e.getLayerConfig().enablePropagation}))}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"triggerHoverOnLayer",value:function(e,t){e.emit(t.type,t),_t(t)&&e.emit(t.type,t)}},{key:"highlightPickedFeature",value:function(e,t){var n=ye()(t,3),r=n[0],i=n[1],o=n[2];e.hooks.beforeHighlight.call([r,i,o])}},{key:"selectFeature",value:function(e,t){var n=ye()(t,3),r=n[0],i=n[1],o=n[2];e.hooks.beforeSelect.call([r,i,o])}}]),e}(),Tt=qe()(jt.prototype,"rendererService",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=qe()(jt.prototype,"configService",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=qe()(jt.prototype,"interactionService",[Et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=qe()(jt.prototype,"layerService",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=jt))||Ct),Kt=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];l()(this,e),d()(this,"autoStart",void 0),d()(this,"startTime",0),d()(this,"oldTime",0),d()(this,"running",!1),d()(this,"elapsedTime",0),this.autoStart=t}return p()(e,[{key:"start",value:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}(),Jt=(Dt=Object(o["injectable"])(),Nt=Object(o["inject"])(u["a"].IRendererService),zt=Object(o["inject"])(u["a"].IGlobalConfigService),Dt((Bt=function(){function e(){l()(this,e),d()(this,"clock",new Kt),d()(this,"alreadyInRendering",!1),d()(this,"layers",[]),d()(this,"layerRenderID",void 0),d()(this,"sceneInited",!1),d()(this,"animateInstanceCount",0),d()(this,"lastRenderType",void 0),d()(this,"lastPickRenderTime",void 0),Ve()(this,"renderService",Ut,this),Ve()(this,"configService",Vt,this)}return p()(e,[{key:"add",value:function(e){this.sceneInited&&e.init(),this.layers.push(e)}},{key:"initLayers",value:function(){this.sceneInited=!0,this.layers.forEach((function(e){e.inited||e.init()}))}},{key:"getLayers",value:function(){return this.layers}},{key:"getLayer",value:function(e){return this.layers.find((function(t){return t.id===e}))}},{key:"getLayerByName",value:function(e){return this.layers.find((function(t){return t.name===e}))}},{key:"remove",value:function(e){var t=this.layers.indexOf(e);t>-1&&this.layers.splice(t,1),e.emit("remove",null),e.destroy(),this.renderLayers()}},{key:"removeAllLayers",value:function(){this.destroy()}},{key:"renderLayers",value:function(e){this.renderTest(e)&&(this.alreadyInRendering||(this.alreadyInRendering=!0,this.clear(),this.updateRenderOrder(),this.layers.filter((function(e){return e.inited})).filter((function(e){return e.isVisible()})).forEach((function(e){e.hooks.beforeRenderData.call(),e.hooks.beforeRender.call(),e.render(),e.hooks.afterRender.call()})),this.alreadyInRendering=!1))}},{key:"updateRenderOrder",value:function(){this.layers.sort((function(e,t){return e.zIndex-t.zIndex}))}},{key:"destroy",value:function(){this.layers.forEach((function(e){return e.destroy()})),this.layers=[],this.renderLayers()}},{key:"startAnimate",value:function(){0===this.animateInstanceCount++&&(this.clock.start(),this.runRender())}},{key:"stopAnimate",value:function(){0===--this.animateInstanceCount&&(this.stopRender(),this.clock.stop())}},{key:"getOESTextureFloat",value:function(){return this.renderService.extensionObject.OES_texture_float}},{key:"renderTest",value:function(e){var t=(new Date).getTime(),n=t-this.lastPickRenderTime;if("picking"===e&&(this.lastPickRenderTime=(new Date).getTime()),e)switch(e){case"picking":return"mapRender"===this.lastRenderType||"animate"===this.lastRenderType?(this.lastRenderType="picking",n>48):(this.lastRenderType="picking",!0);case"animate":return"mapRender"===this.lastRenderType?(this.lastRenderType="animate",!1):(this.lastRenderType="animate",!0);case"mapRender":return this.lastRenderType="mapRender",!0;default:return!0}return!0}},{key:"clear",value:function(){this.renderService.clear({color:[0,0,0,0],depth:1,stencil:0,framebuffer:null})}},{key:"runRender",value:function(){this.renderLayers("animate"),this.layerRenderID=requestAnimationFrame(this.runRender.bind(this))}},{key:"stopRender",value:function(){cancelAnimationFrame(this.layerRenderID)}}]),e}(),Ut=qe()(Bt.prototype,"renderService",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vt=qe()(Bt.prototype,"configService",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=Bt))||Ft),Qt=n("QILm"),$t=n.n(Qt),en=n("RIqP"),tn=n.n(en),nn=n("J2iB"),rn=n.n(nn),on=function(){function e(t){var n=this;l()(this,e),d()(this,"name",void 0),d()(this,"type",void 0),d()(this,"scale",void 0),d()(this,"descriptor",void 0),d()(this,"featureBufferLayout",[]),d()(this,"needRescale",!1),d()(this,"needRemapping",!1),d()(this,"needRegenerateVertices",!1),d()(this,"featureRange",{startIndex:0,endIndex:1/0}),d()(this,"vertexAttribute",void 0),d()(this,"defaultCallback",(function(e){var t;return 0===e.length?(null===(t=n.scale)||void 0===t?void 0:t.defaultValues)||[]:e.map((function(e,t){var r,i=null===(r=n.scale)||void 0===r?void 0:r.scalers[t].func,o=i(e);return o}))})),this.setProps(t)}return p()(e,[{key:"setProps",value:function(e){Object.assign(this,e)}},{key:"mapping",value:function(e){var t;if(null!==(t=this.scale)&&void 0!==t&&t.callback){var n,r=null===(n=this.scale)||void 0===n?void 0:n.callback.apply(n,tn()(e));if(!rn()(r))return[r]}return this.defaultCallback(e)}},{key:"resetDescriptor",value:function(){this.descriptor&&(this.descriptor.buffer.data=[])}}]),e}();function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var un,cn,ln,fn,pn,hn,dn,mn,vn,yn,gn,bn,xn,_n,wn,Sn,On,En,kn,Cn,jn,Tn,An,Pn,Mn,In,Ln,Rn,Dn,Nn,zn,Fn,Bn,Un=(Ht={},d()(Ht,It["a"].FLOAT,4),d()(Ht,It["a"].UNSIGNED_BYTE,1),d()(Ht,It["a"].UNSIGNED_SHORT,2),Ht),Vn=(qt=Object(o["injectable"])(),Gt=Object(o["inject"])(u["a"].IRendererService),qt((Zt=function(){function e(){l()(this,e),d()(this,"attributesAndIndices",void 0),Ve()(this,"rendererService",Yt,this),d()(this,"attributes",[]),d()(this,"triangulation",void 0),d()(this,"featureLayout",{sizePerElement:0,elements:[]})}return p()(e,[{key:"registerStyleAttribute",value:function(e){var t=this.getLayerStyleAttribute(e.name||"");return t?t.setProps(e):(t=new on(e),this.attributes.push(t)),t}},{key:"updateStyleAttribute",value:function(e,t,n){var r=this.getLayerStyleAttribute(e);r||(r=this.registerStyleAttribute(sn(sn({},t),{},{name:e})));var i=t.scale;i&&r&&(r.scale=i,r.needRescale=!0,r.needRemapping=!0,r.needRegenerateVertices=!0,n&&n.featureRange&&(r.featureRange=n.featureRange))}},{key:"getLayerStyleAttributes",value:function(){return this.attributes}},{key:"getLayerStyleAttribute",value:function(e){return this.attributes.find((function(t){return t.name===e}))}},{key:"getLayerAttributeScale",value:function(e){var t,n=this.getLayerStyleAttribute(e),r=null===n||void 0===n||null===(t=n.scale)||void 0===t?void 0:t.scalers;return r&&r[0]?r[0].func:null}},{key:"updateAttributeByFeatureRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=this.attributes.find((function(t){return t.name===e}));if(i&&i.descriptor){var o=i.descriptor,a=o.update,s=o.buffer,u=o.size,c=void 0===u?0:u,l=Un[s.type||It["a"].FLOAT];if(a){var f=this.featureLayout,p=f.elements,h=f.sizePerElement,d=p.slice(n,r);if(!d.length)return;var m=d[0].offset,v=m*c*l,y=d.map((function(e,n){for(var r=e.featureIdx,i=e.vertices,o=e.normals,s=i.length/h,u=[],c=0;c<s;c++){var l=o?o.slice(3*c,3*c+3):[];u.push.apply(u,tn()(a(t[r],r,i.slice(c*h,c*h+h),n,l)))}return u})).reduce((function(e,t){return e.push.apply(e,tn()(t)),e}),[]);i.vertexAttribute.updateBuffer({data:y,offset:v})}}}},{key:"createAttributesAndIndices",value:function(e,t,n){var r=this;this.featureLayout={sizePerElement:0,elements:[]},t&&(this.triangulation=t);var i=this.attributes.map((function(e){return e.resetDescriptor(),e.descriptor})),o=0,a=[],s=3;e.forEach((function(e,t){var u=r.triangulation(e,n),c=u.indices,l=u.vertices,f=u.normals,p=u.size;c.forEach((function(e){a.push(e+o)})),s=p;var h=l.length/p;r.featureLayout.sizePerElement=s,r.featureLayout.elements.push({featureIdx:t,vertices:l,normals:f,offset:o}),o+=h;for(var d=function(n){var r=(null===f||void 0===f?void 0:f.slice(3*n,3*n+3))||[],o=l.slice(n*p,n*p+p);i.forEach((function(i,a){var s;i&&i.update&&(s=i.buffer.data).push.apply(s,tn()(i.update(e,t,o,n,r)))}))},m=0;m<h;m++)d(m)}));var u=this.rendererService,c=u.createAttribute,l=u.createBuffer,f=u.createElements,p={};i.forEach((function(e,t){if(e){var n=e.buffer,i=(e.update,e.name,$t()(e,["buffer","update","name"])),o=c(sn({buffer:l(n)},i));p[e.name||""]=o,r.attributes[t].vertexAttribute=o}}));var h=f({data:a,type:It["a"].UNSIGNED_INT,count:a.length});return this.attributesAndIndices={attributes:p,elements:h},this.attributesAndIndices}},{key:"clearAllAttributes",value:function(){var e;this.attributes.forEach((function(e){e.vertexAttribute&&e.vertexAttribute.destroy()})),null===(e=this.attributesAndIndices)||void 0===e||e.elements.destroy(),this.attributes=[]}}]),e}(),Yt=qe()(Zt.prototype,"rendererService",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=Zt))||Wt),Hn=n("xp6e"),qn=n("iegG"),Gn=n.n(qn);function Wn(e){var t=Zn();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function Zn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Yn=(un=Object(o["injectable"])(),cn=Object(o["inject"])(u["a"].SceneID),ln=Object(o["inject"])(u["a"].IIconService),fn=Object(o["inject"])(u["a"].IFontService),pn=Object(o["inject"])(u["a"].IControlService),hn=Object(o["inject"])(u["a"].IGlobalConfigService),dn=Object(o["inject"])(u["a"].IMapService),mn=Object(o["inject"])(u["a"].ICoordinateSystemService),vn=Object(o["inject"])(u["a"].IRendererService),yn=Object(o["inject"])(u["a"].ILayerService),gn=Object(o["inject"])(u["a"].ICameraService),bn=Object(o["inject"])(u["a"].IInteractionService),xn=Object(o["inject"])(u["a"].IPickingService),_n=Object(o["inject"])(u["a"].IShaderModuleService),wn=Object(o["inject"])(u["a"].IMarkerService),Sn=Object(o["inject"])(u["a"].IPopupService),un((En=function(e){te()(n,e);var t=Wn(n);function n(){var e;return l()(this,n),e=t.call(this),d()($()(e),"destroyed",!1),d()($()(e),"loaded",!1),d()($()(e),"loadFont",!1),d()($()(e),"fontFamily",""),Ve()($()(e),"id",kn,$()(e)),Ve()($()(e),"iconService",Cn,$()(e)),Ve()($()(e),"fontService",jn,$()(e)),Ve()($()(e),"controlService",Tn,$()(e)),Ve()($()(e),"configService",An,$()(e)),Ve()($()(e),"map",Pn,$()(e)),Ve()($()(e),"coordinateSystemService",Mn,$()(e)),Ve()($()(e),"rendererService",In,$()(e)),Ve()($()(e),"layerService",Ln,$()(e)),Ve()($()(e),"cameraService",Rn,$()(e)),Ve()($()(e),"interactionService",Dn,$()(e)),Ve()($()(e),"pickingService",Nn,$()(e)),Ve()($()(e),"shaderModuleService",zn,$()(e)),Ve()($()(e),"markerService",Fn,$()(e)),Ve()($()(e),"popupService",Bn,$()(e)),d()($()(e),"inited",!1),d()($()(e),"initPromise",void 0),d()($()(e),"rendering",!1),d()($()(e),"$container",void 0),d()($()(e),"canvas",void 0),d()($()(e),"markerContainer",void 0),d()($()(e),"hooks",void 0),d()($()(e),"handleWindowResized",(function(){e.emit("resize"),e.$container&&(e.initContainer(),m["a"].triggerResize(),e.coordinateSystemService.needRefresh=!0,e.render())})),d()($()(e),"handleMapCameraChanged",(function(t){e.cameraService.update(t),e.render("mapRender")})),e.hooks={init:new Hn["a"]},e}return p()(n,[{key:"init",value:function(e){var t=this;this.configService.setSceneConfig(this.id,e),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.fontService.init(),this.hooks.init.tapPromise("initMap",vt()(gt.a.mark((function e(){return gt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){t.map.onCameraChanged((function(n){t.cameraService.init(),t.cameraService.update(n),"GAODE2.x"!==t.map.version&&e()})),"GAODE2.x"!==t.map.version?t.map.init():e()}));case 2:if("GAODE2.x"!==t.map.version||!t.map.initViewPort){e.next=6;break}return e.next=5,t.map.init();case 5:t.map.initViewPort();case 6:t.map.onCameraChanged(t.handleMapCameraChanged),t.map.addMarkerContainer(),t.markerService.addMarkers(),t.markerService.addMarkerLayers(),t.popupService.initPopup(),t.interactionService.init(),t.interactionService.on(lt["a"].Drag,t.addSceneEvent.bind(t));case 13:case"end":return e.stop()}}),e)})))),this.hooks.init.tapPromise("initRenderer",vt()(gt.a.mark((function e(){var n;return gt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=xt(t.configService.getSceneConfig(t.id).id||""),t.$container=n,!n){e.next=11;break}return t.canvas=m["a"].create("canvas","",n),t.setCanvas(),e.next=7,t.rendererService.init(t.canvas,t.configService.getSceneConfig(t.id));case 7:Gn()(t.$container,t.handleWindowResized),window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)").addListener(t.handleWindowResized),e.next=12;break;case 11:console.error("\u5bb9\u5668 id \u4e0d\u5b58\u5728");case 12:t.pickingService.init(t.id);case 13:case"end":return e.stop()}}),e)})))),this.initPromise=this.hooks.init.promise(),this.render()}},{key:"addLayer",value:function(e){this.layerService.add(e),this.render()}},{key:"render",value:function(){var e=vt()(gt.a.mark((function e(t){return gt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.rendering&&!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:if(this.rendering=!0,this.inited){e.next=15;break}return e.next=6,this.initPromise;case 6:if(this.destroyed&&this.destroy(),!this.loadFont||!document.fonts){e.next=10;break}return e.next=10,document.fonts.load("24px ".concat(this.fontFamily),"L7text");case 10:this.layerService.initLayers(),this.controlService.addControls(),this.loaded=!0,this.emit("loaded"),this.inited=!0;case 15:this.layerService.renderLayers(t),this.rendering=!1;case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addFontFace",value:function(e,t){this.fontFamily=e;var n=document.createElement("style");n.type="text/css",n.innerText="\n        @font-face{\n            font-family: '".concat(e,"';\n            src: url('").concat(t,"') format('woff2'),\n            url('").concat(t,"') format('woff'),\n            url('").concat(t,"') format('truetype');\n        }"),document.getElementsByTagName("head")[0].appendChild(n),this.loadFont=!0}},{key:"getSceneContainer",value:function(){return this.$container}},{key:"exportPng",value:function(e){var t,n=null===(t=this.$container)||void 0===t?void 0:t.getElementsByTagName("canvas")[0];this.render();var r="jpg"===e?null===n||void 0===n?void 0:n.toDataURL("image/jpeg"):null===n||void 0===n?void 0:n.toDataURL("image/png");return r}},{key:"getSceneConfig",value:function(){return this.configService.getSceneConfig(this.id)}},{key:"addMarkerContainer",value:function(){var e=this.$container.parentElement;null!==e&&(this.markerContainer=m["a"].create("div","l7-marker-container",e))}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"destroy",value:function(){var e,t;this.inited?(this.emit("destroy"),this.layerService.destroy(),this.rendererService.destroy(),this.map.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),null===(e=this.$container)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(this.$container),this.removeAllListeners(),this.inited=!1,Object(qn["unbind"])(this.$container,this.handleWindowResized),window.matchMedia("screen and (min-resolution: 2dppx)").removeListener(this.handleWindowResized)):this.destroyed=!0}},{key:"initContainer",value:function(){var e,t,n=m["a"].DPR,r=(null===(e=this.$container)||void 0===e?void 0:e.clientWidth)||400,i=(null===(t=this.$container)||void 0===t?void 0:t.clientHeight)||300,o=this.canvas;o&&(o.width=r*n,o.height=i*n,o.style.width="".concat(r,"px"),o.style.height="".concat(i,"px")),this.rendererService.viewport({x:0,y:0,width:n*r,height:n*i})}},{key:"setCanvas",value:function(){var e,t,n=m["a"].DPR,r=(null===(e=this.$container)||void 0===e?void 0:e.clientWidth)||400,i=(null===(t=this.$container)||void 0===t?void 0:t.clientHeight)||300,o=this.canvas;o.width=r*n,o.height=i*n,o.style.width="".concat(r,"px"),o.style.height="".concat(i,"px")}},{key:"addSceneEvent",value:function(e){this.emit(e.type,e)}}]),n}(r["EventEmitter"]),kn=qe()(En.prototype,"id",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cn=qe()(En.prototype,"iconService",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jn=qe()(En.prototype,"fontService",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tn=qe()(En.prototype,"controlService",[pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),An=qe()(En.prototype,"configService",[hn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pn=qe()(En.prototype,"map",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mn=qe()(En.prototype,"coordinateSystemService",[mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),In=qe()(En.prototype,"rendererService",[vn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ln=qe()(En.prototype,"layerService",[yn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rn=qe()(En.prototype,"cameraService",[gn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dn=qe()(En.prototype,"interactionService",[bn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nn=qe()(En.prototype,"pickingService",[xn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zn=qe()(En.prototype,"shaderModuleService",[_n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fn=qe()(En.prototype,"markerService",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bn=qe()(En.prototype,"popupService",[Sn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),On=En))||On),Xn=n("7tbW"),Kn=n.n(Xn);function Jn(e){var t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16;break;default:}return t}var Qn,$n,er=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function tr(e){var t={};return e=e.replace(er,(function(e,n,r){var i=r.split(":"),o=i[0].trim(),a="";switch(i.length>1&&(a=i[1].trim()),n){case"bool":a="true"===a;break;case"float":case"int":a=Number(a);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":a=a?a.replace("[","").replace("]","").split(",").reduce((function(e,t){return e.push(Number(t.trim())),e}),[]):new Array(Jn(n)).fill(0);break;default:}return t[o]=a,"uniform ".concat(n," ").concat(o,";\n")})),{content:e,uniforms:t}}function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ir,or,ar,sr,ur,cr,lr,fr="#define PI 3.14159265359",pr="#define SHIFT_RIGHT17 1.0 / 131072.0\n#define SHIFT_RIGHT18 1.0 / 262144.0\n#define SHIFT_RIGHT19 1.0 / 524288.0\n#define SHIFT_RIGHT20 1.0 / 1048576.0\n#define SHIFT_RIGHT21 1.0 / 2097152.0\n#define SHIFT_RIGHT22 1.0 / 4194304.0\n#define SHIFT_RIGHT23 1.0 / 8388608.0\n#define SHIFT_RIGHT24 1.0 / 16777216.0\n\n#define SHIFT_LEFT17 131072.0\n#define SHIFT_LEFT18 262144.0\n#define SHIFT_LEFT19 524288.0\n#define SHIFT_LEFT20 1048576.0\n#define SHIFT_LEFT21 2097152.0\n#define SHIFT_LEFT22 4194304.0\n#define SHIFT_LEFT23 8388608.0\n#define SHIFT_LEFT24 16777216.0\n\nvec2 unpack_float(float packedValue) {\n  int packedIntValue = int(packedValue);\n  int v0 = packedIntValue / 256;\n  return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec4 decode_color(vec2 encodedColor) {\n  return vec4(\n    unpack_float(encodedColor[0]) / 255.0,\n    unpack_float(encodedColor[1]) / 255.0\n  );\n}\n",hr="#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\n\nfloat calc_lighting(vec4 pos) {\n\n    vec3 worldPos = vec3(pos * u_ModelMatrix);\n\n    vec3 worldNormal = a_Normal;\n      // //cal light weight\n    vec3 viewDir = normalize(u_CameraPosition - worldPos);\n\n    vec3 lightDir = normalize(vec3(1, -10.5, 12));\n\n    vec3 halfDir = normalize(viewDir+lightDir);\n      // //lambert\n    float lambert = dot(worldNormal, lightDir);\n        //specular\n    float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);\n        //sum to light weight\n    float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;\n\n    return lightWeight;\n}\n",dr="// Blinn-Phong model\n// apply lighting in vertex shader instead of fragment shader\n// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting\nuniform float u_Ambient : 1.0;\nuniform float u_Diffuse : 1.0;\nuniform float u_Specular : 1.0;\nuniform int u_NumOfDirectionalLights : 1;\nuniform int u_NumOfSpotLights : 0;\n\n#define SHININESS 32.0\n#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3\n#define MAX_NUM_OF_SPOT_LIGHTS 3\n\nstruct DirectionalLight {\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n};\n\nstruct SpotLight {\n  vec3 position;\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n  float constant;\n  float linear;\n  float quadratic;\n  float angle;\n  float blur;\n  float exponent;\n};\n\nuniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];\nuniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];\n\nvec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {\n  vec3 lightDir = normalize(light.direction);\n  // diffuse shading\n  float diff = max(dot(normal, lightDir), 0.0);\n  // Blinn-Phong specular shading\n  vec3 halfwayDir = normalize(lightDir + viewDir);\n  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);\n\n  vec3 ambient = light.ambient * u_Ambient;\n  vec3 diffuse = light.diffuse * diff * u_Diffuse;\n  vec3 specular = light.specular * spec * u_Specular;\n\n  return ambient + diffuse + specular;\n}\n\n// vec3 calc_spot_light(SpotLight light, vec3 normal, vec3 fragPos, vec3 viewDir) {\n//   vec3 lightDir = normalize(light.position - fragPos);\n//   // diffuse shading\n//   float diff = max(dot(normal, lightDir), 0.0);\n//   // specular shading\n//   vec3 reflectDir = reflect(-lightDir, normal);\n//   float spec = pow(max(dot(viewDir, reflectDir), 0.0), SHININESS);\n//   // attenuation\n//   float distance = length(light.position - fragPos);\n//   float attenuation = 1.0 / (light.constant + light.linear * distance +\n//           light.quadratic * (distance * distance));\n\n//   vec3 ambient = light.ambient * u_Ambient;\n//   vec3 diffuse = light.diffuse * diff * u_Diffuse;\n//   vec3 specular = light.specular * spec * u_Specular;\n\n//   float spotEffect = dot(normalize(light.direction), -lightDir);\n//   float spotCosCutoff = cos(light.angle / 180.0 * PI);\n//   float spotCosOuterCutoff = cos((light.angle + light.blur) / 180.0 * PI);\n//   float spotCosInnerCutoff = cos((light.angle - light.blur) / 180.0 * PI);\n//   if (spotEffect > spotCosCutoff) {\n//     spotEffect = pow(smoothstep(spotCosOuterCutoff, spotCosInnerCutoff, spotEffect), light.exponent);\n//   } else {\n//     spotEffect = 0.0;\n//   }\n\n//   return ambient + attenuation * (spotEffect * diffuse + specular);\n// }\n\nvec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {\n  vec3 weight = vec3(0.0);\n  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {\n    if (i >= u_NumOfDirectionalLights) {\n      break;\n    }\n    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);\n  }\n  // for (int i = 0; i < MAX_NUM_OF_SPOT_LIGHTS; i++) {\n  //   if (i >= u_NumOfSpotLights) {\n  //     break;\n  //   }\n  //   weight += calc_spot_light(u_SpotLights[i], normal, position, viewDir);\n  // }\n  return weight;\n}\n",mr="varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\n\n#define PICKING_NONE 0.0\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color) {\n  bool selected = bool(v_PickingResult.a);\n\n  if (selected) {\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(resultRGB, color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  return filterPickingColor(filterHighlightColor(color));\n}\n",vr="attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\n\n#define PICKING_NONE 0.0\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  // compares only in highlight stage\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}\n\nfloat setPickingOrder(float z) {\n   bool selected = bool(v_PickingResult.a);\n   return selected ? z + 1. : 0.;\n}\n",yr="\n#define E 2.718281828459045\nvec2 ProjectFlat(vec2 lnglat){\n  float maxs=85.0511287798;\n  float lat=max(min(maxs,lnglat.y),-maxs);\n  float scale= 268435456.;\n  float d=PI/180.;\n  float x=lnglat.x*d;\n  float y=lat*d;\n  y=log(tan((PI/4.)+(y/2.)));\n\n  float a=.5/PI,\n  b=.5,\n  c=-.5/PI;\n  d=.5;\n  x=scale*(a*x+b);\n  y=scale*(c*y+d);\n  return vec2(x,y);\n}\n\nvec2 unProjectFlat(vec2 px){\n  float a=.5/PI;\n  float b=.5;\n  float c=-.5/PI;\n  float d=.5;\n  float scale = 268435456.;\n  float x=(px.x/scale-b)/a;\n  float y=(px.y/scale-d)/c;\n  y=(atan(pow(E,y))-(PI/4.))*2.;\n  d=PI/180.;\n  float lat=y/d;\n  float lng=x/d;\n  return vec2(lng,lat);\n}\n\nfloat pixelDistance(vec2 from, vec2 to) {\n vec2 a1 = ProjectFlat(from);\n vec2 b1 = ProjectFlat(to);\n return distance(a1, b1);\n}\n\n// gaode2.0\nvec2 customProject(vec2 lnglat) { // \u7ecf\u7eac\u5ea6 => \u5e73\u9762\u5750\u6807\n  float t = lnglat.x;\n  float e = lnglat.y;\n  float Sm = 180.0 / PI;\n  float Tm = 6378137.0;\n  float Rm = PI / 180.0;\n  float r = 85.0511287798;\n  e = max(min(r, e), -r);\n  t *= Rm;\n  e *= Rm;\n  e = log(tan(PI / 4.0 + e / 2.0));\n  return vec2(t * Tm, e * Tm);\n}\n\nvec2 unProjCustomCoord(vec2 point) { // \u5e73\u9762\u5750\u6807 => \u7ecf\u7eac\u5ea6\n  float Sm = 57.29577951308232; //180 / Math.PI\n  float Tm = 6378137.0;\n  float t = point.x;\n  float e = point.y;\n  return vec2(t / Tm * Sm, (2.0 * atan(exp(e / Tm)) - PI / 2.0) * Sm);\n}\n\n\nfloat customPixelDistance(vec2 from, vec2 to) {\n vec2 a1 = ProjectFlat(from);\n vec2 b1 = ProjectFlat(to);\n return distance(a1, b1);\n}",gr="#define TILE_SIZE 512.0\n#define PI 3.1415926536\n#define WORLD_SCALE TILE_SIZE / (PI * 2.0)\n\n#define COORDINATE_SYSTEM_LNGLAT 1.0\n#define COORDINATE_SYSTEM_LNGLAT_OFFSET 2.0\n#define COORDINATE_SYSTEM_VECTOR_TILE 3.0\n#define COORDINATE_SYSTEM_IDENTITY 4.0\n#define COORDINATE_SYSTEM_P20 5.0\n#define COORDINATE_SYSTEM_P20_OFFSET 6.0\n#define COORDINATE_SYSTEM_METER_OFFSET 7.0\n\n#define COORDINATE_SYSTEM_P20_2 8.0\n\nuniform mat4 u_ViewMatrix;\nuniform mat4 u_ProjectionMatrix;\nuniform mat4 u_ViewProjectionMatrix;\nuniform float u_Zoom : 1;\nuniform float u_ZoomScale : 1;\n\nuniform float u_CoordinateSystem;\nuniform vec2 u_ViewportCenter;\nuniform vec4 u_ViewportCenterProjection;\nuniform vec3 u_PixelsPerDegree;\nuniform vec3 u_PixelsPerDegree2;\nuniform vec3 u_PixelsPerMeter;\n\nuniform vec2 u_ViewportSize;\nuniform float u_DevicePixelRatio;\nuniform float u_FocalDistance;\nuniform vec3 u_CameraPosition;\n\n// uniform mat4 u_Mvp;\n\n// web mercator coords -> world coords\nvec2 project_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  return vec2(\n    radians(x) + PI,\n    PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5))\n  );\n}\n\nfloat project_scale(float meters) {\n  return meters * u_PixelsPerMeter.z;\n}\n\n\n// offset coords -> world coords\nvec4 project_offset(vec4 offset) {\n  float dy = offset.y;\n  dy = clamp(dy, -1., 1.);\n  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;\n  return vec4(offset.xyz * pixels_per_unit, offset.w);\n}\n\nvec3 project_normal(vec3 normal) {\n  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);\n  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);\n}\n\nvec3 project_offset_normal(vec3 vector) {\n  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01\n    || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // normals generated by the polygon tesselator are in lnglat offsets instead of meters\n    return normalize(vector * u_PixelsPerDegree);\n  }\n  return project_normal(vector);\n}\n// || u_CoordinateSystem < COORDINATE_SYSTEM_P20_OFFSET + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_P20_OFFSET - 0.01\n// reverse Y\nvec3 reverse_offset_normal(vec3 vector) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 ||u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET ) {\n    return vector * vec3(1.0, -1.0, 1.0);\n  }\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.0\n    return vector;\n  }\n  return vector;\n}\n\nvec4 project_position(vec4 position) {\n  float a = COORDINATE_SYSTEM_LNGLAT_OFFSET;\n  float b = COORDINATE_SYSTEM_P20_OFFSET;\n  float c = COORDINATE_SYSTEM_LNGLAT;\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n    || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    float X = position.x - u_ViewportCenter.x;\n    float Y = position.y - u_ViewportCenter.y;\n    return project_offset(vec4(X, Y, position.z, position.w));\n  }\n  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01) {\n    return vec4(\n      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,\n      project_scale(position.z),\n      position.w\n    );\n  }\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20) {\n    return vec4(\n      (project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale - vec2(215440491., 106744817.)) * vec2(1., -1.),\n      project_scale(position.z),\n      position.w\n    );\n  }\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // return vec4(\n    //   (position.xy * WORLD_SCALE * u_ZoomScale) * vec2(1., -1.), \n    //   project_scale(position.z), \n    //   position.w);\n\n     return vec4(\n      position.xy, \n      project_scale(position.z), \n      position.w);\n  }\n  return position;\n\n  // TODO: \u74e6\u7247\u5750\u6807\u7cfb & \u5e38\u89c4\u4e16\u754c\u5750\u6807\u7cfb\n}\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;\n  return offset * u_FocalDistance;\n}\n\nfloat project_pixel_allmap(float pixel) {\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n    return pixel * pow(2.0, u_Zoom);\n  }\n  return pixel;\n}\n\nfloat project_pixel(float pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // P20_2 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf3\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));\n  }\n  return pixel;\n}\nvec2 project_pixel(vec2 pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // P20_2 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf3\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));\n  }\n  return pixel * -1.;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n    position.w *= u_PixelsPerMeter.z;\n  }\n\n  return viewProjectionMatrix * position + center;\n}\n\n// Projects from common space coordinates to clip space\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(\n    position,\n    u_ViewProjectionMatrix,\n    u_ViewportCenterProjection\n  );\n}\n\nvec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {\n  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n     pos.w = pos.w / u_PixelsPerMeter.z;\n  }\n  return pos;\n}\n\n\nbool isEqual( float a,  float b) {\n    return  a< b + 0.001 && a > b - 0.001;\n}",br="/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}\n",xr="attribute float a_vertexId;\n\nuniform mat4 u_cellTypeLayout;      // \u63cf\u8ff0\u6570\u636e\u7eb9\u7406 cell \u7ed3\u6784\u7684\u77e9\u9635\nuniform sampler2D u_dataTexture;    // \u6570\u636e\u7eb9\u7406\n\nbool hasOpacity() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 opacity \u7684\u6570\u636e\n  return u_cellTypeLayout[1][0] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasStrokeOpacity() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 strokeOpacity \u7684\u6570\u636e\n  return u_cellTypeLayout[1][1] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasStrokeWidth() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 strokeWidth \u7684\u6570\u636e\n  return u_cellTypeLayout[1][2] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasStroke() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 stroke \u7684\u6570\u636e\n  return u_cellTypeLayout[1][3] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasOffsets() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 offsets \u7684\u6570\u636e\n  return u_cellTypeLayout[2][0] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\n// \u6839\u636e\u5750\u6807\u4f4d\u7f6e\u5148\u662f\u8ba1\u7b97 uv \uff0c\u7136\u540e\u6839\u636e uv \u4ece\u6570\u636e\u7eb9\u7406\u4e2d\u53d6\u503c\nfloat pos2value(vec2 pos, float columnWidth, float rowHeight) {\n  float u = (pos.r - 1.0) * columnWidth + columnWidth/2.0;\n  float v = 1.0 - ((pos.g - 1.0) * rowHeight + rowHeight/2.0);\n  return texture2D(u_dataTexture, vec2(u, v)).r;\n}\n\n/*\n  currentRow \u5f53\u524d\u884c\n  currentColumn \u5f53\u524d\u5217\n  columnCount \u6709\u591a\u5c11\u5217\n  nextStep \u9700\u8981\u8ba1\u7b97\u5f53\u524d cell \u540e\u7684\u7b2c\u51e0\u4e2a cell \uff08\u5f53\u524d cell \u5219 nextStep = 0\uff09\n*/\nvec2 nextPos(float currentRow, float currentColumn, float columnCount, float nextStep) {\n  float nextColumn = currentColumn;\n  float nextRow = currentRow;\n  if(currentColumn + nextStep <= columnCount){\n    nextColumn = currentColumn + nextStep;\n  } else {\n    nextColumn = mod(currentColumn + nextStep, columnCount); // \u4e0d\u4f1a\u51fa\u73b0\u8de8\u4e24\u884c\n    nextRow = currentRow + 1.0;\n  }\n  return vec2(nextColumn, nextRow);\n}\n\n// \u8ba1\u7b97\u5f53\u524d\u5355\u4e2a cell \u7684\u5927\u5c0f\nfloat calCellCount() { \n  //   u_cellTypeLayout\n  //   cal_height, WIDTH, 0.0, 0.0, // rowCount columnCount - \u51e0\u884c\u51e0\u5217\n  //   1.0, 1.0, 1.0, 0.0, // opacity strokeOpacity strokeWidth stroke - 1.0 \u8868\u793a\u6709\u6570\u636e\u6620\u5c04\u30010.0 \u8868\u793a\u6ca1\u6709\n  //   1.0, 0.0, 0.0, 0.0, // offsets\n  //   0.0, 0.0, 0.0, 0.0\n  \n  return  u_cellTypeLayout[1][0] +        // opacity\n          u_cellTypeLayout[1][1] +        // strokeOpacity\n          u_cellTypeLayout[1][2] +        // strokeWidth\n          u_cellTypeLayout[1][3] * 4.0 +  // stroke\n          u_cellTypeLayout[2][0] * 2.0;   // offsets\n}",_r="\n// \u8ba1\u7b97 opacity \u548c\u6807\u793a\u5728 cell \u4e2d\u53d6\u503c\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf textureOffset\nvec2 calOpacityAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {\n  if(!hasOpacity()) { // \u6570\u636e\u7eb9\u7406\u4e2d\u4e0d\u5b58\u5728 opacity \u7684\u65f6\u5019\u53d6\u9ed8\u8ba4\u503c\uff08\u7528\u6237\u5728 style \u4e2d\u4f20\u5165\u7684\u662f\u5e38\u91cf\uff09\n    return vec2(u_opacity, textureOffset);\n  } else {\n    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    float textureOpacity = pos2value(valuePos, columnWidth, rowHeight);\n    return vec2(textureOpacity, textureOffset + 1.0);\n  }\n}\n",wr="\n// \u8ba1\u7b97 strokeOpaicty \u548c\u6807\u793a\u5728 cell \u4e2d\u53d6\u503c\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf textureOffset\nvec2 calStrokeOpacityAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {\n  if(!hasStrokeOpacity()) {\n    return vec2(u_stroke_opacity, textureOffset);\n  } else {\n    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    float textureStrokeOpacity = pos2value(valuePos, columnWidth, rowHeight);\n    return vec2(textureStrokeOpacity, textureOffset + 1.0);\n  }\n}\n",Sr="\n// \u8ba1\u7b97 strokeWidth \u548c\u6807\u793a\u5728 cell \u4e2d\u53d6\u503c\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf textureOffset\nvec2 calStrokeWidthAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {\n  if(!hasStrokeWidth()) {\n    return vec2(u_stroke_width, textureOffset);\n  } else {\n    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    float textureStrokeWidth = pos2value(valuePos, columnWidth, rowHeight);\n    return vec2(textureStrokeWidth, textureOffset + 1.0);\n  }\n}\n",Or=/precision\s+(high|low|medium)p\s+float/,Er="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n",kr=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,Cr=(Qn=Object(o["injectable"])(),Qn($n=function(){function e(){l()(this,e),d()(this,"moduleCache",{}),d()(this,"rawContentCache",{})}return p()(e,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("common",{vs:fr,fs:fr}),this.registerModule("decode",{vs:pr,fs:""}),this.registerModule("projection",{vs:gr,fs:""}),this.registerModule("project",{vs:yr,fs:""}),this.registerModule("sdf_2d",{vs:"",fs:br}),this.registerModule("lighting",{vs:dr,fs:""}),this.registerModule("light",{vs:hr,fs:""}),this.registerModule("picking",{vs:vr,fs:mr}),this.registerModule("styleMapping",{vs:xr,fs:""}),this.registerModule("styleMappingCalOpacity",{vs:_r,fs:""}),this.registerModule("styleMappingCalStrokeOpacity",{vs:wr,fs:""}),this.registerModule("styleMappingCalStrokeWidth",{vs:Sr,fs:""})}},{key:"registerModule",value:function(e,t){if(!this.rawContentCache[e]){var n=t.vs,r=t.fs,i=t.uniforms,o=tr(n),a=o.content,s=o.uniforms,u=tr(r),c=u.content,l=u.uniforms;this.rawContentCache[e]={fs:c,uniforms:rr(rr(rr({},s),l),i),vs:a}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(e){var t=this;if(this.moduleCache[e])return this.moduleCache[e];var n=this.rawContentCache[e].vs,r=this.rawContentCache[e].fs,i=this.processModule(n,[],"vs"),o=i.content,a=i.includeList,s=this.processModule(r,[],"fs"),u=s.content,c=s.includeList,l=u,f=Kn()(a.concat(c).concat(e)).reduce((function(e,n){return rr(rr({},e),t.rawContentCache[n].uniforms)}),{});return Or.test(u)||(l=Er+u),this.moduleCache[e]={fs:l.trim(),uniforms:f,vs:o.trim()},this.moduleCache[e]}},{key:"processModule",value:function(e,t,n){var r=this,i=e.replace(kr,(function(e,i){var o=i.split(" "),a=o[0].replace(/"/g,"");if(t.indexOf(a)>-1)return"";var s=r.rawContentCache[a][n];t.push(a);var u=r.processModule(s,t,n),c=u.content;return c}));return{content:i,includeList:t}}}]),e}())||$n),jr=n("iWIM"),Tr=n.n(jr),Ar=n("bPkA"),Pr=(ir=Object(o["injectable"])(),or=Object(o["inject"])(u["a"].IShaderModuleService),ir((sr=function(){function e(){l()(this,e),Ve()(this,"shaderModuleService",ur,this),d()(this,"rendererService",void 0),d()(this,"cameraService",void 0),d()(this,"mapService",void 0),d()(this,"interactionService",void 0),d()(this,"layerService",void 0),d()(this,"config",void 0)}return p()(e,[{key:"getName",value:function(){return""}},{key:"getType",value:function(){return Ar["a"].Normal}},{key:"init",value:function(e,t){this.config=t,this.rendererService=e.getContainer().get(u["a"].IRendererService),this.cameraService=e.getContainer().get(u["a"].ICameraService),this.mapService=e.getContainer().get(u["a"].IMapService),this.interactionService=e.getContainer().get(u["a"].IInteractionService),this.layerService=e.getContainer().get(u["a"].ILayerService)}},{key:"render",value:function(e){}}]),e}(),ur=qe()(sr.prototype,"shaderModuleService",[or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ar=sr))||ar);function Mr(e){var t=Ir();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function Ir(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Lr,Rr,Dr,Nr,zr,Fr=(cr=Object(o["injectable"])(),cr(lr=function(e){te()(n,e);var t=Mr(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"getName",value:function(){return"clear"}},{key:"init",value:function(e,t){Tr()(oe()(n.prototype),"init",this).call(this,e,t)}},{key:"render",value:function(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null})}}]),n}(Pr))||lr);function Br(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ur(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function Ur(e,t){if(e){if("string"===typeof e)return Vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vr(e,t):void 0}}function Vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hr,qr,Gr=(Lr=Object(o["injectable"])(),Rr=Object(o["inject"])(u["a"].IPostProcessor),Lr((Nr=function(){function e(){l()(this,e),d()(this,"passes",[]),Ve()(this,"postProcessor",zr,this),d()(this,"layer",void 0),d()(this,"renderFlag",void 0),d()(this,"width",0),d()(this,"height",0)}return p()(e,[{key:"setLayer",value:function(e){this.layer=e}},{key:"setRenderFlag",value:function(e){this.renderFlag=e}},{key:"getRenderFlag",value:function(){return this.renderFlag}},{key:"getPostProcessor",value:function(){return this.postProcessor}},{key:"render",value:function(){var e=vt()(gt.a.mark((function e(){var t,n,r;return gt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Br(this.passes),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r.render(this.layer);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:this.layer.renderModels();case 18:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"resize",value:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t)}},{key:"add",value:function(e,t){e.getType()===Ar["a"].PostProcessing?this.postProcessor.add(e,this.layer,t):(e.init(this.layer,t),this.passes.push(e))}},{key:"insert",value:function(e,t,n){e.init(this.layer,t),this.passes.splice(n,0,e)}},{key:"destroy",value:function(){this.passes.length=0}}]),e}(),zr=qe()(Nr.prototype,"postProcessor",[Rr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dr=Nr))||Dr);function Wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yr(e){var t=Xr();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function Xr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Kr,Jr,Qr=(Hr=Object(o["injectable"])(),Hr(qr=function(e){te()(n,e);var t=Yr(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),d()($()(e),"pickingFBO",void 0),d()($()(e),"layer",void 0),d()($()(e),"width",0),d()($()(e),"height",0),d()($()(e),"alreadyInRendering",!1),d()($()(e),"pickFromPickingFBO",(function(t){var n=t.x,r=t.y,i=t.lngLat,o=t.type;if(e.layer.isVisible()&&e.layer.needPick(o)){var a,s=e.rendererService,u=s.getViewportSize,c=s.readPixels,l=s.useFramebuffer,f=u(),p=f.width,h=f.height,d=e.layer.getLayerConfig(),v=d.enableHighlight,y=d.enableSelect,g=n*m["a"].DPR,b=r*m["a"].DPR;if(!(g>p||g<0||b>h||b<0))l(e.pickingFBO,(function(){var t;if(a=c({x:Math.round(g),y:Math.round(h-(r+1)*m["a"].DPR),width:1,height:1,data:new Uint8Array(4),framebuffer:e.pickingFBO}),0!==a[0]||0!==a[1]||0!==a[2]){var s=Object(m["k"])(a),u=e.layer.getSource().getFeatureById(s),l={x:n,y:r,type:o,lngLat:i,featureId:s,feature:u};u&&(e.layer.setCurrentPickId(s),e.triggerHoverOnLayer(l))}else{var f={x:n,y:r,lngLat:i,type:null===e.layer.getCurrentPickId()?"un"+o:"mouseout",featureId:null,feature:null};e.triggerHoverOnLayer(Zr(Zr({},f),{},{type:"unpick"})),e.triggerHoverOnLayer(f),e.layer.setCurrentPickId(null)}v&&e.highlightPickedFeature(a),y&&"click"===o&&(null===(t=a)||void 0===t?void 0:t.toString())!==[0,0,0,0].toString()&&e.selectFeature(a)}))}})),e}return p()(n,[{key:"getType",value:function(){return Ar["a"].Normal}},{key:"getName",value:function(){return"pixelPicking"}},{key:"init",value:function(e,t){Tr()(oe()(n.prototype),"init",this).call(this,e,t),this.layer=e;var r=this.rendererService,i=r.createTexture2D,o=r.createFramebuffer,a=r.getViewportSize,s=a(),u=s.width,c=s.height;this.pickingFBO=o({color:i({width:u,height:c,wrapS:It["a"].CLAMP_TO_EDGE,wrapT:It["a"].CLAMP_TO_EDGE})}),this.interactionService.on(lt["a"].Hover,this.pickFromPickingFBO),this.interactionService.on(lt["a"].Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(lt["a"].Active,this.highlightFeatureHandle.bind(this))}},{key:"render",value:function(e){var t=this;if(!this.alreadyInRendering){var n=this.rendererService,r=n.getViewportSize,i=n.useFramebuffer,o=n.clear,a=r(),s=a.width,u=a.height;this.alreadyInRendering=!0,this.width===s&&this.height===u||(this.pickingFBO.resize({width:s,height:u}),this.width=s,this.height=u),i(this.pickingFBO,(function(){o({framebuffer:t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var n=t.layer.multiPassRenderer.getRenderFlag();t.layer.multiPassRenderer.setRenderFlag(!1),e.hooks.beforePickingEncode.call(),e.render(),e.hooks.afterPickingEncode.call(),t.layer.multiPassRenderer.setRenderFlag(n),t.alreadyInRendering=!1}))}}},{key:"triggerHoverOnLayer",value:function(e){this.layer.emit(e.type,e)}},{key:"highlightPickedFeature",value:function(e){var t=ye()(e,3),n=t[0],r=t[1],i=t[2];this.layer.hooks.beforeHighlight.call([n,r,i]),this.layerService.renderLayers()}},{key:"selectFeature",value:function(e){var t=ye()(e,3),n=t[0],r=t[1],i=t[2];this.layer.hooks.beforeSelect.call([n,r,i]),this.layerService.renderLayers()}},{key:"selectFeatureHandle",value:function(e){var t=e.featureId,n=Object(m["l"])(t);this.selectFeature(new Uint8Array(n))}},{key:"highlightFeatureHandle",value:function(e){var t=e.featureId,n=Object(m["l"])(t);this.highlightPickedFeature(new Uint8Array(n))}}]),n}(Pr))||qr),$r=n("+em5");function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ni(e){var t=ri();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function ri(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ii,oi,ai="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}",si="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",ui=(Kr=Object(o["injectable"])(),Kr(Jr=function(e){te()(n,e);var t=ni(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:si,fs:ai});var e=this.shaderModuleService.getModule("blur-pass"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:t,fs:n,uniforms:ti(ti({},r),{},{u_ViewportSize:[o,a]})}}},{key:"convertOptionsToUniforms",value:function(e){var t={};return rn()(e.blurRadius)||(t.u_BlurDir=[e.blurRadius,0]),t}}]),n}($r["a"]))||Jr);function ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fi(e){var t=pi();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function pi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var hi,di,mi="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}",vi="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",yi=(ii=Object(o["injectable"])(),ii(oi=function(e){te()(n,e);var t=fi(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:vi,fs:mi});var e=this.shaderModuleService.getModule("blur-pass"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:t,fs:n,uniforms:li(li({},r),{},{u_ViewportSize:[o,a]})}}},{key:"convertOptionsToUniforms",value:function(e){var t={};return rn()(e.blurRadius)||(t.u_BlurDir=[0,e.blurRadius]),t}}]),n}($r["a"]))||oi);function gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xi(e){var t=_i();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function _i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var wi,Si,Oi='varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Angle : 0;\nuniform float u_Size : 8;\n\n#pragma include "common"\n\nfloat scale = PI / u_Size;\n\nfloat pattern(float u_Angle, vec2 texSize, vec2 texCoord) {\n  float s = sin(u_Angle), c = cos(u_Angle);\n  vec2 tex = texCoord * texSize - u_Center * texSize;\n  vec2 point = vec2(\n    c * tex.x - s * tex.y,\n    s * tex.x + c * tex.y\n  ) * scale;\n  return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js\nvec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {\n  vec3 cmy = 1.0 - color.rgb;\n  float k = min(cmy.x, min(cmy.y, cmy.z));\n  cmy = (cmy - k) / (1.0 - k);\n  cmy = clamp(\n    cmy * 10.0 - 3.0 + vec3(\n      pattern(u_Angle + 0.26179, texSize, texCoord),\n      pattern(u_Angle + 1.30899, texSize, texCoord),\n      pattern(u_Angle, texSize, texCoord)\n    ),\n    0.0,\n    1.0\n  );\n  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);\n  return vec4(1.0 - cmy - k, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);\n}',Ei="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",ki=(hi=Object(o["injectable"])(),hi(di=function(e){te()(n,e);var t=xi(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("colorhalftone-pass",{vs:Ei,fs:Oi});var e=this.shaderModuleService.getModule("colorhalftone-pass"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:t,fs:n,uniforms:bi(bi({},r),{},{u_ViewportSize:[o,a]})}}}]),n}($r["a"]))||di);function Ci(e){var t=ji();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function ji(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Ti,Ai,Pi="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}",Mi="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",Ii=(wi=Object(o["injectable"])(),wi(Si=function(e){te()(n,e);var t=Ci(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("copy-pass",{vs:Mi,fs:Pi}),this.shaderModuleService.getModule("copy-pass")}}]),n}($r["a"]))||Si);function Li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Li(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Di(e){var t=Ni();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function Ni(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var zi,Fi,Bi="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Scale : 10;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js\nvec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;\n  tex.y /= 0.866025404;\n  tex.x -= tex.y * 0.5;\n  vec2 a;\n  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {\n    a = vec2(floor(tex.x), floor(tex.y));\n  }\n  else a = vec2(ceil(tex.x), ceil(tex.y));\n  vec2 b = vec2(ceil(tex.x), floor(tex.y));\n  vec2 c = vec2(floor(tex.x), ceil(tex.y));\n  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);\n  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);\n  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);\n  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);\n  float alen = length(TEX - A);\n  float blen = length(TEX - B);\n  float clen = length(TEX - C);\n  vec2 choice;\n  if (alen < blen) {\n    if (alen < clen) choice = a;\n    else choice = c;\n  } else {\n    if (blen < clen) choice = b;\n    else choice = c;\n  }\n  choice.x += choice.y * 0.5;\n  choice.y *= 0.866025404;\n  choice *= u_Scale / texSize;\n  return texture2D(texture, choice + u_Center);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}",Ui="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",Vi=(Ti=Object(o["injectable"])(),Ti(Ai=function(e){te()(n,e);var t=Di(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("hexagonalpixelate-pass",{vs:Ui,fs:Bi});var e=this.shaderModuleService.getModule("hexagonalpixelate-pass"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:t,fs:n,uniforms:Ri(Ri({},r),{},{u_ViewportSize:[o,a]})}}}]),n}($r["a"]))||Ai);function Hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gi(e){var t=Wi();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function Wi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Zi,Yi,Xi="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform float u_Strength : 0.6;\n\nvec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 dx = vec2(1.0 / texSize.x, 0.0);\n  vec2 dy = vec2(0.0, 1.0 / texSize.y);\n  vec4 color = texture2D(texture, texCoord);\n  float bigTotal = 0.0;\n  float smallTotal = 0.0;\n  vec3 bigAverage = vec3(0.0);\n  vec3 smallAverage = vec3(0.0);\n  for (float x = -2.0; x <= 2.0; x += 1.0) {\n    for (float y = -2.0; y <= 2.0; y += 1.0) {\n      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;\n      bigAverage += sample;\n      bigTotal += 1.0;\n      if (abs(x) + abs(y) < 2.0) {\n        smallAverage += sample;\n        smallTotal += 1.0;\n      }\n    }\n  }\n  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);\n  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;\n  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}",Ki="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",Ji=(zi=Object(o["injectable"])(),zi(Fi=function(e){te()(n,e);var t=Gi(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("ink-pass",{vs:Ki,fs:Xi});var e=this.shaderModuleService.getModule("ink-pass"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:t,fs:n,uniforms:qi(qi({},r),{},{u_ViewportSize:[o,a]})}}}]),n}($r["a"]))||Fi);function Qi(e){var t=$i();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function $i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var eo,to,no="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform float u_Amount : 0.5;\n\nfloat rand(vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js\nvec4 noise_filterColor(vec4 color, vec2 texCoord) {\n  float diff = (rand(texCoord) - 0.5) * u_Amount;\n  color.r += diff;\n  color.g += diff;\n  color.b += diff;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);\n}",ro="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",io=(Zi=Object(o["injectable"])(),Zi(Yi=function(e){te()(n,e);var t=Qi(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("noise-pass",{vs:ro,fs:no}),this.shaderModuleService.getModule("noise-pass")}}]),n}($r["a"]))||Yi);function oo(e){var t=ao();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function ao(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var so,uo,co,lo,fo,po,ho,mo,vo="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",yo="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform float u_Amount : 0.5;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js\nvec4 sepia_filterColor(vec4 color) {\n  float r = color.r;\n  float g = color.g;\n  float b = color.b;\n  color.r =\n    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));\n  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));\n  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = sepia_filterColor(gl_FragColor);\n}",go=(eo=Object(o["injectable"])(),eo(to=function(e){te()(n,e);var t=oo(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("sepia-pass",{vs:vo,fs:yo}),this.shaderModuleService.getModule("sepia-pass")}}]),n}($r["a"]))||to),bo=(so=Object(o["injectable"])(),uo=Object(o["inject"])(u["a"].IRendererService),co=Object(o["postConstruct"])(),so((fo=function(){function e(){l()(this,e),Ve()(this,"rendererService",po,this),d()(this,"passes",[]),d()(this,"readFBO",void 0),d()(this,"writeFBO",void 0)}return p()(e,[{key:"getReadFBO",value:function(){return this.readFBO}},{key:"getWriteFBO",value:function(){return this.writeFBO}},{key:"render",value:function(){var e=vt()(gt.a.mark((function e(t){var n,r;return gt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<this.passes.length)){e.next=10;break}return r=this.passes[n],r.setRenderToScreen(this.isLastEnabledPass(n)),e.next=6,r.render(t);case 6:n!==this.passes.length-1&&this.swap();case 7:n++,e.next=1;break;case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resize",value:function(e,t){this.readFBO.resize({width:e,height:t}),this.writeFBO.resize({width:e,height:t})}},{key:"add",value:function(e,t,n){e.init(t,n),this.passes.push(e)}},{key:"insert",value:function(e,t,n,r){e.init(n,r),this.passes.splice(t,0,e)}},{key:"getPostProcessingPassByName",value:function(e){return this.passes.find((function(t){return t.getName()===e}))}},{key:"init",value:function(){}},{key:"isLastEnabledPass",value:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].isEnabled())return!1;return!0}},{key:"swap",value:function(){var e=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=e}}]),e}(),po=qe()(fo.prototype,"rendererService",[uo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe()(fo.prototype,"init",[co],Object.getOwnPropertyDescriptor(fo.prototype,"init"),fo.prototype),lo=fo))||lo);function xo(e){var t=_o();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function _o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var wo,So,Oo,Eo,ko,Co=(ho=Object(o["injectable"])(),ho(mo=function(e){te()(n,e);var t=xo(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"getType",value:function(){return Ar["a"].Normal}},{key:"getName",value:function(){return"render"}},{key:"init",value:function(e,t){Tr()(oe()(n.prototype),"init",this).call(this,e,t)}},{key:"render",value:function(e){var t=this.rendererService,n=t.useFramebuffer,r=t.clear;n(null,(function(){r({color:[0,0,0,0],depth:1,stencil:0}),e.multiPassRenderer.setRenderFlag(!1),e.render(),e.multiPassRenderer.setRenderFlag(!0)}))}}]),n}(Pr))||mo);function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ao(e){var t=Po();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function Po(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Mo="uniform float u_opacity : 1.0;\nuniform float u_MixRatio : 0.5;\n\nuniform sampler2D u_Diffuse1;\nuniform sampler2D u_Diffuse2;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  vec4 texel1 = texture2D(u_Diffuse1, v_UV);\n  vec4 texel2 = texture2D(u_Diffuse2, v_UV);\n  gl_FragColor = u_opacity * mix(texel1, texel2, u_MixRatio);\n}\n",Io="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}",Lo="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}";function Ro(e,t){var n=0,r=1/t,i=e;while(i>0)n+=r*(i%t),i=Math.floor(i/t),r/=t;return n}var Do=1,No=(wo=Object(o["injectable"])(),So=Object(o["inject"])(u["a"].IShaderModuleService),wo((Eo=function(e){te()(n,e);var t=Ao(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Ve()($()(e),"shaderModuleService",ko,$()(e)),d()($()(e),"haltonSequence",[]),d()($()(e),"accumulatingId",0),d()($()(e),"frame",0),d()($()(e),"timer",void 0),d()($()(e),"sampleRenderTarget",void 0),d()($()(e),"prevRenderTarget",void 0),d()($()(e),"outputRenderTarget",void 0),d()($()(e),"copyRenderTarget",void 0),d()($()(e),"blendModel",void 0),d()($()(e),"outputModel",void 0),d()($()(e),"copyModel",void 0),e}return p()(n,[{key:"getType",value:function(){return Ar["a"].Normal}},{key:"getName",value:function(){return"taa"}},{key:"init",value:function(e,t){Tr()(oe()(n.prototype),"init",this).call(this,e,t);var r=this.rendererService,i=r.createFramebuffer,o=r.createTexture2D;this.sampleRenderTarget=i({color:o({width:1,height:1,wrapS:It["a"].CLAMP_TO_EDGE,wrapT:It["a"].CLAMP_TO_EDGE})}),this.prevRenderTarget=i({color:o({width:1,height:1,wrapS:It["a"].CLAMP_TO_EDGE,wrapT:It["a"].CLAMP_TO_EDGE})}),this.outputRenderTarget=i({color:o({width:1,height:1,wrapS:It["a"].CLAMP_TO_EDGE,wrapT:It["a"].CLAMP_TO_EDGE})}),this.copyRenderTarget=i({color:o({width:1,height:1,wrapS:It["a"].CLAMP_TO_EDGE,wrapT:It["a"].CLAMP_TO_EDGE})});for(var a=0;a<30;a++)this.haltonSequence.push([Ro(a,2),Ro(a,3)]);this.blendModel=this.createTriangleModel("blend-pass",Mo),this.outputModel=this.createTriangleModel("copy-pass",Io,{blend:{enable:!0,func:{srcRGB:It["a"].ONE,dstRGB:It["a"].ONE_MINUS_SRC_ALPHA,srcAlpha:It["a"].ONE,dstAlpha:It["a"].ONE_MINUS_SRC_ALPHA},equation:{rgb:It["a"].FUNC_ADD,alpha:It["a"].FUNC_ADD}}}),this.copyModel=this.createTriangleModel("copy-pass",Io)}},{key:"render",value:function(e){var t=this,n=this.rendererService,r=n.clear,i=n.getViewportSize,o=n.useFramebuffer,a=i(),s=a.width,u=a.height;this.sampleRenderTarget.resize({width:s,height:u}),this.prevRenderTarget.resize({width:s,height:u}),this.outputRenderTarget.resize({width:s,height:u}),this.copyRenderTarget.resize({width:s,height:u}),this.resetFrame(),this.stopAccumulating();var c=e.multiPassRenderer.getPostProcessor().getReadFBO();o(c,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:c}),e.multiPassRenderer.setRenderFlag(!1),e.render(),e.multiPassRenderer.setRenderFlag(!0)}));var l=function n(r){t.accumulatingId&&r===t.accumulatingId&&(t.isFinished()||(t.doRender(e),requestAnimationFrame((function(){n(r)}))))};this.accumulatingId=Do++,this.timer=window.setTimeout((function(){l(t.accumulatingId)}),50)}},{key:"doRender",value:function(e){var t=this,n=this.rendererService,r=n.clear,i=n.getViewportSize,o=n.useFramebuffer,a=i(),s=a.width,u=a.height,c=e.getLayerConfig(),l=c.jitterScale,f=void 0===l?1:l,p=this.haltonSequence[this.frame%this.haltonSequence.length];this.cameraService.jitterProjectionMatrix((2*p[0]-1)/s*f,(2*p[1]-1)/u*f),e.multiPassRenderer.setRenderFlag(!1),e.hooks.beforeRender.call(),o(this.sampleRenderTarget,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:t.sampleRenderTarget}),e.render()})),e.hooks.afterRender.call(),e.multiPassRenderer.setRenderFlag(!0);var h=e.getLayerConfig();o(this.outputRenderTarget,(function(){t.blendModel.draw({uniforms:{u_opacity:h.opacity||1,u_MixRatio:0===t.frame?1:.9,u_Diffuse1:t.sampleRenderTarget,u_Diffuse2:0===t.frame?e.multiPassRenderer.getPostProcessor().getReadFBO():t.prevRenderTarget}})})),0===this.frame&&r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:this.copyRenderTarget}),this.frame>=1&&(o(this.copyRenderTarget,(function(){t.outputModel.draw({uniforms:{u_Texture:t.outputRenderTarget}})})),o(e.multiPassRenderer.getPostProcessor().getReadFBO(),(function(){t.copyModel.draw({uniforms:{u_Texture:t.copyRenderTarget}})})),e.multiPassRenderer.getPostProcessor().render(e));var d=this.prevRenderTarget;this.prevRenderTarget=this.outputRenderTarget,this.outputRenderTarget=d,this.frame++,this.cameraService.clearJitterProjectionMatrix()}},{key:"isFinished",value:function(){return this.frame>=this.haltonSequence.length}},{key:"resetFrame",value:function(){this.frame=0}},{key:"stopAccumulating",value:function(){this.accumulatingId=0,window.clearTimeout(this.timer)}},{key:"createTriangleModel",value:function(e,t,n){this.shaderModuleService.registerModule(e,{vs:Lo,fs:t});var r=this.shaderModuleService.getModule(e),i=r.vs,o=r.fs,a=r.uniforms,s=this.rendererService,u=s.createAttribute,c=s.createBuffer,l=s.createModel;return l(To({vs:i,fs:o,attributes:{a_Position:u({buffer:c({data:[-4,-4,4,-4,0,4],type:It["a"].FLOAT}),size:2})},uniforms:To({},a),depth:{enable:!1},count:3},n))}}]),n}(Pr),ko=qe()(Eo.prototype,"shaderModuleService",[So],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oo=Eo))||Oo),zo=new o["Container"];zo.bind(u["a"].IGlobalConfigService).to(Be).inSingletonScope(),zo.bind(u["a"].IShaderModuleService).to(Cr).inSingletonScope(),Object(o["decorate"])(Object(o["injectable"])(),r["EventEmitter"]),zo.bind(u["a"].IEventEmitter).to(r["EventEmitter"]);var Fo=s()(zo,!1),Bo=function(e){var t=Fo.lazyInject(e);return function(e,n,r){t.call(this,e,n),r&&(r.initializer=function(){return e[n]})}},Uo=(t["c"]=zo,0);function Vo(){var e=new o["Container"];return e.parent=zo,e.bind(u["a"].SceneID).toConstantValue("".concat(Uo++)),e.bind(u["a"].ILayerService).to(Jt).inSingletonScope(),e.bind(u["a"].ISceneService).to(Yn).inSingletonScope(),e.bind(u["a"].ICameraService).to(be).inSingletonScope(),e.bind(u["a"].ICoordinateSystemService).to(st).inSingletonScope(),e.bind(u["a"].IInteractionService).to(dt).inSingletonScope(),e.bind(u["a"].IPickingService).to(Xt).inSingletonScope(),e.bind(u["a"].IControlService).to(Te).inSingletonScope(),e.bind(u["a"].IMarkerService).to(Ae).inSingletonScope(),e.bind(u["a"].IIconService).to(me).inSingletonScope(),e.bind(u["a"].IFontService).to(J).inSingletonScope(),e.bind(u["a"].IPopupService).to(Pe).inSingletonScope(),e.bind(u["a"].INormalPass).to(Fr).whenTargetNamed("clear"),e.bind(u["a"].INormalPass).to(Qr).whenTargetNamed("pixelPicking"),e.bind(u["a"].INormalPass).to(Co).whenTargetNamed("render"),e.bind(u["a"].INormalPass).to(No).whenTargetNamed("taa"),e.bind(u["a"].IFactoryNormalPass).toFactory((function(e){return function(t){return e.container.getNamed(u["a"].INormalPass,t)}})),e.bind(u["a"].IPostProcessingPass).to(Ii).whenTargetNamed("copy"),e.bind(u["a"].IPostProcessingPass).to(ui).whenTargetNamed("blurH"),e.bind(u["a"].IPostProcessingPass).to(yi).whenTargetNamed("blurV"),e.bind(u["a"].IPostProcessingPass).to(io).whenTargetNamed("noise"),e.bind(u["a"].IPostProcessingPass).to(go).whenTargetNamed("sepia"),e.bind(u["a"].IPostProcessingPass).to(ki).whenTargetNamed("colorHalftone"),e.bind(u["a"].IPostProcessingPass).to(Vi).whenTargetNamed("hexagonalPixelate"),e.bind(u["a"].IPostProcessingPass).to(Ji).whenTargetNamed("ink"),e.bind(u["a"].IFactoryPostProcessingPass).toFactory((function(e){return function(t){var n=e.container.getNamed(u["a"].IPostProcessingPass,t);return n.setName(t),n}})),e}function Ho(e){var t=new o["Container"];return t.parent=e,t.bind(u["a"].IStyleAttributeService).to(Vn).inSingletonScope(),t.bind(u["a"].IMultiPassRenderer).to(Gr).inSingletonScope(),t.bind(u["a"].IPostProcessor).to(bo).inSingletonScope(),t}},fbrv:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var i=n("Yk9n"),o=n("MON2"),a=n("FV85"),s=n("xfSm"),u=n("ujMp");Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var c=n("dX1H");function l(e,t){var n=u.getFunctionName(t),r=f(e,n,t,!1);return r}function f(e,t,n,i){var a=e.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var u=o.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(u)}var c=a.userGeneratedMetadata,l=Object.keys(c),f=0===n.length&&l.length>0,p=l.length>n.length,m=f||p?l.length:n.length,v=h(i,t,s,c,m),y=d(e,n),g=r(r([],v),y);return g}function p(e,t,n,r,s){var u=s[e.toString()]||[],l=v(u),f=!0!==l.unmanaged,p=r[e],h=l.inject||l.multiInject;if(p=h||p,p instanceof i.LazyServiceIdentifer&&(p=p.unwrap()),f){var d=p===Object,m=p===Function,y=void 0===p,g=d||m||y;if(!t&&g){var b=o.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(b)}var x=new c.Target(a.TargetTypeEnum.ConstructorArgument,l.targetName,p);return x.metadata=u,x}return null}function h(e,t,n,r,i){for(var o=[],a=0;a<i;a++){var s=a,u=p(s,e,t,n,r);null!==u&&o.push(u)}return o}function d(e,t){for(var n=e.getPropertiesMetadata(t),i=[],o=Object.keys(n),s=0,u=o;s<u.length;s++){var l=u[s],f=n[l],p=v(n[l]),h=p.targetName||l,m=p.inject||p.multiInject,y=new c.Target(a.TargetTypeEnum.ClassProperty,h,m);y.metadata=f,i.push(y)}var g=Object.getPrototypeOf(t.prototype).constructor;if(g!==Object){var b=d(e,g);i=r(r([],i),b)}return i}function m(e,t){var n=Object.getPrototypeOf(t.prototype).constructor;if(n!==Object){var r=u.getFunctionName(n),i=f(e,r,n,!0),o=i.map((function(e){return e.metadata.filter((function(e){return e.key===s.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,c=i.length-a;return c>0?c:m(e,n)}return 0}function v(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[s.INJECT_TAG],multiInject:t[s.MULTI_INJECT_TAG],targetName:t[s.NAME_TAG],unmanaged:t[s.UNMANAGED_TAG]}}t.getDependencies=l,t.getBaseClassDependencyCount=m},fdMe:function(e,t,n){"use strict";function r(e,t){var n=t.callback;return n&&(e.dataArray=e.dataArray.map(n)),e}n.d(t,"a",(function(){return r}))},fmRc:function(e,t,n){var r=n("Xi7e"),i=n("77Zs"),o=n("L8xA"),a=n("gCq4"),s=n("VaNO"),u=n("0Cz8");function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype["delete"]=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},fo6e:function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function r(e){return n.test(e)}e.exports=r},foS9:function(e,t,n){},foSv:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,"a",(function(){return r}))},ftHG:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("H1Ra"),s=(n("Rsk4"),n("nKUr"));t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),Object(s["jsx"])(s["Fragment"],{children:Object(s["jsxs"])("div",{className:"markdown",children:[Object(s["jsxs"])("h2",{id:"\u4f7f\u7528",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u4f7f\u7528","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u4f7f\u7528"]}),Object(s["jsx"])("p",{children:"\u5728 React \u7248\u672c\u4e2d Mapbox \u548c\u9ad8\u5fb7\u5730\u56fe\u4f5c\u4e3a\u4e24\u4e2a\u7ec4\u4ef6\u5c01\u88c5\u7684\u3002"}),Object(s["jsx"])(a["a"],{code:"import { MapboxScene, AmapScene } from '@antv/l7-react';",lang:"javascript"}),Object(s["jsxs"])("h2",{id:"scene-props",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#scene-props","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Scene Props"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"style"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Object"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"scene css \u6837\u5f0f"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"className"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"\u6837\u5f0f\u540d\u79f0"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"map"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"map option"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Required"})}),Object(s["jsxs"])("td",{children:["map option ",Object(s["jsx"])(o["AnchorLink"],{to:"#map-option",children:"\u5730\u56fe\u914d\u7f6e\u9879"})]})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"option"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"scene option"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"void"})}),Object(s["jsxs"])("td",{children:["scene option \u914d\u7f6e\u9879 ",Object(s["jsx"])(o["AnchorLink"],{to:"#scene-option",children:"\u8be6\u60c5"})]})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"onSceneLoaded"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Function"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"void"})}),Object(s["jsx"])("td",{children:"scene \u52a0\u8f7d\u56de\u8c03\u51fd\u6570"})]})]})]}),Object(s["jsxs"])("h3",{id:"\u9ad8\u5fb7\u5730\u56fe\u573a\u666f",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u9ad8\u5fb7\u5730\u56fe\u573a\u666f","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u9ad8\u5fb7\u5730\u56fe\u573a\u666f"]}),Object(s["jsx"])(a["a"],{code:"import { AMapScene } from '@antv/l7-react';\n<AMapScene\n  option={{}}\n  map={{\n    style: 'light',\n    center: [112, 20],\n    token: '',\n  }}\n/>;",lang:"jsx"}),Object(s["jsxs"])("h3",{id:"mapbox-\u5730\u56fe\u573a\u666f",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#mapbox-\u5730\u56fe\u573a\u666f","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Mapbox \u5730\u56fe\u573a\u666f"]}),Object(s["jsx"])(a["a"],{code:"import { MapboxScene } from '@antv/l7-react';\n<MapboxScene\n  option={{}}\n  map={{\n    style: 'light',\n    center: [112, 20],\n    token: '',\n  }}\n/>;",lang:"jsx"}),Object(s["jsxs"])("h3",{id:"map-option",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#map-option","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"map option"]}),Object(s["jsx"])("p",{children:"\u5730\u56fe\u914d\u7f6e\u9879"}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"option"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"style"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"light"})}),Object(s["jsx"])("td",{children:"\u5730\u56fe\u6837\u5f0f `dark"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"token"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Required"})}),Object(s["jsx"])("td",{children:"\u5730\u56fe\u5bc6\u94a5\uff0c\u9700\u8981\u5e73\u53f0\u7533\u8bf7"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"plugin"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string[]"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsxs"])("td",{children:["\u9ad8\u5fb7\u5730\u56fe",Object(s["jsx"])(o["Link"],{to:"https://lbs.amap.com/api/javascript-api/guide/abc/plugins",children:"API \u63d2\u4ef6"})," ",Object(s["jsx"])("code",{children:"['AMap.ToolBar','AMap.Driving']"})]})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"center"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"null"}),Object(s["jsx"])("td",{children:"\u5730\u56fe\u4e2d\u5fc3\u70b9"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"pitch"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"0"}),Object(s["jsx"])("td",{children:"\u5730\u56fe\u503e\u89d2"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"rotation"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"0"}),Object(s["jsx"])("td",{children:"\u5730\u56fe\u65cb\u8f6c\u89d2"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"zoom"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"null"}),Object(s["jsx"])("td",{children:"\u5730\u56fe\u7f29\u653e\u7b49\u7ea7"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"maxZoom"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"0"}),Object(s["jsx"])("td",{children:"\u6700\u5927\u7f29\u653e\u7b49\u7ea7"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"minZoom"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"number"})}),Object(s["jsx"])("td",{children:"AMap 18 ,Mapbox 20"}),Object(s["jsx"])("td",{children:"\u6700\u5c0f\u7f29\u653e\u7b49\u7ea7"})]})]})]}),Object(s["jsxs"])("p",{children:["\u5176\u4ed6\u914d\u7f6e\u9879\u89c1\u5730\u56fe\u6587\u6863 \u9ad8\u5fb7\u5730\u56fe Map ",Object(s["jsx"])(o["Link"],{to:"https://lbs.amap.com/api/javascript-api/reference/map",children:"\u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("p",{children:["Mapbox Map \u5730\u56fe\u914d\u7f6e\u9879 ",Object(s["jsx"])(o["Link"],{to:"https://docs.mapbox.com/mapbox-gl-js/api/#map",children:"\u914d\u7f6e\u9879"})]}),Object(s["jsx"])("p",{children:"\u5176\u4ed6\u914d\u7f6e\u9879\u548c\u5e95\u56fe\u4e00\u81f4"}),Object(s["jsxs"])("h3",{id:"scene-option",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#scene-option","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"scene option"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"option"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"logoPosition"}),Object(s["jsx"])("td",{children:"string"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"bottomleft"})}),Object(s["jsx"])("td",{children:"logo \u4f4d\u7f6e `bottomright"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"logoVisible"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"boolean"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"true"})}),Object(s["jsx"])("td",{children:"\u662f\u5426\u663e\u793a logo"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"antialias"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"boolean"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"true"})}),Object(s["jsx"])("td",{children:"\u662f\u5426\u5f00\u542f\u6297\u952f\u9f7f"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"preserveDrawingBuffer"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"boolean"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"false"})}),Object(s["jsx"])("td",{children:"\u662f\u5426\u4fdd\u7559\u7f13\u51b2\u533a\u6570\u636e"})]})]})]}),Object(s["jsxs"])("h3",{id:"\u83b7\u53d6-scene-\u5bf9\u8c61",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u83b7\u53d6-scene-\u5bf9\u8c61","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u83b7\u53d6 scene \u5bf9\u8c61"]}),Object(s["jsxs"])("h4",{id:"onsceneloaded",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#onsceneloaded","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"onSceneLoaded"]}),Object(s["jsx"])("p",{children:"onSceneLoaded \u56de\u8c03\u51fd\u6570\u80fd\u591f\u53d6\u5230 scene \u5bf9\u8c61"}),Object(s["jsxs"])("h4",{id:"context-api",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#context-api","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Context API"]}),Object(s["jsx"])(a["a"],{code:"import { SceneContext } from '@antv/l7-react';\n<SceneContext.Consumer>\n  {scene => {\n    // use `scene` here\n  }}\n</SceneContext.Consumer>;",lang:"jsx"}),Object(s["jsxs"])("h2",{id:"\u5b50\u7ec4\u4ef6",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u5b50\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u5b50\u7ec4\u4ef6"]}),Object(s["jsxs"])("h3",{id:"loadimage",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#loadimage","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"LoadImage"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"name"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"\u56fe\u6807\u540d\u79f0"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"url"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"\u56fe\u6807 url"})]})]})]}),Object(s["jsx"])(a["a"],{code:'import LoadImage from \'@antv/l7-react\';\n<LoadImage name="marker" url="xxx.png" />;',lang:"jsx"}),Object(s["jsxs"])("h3",{id:"layer-\u7ec4\u4ef6",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#layer-\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Layer \u7ec4\u4ef6"]}),Object(s["jsx"])("p",{children:"\u6bcf\u4e2a\u56fe\u5c42\u4f5c\u4e3a scene \u5b50\u7ec4\u4ef6\u6dfb\u52a0"}),Object(s["jsxs"])("h3",{id:"-\u4e8b\u4ef6\u7ec4\u4ef6",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#-\u4e8b\u4ef6\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\b \u4e8b\u4ef6\u7ec4\u4ef6"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"type"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsxs"])("td",{children:["\u4e8b\u4ef6\u7c7b\u578b ",Object(s["jsx"])(o["AnchorLink"],{to:"../scene/#%E5%9C%B0%E5%9B%BE%E4%BA%8B%E4%BB%B6",children:"\u8be6\u60c5"})]})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"handler"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Function"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"scene \u56de\u8c03\u51fd\u6570"})]})]})]}),Object(s["jsx"])(a["a"],{code:"import { SceneEvent, MapboxScene } from '@antv/l7-react';\n\n<MapboxScene>\n  <SceneEvent type=\"click\" handler={() => {}} />\n</MapboxScene>;",lang:"javascript"})]})}))},ftKO:function(e,t){var n="__lodash_hash_undefined__";function r(e){return this.__data__.set(e,n),this}e.exports=r},g1ZG:function(e,t,n){var r=n("f1E4"),i=n("JS3A");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},g4R6:function(e,t){function n(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}e.exports=n},g8rt:function(e,t,n){var r=n("tny8"),i=n("e3V2"),o=n("HhvW"),a=n("0qr0"),s=n("gFfw"),u=n("jtLI"),c=n("/yC2"),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=s(t,!0),c)try{return l(e,t)}catch(n){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},gCq4:function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},gFfm:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}e.exports=n},gFfw:function(e,t,n){var r=n("tSXo");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},gMG2:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r={},i={},o=34,a=10,s=13;function u(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function c(e,t){var n=u(e);return function(r,i){return t(n(r),i,e)}}function l(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function f(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function p(e){return e<0?"-"+f(-e,6):e>9999?"+"+f(e,6):f(e,4)}function h(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":p(e.getUTCFullYear(),4)+"-"+f(e.getUTCMonth()+1,2)+"-"+f(e.getUTCDate(),2)+(i?"T"+f(t,2)+":"+f(n,2)+":"+f(r,2)+"."+f(i,3)+"Z":r?"T"+f(t,2)+":"+f(n,2)+":"+f(r,2)+"Z":n||t?"T"+f(t,2)+":"+f(n,2)+"Z":"")}var d=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function f(e,t){var n,r,i=p(e,(function(e,i){if(n)return n(e,i-1);r=e,n=t?c(e,t):u(e)}));return i.columns=r||[],i}function p(e,t){var u,c=[],l=e.length,f=0,p=0,h=l<=0,d=!1;function m(){if(h)return i;if(d)return d=!1,r;var t,u,c=f;if(e.charCodeAt(c)===o){while(f++<l&&e.charCodeAt(f)!==o||e.charCodeAt(++f)===o);return(t=f)>=l?h=!0:(u=e.charCodeAt(f++))===a?d=!0:u===s&&(d=!0,e.charCodeAt(f)===a&&++f),e.slice(c+1,t-1).replace(/""/g,'"')}while(f<l){if((u=e.charCodeAt(t=f++))===a)d=!0;else if(u===s)d=!0,e.charCodeAt(f)===a&&++f;else if(u!==n)continue;return e.slice(c,t)}return h=!0,e.slice(c,l)}e.charCodeAt(l-1)===a&&--l,e.charCodeAt(l-1)===s&&--l;while((u=m())!==i){var v=[];while(u!==r&&u!==i)v.push(u),u=m();t&&null==(v=t(v,p++))||c.push(v)}return c}function d(t,n){return t.map((function(t){return n.map((function(e){return b(t[e])})).join(e)}))}function m(t,n){return null==n&&(n=l(t)),[n.map(b).join(e)].concat(d(t,n)).join("\n")}function v(e,t){return null==t&&(t=l(e)),d(e,t).join("\n")}function y(e){return e.map(g).join("\n")}function g(t){return t.map(b).join(e)}function b(e){return null==e?"":e instanceof Date?h(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:f,parseRows:p,format:m,formatBody:v,formatRows:y,formatRow:g,formatValue:b}},m=d(","),v=m.parse,y=(m.parseRows,m.format,m.formatBody,m.formatRows,m.formatRow,m.formatValue,n("5zYK"));function g(e,t){var n=v(e);return Object(y["a"])(n,t)}},gQMU:function(e,t,n){var r=n("0ZTe"),i=r("toUpperCase");e.exports=i},gql7:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("H1Ra"),s=(n("Rsk4"),n("nKUr"));t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),Object(s["jsx"])(s["Fragment"],{children:Object(s["jsxs"])("div",{className:"markdown",children:[Object(s["jsxs"])("h1",{id:"react",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#react","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"react"]}),Object(s["jsxs"])("h2",{id:"getting-started",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#getting-started","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Getting Started"]}),Object(s["jsx"])("p",{children:"Install dependencies,"}),Object(s["jsx"])(a["a"],{code:"$ npm i",lang:"bash"}),Object(s["jsx"])("p",{children:"Start the dev server,"}),Object(s["jsx"])(a["a"],{code:"$ npm start",lang:"bash"}),Object(s["jsx"])("p",{children:"Build documentation,"}),Object(s["jsx"])(a["a"],{code:"$ npm run docs:build",lang:"bash"}),Object(s["jsxs"])("p",{children:["Build library via ",Object(s["jsx"])("code",{children:"father-build"}),","]}),Object(s["jsx"])(a["a"],{code:"$ npm run build",lang:"bash"})]})}))},gweS:function(e,t,n){var r=n("Mi8B");r("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},gzZq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var r=n("MON2"),i=n("FV85"),o=n("D9lx"),a=n("LKzl"),s=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!==typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!==typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){var n=function(){return t.container.get(e)};return n},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=s},h0XC:function(e,t){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n},h1nZ:function(e,t,n){"use strict";var r=n("fX6N");n.d(t,"container",(function(){return r["c"]})),n.d(t,"createSceneContainer",(function(){return r["b"]})),n.d(t,"createLayerContainer",(function(){return r["a"]})),n.d(t,"lazyInject",(function(){return r["d"]}));n("+em5");var i=n("bB6j");n.d(t,"TYPES",(function(){return i["a"]}));n("8/Fi");var o=n("PUg6");n.d(t,"BlendType",(function(){return o["a"]}));var a=n("cZlC");n.d(t,"AttributeType",(function(){return a["a"]})),n.d(t,"ScaleTypes",(function(){return a["b"]})),n.d(t,"StyleScaleType",(function(){return a["c"]}));var s=n("O1je");n.o(s,"CameraUniform")&&n.d(t,"CameraUniform",(function(){return s["CameraUniform"]})),n.o(s,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return s["CityBuildingLayer"]})),n.o(s,"Control")&&n.d(t,"Control",(function(){return s["Control"]})),n.o(s,"CoordinateSystem")&&n.d(t,"CoordinateSystem",(function(){return s["CoordinateSystem"]})),n.o(s,"CoordinateUniform")&&n.d(t,"CoordinateUniform",(function(){return s["CoordinateUniform"]})),n.o(s,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return s["HeatmapLayer"]})),n.o(s,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return s["ImageLayer"]})),n.o(s,"Layers")&&n.d(t,"Layers",(function(){return s["Layers"]})),n.o(s,"LineLayer")&&n.d(t,"LineLayer",(function(){return s["LineLayer"]})),n.o(s,"Logo")&&n.d(t,"Logo",(function(){return s["Logo"]})),n.o(s,"MapServiceEvent")&&n.d(t,"MapServiceEvent",(function(){return s["MapServiceEvent"]})),n.o(s,"Marker")&&n.d(t,"Marker",(function(){return s["Marker"]})),n.o(s,"PointLayer")&&n.d(t,"PointLayer",(function(){return s["PointLayer"]})),n.o(s,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return s["PolygonLayer"]})),n.o(s,"Popup")&&n.d(t,"Popup",(function(){return s["Popup"]})),n.o(s,"PositionType")&&n.d(t,"PositionType",(function(){return s["PositionType"]})),n.o(s,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return s["RasterLayer"]})),n.o(s,"Scale")&&n.d(t,"Scale",(function(){return s["Scale"]})),n.o(s,"Scene")&&n.d(t,"Scene",(function(){return s["Scene"]})),n.o(s,"SceneEventList")&&n.d(t,"SceneEventList",(function(){return s["SceneEventList"]})),n.o(s,"Zoom")&&n.d(t,"Zoom",(function(){return s["Zoom"]})),n.o(s,"gl")&&n.d(t,"gl",(function(){return s["gl"]}));var u=n("L56e");n.d(t,"MapServiceEvent",(function(){return u["a"]}));var c=n("HthE");n.d(t,"CoordinateSystem",(function(){return c["a"]})),n.d(t,"CoordinateUniform",(function(){return c["b"]}));var l=n("/33/");n.o(l,"CameraUniform")&&n.d(t,"CameraUniform",(function(){return l["CameraUniform"]})),n.o(l,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return l["CityBuildingLayer"]})),n.o(l,"Control")&&n.d(t,"Control",(function(){return l["Control"]})),n.o(l,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return l["HeatmapLayer"]})),n.o(l,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return l["ImageLayer"]})),n.o(l,"Layers")&&n.d(t,"Layers",(function(){return l["Layers"]})),n.o(l,"LineLayer")&&n.d(t,"LineLayer",(function(){return l["LineLayer"]})),n.o(l,"Logo")&&n.d(t,"Logo",(function(){return l["Logo"]})),n.o(l,"Marker")&&n.d(t,"Marker",(function(){return l["Marker"]})),n.o(l,"PointLayer")&&n.d(t,"PointLayer",(function(){return l["PointLayer"]})),n.o(l,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return l["PolygonLayer"]})),n.o(l,"Popup")&&n.d(t,"Popup",(function(){return l["Popup"]})),n.o(l,"PositionType")&&n.d(t,"PositionType",(function(){return l["PositionType"]})),n.o(l,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return l["RasterLayer"]})),n.o(l,"Scale")&&n.d(t,"Scale",(function(){return l["Scale"]})),n.o(l,"Scene")&&n.d(t,"Scene",(function(){return l["Scene"]})),n.o(l,"SceneEventList")&&n.d(t,"SceneEventList",(function(){return l["SceneEventList"]})),n.o(l,"Zoom")&&n.d(t,"Zoom",(function(){return l["Zoom"]})),n.o(l,"gl")&&n.d(t,"gl",(function(){return l["gl"]}));var f=n("EfZ0");n.d(t,"CameraUniform",(function(){return f["a"]}));var p=n("riiI");n.o(p,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return p["CityBuildingLayer"]})),n.o(p,"Control")&&n.d(t,"Control",(function(){return p["Control"]})),n.o(p,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return p["HeatmapLayer"]})),n.o(p,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return p["ImageLayer"]})),n.o(p,"Layers")&&n.d(t,"Layers",(function(){return p["Layers"]})),n.o(p,"LineLayer")&&n.d(t,"LineLayer",(function(){return p["LineLayer"]})),n.o(p,"Logo")&&n.d(t,"Logo",(function(){return p["Logo"]})),n.o(p,"Marker")&&n.d(t,"Marker",(function(){return p["Marker"]})),n.o(p,"PointLayer")&&n.d(t,"PointLayer",(function(){return p["PointLayer"]})),n.o(p,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return p["PolygonLayer"]})),n.o(p,"Popup")&&n.d(t,"Popup",(function(){return p["Popup"]})),n.o(p,"PositionType")&&n.d(t,"PositionType",(function(){return p["PositionType"]})),n.o(p,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return p["RasterLayer"]})),n.o(p,"Scale")&&n.d(t,"Scale",(function(){return p["Scale"]})),n.o(p,"Scene")&&n.d(t,"Scene",(function(){return p["Scene"]})),n.o(p,"SceneEventList")&&n.d(t,"SceneEventList",(function(){return p["SceneEventList"]})),n.o(p,"Zoom")&&n.d(t,"Zoom",(function(){return p["Zoom"]})),n.o(p,"gl")&&n.d(t,"gl",(function(){return p["gl"]}));var h=n("eg+a");n.d(t,"SceneEventList",(function(){return h["a"]}));var d=n("bYl4");n.o(d,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return d["CityBuildingLayer"]})),n.o(d,"Control")&&n.d(t,"Control",(function(){return d["Control"]})),n.o(d,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return d["HeatmapLayer"]})),n.o(d,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return d["ImageLayer"]})),n.o(d,"Layers")&&n.d(t,"Layers",(function(){return d["Layers"]})),n.o(d,"LineLayer")&&n.d(t,"LineLayer",(function(){return d["LineLayer"]})),n.o(d,"Logo")&&n.d(t,"Logo",(function(){return d["Logo"]})),n.o(d,"Marker")&&n.d(t,"Marker",(function(){return d["Marker"]})),n.o(d,"PointLayer")&&n.d(t,"PointLayer",(function(){return d["PointLayer"]})),n.o(d,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return d["PolygonLayer"]})),n.o(d,"Popup")&&n.d(t,"Popup",(function(){return d["Popup"]})),n.o(d,"PositionType")&&n.d(t,"PositionType",(function(){return d["PositionType"]})),n.o(d,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return d["RasterLayer"]})),n.o(d,"Scale")&&n.d(t,"Scale",(function(){return d["Scale"]})),n.o(d,"Scene")&&n.d(t,"Scene",(function(){return d["Scene"]})),n.o(d,"Zoom")&&n.d(t,"Zoom",(function(){return d["Zoom"]})),n.o(d,"gl")&&n.d(t,"gl",(function(){return d["gl"]}));var m=n("FI6e");n.o(m,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return m["CityBuildingLayer"]})),n.o(m,"Control")&&n.d(t,"Control",(function(){return m["Control"]})),n.o(m,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return m["HeatmapLayer"]})),n.o(m,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return m["ImageLayer"]})),n.o(m,"Layers")&&n.d(t,"Layers",(function(){return m["Layers"]})),n.o(m,"LineLayer")&&n.d(t,"LineLayer",(function(){return m["LineLayer"]})),n.o(m,"Logo")&&n.d(t,"Logo",(function(){return m["Logo"]})),n.o(m,"Marker")&&n.d(t,"Marker",(function(){return m["Marker"]})),n.o(m,"PointLayer")&&n.d(t,"PointLayer",(function(){return m["PointLayer"]})),n.o(m,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return m["PolygonLayer"]})),n.o(m,"Popup")&&n.d(t,"Popup",(function(){return m["Popup"]})),n.o(m,"PositionType")&&n.d(t,"PositionType",(function(){return m["PositionType"]})),n.o(m,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return m["RasterLayer"]})),n.o(m,"Scale")&&n.d(t,"Scale",(function(){return m["Scale"]})),n.o(m,"Scene")&&n.d(t,"Scene",(function(){return m["Scene"]})),n.o(m,"Zoom")&&n.d(t,"Zoom",(function(){return m["Zoom"]})),n.o(m,"gl")&&n.d(t,"gl",(function(){return m["gl"]}));var v=n("D+ow");n.o(v,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return v["CityBuildingLayer"]})),n.o(v,"Control")&&n.d(t,"Control",(function(){return v["Control"]})),n.o(v,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return v["HeatmapLayer"]})),n.o(v,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return v["ImageLayer"]})),n.o(v,"Layers")&&n.d(t,"Layers",(function(){return v["Layers"]})),n.o(v,"LineLayer")&&n.d(t,"LineLayer",(function(){return v["LineLayer"]})),n.o(v,"Logo")&&n.d(t,"Logo",(function(){return v["Logo"]})),n.o(v,"Marker")&&n.d(t,"Marker",(function(){return v["Marker"]})),n.o(v,"PointLayer")&&n.d(t,"PointLayer",(function(){return v["PointLayer"]})),n.o(v,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return v["PolygonLayer"]})),n.o(v,"Popup")&&n.d(t,"Popup",(function(){return v["Popup"]})),n.o(v,"PositionType")&&n.d(t,"PositionType",(function(){return v["PositionType"]})),n.o(v,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return v["RasterLayer"]})),n.o(v,"Scale")&&n.d(t,"Scale",(function(){return v["Scale"]})),n.o(v,"Scene")&&n.d(t,"Scene",(function(){return v["Scene"]})),n.o(v,"Zoom")&&n.d(t,"Zoom",(function(){return v["Zoom"]})),n.o(v,"gl")&&n.d(t,"gl",(function(){return v["gl"]}));var y=n("AFH1");n.d(t,"PositionType",(function(){return y["a"]}));var g=n("8uyu");n.o(g,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return g["CityBuildingLayer"]})),n.o(g,"Control")&&n.d(t,"Control",(function(){return g["Control"]})),n.o(g,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return g["HeatmapLayer"]})),n.o(g,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return g["ImageLayer"]})),n.o(g,"Layers")&&n.d(t,"Layers",(function(){return g["Layers"]})),n.o(g,"LineLayer")&&n.d(t,"LineLayer",(function(){return g["LineLayer"]})),n.o(g,"Logo")&&n.d(t,"Logo",(function(){return g["Logo"]})),n.o(g,"Marker")&&n.d(t,"Marker",(function(){return g["Marker"]})),n.o(g,"PointLayer")&&n.d(t,"PointLayer",(function(){return g["PointLayer"]})),n.o(g,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return g["PolygonLayer"]})),n.o(g,"Popup")&&n.d(t,"Popup",(function(){return g["Popup"]})),n.o(g,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return g["RasterLayer"]})),n.o(g,"Scale")&&n.d(t,"Scale",(function(){return g["Scale"]})),n.o(g,"Scene")&&n.d(t,"Scene",(function(){return g["Scene"]})),n.o(g,"Zoom")&&n.d(t,"Zoom",(function(){return g["Zoom"]})),n.o(g,"gl")&&n.d(t,"gl",(function(){return g["gl"]}));var b=n("J7lC");n.o(b,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return b["CityBuildingLayer"]})),n.o(b,"Control")&&n.d(t,"Control",(function(){return b["Control"]})),n.o(b,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return b["HeatmapLayer"]})),n.o(b,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return b["ImageLayer"]})),n.o(b,"Layers")&&n.d(t,"Layers",(function(){return b["Layers"]})),n.o(b,"LineLayer")&&n.d(t,"LineLayer",(function(){return b["LineLayer"]})),n.o(b,"Logo")&&n.d(t,"Logo",(function(){return b["Logo"]})),n.o(b,"Marker")&&n.d(t,"Marker",(function(){return b["Marker"]})),n.o(b,"PointLayer")&&n.d(t,"PointLayer",(function(){return b["PointLayer"]})),n.o(b,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return b["PolygonLayer"]})),n.o(b,"Popup")&&n.d(t,"Popup",(function(){return b["Popup"]})),n.o(b,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return b["RasterLayer"]})),n.o(b,"Scale")&&n.d(t,"Scale",(function(){return b["Scale"]})),n.o(b,"Scene")&&n.d(t,"Scene",(function(){return b["Scene"]})),n.o(b,"Zoom")&&n.d(t,"Zoom",(function(){return b["Zoom"]})),n.o(b,"gl")&&n.d(t,"gl",(function(){return b["gl"]}));n("V1cb");var x=n("4kj+");n.o(x,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return x["CityBuildingLayer"]})),n.o(x,"Control")&&n.d(t,"Control",(function(){return x["Control"]})),n.o(x,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return x["HeatmapLayer"]})),n.o(x,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return x["ImageLayer"]})),n.o(x,"Layers")&&n.d(t,"Layers",(function(){return x["Layers"]})),n.o(x,"LineLayer")&&n.d(t,"LineLayer",(function(){return x["LineLayer"]})),n.o(x,"Logo")&&n.d(t,"Logo",(function(){return x["Logo"]})),n.o(x,"Marker")&&n.d(t,"Marker",(function(){return x["Marker"]})),n.o(x,"PointLayer")&&n.d(t,"PointLayer",(function(){return x["PointLayer"]})),n.o(x,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return x["PolygonLayer"]})),n.o(x,"Popup")&&n.d(t,"Popup",(function(){return x["Popup"]})),n.o(x,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return x["RasterLayer"]})),n.o(x,"Scale")&&n.d(t,"Scale",(function(){return x["Scale"]})),n.o(x,"Scene")&&n.d(t,"Scene",(function(){return x["Scene"]})),n.o(x,"Zoom")&&n.d(t,"Zoom",(function(){return x["Zoom"]})),n.o(x,"gl")&&n.d(t,"gl",(function(){return x["gl"]}));var _=n("bzyH");n.o(_,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return _["CityBuildingLayer"]})),n.o(_,"Control")&&n.d(t,"Control",(function(){return _["Control"]})),n.o(_,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return _["HeatmapLayer"]})),n.o(_,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return _["ImageLayer"]})),n.o(_,"Layers")&&n.d(t,"Layers",(function(){return _["Layers"]})),n.o(_,"LineLayer")&&n.d(t,"LineLayer",(function(){return _["LineLayer"]})),n.o(_,"Logo")&&n.d(t,"Logo",(function(){return _["Logo"]})),n.o(_,"Marker")&&n.d(t,"Marker",(function(){return _["Marker"]})),n.o(_,"PointLayer")&&n.d(t,"PointLayer",(function(){return _["PointLayer"]})),n.o(_,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return _["PolygonLayer"]})),n.o(_,"Popup")&&n.d(t,"Popup",(function(){return _["Popup"]})),n.o(_,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return _["RasterLayer"]})),n.o(_,"Scale")&&n.d(t,"Scale",(function(){return _["Scale"]})),n.o(_,"Scene")&&n.d(t,"Scene",(function(){return _["Scene"]})),n.o(_,"Zoom")&&n.d(t,"Zoom",(function(){return _["Zoom"]})),n.o(_,"gl")&&n.d(t,"gl",(function(){return _["gl"]}));var w=n("0eqD");n.o(w,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return w["CityBuildingLayer"]})),n.o(w,"Control")&&n.d(t,"Control",(function(){return w["Control"]})),n.o(w,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return w["HeatmapLayer"]})),n.o(w,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return w["ImageLayer"]})),n.o(w,"Layers")&&n.d(t,"Layers",(function(){return w["Layers"]})),n.o(w,"LineLayer")&&n.d(t,"LineLayer",(function(){return w["LineLayer"]})),n.o(w,"Logo")&&n.d(t,"Logo",(function(){return w["Logo"]})),n.o(w,"Marker")&&n.d(t,"Marker",(function(){return w["Marker"]})),n.o(w,"PointLayer")&&n.d(t,"PointLayer",(function(){return w["PointLayer"]})),n.o(w,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return w["PolygonLayer"]})),n.o(w,"Popup")&&n.d(t,"Popup",(function(){return w["Popup"]})),n.o(w,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return w["RasterLayer"]})),n.o(w,"Scale")&&n.d(t,"Scale",(function(){return w["Scale"]})),n.o(w,"Scene")&&n.d(t,"Scene",(function(){return w["Scene"]})),n.o(w,"Zoom")&&n.d(t,"Zoom",(function(){return w["Zoom"]})),n.o(w,"gl")&&n.d(t,"gl",(function(){return w["gl"]}));var S=n("/Uc5");n.o(S,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return S["CityBuildingLayer"]})),n.o(S,"Control")&&n.d(t,"Control",(function(){return S["Control"]})),n.o(S,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return S["HeatmapLayer"]})),n.o(S,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return S["ImageLayer"]})),n.o(S,"Layers")&&n.d(t,"Layers",(function(){return S["Layers"]})),n.o(S,"LineLayer")&&n.d(t,"LineLayer",(function(){return S["LineLayer"]})),n.o(S,"Logo")&&n.d(t,"Logo",(function(){return S["Logo"]})),n.o(S,"Marker")&&n.d(t,"Marker",(function(){return S["Marker"]})),n.o(S,"PointLayer")&&n.d(t,"PointLayer",(function(){return S["PointLayer"]})),n.o(S,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return S["PolygonLayer"]})),n.o(S,"Popup")&&n.d(t,"Popup",(function(){return S["Popup"]})),n.o(S,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return S["RasterLayer"]})),n.o(S,"Scale")&&n.d(t,"Scale",(function(){return S["Scale"]})),n.o(S,"Scene")&&n.d(t,"Scene",(function(){return S["Scene"]})),n.o(S,"Zoom")&&n.d(t,"Zoom",(function(){return S["Zoom"]})),n.o(S,"gl")&&n.d(t,"gl",(function(){return S["gl"]}));var O=n("RMtq");n.o(O,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return O["CityBuildingLayer"]})),n.o(O,"Control")&&n.d(t,"Control",(function(){return O["Control"]})),n.o(O,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return O["HeatmapLayer"]})),n.o(O,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return O["ImageLayer"]})),n.o(O,"Layers")&&n.d(t,"Layers",(function(){return O["Layers"]})),n.o(O,"LineLayer")&&n.d(t,"LineLayer",(function(){return O["LineLayer"]})),n.o(O,"Logo")&&n.d(t,"Logo",(function(){return O["Logo"]})),n.o(O,"Marker")&&n.d(t,"Marker",(function(){return O["Marker"]})),n.o(O,"PointLayer")&&n.d(t,"PointLayer",(function(){return O["PointLayer"]})),n.o(O,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return O["PolygonLayer"]})),n.o(O,"Popup")&&n.d(t,"Popup",(function(){return O["Popup"]})),n.o(O,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return O["RasterLayer"]})),n.o(O,"Scale")&&n.d(t,"Scale",(function(){return O["Scale"]})),n.o(O,"Scene")&&n.d(t,"Scene",(function(){return O["Scene"]})),n.o(O,"Zoom")&&n.d(t,"Zoom",(function(){return O["Zoom"]})),n.o(O,"gl")&&n.d(t,"gl",(function(){return O["gl"]}));var E=n("1jvM");n.o(E,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return E["CityBuildingLayer"]})),n.o(E,"Control")&&n.d(t,"Control",(function(){return E["Control"]})),n.o(E,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return E["HeatmapLayer"]})),n.o(E,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return E["ImageLayer"]})),n.o(E,"Layers")&&n.d(t,"Layers",(function(){return E["Layers"]})),n.o(E,"LineLayer")&&n.d(t,"LineLayer",(function(){return E["LineLayer"]})),n.o(E,"Logo")&&n.d(t,"Logo",(function(){return E["Logo"]})),n.o(E,"Marker")&&n.d(t,"Marker",(function(){return E["Marker"]})),n.o(E,"PointLayer")&&n.d(t,"PointLayer",(function(){return E["PointLayer"]})),n.o(E,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return E["PolygonLayer"]})),n.o(E,"Popup")&&n.d(t,"Popup",(function(){return E["Popup"]})),n.o(E,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return E["RasterLayer"]})),n.o(E,"Scale")&&n.d(t,"Scale",(function(){return E["Scale"]})),n.o(E,"Scene")&&n.d(t,"Scene",(function(){return E["Scene"]})),n.o(E,"Zoom")&&n.d(t,"Zoom",(function(){return E["Zoom"]})),n.o(E,"gl")&&n.d(t,"gl",(function(){return E["gl"]}));n("bPkA");var k=n("PSsN");n.o(k,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return k["CityBuildingLayer"]})),n.o(k,"Control")&&n.d(t,"Control",(function(){return k["Control"]})),n.o(k,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return k["HeatmapLayer"]})),n.o(k,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return k["ImageLayer"]})),n.o(k,"Layers")&&n.d(t,"Layers",(function(){return k["Layers"]})),n.o(k,"LineLayer")&&n.d(t,"LineLayer",(function(){return k["LineLayer"]})),n.o(k,"Logo")&&n.d(t,"Logo",(function(){return k["Logo"]})),n.o(k,"Marker")&&n.d(t,"Marker",(function(){return k["Marker"]})),n.o(k,"PointLayer")&&n.d(t,"PointLayer",(function(){return k["PointLayer"]})),n.o(k,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return k["PolygonLayer"]})),n.o(k,"Popup")&&n.d(t,"Popup",(function(){return k["Popup"]})),n.o(k,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return k["RasterLayer"]})),n.o(k,"Scale")&&n.d(t,"Scale",(function(){return k["Scale"]})),n.o(k,"Scene")&&n.d(t,"Scene",(function(){return k["Scene"]})),n.o(k,"Zoom")&&n.d(t,"Zoom",(function(){return k["Zoom"]})),n.o(k,"gl")&&n.d(t,"gl",(function(){return k["gl"]}));var C=n("6NqC");n.o(C,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return C["CityBuildingLayer"]})),n.o(C,"Control")&&n.d(t,"Control",(function(){return C["Control"]})),n.o(C,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return C["HeatmapLayer"]})),n.o(C,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return C["ImageLayer"]})),n.o(C,"Layers")&&n.d(t,"Layers",(function(){return C["Layers"]})),n.o(C,"LineLayer")&&n.d(t,"LineLayer",(function(){return C["LineLayer"]})),n.o(C,"Logo")&&n.d(t,"Logo",(function(){return C["Logo"]})),n.o(C,"Marker")&&n.d(t,"Marker",(function(){return C["Marker"]})),n.o(C,"PointLayer")&&n.d(t,"PointLayer",(function(){return C["PointLayer"]})),n.o(C,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return C["PolygonLayer"]})),n.o(C,"Popup")&&n.d(t,"Popup",(function(){return C["Popup"]})),n.o(C,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return C["RasterLayer"]})),n.o(C,"Scale")&&n.d(t,"Scale",(function(){return C["Scale"]})),n.o(C,"Scene")&&n.d(t,"Scene",(function(){return C["Scene"]})),n.o(C,"Zoom")&&n.d(t,"Zoom",(function(){return C["Zoom"]})),n.o(C,"gl")&&n.d(t,"gl",(function(){return C["gl"]}));var j=n("bTtR");n.o(j,"CityBuildingLayer")&&n.d(t,"CityBuildingLayer",(function(){return j["CityBuildingLayer"]})),n.o(j,"Control")&&n.d(t,"Control",(function(){return j["Control"]})),n.o(j,"HeatmapLayer")&&n.d(t,"HeatmapLayer",(function(){return j["HeatmapLayer"]})),n.o(j,"ImageLayer")&&n.d(t,"ImageLayer",(function(){return j["ImageLayer"]})),n.o(j,"Layers")&&n.d(t,"Layers",(function(){return j["Layers"]})),n.o(j,"LineLayer")&&n.d(t,"LineLayer",(function(){return j["LineLayer"]})),n.o(j,"Logo")&&n.d(t,"Logo",(function(){return j["Logo"]})),n.o(j,"Marker")&&n.d(t,"Marker",(function(){return j["Marker"]})),n.o(j,"PointLayer")&&n.d(t,"PointLayer",(function(){return j["PointLayer"]})),n.o(j,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return j["PolygonLayer"]})),n.o(j,"Popup")&&n.d(t,"Popup",(function(){return j["Popup"]})),n.o(j,"RasterLayer")&&n.d(t,"RasterLayer",(function(){return j["RasterLayer"]})),n.o(j,"Scale")&&n.d(t,"Scale",(function(){return j["Scale"]})),n.o(j,"Scene")&&n.d(t,"Scene",(function(){return j["Scene"]})),n.o(j,"Zoom")&&n.d(t,"Zoom",(function(){return j["Zoom"]})),n.o(j,"gl")&&n.d(t,"gl",(function(){return j["gl"]}));var T=n("o+pz");n.d(t,"gl",(function(){return T["a"]}))},h7MG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var r=n("doU7"),i=n("MON2"),o=n("FV85"),a=n("xfSm"),s=n("qK8v"),u=n("ujMp"),c=n("oy+k"),l=n("GXnB"),f=n("yMAV"),p=n("fbrv"),h=n("xiII"),d=n("dX1H");function m(e){return e._bindingDictionary}function v(e,t,n,r,i,o){var s=e?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new l.Metadata(s,n),c=new d.Target(t,r,n,u);if(void 0!==i){var f=new l.Metadata(i,o);c.metadata.push(f)}return c}function y(e,t,n,i,o){var a=x(n.container,o.serviceIdentifier),s=[];return a.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"===typeof o.serviceIdentifier&&e.getConstructorMetadata(o.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(o.serviceIdentifier).toSelf(),a=x(n.container,o.serviceIdentifier)),s=t?a:a.filter((function(e){var t=new h.Request(e.serviceIdentifier,n,i,e,o);return e.constraint(t)})),g(o.serviceIdentifier,s,o,n.container),s}function g(e,t,n,o){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var a=u.getServiceIdentifierAsString(e),s=i.NOT_REGISTERED;throw s+=u.listMetadataForTarget(a,n),s+=u.listRegisteredBindingsForServiceIdentifier(o,a,x),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;a=u.getServiceIdentifierAsString(e),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=u.listRegisteredBindingsForServiceIdentifier(o,a,x),new Error(s)}}function b(e,t,n,r,a,s){var u,c;if(null===a){u=y(e,t,r,null,s),c=new h.Request(n,r,null,u,s);var l=new f.Plan(r,c);r.addPlan(l)}else u=y(e,t,r,a,s),c=a.addChildRequest(s.serviceIdentifier,u,s);u.forEach((function(t){var n=null;if(s.isArray())n=c.addChildRequest(t.serviceIdentifier,t,s);else{if(t.cache)return;n=c}if(t.type===o.BindingTypeEnum.Instance&&null!==t.implementationType){var a=p.getDependencies(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var u=p.getBaseClassDependencyCount(e,t.implementationType);if(a.length<u){var l=i.ARGUMENTS_LENGTH_MISMATCH(p.getFunctionName(t.implementationType));throw new Error(l)}}a.forEach((function(t){b(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function x(e,t){var n=[],r=m(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=x(e.parent,t)),n}function _(e,t,n,r,i,o,a,l){void 0===l&&(l=!1);var f=new c.Context(t),p=v(n,r,i,"",o,a);try{return b(e,l,i,f,null,p),f}catch(h){throw s.isStackOverflowExeption(h)&&f.plan&&u.circularDependencyToException(f.plan.rootRequest),h}}function w(e,t,n,r){var i=new d.Target(o.TargetTypeEnum.Variable,"",t,new l.Metadata(n,r)),a=new c.Context(e),s=new h.Request(t,a,null,[],i);return s}t.getBindingDictionary=m,t.plan=_,t.createMockRequest=w},hJnp:function(e,t,n){},"hKI/":function(e,t,n){(function(t){var n="Expected a function",r=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,p=l||f||Function("return this")(),h=Object.prototype,d=h.toString,m=Math.max,v=Math.min,y=function(){return p.Date.now()};function g(e,t,r){var i,o,a,s,u,c,l=0,f=!1,p=!1,h=!0;if("function"!=typeof e)throw new TypeError(n);function d(t){var n=i,r=o;return i=o=void 0,l=t,s=e.apply(r,n),s}function g(e){return l=e,u=setTimeout(w,t),f?d(e):s}function b(e){var n=e-c,r=e-l,i=t-n;return p?v(i,a-r):i}function _(e){var n=e-c,r=e-l;return void 0===c||n>=t||n<0||p&&r>=a}function w(){var e=y();if(_(e))return O(e);u=setTimeout(w,b(e))}function O(e){return u=void 0,h&&i?d(e):(i=o=void 0,s)}function E(){void 0!==u&&clearTimeout(u),l=0,i=c=o=u=void 0}function k(){return void 0===u?s:O(y())}function C(){var e=y(),n=_(e);if(i=arguments,o=this,c=e,n){if(void 0===u)return g(c);if(p)return u=setTimeout(w,t),d(c)}return void 0===u&&(u=setTimeout(w,t)),s}return t=S(t)||0,x(r)&&(f=!!r.leading,p="maxWait"in r,a=p?m(S(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h),C.cancel=E,C.flush=k,C}function b(e,t,r){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(n);return x(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),g(e,t,{leading:i,maxWait:t,trailing:o})}function x(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){return!!e&&"object"==typeof e}function w(e){return"symbol"==typeof e||_(e)&&d.call(e)==i}function S(e){if("number"==typeof e)return e;if(w(e))return r;if(x(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=x(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?r:+e}e.exports=b}).call(this,n("IyRk"))},hKmx:function(e,t,n){"use strict";var r=n("Un+d"),i=n("oa35"),o=n("7BAe"),a=function(e,t,n,s,u,c,l,f){var p,h=u,d=0,m=!!l&&o(l,f,3);while(d<s){if(d in n){if(p=m?m(n[d],d,t):n[d],c>0&&r(p))h=a(e,t,p,i(p.length),h,c-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=p}h++}d++}return h};e.exports=a},"hOG+":function(e,t){(function(t){e.exports=function(){var e={311:function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}},n={};function r(t){if(n[t])return n[t].exports;var i=n[t]={exports:{}},o=!0;try{e[t](i,i.exports,r),o=!1}finally{o&&delete n[t]}return i.exports}return r.ab=t+"/",r(311)}()}).call(this,"/")},hRxt:function(e,t,n){var r,i,o=n("ukPv"),a=n("Qlla"),s=o.process,u=s&&s.versions,c=u&&u.v8;c?(r=c.split("."),i=r[0]+r[1]):a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},hYqy:function(e,t,n){var r=n("MMxC"),i=180/Math.PI;r({target:"Math",stat:!0},{degrees:function(e){return e*i}})},haHa:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("cT1L"),s=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(e){var t=o(this),n=a(t.has);return!s(e,(function(e){if(!0===n.call(t,e))return s.stop()})).stopped}})},heNW:function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},hi0z:function(e,t,n){"use strict";(function(t,n){e.exports=n()})(0,(function(){function e(e){var r=[];return e.AMapUI&&r.push(t(e.AMapUI)),e.Loca&&r.push(n(e.Loca)),Promise.all(r)}function t(e){return new Promise((function(t,n){var s=[];if(e.plugins)for(var u=0;u<e.plugins.length;u+=1)-1==i.AMapUI.plugins.indexOf(e.plugins[u])&&s.push(e.plugins[u]);if(o.AMapUI===r.failed)n("\u524d\u6b21\u8bf7\u6c42 AMapUI \u5931\u8d25");else if(o.AMapUI===r.notload){o.AMapUI=r.loading,i.AMapUI.version=e.version||i.AMapUI.version,u=i.AMapUI.version;var c=document.body||document.head,l=document.createElement("script");l.type="text/javascript",l.src="https://webapi.amap.com/ui/"+u+"/main.js",l.onerror=function(e){o.AMapUI=r.failed,n("\u8bf7\u6c42 AMapUI \u5931\u8d25")},l.onload=function(){if(o.AMapUI=r.loaded,s.length)window.AMapUI.loadUI(s,(function(){for(var e=0,n=s.length;e<n;e++){var r=s[e].split("/").slice(-1)[0];window.AMapUI[r]=arguments[e]}for(t();a.AMapUI.length;)a.AMapUI.splice(0,1)[0]()}));else for(t();a.AMapUI.length;)a.AMapUI.splice(0,1)[0]()},c.appendChild(l)}else o.AMapUI===r.loaded?e.version&&e.version!==i.AMapUI.version?n("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c AMapUI \u6df7\u7528"):s.length?window.AMapUI.loadUI(s,(function(){for(var e=0,n=s.length;e<n;e++){var r=s[e].split("/").slice(-1)[0];window.AMapUI[r]=arguments[e]}t()})):t():e.version&&e.version!==i.AMapUI.version?n("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c AMapUI \u6df7\u7528"):a.AMapUI.push((function(e){e?n(e):s.length?window.AMapUI.loadUI(s,(function(){for(var e=0,n=s.length;e<n;e++){var r=s[e].split("/").slice(-1)[0];window.AMapUI[r]=arguments[e]}t()})):t()}))}))}function n(e){return new Promise((function(t,n){if(i.AMap.version.startsWith("2.0"))n("Loca \u6682\u4e0d\u9002\u914d JSAPI 2.0,\u8bf7\u4f7f\u7528 1.4.15");else if(o.Loca===r.failed)n("\u524d\u6b21\u8bf7\u6c42 Loca \u5931\u8d25");else if(o.Loca===r.notload){o.Loca=r.loading,i.Loca.version=e.version||i.Loca.version;var s=i.Loca.version,u=i.key,c=document.body||document.head,l=document.createElement("script");l.type="text/javascript",l.src="https://webapi.amap.com/loca?v="+s+"&key="+u,l.onerror=function(e){o.Loca=r.failed,n("\u8bf7\u6c42 AMapUI \u5931\u8d25")},l.onload=function(){for(o.Loca=r.loaded,t();a.Loca.length;)a.Loca.splice(0,1)[0]()},c.appendChild(l)}else o.Loca===r.loaded?e.version&&e.version!==i.Loca.version?n("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c Loca \u6df7\u7528"):t():e.version&&e.version!==i.Loca.version?n("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c Loca \u6df7\u7528"):a.Loca.push((function(e){e?n(e):n()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var r;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(r||(r={}));var i={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},o={AMap:r.notload,AMapUI:r.notload,Loca:r.notload},a={AMap:[],AMapUI:[],Loca:[]},s=[],u=function(e){"function"==typeof e&&(o.AMap===r.loaded?e(window.AMap):s.push(e))};return{load:function(t){return new Promise((function(n,a){if(o.AMap==r.failed)a("");else if(o.AMap==r.notload){var c=t.key,l=t.version,f=t.plugins;c?(window.AMap&&"lbs.amap.com"!==location.host&&a("\u7981\u6b62\u591a\u79cdAPI\u52a0\u8f7d\u65b9\u5f0f\u6df7\u7528"),i.key=c,i.AMap.version=l||i.AMap.version,i.AMap.plugins=f||i.AMap.plugins,o.AMap=r.loading,l=document.body||document.head,window.___onAPILoaded=function(i){if(delete window.___onAPILoaded,i)o.AMap=r.failed,a(i);else for(o.AMap=r.loaded,e(t).then((function(){n(window.AMap)}))["catch"](a);s.length;)s.splice(0,1)[0]()},f=document.createElement("script"),f.type="text/javascript",f.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+i.AMap.version+"&key="+c+"&plugin="+i.AMap.plugins.join(","),f.onerror=function(e){o.AMap=r.failed,a(e)},l.appendChild(f)):a("\u8bf7\u586b\u5199key")}else if(o.AMap==r.loaded)if(t.key&&t.key!==i.key)a("\u591a\u4e2a\u4e0d\u4e00\u81f4\u7684 key");else if(t.version&&t.version!==i.AMap.version)a("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c JSAPI \u6df7\u7528");else{if(c=[],t.plugins)for(l=0;l<t.plugins.length;l+=1)-1==i.AMap.plugins.indexOf(t.plugins[l])&&c.push(t.plugins[l]);c.length?window.AMap.plugin(c,(function(){e(t).then((function(){n(window.AMap)}))["catch"](a)})):e(t).then((function(){n(window.AMap)}))["catch"](a)}else if(t.key&&t.key!==i.key)a("\u591a\u4e2a\u4e0d\u4e00\u81f4\u7684 key");else if(t.version&&t.version!==i.AMap.version)a("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c JSAPI \u6df7\u7528");else{var p=[];if(t.plugins)for(l=0;l<t.plugins.length;l+=1)-1==i.AMap.plugins.indexOf(t.plugins[l])&&p.push(t.plugins[l]);u((function(){p.length?window.AMap.plugin(p,(function(){e(t).then((function(){n(window.AMap)}))["catch"](a)})):e(t).then((function(){n(window.AMap)}))["catch"](a)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,i={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},o={AMap:r.notload,AMapUI:r.notload,Loca:r.notload},a={AMap:[],AMapUI:[],Loca:[]}}}}))},hilM:function(e,t,n){"use strict";var r=n("MMxC"),i=n("tSXo"),o=n("Un+d"),a=n("bIKR"),s=n("oa35"),u=n("0qr0"),c=n("arQb"),l=n("2kyd"),f=n("jMDO"),p=n("kGMc"),h=f("slice"),d=p("slice",{ACCESSORS:!0,0:0,1:2}),m=l("species"),v=[].slice,y=Math.max;r({target:"Array",proto:!0,forced:!h||!d},{slice:function(e,t){var n,r,l,f=u(this),p=s(f.length),h=a(e,p),d=a(void 0===t?p:t,p);if(o(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?i(n)&&(n=n[m],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return v.call(f,h,d);for(r=new(void 0===n?Array:n)(y(d-h,0)),l=0;h<d;h++,l++)h in f&&c(r,l,f[h]);return r.length=l,r}})},hwEL:function(e,t,n){var r=n("I65O");r("patternMatch")},hypo:function(e,t,n){var r=n("O0oS");function i(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}e.exports=i},"i/DM":function(e,t,n){var r=n("MMxC");r({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180})},i7kj:function(e,t,n){"use strict";var r=n("Zcjx"),i=n("ukPv"),o=n("MVys");e.exports=r||!o((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}))},i8i4:function(e,t,n){"use strict";function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}}r(),e.exports=n("yl30")},iCN3:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("H1Ra"),s=(n("Rsk4"),n("nKUr"));t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),Object(s["jsx"])(s["Fragment"],{children:Object(s["jsxs"])("div",{className:"markdown",children:[Object(s["jsxs"])("h2",{id:"popup-props",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#popup-props","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"Popup Props"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"option"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"popup \u914d\u7f6e\u9879"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"lnglat"}),Object(s["jsx"])("td",{children:"`Array"}),Object(s["jsx"])("td",{children:"Object`"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"children"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"React.ReactNode"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"\u5b50\u7ec4\u4ef6"})]})]})]}),Object(s["jsxs"])("h3",{id:"option",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#option","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"option"]}),Object(s["jsxs"])("table",{children:[Object(s["jsx"])("thead",{children:Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("th",{children:"prop name"}),Object(s["jsx"])("th",{children:"Type"}),Object(s["jsx"])("th",{children:"Default"}),Object(s["jsx"])("th",{children:"Description"})]})}),Object(s["jsxs"])("tbody",{children:[Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"closeButton"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"true"})}),Object(s["jsx"])("td",{children:"\u662f\u5426\u663e\u793a\u5173\u95ed\u6309\u94ae"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"closeOnClick"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"blue"})}),Object(s["jsx"])("td",{children:"\u70b9\u51fb\u662f\u5426\u5173\u95ed popup"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"anchor"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"center, top, top-left, top-right, bottom, bottom-left,bottom-right,left, right"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"offsets"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"Array[x,y]"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"popup \u4f4d\u7f6e\u504f\u79fb"})]}),Object(s["jsxs"])("tr",{children:[Object(s["jsx"])("td",{children:"className"}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"string"})}),Object(s["jsx"])("td",{children:Object(s["jsx"])("code",{children:"null"})}),Object(s["jsx"])("td",{children:"\u6837\u5f0f\u540d\u79f0"})]})]})]}),Object(s["jsx"])(a["a"],{code:"import { Popup } from '@antv/l7-react';\n<Popup option={{}} lnglat={[]} />;",lang:"jsx"}),Object(s["jsx"])("p",{children:Object(s["jsx"])(o["AnchorLink"],{to:"../../../examples/react/covid#covid_bubble",children:"popup \u4f7f\u7528\u5b8c\u6574 demo"})})]})}))},iMhB:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("7BAe"),s=n("jbR1"),u=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{every:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return!u(n,(function(e){if(!r(e,e,t))return u.stop()}),void 0,!1,!0).stopped}})},iWIM:function(e,t,n){var r=n("n3AX");function i(t,n,o){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get,e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}},e.exports["default"]=e.exports,e.exports.__esModule=!0),i(t,n,o||t)}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},iegG:function(e,t){function n(e){var t=e.target||e.srcElement;t.__resizeRAF__&&cancelAnimationFrame(t.__resizeRAF__),t.__resizeRAF__=requestAnimationFrame((function(){var n=t.__resizeTrigger__,r=n&&n.__resizeListeners__;r&&r.forEach((function(t){t.call(n,e)}))}))}var r=function(e,t){var r,i=this,o=i.document,a=o.attachEvent;function s(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",n)}if("undefined"!==typeof navigator&&(r=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),!e.__resizeListeners__)if(e.__resizeListeners__=[],a)e.__resizeTrigger__=e,e.attachEvent("onresize",n);else{"static"===getComputedStyle(e).position&&(e.style.position="relative");var u=e.__resizeTrigger__=o.createElement("object");u.setAttribute("style","position: absolute; top: 0; left: 0; height: 100%; width: 100%; pointer-events: none; z-index: -1; opacity: 0;"),u.setAttribute("class","resize-sensor"),u.setAttribute("tabindex","-1"),u.setAttribute("title",""),u.__resizeElement__=e,u.onload=s,u.type="text/html",r&&e.appendChild(u),u.data="about:blank",r||e.appendChild(u)}e.__resizeListeners__.push(t)};e.exports="undefined"===typeof window?r:r.bind(window),e.exports.unbind=function(e,t){var r=document.attachEvent,i=e.__resizeListeners__||[];if(t){var o=i.indexOf(t);-1!==o&&i.splice(o,1)}else i=e.__resizeListeners__=[];if(!i.length){if(r)e.detachEvent("onresize",n);else if(e.__resizeTrigger__){var a=e.__resizeTrigger__.contentDocument,s=a&&a.defaultView;s&&(s.removeEventListener("resize",n),delete s.__resizeTrigger__),e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__)}delete e.__resizeListeners__}}},igoe:function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},itsj:function(e,t){function n(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}e.exports=n},izsi:function(e,t,n){var r=n("MMxC"),i=n("rn5R");r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},jHRr:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("7BAe"),s=n("PPXv"),u=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{find:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(e,n){if(r(n,e,t))return u.stop(n)}),void 0,!0,!0).result}})},jIZW:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("+X1D");r({target:"Map",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},"jIg/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var r=n("xfSm"),i=n("GXnB"),o=n("Ztfv");function a(e){return function(t,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"===typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}t.multiInject=a},jMDO:function(e,t,n){var r=n("MVys"),i=n("2kyd"),o=n("hRxt"),a=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},jXQH:function(e,t,n){var r=n("TO8r"),i=/^\s+/;function o(e){return e?e.slice(0,r(e)+1).replace(i,""):e}e.exports=o},jYx5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var r=n("xfSm"),i=n("GXnB"),o=n("Ztfv");function a(){return function(e,t,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"===typeof n?o.tagParameter(e,t,n,a):o.tagProperty(e,t,a)}}t.optional=a},"jbM+":function(e,t,n){var r=n("R/W3");function i(e,t){var n=null==e?0:e.length;return!!n&&r(e,t,0)>-1}e.exports=i},jbR1:function(e,t,n){var r=n("Zcjx"),i=n("qcmB");e.exports=r?i:function(e){return Set.prototype.values.call(e)}},"jdp+":function(e,t,n){var r=n("u93E"),i=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),u=o(2,127)*(2-s),c=o(2,-126),l=function(e){return e+1/a-1/a};e.exports=Math.fround||function(e){var t,n,o=i(e),f=r(e);return o<c?f*l(o/c/s)*c*s:(t=(1+s/a)*o,n=t-(t-o),n>u||n!=n?f*(1/0):f*n)}},jeLo:function(e,t,n){var r=n("juv8"),i=n("mTTR");function o(e){return r(e,i(e))}e.exports=o},jksQ:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),u=n("7BAe"),c=n("/dTS"),l=n("jbR1"),f=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{map:function(e){var t=a(this),n=l(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Set"))),p=s(i.add);return f(n,(function(e){p.call(i,r(e,e,t))}),void 0,!1,!0),i}})},jtLI:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},juv8:function(e,t,n){var r=n("MrPd"),i=n("hypo");function o(e,t,n,o){var a=!n;n||(n={});var s=-1,u=t.length;while(++s<u){var c=t[s],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?i(n,c,l):r(n,c,l)}return n}e.exports=o},"k+1r":function(e,t,n){var r=n("QkVE");function i(e){var t=r(this,e)["delete"](e);return this.size-=t?1:0,t}e.exports=i},"k/J9":function(e,t,n){"use strict";var r=n("f1E4");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},k1fw:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return o}))},"k5/I":function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return P})),n.d(t,"f",(function(){return L})),n.d(t,"g",(function(){return N})),n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return V})),n.d(t,"e",(function(){return te}));var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("PJYZ"),u=n.n(s),c=n("7W2i"),l=n.n(c),f=n("a1gu"),p=n.n(f),h=n("Nsbk"),d=n.n(h),m=n("lSNA"),v=n.n(m),y=n("h1nZ"),g=n("Hel2"),b=n("uhBA");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=S();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var O=0,E=function(e){l()(n,e);var t=w(n);function n(e){var r;return i()(this,n),r=t.call(this),v()(u()(r),"controlOption",void 0),v()(u()(r),"container",void 0),v()(u()(r),"sceneContainer",void 0),v()(u()(r),"mapsService",void 0),v()(u()(r),"renderService",void 0),v()(u()(r),"layerService",void 0),v()(u()(r),"controlService",void 0),v()(u()(r),"isShow",void 0),r.controlOption=_(_({},r.getDefault()),e||{}),r}return a()(n,[{key:"getDefault",value:function(){return{position:y["PositionType"].TOPRIGHT,name:"".concat(O++)}}},{key:"setPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y["PositionType"].BOTTOMRIGHT,t=this.controlService;return t&&t.removeControl(this),this.controlOption.position=e,t&&t.addControl(this,this.sceneContainer),this}},{key:"addTo",value:function(e){this.mapsService=e.get(y["TYPES"].IMapService),this.renderService=e.get(y["TYPES"].IRendererService),this.layerService=e.get(y["TYPES"].ILayerService),this.controlService=e.get(y["TYPES"].IControlService),this.sceneContainer=e,this.isShow=!0,this.container=this.onAdd();var t=this.container,n=this.controlOption.position,r=this.controlService.controlCorners[n];return g["a"].addClass(t,"l7-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this}},{key:"onAdd",value:function(){throw new Error("Method not implemented.")}},{key:"onRemove",value:function(){throw new Error("Method not implemented.")}},{key:"hide",value:function(){var e=this.container;g["a"].addClass(e,"l7-control-hide"),this.isShow=!1}},{key:"show",value:function(){var e=this.container;g["a"].removeClass(e,"l7-control-hide"),this.isShow=!0}},{key:"remove",value:function(){if(!this.mapsService)return this;g["a"].remove(this.container),this.onRemove()}},{key:"_refocusOnMap",value:function(e){if(this.mapsService&&e&&e.screenX>0&&e.screenY>0){var t=this.mapsService.getContainer();null!==t&&t.focus()}}}]),n}(b["EventEmitter"]);function k(e){var t=C();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var j=function(e){l()(n,e);var t=k(n);function n(e){var r;return i()(this,n),r=t.call(this,e),v()(u()(r),"layerControlInputs",void 0),v()(u()(r),"layers",void 0),v()(u()(r),"lastZIndex",void 0),v()(u()(r),"handlingClick",void 0),v()(u()(r),"layersLink",void 0),v()(u()(r),"baseLayersList",void 0),v()(u()(r),"separator",void 0),v()(u()(r),"overlaysList",void 0),v()(u()(r),"form",void 0),r.layerControlInputs=[],r.layers=[],r.lastZIndex=0,r.handlingClick=!1,r.initLayers(),Object(g["i"])(["checkDisabledLayers","onLayerChange","collapse","extend","expand","onInputClick"],u()(r)),r}return a()(n,[{key:"getDefault",value:function(){return{collapsed:!0,position:y["PositionType"].TOPRIGHT,autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,name:"layers"}}},{key:"onAdd",value:function(){var e=this;return this.initLayout(),this.update(),this.mapsService.on("zoomend",this.checkDisabledLayers),this.layers.forEach((function(t){t.layer.on("remove",e.onLayerChange),t.layer.on("add",e.onLayerChange)})),this.container}},{key:"addVisualLayer",value:function(e,t){return this.addLayer(e,t,!0),this.mapsService?this.update():this}},{key:"expand",value:function(){var e=this.renderService.getViewportSize(),t=e.height;g["a"].addClass(this.container,"l7-control-layers-expanded"),this.form.style.height="null";var n=t-(this.container.offsetTop+50);return n<this.form.clientHeight?(g["a"].addClass(this.form,"l7-control-layers-scrollbar"),this.form.style.height=n+"px"):g["a"].removeClass(this.form,"l7-control-layers-scrollbar"),this.checkDisabledLayers(),this}},{key:"collapse",value:function(){return g["a"].removeClass(this.container,"l7-control-layers-expanded"),this}},{key:"onRemove",value:function(){var e=this;this.mapsService&&(this.mapsService.off("click",this.collapse),this.layers.forEach((function(t){t.layer.off("remove",e.onLayerChange),t.layer.off("add",e.onLayerChange)})))}},{key:"initLayout",value:function(){var e="l7-control-layers",t=this.container=g["a"].create("div",e),n=this.controlOption.collapsed;t.setAttribute("aria-haspopup","true");var r=this.form=g["a"].create("form",e+"-list");n&&(this.mapsService.on("click",this.collapse),t.addEventListener("mouseenter",this.expand),t.addEventListener("mouseleave",this.collapse)),this.layersLink=g["a"].create("a",e+"-toggle",t);var i=this.layersLink;i.title="Layers",n||this.expand(),this.baseLayersList=g["a"].create("div",e+"-base",r),this.separator=g["a"].create("div",e+"-separator",r),this.overlaysList=g["a"].create("div",e+"-overlays",r),t.appendChild(r)}},{key:"initLayers",value:function(){var e=this,t=this.controlOption,n=t.baseLayers,r=void 0===n?{}:n,i=t.overlayers,o=void 0===i?{}:i;Object.keys(r).forEach((function(t,n){e.addLayer(r[t],t,!1)})),Object.keys(o).forEach((function(t,n){e.addLayer(o[t],t,!0)}))}},{key:"update",value:function(){if(!this.container)return this;var e,t,n,r;g["a"].empty(this.baseLayersList),g["a"].empty(this.overlaysList),this.layerControlInputs=[];var i=0;for(n=0;n<this.layers.length;n++)r=this.layers[n],this.addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.controlOption.hideSingleBase&&(e=e&&i>1,this.baseLayersList.style.display=e?"":"none"),this.separator.style.display=t&&e?"":"none",this}},{key:"checkDisabledLayers",value:function(){for(var e,t,n=this.layerControlInputs,r=this.mapsService.getZoom(),i=n.length-1;i>=0;i--)if(e=n[i],t=this.layerService.getLayer(e.layerId),t&&t.inited){var o=t.getMinZoom(),a=t.getMaxZoom();e.disabled=r<o||r>a}}},{key:"addLayer",value:function(e,t,n){this.mapsService&&(e.on("add",this.onLayerChange),e.on("remove",this.onLayerChange)),this.layers.push({layer:e,name:t,overlay:n});var r=this.controlOption,i=r.sortLayers,o=r.sortFunction,a=r.autoZIndex;i&&this.layers.sort((function(e,t){return o(e.layer,t.layer,e.name,t.name)})),a&&e.setZIndex&&(this.lastZIndex++,e.setZIndex(this.lastZIndex)),this.expandIfNotCollapsed()}},{key:"expandIfNotCollapsed",value:function(){return this.mapsService&&!this.controlOption.collapsed&&this.expand(),this}},{key:"onLayerChange",value:function(e){this.handlingClick||this.update();var t=this.layerService.getLayer(e.target.layerId),n=null!==t&&void 0!==t&&t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this.emit(n,t)}},{key:"createRadioElement",value:function(e,t){var n='<input type="radio" class="l7-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild}},{key:"addItem",value:function(e){var t,n=document.createElement("label"),r=this.layerService.getLayer(e.layer.id),i=r&&r.inited&&e.layer.isVisible();e.overlay?(t=document.createElement("input"),t.type="checkbox",t.className="l7-control-layers-selector",t.defaultChecked=i):t=this.createRadioElement("l7-base-layers",i),this.layerControlInputs.push(t),t.layerId=e.layer.id,t.addEventListener("click",this.onInputClick);var o=document.createElement("span");o.innerHTML=" "+e.name;var a=document.createElement("div");n.appendChild(a),a.appendChild(t),a.appendChild(o);var s=e.overlay?this.overlaysList:this.baseLayersList;return s.appendChild(n),this.checkDisabledLayers(),n}},{key:"onInputClick",value:function(){var e,t,n=this.layerControlInputs,r=[],i=[];this.handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this.layerService.getLayer(e.layerId),e.checked?r.push(t):e.checked||i.push(t);i.forEach((function(e){e.hide()})),r.forEach((function(e){e.show()})),this.handlingClick=!1}}]),n}(E);function T(e){var t=A();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}function A(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var P=function(e){l()(n,e);var t=T(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getDefault",value:function(){return{position:y["PositionType"].BOTTOMLEFT,name:"logo"}}},{key:"onAdd",value:function(){var e="l7-control-logo",t=g["a"].create("div",e),n=g["a"].create("a","l7-ctrl-logo");return n.target="_blank",n.rel="noopener nofollow",n.href="https://antv.alipay.com/l7",n.setAttribute("aria-label","AntV logo"),n.setAttribute("rel","noopener nofollow"),t.appendChild(n),t}},{key:"onRemove",value:function(){return null}}]),n}(E);function M(e){var t=I();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}function I(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var L=function(e){l()(n,e);var t=M(n);function n(e){var r;return i()(this,n),r=t.call(this,e),v()(u()(r),"mScale",void 0),v()(u()(r),"iScale",void 0),Object(g["i"])(["update"],u()(r)),r}return a()(n,[{key:"getDefault",value:function(){return{position:y["PositionType"].BOTTOMLEFT,maxWidth:100,metric:!0,updateWhenIdle:!1,imperial:!1,name:"scale"}}},{key:"onAdd",value:function(){var e="l7-control-scale",t=g["a"].create("div",e);this.addScales(e+"-line",t);var n=this.controlOption.updateWhenIdle;return this.mapsService.on(n?"moveend":"mapmove",this.update),this.mapsService.on(n?"zoomend":"zoomchange",this.update),this.update(),t}},{key:"onRemove",value:function(){var e=this.controlOption.updateWhenIdle;this.mapsService.off(e?"zoomend":"zoomchange",this.update),this.mapsService.off(e?"moveend":"mapmove",this.update)}},{key:"update",value:function(){var e=this.mapsService,t=this.controlOption.maxWidth,n=e.getSize()[1]/2,r=e.containerToLngLat([0,n]),i=e.containerToLngLat([t,n]),o=Object(g["q"])([r.lng,r.lat],[i.lng,i.lat]);this.updateScales(o)}},{key:"updateScales",value:function(e){var t=this.controlOption,n=t.metric,r=t.imperial;n&&e&&this.updateMetric(e),r&&e&&this.updateImperial(e)}},{key:"updateMetric",value:function(e){var t=this.getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this.updateScale(this.mScale,n,t/e)}},{key:"updateImperial",value:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this.getRoundNum(t),this.updateScale(this.iScale,n+" mi",n/t)):(r=this.getRoundNum(i),this.updateScale(this.iScale,r+" ft",r/i))}},{key:"updateScale",value:function(e,t,n){var r=this.controlOption.maxWidth;e.style.width=Math.round(r*n)+"px",e.innerHTML=t}},{key:"getRoundNum",value:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}},{key:"addScales",value:function(e,t){var n=this.controlOption,r=n.metric,i=n.imperial;r&&(this.mScale=g["a"].create("div",e,t)),i&&(this.iScale=g["a"].create("div",e,t))}}]),n}(E);function R(e){var t=D();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}function D(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var N=function(e){l()(n,e);var t=R(n);function n(e){var r;return i()(this,n),r=t.call(this,e),v()(u()(r),"disabled",void 0),v()(u()(r),"zoomInButton",void 0),v()(u()(r),"zoomOutButton",void 0),Object(g["i"])(["updateDisabled","zoomIn","zoomOut"],u()(r)),r}return a()(n,[{key:"getDefault",value:function(){return{position:y["PositionType"].TOPLEFT,zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out",name:"zoom"}}},{key:"onAdd",value:function(){var e="l7-control-zoom",t=g["a"].create("div",e+" l7-bar");return this.zoomInButton=this.createButton(this.controlOption.zoomInText,this.controlOption.zoomInTitle,e+"-in",t,this.zoomIn),this.zoomOutButton=this.createButton(this.controlOption.zoomOutText,this.controlOption.zoomOutTitle,e+"-out",t,this.zoomOut),this.mapsService.on("zoomend",this.updateDisabled),this.mapsService.on("zoomchange",this.updateDisabled),this.updateDisabled(),t}},{key:"onRemove",value:function(){this.mapsService.off("zoomend",this.updateDisabled),this.mapsService.off("zoomchange",this.updateDisabled)}},{key:"disable",value:function(){return this.disabled=!0,this.updateDisabled(),this}},{key:"enable",value:function(){return this.disabled=!1,this.updateDisabled(),this}},{key:"zoomIn",value:function(){!this.disabled&&this.mapsService.getZoom()<this.mapsService.getMaxZoom()&&this.mapsService.zoomIn()}},{key:"zoomOut",value:function(){!this.disabled&&this.mapsService.getZoom()>this.mapsService.getMinZoom()&&this.mapsService.zoomOut()}},{key:"createButton",value:function(e,t,n,r,i){var o=g["a"].create("a",n,r);return o.innerHTML=e,o.title=t,o.href="javascript:void(0)",o.addEventListener("click",i),o}},{key:"updateDisabled",value:function(){var e=this.mapsService,t="l7-disabled";g["a"].removeClass(this.zoomInButton,t),g["a"].removeClass(this.zoomOutButton,t),(this.disabled||e.getZoom()<=e.getMinZoom())&&g["a"].addClass(this.zoomOutButton,t),(this.disabled||e.getZoom()>=e.getMaxZoom())&&g["a"].addClass(this.zoomInButton,t)}}]),n}(E);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e){var t=U();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}function U(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var V=function(e){l()(n,e);var t=B(n);function n(e){var r;return i()(this,n),r=t.call(this),v()(u()(r),"markerOption",void 0),v()(u()(r),"defaultMarker",void 0),v()(u()(r),"popup",void 0),v()(u()(r),"mapsService",void 0),v()(u()(r),"sceneSerive",void 0),v()(u()(r),"lngLat",void 0),v()(u()(r),"scene",void 0),v()(u()(r),"added",!1),v()(u()(r),"eventHandle",(function(e){r.emit(e.type,{target:e,data:r.markerOption.extData,lngLat:r.lngLat})})),r.markerOption=F(F({},r.getDefault()),e),Object(g["i"])(["update","onMove","onUp","addDragHandler","onMapClick"],u()(r)),r.init(),r}return a()(n,[{key:"getDefault",value:function(){return{element:void 0,anchor:g["f"].BOTTOM,offsets:[0,0],color:"#5B8FF9",draggable:!1}}},{key:"addTo",value:function(e){this.scene=e,this.mapsService=e.get(y["TYPES"].IMapService),this.sceneSerive=e.get(y["TYPES"].ISceneService);var t=this.markerOption,n=t.element;t.draggable;return this.mapsService.getMarkerContainer().appendChild(n),this.registerMarkerEvent(n),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.update(),this.added=!0,this.emit("added"),this}},{key:"remove",value:function(){this.mapsService&&(this.mapsService.off("click",this.onMapClick),this.mapsService.off("move",this.update),this.mapsService.off("moveend",this.update),this.mapsService.off("mousedown",this.addDragHandler),this.mapsService.off("touchstart",this.addDragHandler),this.mapsService.off("mouseup",this.onUp),this.mapsService.off("touchend",this.onUp)),this.unRegisterMarkerEvent(),this.removeAllListeners();var e=this.markerOption.element;return e&&g["a"].remove(e),this.popup&&this.popup.remove(),this}},{key:"setLnglat",value:function(e){return this.lngLat=e,Array.isArray(e)&&(this.lngLat={lng:e[0],lat:e[1]}),this.popup&&this.popup.setLnglat(this.lngLat),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"getElement",value:function(){return this.markerOption.element}},{key:"setElement",value:function(e){var t=this;if(!this.added)return this.once("added",(function(){t.setElement(e)})),this;var n=this.markerOption.element;return n&&g["a"].remove(n),this.markerOption.element=e,this.init(),this.mapsService.getMarkerContainer().appendChild(e),this.registerMarkerEvent(e),this.update(),this}},{key:"openPopup",value:function(){var e=this;if(!this.added)return this.once("added",(function(){e.openPopup()})),this;var t=this.popup;return t?(t.isOpen()||t.addTo(this.scene),this):this}},{key:"closePopup",value:function(){var e=this;this.added||this.once("added",(function(){e.closePopup()}));var t=this.popup;return t&&t.remove(),this}},{key:"setPopup",value:function(e){return this.popup=e,this.lngLat&&this.popup.setLnglat(this.lngLat),this}},{key:"togglePopup",value:function(){var e=this.popup;return e?(e.isOpen()?e.remove():e.addTo(this.scene),this):this}},{key:"getPopup",value:function(){return this.popup}},{key:"getOffset",value:function(){return this.markerOption.offsets}},{key:"setDraggable",value:function(e){throw new Error("Method not implemented.")}},{key:"isDraggable",value:function(){return this.markerOption.draggable}},{key:"getExtData",value:function(){return this.markerOption.extData}},{key:"setExtData",value:function(e){this.markerOption.extData=e}},{key:"update",value:function(){if(this.mapsService){var e=this.markerOption,t=e.element,n=e.anchor;this.updatePosition(),g["a"].setTransform(t,"".concat(g["e"][n]))}}},{key:"onMapClick",value:function(e){var t=this.markerOption.element;this.popup&&t&&this.togglePopup()}},{key:"updatePosition",value:function(){if(this.mapsService){var e=this.markerOption,t=e.element,n=e.offsets,r=this.lngLat,i=r.lng,o=r.lat,a=this.mapsService.getBounds(),s=this.mapsService.lngLatToContainer([i,o]);if(t){t.style.display="block";var u=this.mapsService.getContainer(),c=0,l=0;if(u&&(c=u.scrollWidth,l=u.scrollHeight),Math.abs(a[0][0])>180||Math.abs(a[1][0])>180){if(s.x>c){var f=this.mapsService.lngLatToContainer([i-360,o]);s.x=f.x}if(s.x<0){var p=this.mapsService.lngLatToContainer([i+360,o]);s.x=p.x}}(s.x>c||s.x<0||s.y>l||s.y<0)&&(t.style.display="none"),t.style.left=s.x+n[0]+"px",t.style.top=s.y-n[1]+"px"}}}},{key:"init",value:function(){var e=this,t=this.markerOption.element,n=this.markerOption,r=n.color,i=n.anchor;if(!t){this.defaultMarker=!0,t=g["a"].create("div"),this.markerOption.element=t;var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","48px"),o.setAttributeNS(null,"width","48px"),o.setAttributeNS(null,"viewBox","0 0 1024 1024");var a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttributeNS(null,"d","M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z"),a.setAttributeNS(null,"fill",r),o.appendChild(a),t.appendChild(o)}g["a"].addClass(t,"l7-marker"),Object.keys(this.markerOption.style||{}).forEach((function(n){var r,i,o=(null===(r=e.markerOption)||void 0===r?void 0:r.style)&&(null===(i=e.markerOption)||void 0===i?void 0:i.style[n]);t&&(t.style[n]=o)})),t.addEventListener("click",(function(t){e.onMapClick(t)})),t.addEventListener("click",this.eventHandle),Object(g["g"])(t,i,"marker")}},{key:"registerMarkerEvent",value:function(e){e.addEventListener("mousemove",this.eventHandle),e.addEventListener("click",this.eventHandle),e.addEventListener("mousedown",this.eventHandle),e.addEventListener("mouseup",this.eventHandle),e.addEventListener("dblclick",this.eventHandle),e.addEventListener("contextmenu",this.eventHandle),e.addEventListener("mouseover",this.eventHandle),e.addEventListener("mouseout",this.eventHandle)}},{key:"unRegisterMarkerEvent",value:function(){var e=this.getElement();e.removeEventListener("mousemove",this.eventHandle),e.removeEventListener("click",this.eventHandle),e.removeEventListener("mousedown",this.eventHandle),e.removeEventListener("mouseup",this.eventHandle),e.removeEventListener("dblclick",this.eventHandle),e.removeEventListener("contextmenu",this.eventHandle),e.removeEventListener("mouseover",this.eventHandle),e.removeEventListener("mouseout",this.eventHandle)}},{key:"addDragHandler",value:function(e){throw new Error("Method not implemented.")}},{key:"onUp",value:function(e){throw new Error("Method not implemented.")}}]),n}(b["EventEmitter"]),H=n("QkVN"),q=n.n(H),G=n("mpbz"),W=n.n(G);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e){var t=K();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}function K(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(function(e){l()(n,e);var t=X(n);function n(e){var r,o;return i()(this,n),o=t.call(this),v()(u()(o),"markers",[]),v()(u()(o),"markerLayerOption",void 0),v()(u()(o),"clusterIndex",void 0),v()(u()(o),"points",[]),v()(u()(o),"clusterMarkers",[]),v()(u()(o),"mapsService",void 0),v()(u()(o),"scene",void 0),v()(u()(o),"zoom",void 0),v()(u()(o),"bbox",void 0),o.markerLayerOption=q()(o.getDefault(),e),Object(g["i"])(["update"],u()(o)),o.zoom=(null===(r=o.markerLayerOption.clusterOption)||void 0===r?void 0:r.zoom)||-99,o}a()(n,[{key:"getDefault",value:function(){return{cluster:!1,clusterOption:{radius:80,maxZoom:20,minZoom:0,zoom:-99,style:{},className:""}}}},{key:"addTo",value:function(e){return this.scene=e,this.mapsService=e.get(y["TYPES"].IMapService),this.markerLayerOption.cluster&&(this.initCluster(),this.update(),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.addMarkers(),this}},{key:"addMarker",value:function(e){var t=this.markerLayerOption.cluster;t&&this.addPoint(e,this.markers.length),this.markers.push(e)}},{key:"removeMarker",value:function(e){this.markers.indexOf(e);var t=this.markers.indexOf(e);t>-1&&this.markers.splice(t,1)}},{key:"hide",value:function(){this.markers.map((function(e){e.getElement().style.opacity="0"}))}},{key:"show",value:function(){this.markers.map((function(e){e.getElement().style.opacity="1"}))}},{key:"getMarkers",value:function(){var e=this.markerLayerOption.cluster;return e?this.clusterMarkers:this.markers}},{key:"addMarkers",value:function(){var e=this;this.getMarkers().forEach((function(t){t.addTo(e.scene)}))}},{key:"clear",value:function(){this.markers.forEach((function(e){e.remove()})),this.clusterMarkers.forEach((function(e){e.remove()})),this.mapsService.off("camerachange",this.update),this.markers=[],this.clusterMarkers=[]}},{key:"destroy",value:function(){this.clear(),this.removeAllListeners()}},{key:"addPoint",value:function(e,t){var n=e.getLnglat(),r=n.lng,i=n.lat,o={geometry:{type:"Point",coordinates:[r,i]},properties:Y(Y({},e.getExtData()),{},{marker_id:t})};this.points.push(o)}},{key:"initCluster",value:function(){if(this.markerLayerOption.cluster){var e=this.markerLayerOption.clusterOption,t=e.radius,n=e.minZoom,r=void 0===n?0:n,i=e.maxZoom;this.clusterIndex=new W.a({radius:t,minZoom:r,maxZoom:i}),this.clusterIndex.load(this.points)}}},{key:"getClusterMarker",value:function(e,t){var n=this,r=e[0].concat(e[1]),i=this.clusterIndex.getClusters(r,t);this.clusterMarkers.forEach((function(e){e.remove()})),this.clusterMarkers=[],i.forEach((function(e){var t,r=n.markerLayerOption.clusterOption,i=r.field,o=r.method;if(e.properties&&null!==(t=e.properties)&&void 0!==t&&t.cluster_id){var a,s=n.getLeaves(null===(a=e.properties)||void 0===a?void 0:a.cluster_id);if(e.properties.clusterData=s,i&&o){var u=null===s||void 0===s?void 0:s.map((function(e){var t=v()({},i,e.properties[i]);return t})),c=g["c"].getColumn(u,i),l=g["c"].getSatByColumn(o,c),f="point_"+o;e.properties[f]=l.toFixed(2)}}var p=n.clusterMarker(e);n.clusterMarkers.push(p),p.addTo(n.scene)}))}},{key:"getLeaves",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e?this.clusterIndex.getLeaves(e,t,n):null}},{key:"clusterMarker",value:function(e){var t=this.markerLayerOption.clusterOption,n=t,r=n.element,i=void 0===r?this.generateElement.bind(this):r,o=new V({element:i(e)}).setLnglat({lng:e.geometry.coordinates[0],lat:e.geometry.coordinates[1]});return o}},{key:"normalMarker",value:function(e){var t=e.properties.marker_id;return this.markers[t]}},{key:"update",value:function(){var e=this.mapsService.getZoom(),t=this.mapsService.getBounds();(!this.bbox||Math.abs(e-this.zoom)>=1||!Object(g["j"])(this.bbox,t))&&(this.bbox=Object(g["r"])(t,.5),this.zoom=Math.floor(e),this.getClusterMarker(this.bbox,this.zoom))}},{key:"generateElement",value:function(e){var t=g["a"].create("div","l7-marker-cluster"),n=g["a"].create("div","",t),r=g["a"].create("span","",n),i=this.markerLayerOption.clusterOption,o=i.field,a=i.method;e.properties.point_count=e.properties.point_count||1;var s=o&&a?e.properties["point_"+a]||e.properties[o]:e.properties.point_count;return r.textContent=s,t}}])})(b["EventEmitter"]);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e){var t=ee();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}function ee(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var te=function(e){l()(n,e);var t=$(n);function n(e){var r;return i()(this,n),r=t.call(this),v()(u()(r),"popupOption",void 0),v()(u()(r),"mapsService",void 0),v()(u()(r),"sceneSerive",void 0),v()(u()(r),"lngLat",void 0),v()(u()(r),"content",void 0),v()(u()(r),"closeButton",void 0),v()(u()(r),"timeoutInstance",void 0),v()(u()(r),"container",void 0),v()(u()(r),"tip",void 0),v()(u()(r),"scene",void 0),r.popupOption=Q(Q({},r.getdefault()),e),Object(g["i"])(["update","onClickClose","remove"],u()(r)),r}return a()(n,[{key:"addTo",value:function(e){var t=this;return this.mapsService=e.get(y["TYPES"].IMapService),this.sceneSerive=e.get(y["TYPES"].ISceneService),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.scene=e,this.update(),this.popupOption.closeOnClick&&(this.timeoutInstance=setTimeout((function(){t.mapsService.on("click",t.onClickClose)}),30)),this.emit("open"),this}},{key:"close",value:function(){this.remove()}},{key:"open",value:function(){this.addTo(this.scene)}},{key:"setHTML",value:function(e){var t,n=window.document.createDocumentFragment(),r=window.document.createElement("body");r.innerHTML=e;while(1){if(t=r.firstChild,!t)break;n.appendChild(t)}return this.setDOMContent(n)}},{key:"setLnglat",value:function(e){return this.lngLat=e,Array.isArray(e)&&(this.lngLat={lng:e[0],lat:e[1]}),this.mapsService&&(this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"setText",value:function(e){return this.setDOMContent(window.document.createTextNode(e))}},{key:"setMaxWidth",value:function(e){return this.popupOption.maxWidth=e,this.update(),this}},{key:"setDOMContent",value:function(e){return this.createContent(),this.content.appendChild(e),this.update(),this}},{key:"remove",value:function(){return this.content&&this.removeDom(this.content),this.container&&(this.removeDom(this.container),delete this.container),this.mapsService&&(this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.mapsService.off("click",this.onClickClose),delete this.mapsService),clearTimeout(this.timeoutInstance),this.emit("close"),this}},{key:"isOpen",value:function(){return!!this.mapsService}},{key:"createContent",value:function(){this.content&&g["a"].remove(this.content),this.content=g["a"].create("div","l7-popup-content",this.container),this.popupOption.closeButton&&(this.closeButton=g["a"].create("button","l7-popup-close-button",this.content),this.popupOption.closeButtonOffsets&&(this.closeButton.style.right=this.popupOption.closeButtonOffsets[0]+"px",this.closeButton.style.top=this.popupOption.closeButtonOffsets[1]+"px"),this.closeButton.setAttribute("aria-label","Close popup"),this.closeButton.innerHTML="&#215;",this.closeButton.addEventListener("click",this.onClickClose))}},{key:"creatDom",value:function(e,t,n){var r=window.document.createElement(e);return void 0!==t&&(r.className=t),n&&n.appendChild(r),r}},{key:"removeDom",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"getdefault",value:function(){return{closeButton:!0,closeOnClick:!0,maxWidth:"240px",offsets:[0,0],anchor:g["f"].BOTTOM,className:"",stopPropagation:!0}}},{key:"onClickClose",value:function(e){e.stopPropagation&&e.stopPropagation(),this.remove()}},{key:"update",value:function(){var e=this,t=this.lngLat,n=this.popupOption,r=n.className,i=n.maxWidth,o=n.anchor;if(this.mapsService&&t&&this.content){var a=this.mapsService.getMarkerContainer();if(!this.container&&a){this.container=this.creatDom("div","l7-popup",a),this.tip=this.creatDom("div","l7-popup-tip",this.container),this.container.appendChild(this.content),r&&r.split(" ").forEach((function(t){return e.container.classList.add(t)}));var s=this.popupOption.stopPropagation;s&&["mousemove","mousedown","mouseup","click","dblclick"].forEach((function(t){e.container.addEventListener(t,(function(e){e.stopPropagation()}))}))}i&&this.container.style.maxWidth!==i&&(this.container.style.maxWidth=i),this.updatePosition(),g["a"].setTransform(this.container,"".concat(g["e"][o])),Object(g["g"])(this.container,o,"popup")}}},{key:"updatePosition",value:function(){if(this.mapsService){var e=this.lngLat,t=e.lng,n=e.lat,r=this.popupOption.offsets,i=this.mapsService.lngLatToContainer([t,n]);this.container.style.left=i.x+r[0]+"px",this.container.style.top=i.y-r[1]+"px"}}}]),n}(b["EventEmitter"]);function ne(e,t){if(t||(t=document),t){var n=t.head||t.getElementsByTagName("head")[0];if(!n){n=t.createElement("head");var r=t.body||t.getElementsByTagName("body")[0];r?r.parentNode.insertBefore(n,r):t.documentElement.appendChild(n)}var i=t.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),n.appendChild(i),i}}ne(".l7-marker-container {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n}\n\n.l7-marker {\n  position: absolute !important;\n  top: 0;\n  left: 0;\n  z-index: 5;\n  cursor: pointer;\n}\n\n.l7-marker-cluster {\n  background-clip: padding-box;\n  border-radius: 20px;\n  background-color: rgba(181, 226, 140, 0.6);\n  width: 40px;\n  height: 40px;\n}\n.l7-marker-cluster div {\n  width: 30px;\n  height: 30px;\n  margin-left: 5px;\n  margin-top: 5px;\n  text-align: center;\n  border-radius: 15px;\n  font: 12px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n  background-color: rgba(110, 204, 57, 0.6);\n}\n.l7-marker-cluster span {\n  line-height: 30px;\n}\n\n.l7-popup-anchor-bottom,\n.l7-popup-anchor-bottom-left,\n.l7-popup-anchor-bottom-right {\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: reverse;\n      -ms-flex-direction: column-reverse;\n          flex-direction: column-reverse;\n}\n\n.l7-popup-close-button {\n  position: absolute;\n  right: 0;\n  top: 0;\n  border: 0;\n  border-radius: 0 3px 0 0;\n  cursor: pointer;\n  background-color: transparent;\n}\n\n.l7-popup-close-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n  position: relative;\n  background: #fff;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  padding: 10px 10px 15px;\n  pointer-events: auto;\n}\n\n/* layers control */\n\n.l7-control-layers {\n  -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.4);\n          box-shadow: 0 1px 5px rgba(0, 0, 0, 0.4);\n  background: #fff;\n  border-radius: 5px;\n}\n.l7-popup-anchor-top,\n.l7-popup-anchor-top-left,\n.l7-popup-anchor-top-right {\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n\n.l7-popup-anchor-left {\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n}\n\n.l7-popup-anchor-right {\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: reverse;\n      -ms-flex-direction: row-reverse;\n          flex-direction: row-reverse;\n}\n.l7-popup {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  will-change: transform;\n  pointer-events: none;\n  z-index: 5;\n}\n.l7-popup-tip {\n  width: 0;\n  height: 0;\n  border: 10px solid transparent;\n  z-index: 1;\n}\n.l7-popup-anchor-top .l7-popup-tip {\n  -webkit-align-self: center;\n  -ms-flex-item-align: center;\n      align-self: center;\n  border-top: none;\n  border-bottom-color: #fff;\n}\n\n.l7-popup-anchor-top-left .l7-popup-tip {\n  -webkit-align-self: flex-start;\n  -ms-flex-item-align: start;\n      align-self: flex-start;\n  border-top: none;\n  border-left: none;\n  border-bottom-color: #fff;\n}\n\n.l7-popup-anchor-top-right .l7-popup-tip {\n  -webkit-align-self: flex-end;\n  -ms-flex-item-align: end;\n      align-self: flex-end;\n  border-top: none;\n  border-right: none;\n  border-bottom-color: #fff;\n}\n\n.l7-popup-anchor-bottom .l7-popup-tip {\n  -webkit-align-self: center;\n  -ms-flex-item-align: center;\n      align-self: center;\n  border-bottom: none;\n  border-top-color: #fff;\n}\n\n.l7-popup-anchor-bottom-left .l7-popup-tip {\n  -webkit-align-self: flex-start;\n  -ms-flex-item-align: start;\n      align-self: flex-start;\n  border-bottom: none;\n  border-left: none;\n  border-top-color: #fff;\n}\n\n.l7-popup-anchor-bottom-right .l7-popup-tip {\n  -webkit-align-self: flex-end;\n  -ms-flex-item-align: end;\n      align-self: flex-end;\n  border-bottom: none;\n  border-right: none;\n  border-top-color: #fff;\n}\n\n.l7-popup-anchor-left .l7-popup-tip {\n  -webkit-align-self: center;\n  -ms-flex-item-align: center;\n      align-self: center;\n  border-left: none;\n  border-right-color: #fff;\n}\n\n.l7-popup-anchor-right .l7-popup-tip {\n  -webkit-align-self: center;\n  -ms-flex-item-align: center;\n      align-self: center;\n  border-right: none;\n  border-left-color: #fff;\n}\n\n.l7-popup-close-button {\n  position: absolute;\n  right: 0;\n  top: 0;\n  border: 0;\n  padding: 0;\n  font-size: 25px;\n  line-height: 20px;\n  border-radius: 0 3px 0 0;\n  cursor: pointer;\n  background-color: transparent;\n}\n\n.l7-popup-close-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n  position: relative;\n  background: #fff;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  padding: 10px 10px 15px;\n  pointer-events: auto;\n}\n\n.l7-popup-anchor-top-left .l7-popup-content {\n  border-top-left-radius: 0;\n}\n\n.l7-popup-anchor-top-right .l7-popup-content {\n  border-top-right-radius: 0;\n}\n\n.l7-popup-anchor-bottom-left .l7-popup-content {\n  border-bottom-left-radius: 0;\n}\n\n.l7-popup-anchor-bottom-right .l7-popup-content {\n  border-bottom-right-radius: 0;\n}\n\n.l7-popup-track-pointer {\n  display: none;\n}\n\n.l7-popup-track-pointer * {\n  pointer-events: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n\n.l7-map:hover .l7-popup-track-pointer {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.l7-map:active .l7-popup-track-pointer {\n  display: none;\n}\n\n.l7-popup-close-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n  position: relative;\n  background: #fff;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  padding: 10px 10px 15px;\n  pointer-events: auto;\n}\n\n/* general toolbar styles */\n\n.l7-bar {\n  -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65);\n          box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65);\n  border-radius: 4px;\n}\n.l7-bar a,\n.l7-bar a:hover {\n  background-color: #fff;\n  width: 30px;\n  height: 30px;\n  font-size: 20px;\n  display: block;\n  text-align: center;\n  text-decoration: none;\n  color: #8e9dab;\n}\n.l7-bar a,\n.l7-control-layers-toggle {\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n  display: block;\n}\n.l7-bar a:hover {\n  background-color: #f4f4f4;\n}\n.l7-bar a:first-child {\n  border-top-left-radius: 2px;\n  border-top-right-radius: 2px;\n}\n.l7-bar a:last-child {\n  border-bottom-left-radius: 2px;\n  border-bottom-right-radius: 2px;\n  border-bottom: none;\n}\n.l7-bar a.l7-disabled {\n  cursor: default;\n  background-color: #f4f4f4;\n  color: #bbb;\n}\n\n/* control positioning */\n\n.l7-control-container {\n  font: 12px/1.5 'Helvetica Neue', Arial, Helvetica, sans-serif;\n}\n.l7-control-hide {\n  display: none;\n}\n.l7-control {\n  position: relative;\n  z-index: 800;\n  pointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\n  pointer-events: auto;\n}\n.l7-control {\n  float: left;\n  clear: both;\n}\n.l7-top,\n.l7-bottom {\n  position: absolute;\n  z-index: 1000;\n  pointer-events: none;\n}\n.l7-top {\n  top: 0;\n}\n.l7-right {\n  right: 0;\n}\n.l7-bottom {\n  bottom: 0;\n}\n.l7-left {\n  left: 0;\n}\n.l7-center {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  position: absolute;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.l7-bottom.l7-center,\n.l7-top.l7-center {\n  width: 100%;\n}\n.l7-right.l7-center,\n.l7-left.l7-center {\n  height: 100%;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n\n.l7-top.l7-center,\n.l7-left.l7-center {\n  -webkit-box-align: start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n}\n\n.l7-bottom.l7-center,\n.l7-right.l7-center {\n  -webkit-box-align: end;\n      -ms-flex-align: end;\n          align-items: flex-end;\n}\n\n.l7-center .l7-control {\n  margin-right: 10px;\n  margin-bottom: 10px;\n}\n\n.l7-control {\n  float: left;\n  clear: both;\n}\n.l7-right .l7-control {\n  float: right;\n}\n.l7-top .l7-control {\n  margin-top: 10px;\n}\n.l7-bottom .l7-control {\n  margin-bottom: 10px;\n}\n.l7-left .l7-control {\n  margin-left: 10px;\n}\n.l7-right .l7-control {\n  margin-right: 10px;\n}\n\n/* attribution and scale controls */\n\n.l7-control-container .l7-control-attribution {\n  background: #fff;\n  background: rgba(255, 255, 255, 0.7);\n  margin: 0;\n}\n.l7-control-attribution,\n.l7-control-scale-line {\n  padding: 0 5px;\n  color: #333;\n}\n.l7-control-attribution a {\n  text-decoration: none;\n}\n.l7-control-attribution a:hover {\n  text-decoration: underline;\n}\n.l7-container .l7-control-attribution,\n.l7-container .l7-control-scale {\n  font-size: 11px;\n  padding: 5px 5px 2px 5px;\n  background: rgba(255, 255, 255, 0.7);\n}\n.l7-left .l7-control-scale {\n  margin-left: 5px;\n}\n.l7-bottom .l7-control-scale {\n  margin-bottom: 5px;\n}\n.l7-control-scale-line {\n  border: 2px solid #000;\n  border-top: none;\n  color: #000;\n  line-height: 1.1;\n  padding: 2px 5px 1px;\n  font-size: 11px;\n  white-space: nowrap;\n  overflow: hidden;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n\n  background: #fff;\n}\n.l7-control-scale-line:not(:first-child) {\n  border-top: 2px solid #777;\n  border-bottom: none;\n  margin-top: -2px;\n}\n.l7-control-scale-line:not(:first-child):not(:last-child) {\n  border-bottom: 2px solid #777;\n}\n\n.l7-touch .l7-control-attribution,\n.l7-touch .l7-control-layers,\n.l7-touch .l7-bar {\n  -webkit-box-shadow: none;\n          box-shadow: none;\n}\n.l7-touch .l7-control-layers,\n.l7-touch .l7-bar {\n  border: 2px solid rgba(0, 0, 0, 0.2);\n  background-clip: padding-box;\n}\n/*logo */\n\n.l7-ctrl-logo {\n  background-size: 100% 100%;\n  width: 89px;\n  height: 16px;\n  margin: 0 0 -3px -3px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALIAAAAgCAYAAAHBIxK2AAAABGdBTUEAALGPC/xhBQAAIJZJREFUeAHtfAl8Tkf3/9z7PNmDRFbZSawhQcRSaqva1xCqpataqrT2UkuUUiqlaKtafe1VS1pUiypB0dIgIkpKRPZIELI/2/zO98akN48nltL3838//84nNzNzzpkzc+eee+bMOXMfxijNaMJ7LOrGO/HdYfZ8fb12gD2JJINJdR8WNHVQnRtSn7hilpz0u2DMKaEcFhZmhdzLNbiPyNVlwPxcm4Qh93Fr0gO4Ol5hfqiz6Q14G+QzGpYzQ9nXrUl7X/fgbrXdG3skX7m26+bNW2fQqJ5XmCs6RQKd6EQwB0zgtKgsvCidGF+N8wV/SBLqSKnXzx2WKIHw1xNxq2xtrKsBXqgrbePt1rivJFmloa5OoD129NcVQwa9Phxwaflw3ifvHCus1YIVjW7fwEF66dIhdYO/XV7Qk+9HY/5F7RA+w0G5TdRxq7gw10FBPWwA+3r9jpkYGcoJ5/7YiFxMiYCjLspsekOeCiJ1AhJJNER+8rfTX/j4BNcUMNCLMmhF+wC3cE9RZmMd/0IQjeTtGdwJjURD5EajsRQN1EwEHjAkUVce2LLhnKf8xGId3ZhkX4uxmj7MMKqJz0ZmMr3MJNZBmphV8WDBOCCgo+2QiE7DF3005wvU75e8vMLs4+P3HwwN7do5MzOu2NcjpPHRX/csCqjt2wvtxEAy8xJ3o+7j3jjkcurpn2xtrT0EPiS0oQPKSOfi/ygqL9H/qNbls8EXuer4+65xUa149QnBvGYFgapAN21EZ+pnuH3rrrnKdNA/zCRmjoqGzu36RoL21q38BLAAjRgo6iir63g1QAOcOoU27DAgwKtpPzVMKU+qBWIuve3Jx0zw4j/eQ0CASeNnjUi5mrYH72ZxUfFV0emJ479/BvrM9KxDAgZZEjziTp1d8+pL415sEdJloIAhF7QCZmnQoCkuLkkXNPfkozU8b4wVb30P4i4ADNQ41P08mtSBogHc27Vx70CPEHeUgRNwgUOuTqBR8wwODraGSIkrKipKxqVuI300mntri1jz9OOs0IHeHUdvms2t0iG+vn5nxmnan5QeUff6GGWttpidSjvGbCSZJdAAGTMwtjWSH2G5XrOp3oEv9wuWxqdeUPchZkW8OGqcedmcdujgUcMOH/zltmgL2YW2Fu22fbMz6q2xM+IEvmvHiCGyRq7AK3QLe959+T6v46co0uVBisLk0/9SqIIhcnQiVBPqULJ4dPVd2ypLg6Dx8wxuhAGDHrCOHTtqUfZ2b6KsYYIOuUiXL1/dKW4SMJRxkbbpG9nv5ecVutlt+PSoNvw7VPg8V4X5wqf4YQVp9g+NDQZDITr2cm/8lNIGlbvp+edGD/946eqJqOKmoBJRhjyjrclk0qlZAqeumw8YOEwE6ILdgh0raN9pcHeWx9n3mViPh9IKnlmBVBWI4bfoePDAEcOGPz9WWUDBzMe1cUdft5CnUfb2DvFR8rsz2avrkOdmT18wJisz5zDaqthVWjwAtzRgtBF9VbSdVofXIPWmB2CCouYqUBUFH59QbwwEqg0XykAi96/VuCEetRrm59msEfA+nqEtAUeqNEt324JGJEsDxpMi26gnaCpUxqJk6bahkGFp3akrZO8IBurcVGponpGW+VOdQP++uIAznzE1/cBBvRRZTc+OP0miUBJ78OiyxNxE6uX+KSP3vDIZuEE/z9BgWZZtHHj1oxZbkS6uJFNqIn+SWSy1AubjFtLd171xoHrQooyFQJRB7+0eHBrk2cxNtBW5mgYwoYNFXg5r7CvoFXWxajQ3mjiTc84wVkB2kTWt5NYk3lZ02SCvzphDDVrNZOY2p3mdA0wrhQoGSm5ig6SRyTsqwSxUaMKk+t4tXJIy4/IsoP82yNu7pYusKwk2WdslZmScvGHOyNs1tJ5GNrjVaeT2W2xsLCnuv5J6woQq/QtbXoLCMJqYtbWj208pKbGK4aamgWJR19XlCvpFEdxn6SDOl0byAjXB/cp8rlM/PteZ83k1T92PTuAw0Ly8GychmosWLB/v7xFSW+AeJQ/0auyLiYFEBgQ0dYKdDRsJfFOvpe0V76fgCVrgkNQTao63hAONr2vjFtAFltoTTFLzB415Al7RFdNipHRviWlLbzCHhZ05HxfEy9e7T/zX8FV+XLk+96e8Tl0xOJZfOpjdKp4kzboZXgGrouDj1rTunHnTQl1caoZ/unLNlKnTx32sNxobR0ZGakQTDCY8tEtEkG+LfihDg+NC2ccjpBXoyMTqVaLjTaFLduxe219XqH+67HYGKU5D0pbN30X5+vl0a9m6mZOPTxvFUIayPRAbM1RpS1uztp0a/SD6e9hcYlKVqgi7QEg/DAyRsAUsKSlNLyvT56Bs8e2Ias4LZzfnfEowJyOOVocZDs9jt8YnMDvUZzblZ+jis1rwtqg/KMHgwEThCUOCUS64U/An6iiL9oIGcFjwqMOQQB0JdTyEXd/tfR/1rMzsWCrPBxwPCxJMfJMELVYq0KO+fNkXk6CHRV/qXPSLXA0XZejpqiRZ0IgcY7hzu+AS2TB3quInaNnU2vzSlNqcT/fhHSqAVJgawAunEXxCPU4W9MMlcRN0ryZMAl2XcOHm6YlnYgMAToIOuxks+YBBErGrAa0YtKDDDkeYAaBFErjSUl2uKOfm5v1GE9y1nOLe/4IO+b3YchfKw0wy3lZ6m2arxyr4KV4RURH54qtS/fGufEMZZ7Hja/Ko0ptsgYML0+kKGM+4wbTbmGQUtPfLMfBrWWc3gIZenX4aJmUp9OQdqunk4nv2QmzMus0rO730wtj0qu2DqnuQjCYbrOjYrINq5JuRe/CKQp3QtRMweivm0yur+FBQf9xk6WFQX99Tvw2GDO0390jssWXW1vKf6n4q7Dc1EOXledJwQxF7RV/EomQbptMXssJlNyT5YSe4dq1m/s907eik1WprNKjdur9sW/1AWt7535Ur6/zvN2/lpcds/37eM892mEgTXGHuHD1y4qLRYK0YvrJsMly5knKu0tg0csmObbvfC2/ZbETK9bOnW4TU7xtGEw0a2geZbKysz/Xu9txQvV6fX6VOrMTw/hVsdF8b/tbGgX1feqF1m7Bq5hda+/o+pVgXm9Ztmzk0ctTBlMyEi/fnaoZ9g3HH1xmv5GgwI/m3+oAZUOzkj4fx7rQBt7qdxnhJDiuj/YlBe9dG1pLNbF9D8c2dem2xVMA3NQhjBk6WMyVaelmZVaL0+vmcB/Tz/zVa+8lIPlWW2SLMQh559ZSNCE2sbCq/FBuLyrrbLJVHsYZMr/sdfpiKJOv1pOxtyISp0tQRtHXqhNWQZffSy5d/LBOwJ5H71mrcAnzSSA2Z84ObJPlCbiujSZubkRefZI5X61hL5pavbzMvY4kuTCuzm6nXE4+Ztwf/lBRmcW1zcSkwxsXF6bWmEnbQSPJsoqWMZumwUqYC7QCVi3Y6tMmnCZdYDItiJezj0v3MaLJmRmXX58w0zKJ3w3ww2IwE+fk7JSUll9b2Crl4NfPcJXOav1OH7fyfdSs6cS7zl18Y65GRd36Pmk/S+dwex0/tHTN54pxNJ0/I2tTsM5WccqDFQgn9rW4nyphg4J95ut9gZis7p6Ym3BI4L9eQ+sS/ntrbLXDIE8/fLKaHVP7goyN5whKyKKMHcsWboSasqsznORfSRYEaz3v29uZt4JiDxMC8QVJLjzntg+ow+dBe7BhRJ1MwQ/AVkRbwQbBj7OtTXgVu49qt79LDrW/OX4yrqjEJ/OIPVrwlfM2CB/rW6XQ3wd9SgjsM41SsC9pLt+H0AptK2fdRjFdYHHwdhY0QOsL1VZDimkIHfLLD8xThcmCF+p3SjOxc0WlV+Zervm2x68dN/QQ+MLC2DVSHqOOVw6ZFXDRgCXjUBQ1y7Py+3bO+HyQLO0bArGV2auRrkxRv1orPPgjXF6XVARxJz0vCPvz4vbkoT50899yTenvAD0ljLx0L8Gr2Et4C9XXnTkEiecNKv/xiU/q1nHNXlQmN2iYVlpWwL0qLmSR3ZNFgQCpCogXuLDMa45WrTH8AcCVpTL8Q7ChbVDhAgO6XmwwGj7AWoa9lZ+UcBt3ufZvn6Ar0bUSbP/+42cJQ7NhbNjj3ybpW2p0G3LtP966DUIYk0TbZDr4Kk9Ho7lXLw1+0g6qo6Wtz8+f9sfmARQzqPZNWiCCBJ/NLtrOz9SkoKPxDlmT1SiJIHiuH6oAeF5e1o9XRGjWqa6pXrxbcqlm3YY7Wtifu6WDeU1xHF59an1cDki9wm8nnU7h3AV0fergDNrsln0+BtKUoP0yizYJr/57DhuJ1wnY5/mziepTVr6e3R0hrsbPLyck7BrxIZO/eAi2uuwE4I3Aok5rIAtzPPbjtxQuXtgCOOtQTwkqrPvlqMmBd2vcfDGeSpfGCXrS7H96SujCnBy+oj6LComSoEoGvUA0A6EvZ8DLaO9nYsUOoSzNy57Oi4mJyBu2SpuRcj2rGvZievUsRgleBf5gk6cpabd62egFoaYtr6NFl8DaUoz96LzTAq0kDlNWppLhE2UTg9Tuf8MdG2sw4DRjQU9H7e3b/FE2vomLoU3nJjm92rYSEwoXZuX3EJvDZsWtdz/+sjGlqMJqCXx/90jzALlz4syQl5awi7aj/EwnxPfC1srJy7ti232Sb6jZHRT+VJvm909I3pjKWayxjYdODeLkO1hnC2OLC/mhQWsJO6UvInCtjHQWDB+XKK2tvF3Dq5JkvVR4t/tzwiHk6namuefunwruvEq9ft86RW4Ef9sqQcK2WXRkzYtKBgtsFGYCNHjHpt3enzd+cnpvwo8pHbKQd2Wg9M3qDhjz9tqd+O7tao2XZqP+TKf8Ga3vyzP630EdGRpY+OTnutuiv0iQDqDOxVgaaSDLpjqMuResukoXHpwTw7jT5XnQlfHBBOgPcgxIiEqu+jG4NuoYN63a4mHzio0vJvy7Blhcwa2srWW0NAFZVgh0uaTSKj0LQYFERZVmy+WP1Z2uno25vZyd/tX5FO5T79x72faoF+xm4J5m4geLOPl7PHPvl1CeyLF1T875nkpdckq7qdOwIqY4aEz35i+XEXCYJ30MXs7dnSghSzaSqMunN2n36dZsBfG7uzYt3r0vpaVm/AHbkxJ4xJYWpD80PbapK6bmnL8+dvURRJXsPbXu5W49OU6n/ItA/zEapKr4PA8fC7OVVS1EXgwe8sq9Nh4aJ6nYWdyrFmayLvQsrIwleF8n4Jk9ntlCvo00gZ6ujE6UHBujQAZw2ZY52Cv8fvj/wwahXJu6VGFdu2sh4rdTs+M6+fl7dSAI+kTS0yfkbCWEndbhJIzPdjRu3TgcGBijqbcHc6Km21iz+b7C22KTEaGxFi1slHDyLsrGgKHr5kvYCsW3btkpeynskGYSrmaQnvTufLubhyL6WDGwK0zH9ypvSKMHoQXmuoaztz0diJoHu9VfePp6el3BYeOGstVYJ0Ys/VSR81OjhPmQqKAvbg3hqZNOd9PTsZNAt/3Rhi+5dW/cmy6SzaGfv7HS817NDlUUWsFWfrU9LzkxMFfjHyadMe3MZ7HPzCwJjMnK/8JbNI6rib1GSQfxpoTT7TRs+mYzLSJJoWkTYsKqYWIIbTNzWuaZTA0iWOT4l+2zKxx99fpXCUKxXv+5hn6/akP7n5eRztbw9O5rToi7cnx5+0rWIvi/uSU4/M2BgZJ/ZAwb2KiO9HynaXLp0rIAkTZeff/tc7MFju2Qm0T7r8RPcnJa43MjL1+PtocUif8SrE2ZkpWWX0Tmbex4q5q/KNFLLO8mcHSTXRc7nRsmzSkILCOzWsJkAypLjBXE4U+mdtmSCGclC+AEbC8US0Wh+u5Jz7jraIWREYfRGuJG064n7AAvxCHHIMxorpLcac4q9lHesYjLRb06qrgtZMoVpuecqzCi0tZRg2wq4pXEiKCDwlnIRMMD9WFvrjGqrwhK9RRj5kp+bwLgS37NI8C/wgTOgSPLyV7ibxoa9Rp7kV8nrVo1E3qSjJSr/CuNlBUxHTswSZmLFkhWTtLSGUqSEjO7yXEN1DZW1FBuQrQllxzK5FVuTc5HtnnOIwlRf1X6Waa1GM24KoNGQT69SkpiGFtIyYwwrMK1jb1+9/U9bApV6/7fyxGYAwewzZ1IdiosNBvF2PzHmD8FIWfcoKPIV7ZZ7Q8rImmJGPWPpR0jqdMxEAs5IgEkWCUm6mf6YRITIOXIFUC6heCvIyguhPIR5s1PE9TYrMixlWkM9ZqRwC2jLkywKSm4tPc005KKeOxe+qb+oKhE9fAUOvLLi0ubYH6AVNpoaLU++lnWezs8/OLbw8D09GUp8HkB7wHCEEwVHjBkOxqvX7x906kgOzMvn89qZWLm7SbSXmXwnqLHLMdVmWKAq5eolSY2wtDyp8aIcFNSqekl+Uftjhy5IbduGV0tKulrCdMEGrcRupeYm/iLoLOXkMpJqe4fUN+hZHRM3keQ9Wip3IGiSEIupmLjooXwByeoUA2daCrSw4nx2Kucye86qhJUq7MUKSznt+SqSHcq0KAqY1okZxqySrlcQUIEvJ7e+RDocW2JdmR3T8K0UT2lOwk1viKQnh2oUuaIqrFt120ct4ySGwaALHDPuVb8ZM9+OxjlFOh95oGXzrsvpxk2e/jb7ERB6VL6PQw9hS79427lUqzOOGBGZj5i64IcPYUp1paHDXxzs+UH07NUCvnrVumlzZ334h0ajuZqWc+68gKtz+Bq//CSmq4kbrRL/PDbPyalGKPDJySm7n27V+wtJywozshMPqduYl4Ugw/oHDm455A8ryDjEhp3CkV+/HxEYGKC0/XDRyreXLVmVbKeyE8HTPOE0DNmONhS3Gu0f4NPTHP+gOj7JGRwx4icYzRU7kUlfSzMW9+PJJMTLS03MztqahXs1YuuK8tmAqFgp70FM74eXxpeHTvhkR3eKY2wic6K5YmRoWBE51UdI825tuV/7h8Uh1qQzFAf26vusy8zZE1eKdt6+Xl1ooovbt+795fVUXRuC03rzzyecisZBYwoCsvETRgbcupFfunrl1mwSHtIW7EpqduKF5My4VBIG9w3rt7L+g3qtggsRI3t91IvzNq7d/sKVK1drk8bOtaSZ16zc3pw0sdV332/sLYSYzofd7tdj+H/Aw1O2/S0DhX8wlWvFv7eI0jpJqs1gs33brv09ej6TT7wqFKulIbt7utalw5RKxJwO4+yCEGMDFdjILbFCkNFw6k7py0XP8qu0Fm8nl4UTcW1nY81ORHXjPaL2SZcFcxq2xNbUXsSstB0oiCbA5TkWCCMvYQbda9KotCuVkCbTQGYyNCFb3ESh72wmayOlRbePV6L5m5UAOh+sK8wNh4tzxaeLF99lY6KjunGuri7h0BZf/GfZBfhQfDyaNEnPSUgw70o5bm8yuZrDUcdSTXftYL4EaiT5tobZJqXknsq+p52e+wB28vT+cfQyPYtyxOA+nw/oPXwPyiKl5ibE+Xs06UJb9x/OJB4OdXd3aUMmkPX2XWsnNAvu8EGZJDWhZfi62izyouPDRh2v9cabr/iGt2o6UvCa9c7CqfQFo0Gy0ZyJyyg/uiZw/0SuNocelX9qbvwv8F5+suxzv6VLPo211J6EvRZWnCXL5jUb+sKAoaDBh5SYKzyT1JxzRzAvlQQZRNN+kn6Oepq3JXn8gar+JKZBRPQbffnSJ+qEpAgdCTjnt/UbGCt7jkq+lbZwVmQqGPlcaVJWhRBHPcXd6ciG29xDbOecNtIGCm3VkKJLnqiy0JfcbIvxxx7fOc7Gxkpx6G3ZEDNn1rsLEy5cOb6GIkIuPXt3eef5FwaO3LxpByNteTM9Pb7yGO7az7+fPTBR+Km2bIyZPWPa/Pi1m1b0b0FONnt7Oz/0g0Su6oLLSVd+GP/G9G9154uLtZL2lsnGPo6XFjyDB0wx33JCC/8NBoavKQKBogB8noskH89jxs5dOw78MC7h5/VkUjiSQD+1fvPKDi8+/+ZhX0/lawzl5bv70jZ1dHTQTJ0xfr5gv+/HQ4vXr/smC/GC9Ixz6QL+T+aPo5ExrvT0E/BwX7I0RoR9TSajFebgmWc7TgINjk6OG/POKVnLctKzE06SECtNK2+67nKLOipdIEEOp7jI73QKg+lKWE3aDB56N5wPuUvCpInpCazEEM7yS86wQloh7tBVXFLEbpa8REL8fjkdl2Y158NItDOp/XnZimXM/ZW3lJY+WSH2dwttRt5o+6+3r+6C4A/6Tkq6EjNp4uz44pIS05wZi94V4164ZNYSN1cXKyz54hyowFnK+0X0GJGccXpneKuwQRcvJB3YvXPfAgSX6CPVeBK2avUb1huy79COLecuHp1Dx5fgU+wCId70zapnhNdZaGPwb9mq2SgBRx45uK87p1Xgjh3NjrV0FmHm92YtnirGggfYp09XV5PRFIBNIeDGohstke/9edtrCNmifC0l/YdXXxz3Cxy76dfPVz4DC4L/sYQvkhFh+HT1h62EEP+45+dFEGJ8xp6enXhSfUsWBRkEM45KubIDe5qE+DsE9XSlNM2lbMv0YP4OxaJIzsm+ePd6DivMb8vu6GKYviyJFRq7Se/d+hq4KMa104PZLBLgDXRiRkPhbU5h7s03PNgx4J9UCvBsGqDnBh/YoO07PDUefEtLyzK7tI9Yh80dQtTr1m7JPHL4+HLg6GxB9f2Hy0M1CNtg5wx4VUnWaO1bNn12YJBfizf69hr+5Zujpqx5PnLUp43rtZvVtFHHCBFAdHFxDlu28v1w8JEljf6FIaN/FseJ8DGe4I9wvYAj37Z113XZVnsaZxUyM8+nkYJJw5Gjn386/JFos3Tl+3NQ1nMpDB/aGbmpxkfL329Wu46fcqiD7je7U9u+n0M72jr5nhDt/ldzH7fgIJOJ+0+aNjaw34AeihI6ezph7YiX3zpGk3sjI/fsWfN7q1KQQUibvNIF51kECfMysmuNlFPUjy2sHchWvhzAyXNM9aWshDTsQOmD0vrShwWKkI704vZFddkXRDuXhJgsELKYS9n7CxKkF1b8KNFr8WQS3Gw6g74JztRNeefNDwXXyeNnzSIBI88gl40GpkRyhg4aeeD69RvKQ8aSHbNrfS+Exvy8yn9OQ7Q1z2kCd+D8BDZnGdcTTqTmJCTjRKgky3nQntezc0+JNl7etRT7WqM1XcOuX9ZoKnlvBB1yrdb6CmhwqU2cjNzEs/A2vPj82Nj0tMz9oLWzt/Pfd3DbYNjntJmr06x5Ywf6ZEIRbuBHvz5lWplOp7jrnvRxZPD/byZ8IE0u3IZ16wbaTpw8Zgn6pjBiQq9uQ2Po6/SyjJwEiy/qfQW5/AYkvviyNIEEcgIFqstweou07GgXA4sZ6cxrlNP89X9MDe7sILM9JK4v60CrYyUlejZy0Z/SrL+oHr8EB7w4q7hr78ZZcLMJritXL16jXr5FGZsoQdOqTfNRM2ZNrGvU81pVfXUGWnoZlN2seqOl8PgH/dFWtm4noF07te33KX0GmIv+GjdpOIzs4SCUN2xZ9Q5lyrPbuuW7uT/tPXjLykq6bMmzAfr/pVQs3WmG8W785rMRlCkr//w50eWrKWPx9zyHuzenvZs/MItOl1a85cGvajjbpJNYdYpd97C3YkfH2fGeK0qkdDCg3x4JoI3fXknH6hMNRnFLx9igZTnSwQd28IgExw9fpO9PTVbQVOR6CkFzslvP0pI/+36scLwRp+9A88a4Vxbt2bV3WHz8hUb0uzm3yn9i4H6tVbgHmCQqykcuptBX2/6uYXFk37d4+413pn62Jvo/YPLm+Nfmt+/QZouzs5PiL066dHnrhHEz4xB8QLDnkTv6hxuQtyWAPESKXV9VV5JReyM193QWBNTXlT4Y4boaeGF9fL26og3cbF9vjsmRtdqcq9nxVX6R9NCCDKYf50jfv+3EO5gYHYbjzItATZg1OzVG5t3IFrWmjeGPpL9cCQ8HXYpGw3rQB38XUX2SCd8ilOmMrouXzAmBpgJvsnUNg/u/shBlnMC2dD7Wzy24HTaAzVuFxtSrFxhBk6fd+u1X8+rXaT2Jlcmt6ZzVHQMYPKEk0SecYEVnd/WCpZNzjZoKjII28FrgvK9tDftjly//dkfQIL+WF5dF9nDyrl37WLeYZ+b3j+g5kzaX9s2aN3kV+OLC4iud2vXfiMMqdYJdfk2NBfT/jfTc0P49unXrVKXQiVEWFhUXvT12xgHaK+jpxf3doNH7IUjWf0DPZwXNvh8OHkFZMsiKshRw8/yRBBmNl+VLZ0fb8ZayzH4krdyEnpQnudbiKRxMAbry9Y5gJwnfOzpfUpZF804fp46dOwlxvY5dnnZ64aVIRbOC39ovN8/GAW9ZsrpoSYhBU82dnczPkbpiI5iUcrK1ra2Nl2M1x7oHf/lueOd2/TeYmEnxAID2iSSDdQbZVp6ff7J214IPZ3YnnnLdunUiyNSJuMvfSC/fi8eOnepAp6EOnss5Rydc/kp0EDORfuXOZeyoqSeDmzSIQVtg8Q3K4IGvzkSZW9vd87sdgP+3Ejw05n3hFxroMgffU6f7KBs4uM8fy5euTjFKRkf6ks4FRJ61PJojL7hTePH99z5Kwsuael3R2gBbTPcMwiKVBeBkxh0KtGw7mQ/dhbeUynihvrU2sKEr2JPb1Km7h238a+ylp4zc6IRNXsdObV3JTswqKCw0kUeCNmLxiWp68zLOBpTeLm5LGydt377dXJycnazhewUd/K/YLZPmk8aOf80/LSW96Ntvf8jFRGodXA5iyRf88Es5xQZda0GbkZZVtGP77ntocaKXlRW3wQOv5ugot+vUyqluUGB18CGT5hZ+jwuOfRx0FbzVOcLQaz7Z0Q6eCsDRHzayiodCI58URwXVbR6l/Lghavw6hYGZsDr/rYSNLSKQcfS7AwiOSGWF4eJewRAmRVAD59MPOjPytwUZncAN5yyzhVacDSFlbDJIbO1qkzQXuP9Gql+/bTXj7WLbUq1t4V3H+kN3q5zWOnq5Jn05Jdm6GvMTExPJnC9PCDgYC2/X1Mp6o38j1xv3m0Q1LT5wu985DghlzGcxdqUaKzvSRpLJXtaFhdUpND8mLsZhKQcPuhSTxRL+UWFCkM3bPexZC/N2/9b/nYF/Z+AxZuD/AA8zEhkTLyOGAAAAAElFTkSuQmCC');\n}\n\n/* layers control */\n\n.l7-control-layers {\n  -webkit-box-shadow: 0 1px 8px rgba(0, 0, 0, 0.4);\n          box-shadow: 0 1px 8px rgba(0, 0, 0, 0.4);\n  background: #fff;\n  border-radius: 2px;\n}\n.l7-control-layers-toggle {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAAGf7Ah0AAAABGdBTUEAALGPC/xhBQAABzdJREFUWAnVV3lslEUUn/l2F0tpwdAih1HEqCReDcphNCo1EkgFkXa5PNpuC0Fo2e7Wgko8KiaKWrvbK5672xYFpNtiRRuNiY0aURA14BGviBcVlaKltVa6+42/N9v5Mrtt05rwj/PHzjt+8743b+a9N8vYwKgMNlUQyemnMtAkaJajvb3dToQSGp8e6boopkr4VYgEMYwO0vhCTfMVzBcMf8bx086YyODcuM80zTqp9IWat+7evW8sMdIxIqqCLa6oiAaJpuEtcBqcc2HEWMZ0JclgZR/Nchf++ubrzKjJSguXS4tVjXvPjfb3/UAAacGTn/MOMb7QnjNpNqP/bKZ50Ai0tqYmCi0n4zbM+W+lBc7JBOa+QPhDwcTsxJXE2+32edKCL9h8hRDmRzpIOWydAylhrcMfDN+ugBRKSdP3KwPhsFJIPth02FISIYQwYsDYcVfWhy/Bon4JgumffMGmiGTwQ0B/sHml4q2ZFAD3WQIQVhx0IdFw8B189lolN+w8w5PnjPmlhJgtA8/vfn3iye7u3yGzDljDxZEG4097Cp3rSSjBtMHunp6vFR+HHoIxmbgTe1xHKssDHecLNFUjMzbqMs5ZlHF7ute17M84+TMHDzr+OvR9JwKdCms9yRkzJq6bPTsWXh05QOPUN+PUHyPWMPhm6UHd7vaUohWZPSRE8OqxpTyibQa/qcTlbEP0vwF7AWUAT3JM9dy69FfSNza+MU4awNE8iQtXSkJuGLleV852ov2h5jkwVof0mUs8aO4LhTuYYFOAjExId0wcFIPahpaLTkWiX9ECfHG/sLNi1i8+HODfgLFFRI96+INNi0cNTgTS1obKQh03aAuk9DeELzcj4pACYivvwvXrFK/PcQZiQWo+hmidpYMUjQC7EOB6xdNsGfAHwk/RDdOVw9Dm+NTUSWtWLDohDVQ37JkbiUT2DwMeVswZP+gtdM4x3HnLDhjcGM2XLWOISaenIGee9MCSgqgMht/H/q/SZYk0qviV3oKcj5XcioESyOoqIseFYDYloxnAGm/hcrcuk3JV2XBMl+pKqn6mENux11+w12m6jpqMMFn7rPPTHdwfCm8yTfG4tMaNu+GepPUFiqbM7T105ARSPQU+dY/LOC/N2gI65WEkyWUEtjmSppfkLvlRLaQ5VnZFDtGGzbheNRROKZmbu/AvUvh3tE4Wff2/0IUC+y2q+4VVoXBW1BSvkR7Rb8BW84lWJQBdlGozcs7GLy3Nd35OSqTxBqtfgkc1+sPjcqbDgEl6xK0dH5lv545LOCVL1/F+3CoY4eyY1+WcBiC2KYEHQBd5XDkyndE17xCm2Ug6BLcSwb3LigE1AlOYu6TS4HUwVEw0Df1osfBnLDwnpiFDCQPuvQ73Fkqxg8/hEVYLXt66MXbbzOK8bKre1hhkgDT0RDja3fEHytwZxCMLH0YWPkD0fxqjqUZDejDSV3z1LbexqPkEPJxKWLqtKOGbvPnZL460NlE/KgfkIZiRrfjShsQcG2QQDUwwXjcuZcID61Ys6ErUJ/LDOiCfLUzUjVQdEg0O4jn/ABEq0iuIjrEcwE0x/KGWNbjPj4BO00Gni0ZOoIPzLR5X9vMqqaQDqDzzENra4V5zp8sBZQcROYjsLvYUOPdbEVBKeiZ193QjCmwtZCM+ldS6EWYTH3wuNSV1i+pFCj/IAaWgGUfBq0N78qPM3DZcp9TxcTQeyzZm3ON2LatXpSlOP8BIB6qDLddHmHnFrBlpNZmZmdZbNXEB9XsRlZXFennqGHzoXW5DaId4iSoc/Q365EjnRjszPnYXZL9NDWUtGsqzCjAw7xprTypbn7fkaILcYqkInzzeX06C8emO8sKlS7stZQLxVMPes/+O9FVAvEpXob+utY6gZmfrtMjf/RUI+2odhF7wJbq+Gzf3zTj5CAwyaoEwozVoCzN1KKK00z7WUbZx9dIOklsO6CAZpu87i5gpHoJ8gtLh9vZixSO2KckV7qysf5Sc5uq2tjOix3rL0FW3IJuSNV0XM/iDs85LqxvqeKUD8n3LxUobt5WVuLJlS9IM4O9i09VRwWtxLWfpcix+hXjs8mZdjn19YuOiuKRgufzXqOuqQi2r8O+yAk/tl2Q/RMW7ETe8UdX1GJhHDM5qjDHJ5e7bs07qBp7ZsTe9t6/vUXykkLKEdLFbLgLJSUn3rrt1yXEdX/1C23jzVG+5Keg/B5r2wJD9g/NcaUAJq4MvXxxl/TWoATcoGc0Av4eUKnIXZlsvXpLHO0CS2KgOtGQgdeuwqWuUjGbUgrdszLHRXXDLF0oe54AS0kyPnc5Iz/2CmV7EeIzSwcjvsHQPXkUhld/kCP6Xu+DRNjg/SWHh+SnODF+aPeVh9XCydAPEsA4kAqsCzcuiTPiw7+maTj6SwGsVk/9gY9xbUpizR8MNS47aAd0C7s35CG8VdrxYyjl/FcdUgo73nY77X9D/Au9RDMh+aBoVAAAAAElFTkSuQmCC');\n  width: 30px;\n  height: 30px;\n  background-size: 20px 20px;\n}\n\n.l7-touch .l7-control-layers-toggle {\n  width: 44px;\n  height: 44px;\n}\n.l7-control-layers .l7-control-layers-list,\n.l7-control-layers-expanded .l7-control-layers-toggle {\n  display: none;\n}\n.l7-control-layers-expanded .l7-control-layers-list {\n  display: block;\n  position: relative;\n}\n.l7-control-layers-expanded {\n  padding: 6px 10px 6px 6px;\n  color: #59626b;\n  background: #fff;\n}\n.l7-control-layers-scrollbar {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  padding-right: 5px;\n}\n.l7-control-layers-selector {\n  margin-top: 2px;\n  position: relative;\n  top: 1px;\n}\n.l7-control-layers label {\n  display: block;\n  padding: 8px;\n}\n.l7-control-layers label input[type='radio'],\n.l7-control-layers label input[type='checkbox'] {\n  width: 14px;\n  height: 14px;\n  margin: 0;\n}\n.l7-control-layers-separator {\n  height: 0;\n  border-top: 1px solid #d8d8d8;\n  margin: 5px -10px 5px -6px;\n}\n.mapboxgl-ctrl-logo {\n  display: none !important;\n}\n.amap-logo {\n  display: none !important;\n}\n")},k5zn:function(e,t,n){"use strict";var r,i=n("k1fw"),o=n("tJVT"),a=n("8ml+"),s=n("lwsE"),u=n.n(s),c=n("W8MJ"),l=n.n(c),f=n("7W2i"),p=n.n(f),h=n("a1gu"),d=n.n(h),m=n("Nsbk"),v=n.n(m),y=n("oTYp"),g=n("QILm"),b=n.n(g),x=n("yXPU"),_=n.n(x),w=n("yG8O"),S=n.n(w),O=n("lSNA"),E=n.n(O),k=n("U+yc"),C=n.n(k),j=(n("1ABj"),n("o0o1")),T=n.n(j),A=n("h1nZ"),P=n("PJYZ"),M=n.n(P),I=n("QkVN"),L=n.n(I),R=n("Hel2"),D=n("uhBA"),N=n("cDf5"),z=n.n(N),F=n("zvhG"),B=n.n(F);function U(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=V(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function V(e,t){if(e){if("string"===typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function G(e,t,n){return Math.min(n,Math.max(t,e))}function W(e,t,n){return e*(1-n)+t*n}function Z(e,t,n,r){var i=new B.a(e,t,n,r);return function(e){return i.solve(e)}}var Y=Z(.25,.1,.25,1);function X(){return!!window.matchMedia&&(null==r&&(r=window.matchMedia("(prefers-reduced-motion: reduce)")),r.matches)}function K(e,t){var n,r={},i=U(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;o in e&&(r[o]=e[o])}}catch(a){i.e(a)}finally{i.f()}return r}var J=window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now.bind(Date),Q=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,$=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;function ee(e){var t=Q(e);return{cancel:function(){return $(t)}}}var te=6371008.8,ne=function(){function e(t,n){if(u()(this,e),E()(this,"lng",void 0),E()(this,"lat",void 0),isNaN(t)||isNaN(n))throw new Error("Invalid LngLat object: (".concat(t,", ").concat(n,")"));if(this.lng=+t,this.lat=+n,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}return l()(e,[{key:"wrap",value:function(){return new e(q(this.lng,-180,180),this.lat)}},{key:"toArray",value:function(){return[this.lng,this.lat]}},{key:"toString",value:function(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}},{key:"distanceTo",value:function(e){var t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t),o=te*Math.acos(Math.min(i,1));return o}}],[{key:"convert",value:function(t){if(t instanceof e)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new e(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"===z()(t)&&null!==t){var n="lng"in t?t.lng:t.lon;return new e(Number(n),Number(t.lat))}throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}]),e}(),re=function(){function e(t,n){u()(this,e),E()(this,"ne",void 0),E()(this,"sw",void 0),t&&(n?this.setSouthWest(t).setNorthEast(n):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}return l()(e,[{key:"setNorthEast",value:function(e){return this.ne=e instanceof ne?new ne(e.lng,e.lat):ne.convert(e),this}},{key:"setSouthWest",value:function(e){return this.sw=e instanceof ne?new ne(e.lng,e.lat):ne.convert(e),this}},{key:"extend",value:function(t){var n,r,i=this.sw,o=this.ne;if(t instanceof ne)n=t,r=t;else{if(!(t instanceof e)){if(Array.isArray(t)){if(4===t.length||t.every(Array.isArray)){var a=t;return this.extend(e.convert(a))}var s=t;return this.extend(ne.convert(s))}return this}if(n=t.sw,r=t.ne,!n||!r)return this}return i||o?(i.lng=Math.min(n.lng,i.lng),i.lat=Math.min(n.lat,i.lat),o.lng=Math.max(r.lng,o.lng),o.lat=Math.max(r.lat,o.lat)):(this.sw=new ne(n.lng,n.lat),this.ne=new ne(r.lng,r.lat)),this}},{key:"getCenter",value:function(){return new ne((this.sw.lng+this.ne.lng)/2,(this.sw.lat+this.ne.lat)/2)}},{key:"getSouthWest",value:function(){return this.sw}},{key:"getNorthEast",value:function(){return this.ne}},{key:"getNorthWest",value:function(){return new ne(this.getWest(),this.getNorth())}},{key:"getSouthEast",value:function(){return new ne(this.getEast(),this.getSouth())}},{key:"getWest",value:function(){return this.sw.lng}},{key:"getSouth",value:function(){return this.sw.lat}},{key:"getEast",value:function(){return this.ne.lng}},{key:"getNorth",value:function(){return this.ne.lat}},{key:"toArray",value:function(){return[this.sw.toArray(),this.ne.toArray()]}},{key:"toString",value:function(){return"LngLatBounds(".concat(this.sw.toString(),", ").concat(this.ne.toString(),")")}},{key:"isEmpty",value:function(){return!(this.sw&&this.ne)}},{key:"contains",value:function(e){var t=ne.convert(e),n=t.lng,r=t.lat,i=this.sw.lat<=r&&r<=this.ne.lat,o=this.sw.lng<=n&&n<=this.ne.lng;return this.sw.lng>this.ne.lng&&(o=this.sw.lng>=n&&n>=this.ne.lng),i&&o}}],[{key:"convert",value:function(t){return t instanceof e?t:new e(t)}}]),e}(),ie=function(){function e(t,n){u()(this,e),E()(this,"x",void 0),E()(this,"y",void 0),this.x=t,this.y=n}return l()(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"_add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"add",value:function(e){return this.clone()._add(e)}},{key:"_sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"sub",value:function(e){return this.clone()._sub(e)}},{key:"_multByPoint",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multByPoint",value:function(e){return this.clone()._multByPoint(e)}},{key:"_divByPoint",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divByPoint",value:function(e){return this.clone()._divByPoint(e)}},{key:"_mult",value:function(e){return this.x*=e,this.y*=e,this}},{key:"mult",value:function(e){return this.clone()._mult(e)}},{key:"_div",value:function(e){return this.x/=e,this.y/=e,this}},{key:"div",value:function(e){return this.clone()._div(e)}},{key:"_rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this}},{key:"rotate",value:function(e){return this.clone()._rotate(e)}},{key:"_rotateAround",value:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.x+n*(this.x-t.x)-r*(this.y-t.y),o=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=o,this}},{key:"roateAround",value:function(e,t){return this.clone()._rotateAround(e,t)}},{key:"_matMult",value:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this}},{key:"matMult",value:function(e){return this.clone()._matMult(e)}},{key:"_unit",value:function(){return this.div(this.mag()),this}},{key:"unit",value:function(){return this.clone()._unit()}},{key:"_perp",value:function(){var e=this.y;return this.y=this.x,this.x=-e,this}},{key:"perp",value:function(){return this.clone()._perp()}},{key:"_round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"round",value:function(){return this.clone()._round()}},{key:"mag",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"dist",value:function(e){return Math.sqrt(this.distSqr(e))}},{key:"distSqr",value:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n}},{key:"angle",value:function(){return Math.atan2(this.y,this.x)}},{key:"angleTo",value:function(e){return Math.atan2(this.y-e.y,this.x-e.x)}},{key:"angleWith",value:function(e){return this.angleWithSep(e.x,e.y)}},{key:"angleWithSep",value:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)}}],[{key:"convert",value:function(t){return t instanceof e?t:Array.isArray(t)?new e(t[0],t[1]):t}}]),e}(),oe=n("IOcx"),ae=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(u()(this,e),E()(this,"top",void 0),E()(this,"bottom",void 0),E()(this,"left",void 0),E()(this,"right",void 0),isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0||isNaN(i)||i<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=n,this.left=r,this.right=i}return l()(e,[{key:"interpolate",value:function(e,t,n){return null!=t.top&&null!=e.top&&(this.top=W(e.top,t.top,n)),null!=t.bottom&&null!=e.bottom&&(this.bottom=W(e.bottom,t.bottom,n)),null!=t.left&&null!=e.left&&(this.left=W(e.left,t.left,n)),null!=t.right&&null!=e.right&&(this.right=W(e.right,t.right,n)),this}},{key:"getCenter",value:function(e,t){var n=G((this.left+e-this.right)/2,0,e),r=G((this.top+t-this.bottom)/2,0,t);return new ie(n,r)}},{key:"equals",value:function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}},{key:"clone",value:function(){return new e(this.top,this.bottom,this.left,this.right)}},{key:"toJSON",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}]),e}(),se=2*Math.PI*te;function ue(e){return se*Math.cos(e*Math.PI/180)}function ce(e){return(180+e)/360}function le(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function fe(e,t){return e/ue(t)}function pe(e){return 360*e-180}function he(e){var t=180-360*e;return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90}function de(e,t){return e*ue(he(t))}function me(e){return 1/Math.cos(e*Math.PI/180)}var ve=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;u()(this,e),E()(this,"x",void 0),E()(this,"y",void 0),E()(this,"z",void 0),this.x=+t,this.y=+n,this.z=+r}return l()(e,[{key:"toLngLat",value:function(){return new ne(pe(this.x),he(this.y))}},{key:"toAltitude",value:function(){return de(this.z,this.y)}},{key:"meterInMercatorCoordinateUnits",value:function(){return 1/se*me(he(this.y))}}],[{key:"fromLngLat",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=ne.convert(t);return new e(ce(r.lng),le(r.lat),fe(n,r.lat))}}]),e}();function ye(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ge(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function ge(e,t){if(e){if("string"===typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xe=function(){function e(t,n,r,i,o){u()(this,e),E()(this,"tileSize",void 0),E()(this,"tileZoom",void 0),E()(this,"lngRange",void 0),E()(this,"latRange",void 0),E()(this,"maxValidLatitude",void 0),E()(this,"scale",void 0),E()(this,"width",void 0),E()(this,"height",void 0),E()(this,"angle",void 0),E()(this,"rotationMatrix",void 0),E()(this,"pixelsToGLUnits",void 0),E()(this,"cameraToCenterDistance",void 0),E()(this,"mercatorMatrix",void 0),E()(this,"projMatrix",void 0),E()(this,"invProjMatrix",void 0),E()(this,"alignedProjMatrix",void 0),E()(this,"pixelMatrix",void 0),E()(this,"pixelMatrixInverse",void 0),E()(this,"glCoordMatrix",void 0),E()(this,"labelPlaneMatrix",void 0),E()(this,"_fov",void 0),E()(this,"_pitch",void 0),E()(this,"_zoom",void 0),E()(this,"_renderWorldCopies",void 0),E()(this,"_minZoom",void 0),E()(this,"_maxZoom",void 0),E()(this,"_minPitch",void 0),E()(this,"_maxPitch",void 0),E()(this,"_center",void 0),E()(this,"zoomFraction",void 0),E()(this,"unmodified",void 0),E()(this,"edgeInsets",void 0),E()(this,"constraining",void 0),E()(this,"posMatrixCache",void 0),E()(this,"alignedPosMatrixCache",void 0),this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=void 0===r||null===r?0:r,this._maxPitch=void 0===i||null===i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new ne(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this.unmodified=!0,this.edgeInsets=new ae,this.posMatrixCache={},this.alignedPosMatrixCache={}}return l()(e,[{key:"minZoom",get:function(){return this._minZoom},set:function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}},{key:"minPitch",get:function(){return this._minPitch},set:function(e){this._minPitch!==e&&(this._minPitch=e,this._pitch=Math.max(this._pitch,e))}},{key:"maxPitch",get:function(){return this._maxPitch},set:function(e){this._maxPitch!==e&&(this._maxPitch=e,this._pitch=Math.min(this._pitch,e))}},{key:"renderWorldCopies",get:function(){return this._renderWorldCopies},set:function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"centerOffset",get:function(){return this.centerPoint._sub(this.size._div(2))}},{key:"size",get:function(){return new ie(this.width,this.height)}},{key:"bearing",get:function(){return-this.angle/Math.PI*180},set:function(e){var t=-q(e,-180,180)*Math.PI/180;this.angle!==t&&(this.unmodified=!1,this.angle=t,this.calcMatrices(),this.rotationMatrix=oe["a"].create(),oe["a"].rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}},{key:"pitch",get:function(){return this._pitch/Math.PI*180},set:function(e){var t=G(e,this._minPitch,this._maxPitch)/180*Math.PI;this._pitch!==t&&(this.unmodified=!1,this._pitch=t,this.calcMatrices())}},{key:"fov",get:function(){return this._fov/Math.PI*180},set:function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this.unmodified=!1,this._fov=e/180*Math.PI,this.calcMatrices())}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=Math.min(Math.max(e,this._minZoom),this._maxZoom);this._zoom!==t&&(this.unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this.constrain(),this.calcMatrices())}},{key:"center",get:function(){return this._center},set:function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this.unmodified=!1,this._center=e,this.constrain(),this.calcMatrices())}},{key:"padding",get:function(){return this.edgeInsets.toJSON()},set:function(e){this.edgeInsets.equals(e)||(this.unmodified=!1,this.edgeInsets.interpolate(this.edgeInsets,e,1),this.calcMatrices())}},{key:"centerPoint",get:function(){return this.edgeInsets.getCenter(this.width,this.height)}},{key:"point",get:function(){return this.project(this.center)}},{key:"clone",value:function(){var t=new e(this._minZoom,this._maxZoom,this._minPitch,this._maxPitch,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t.center=this._center,t.zoom=this.zoom,t.angle=this.angle,t.fov=this._fov,t.pitch=this._pitch,t.unmodified=this.unmodified,t.edgeInsets=this.edgeInsets.clone(),t.calcMatrices(),t}},{key:"isPaddingEqual",value:function(e){return this.edgeInsets.equals(e)}},{key:"interpolatePadding",value:function(e,t,n){this.unmodified=!1,this.edgeInsets.interpolate(e,t,n),this.constrain(),this.calcMatrices()}},{key:"coveringZoomLevel",value:function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this.constrain(),this.calcMatrices()}},{key:"zoomScale",value:function(e){return Math.pow(2,e)}},{key:"scaleZoom",value:function(e){return Math.log(e)/Math.LN2}},{key:"project",value:function(e){var t=G(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new ie(ce(e.lng)*this.worldSize,le(t)*this.worldSize)}},{key:"unproject",value:function(e){return new ve(e.x/this.worldSize,e.y/this.worldSize).toLngLat()}},{key:"setLocationAtPoint",value:function(e,t){var n=this.pointCoordinate(t),r=this.pointCoordinate(this.centerPoint),i=this.locationCoordinate(e),o=new ve(i.x-(n.x-r.x),i.y-(n.y-r.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())}},{key:"pointCoordinate",value:function(e){var t=0,n=new Float32Array([e.x,e.y,0,1]),r=new Float32Array([e.x,e.y,1,1]);oe["e"].transformMat4(n,n,this.pixelMatrixInverse),oe["e"].transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],a=n[0]/i,s=r[0]/o,u=n[1]/i,c=r[1]/o,l=n[2]/i,f=r[2]/o,p=l===f?0:(t-l)/(f-l);return new ve(W(a,s,p)/this.worldSize,W(u,c,p)/this.worldSize)}},{key:"getBounds",value:function(){return(new re).extend(this.pointLocation(new ie(0,0))).extend(this.pointLocation(new ie(this.width,0))).extend(this.pointLocation(new ie(this.width,this.height))).extend(this.pointLocation(new ie(0,this.height)))}},{key:"getMaxBounds",value:function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new re([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}},{key:"setMaxBounds",value:function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this.constrain()):(this.lngRange=void 0,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}},{key:"customLayerMatrix",value:function(){return this.mercatorMatrix.slice()}},{key:"maxPitchScaleFactor",value:function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new ie(0,0)),t=new Float32Array([e.x*this.worldSize,e.y*this.worldSize,0,1]),n=oe["e"].transformMat4(t,t,this.pixelMatrix);return n[3]/this.cameraToCenterDistance}},{key:"getCameraPoint",value:function(){var e=this._pitch,t=Math.tan(e)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new ie(0,t))}},{key:"getCameraQueryGeometry",value:function(e){var t=this.getCameraPoint();if(1===e.length)return[e[0],t];var n,r=t.x,i=t.y,o=t.x,a=t.y,s=ye(e);try{for(s.s();!(n=s.n()).done;){var u=n.value;r=Math.min(r,u.x),i=Math.min(i,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}}catch(c){s.e(c)}finally{s.f()}return[new ie(r,i),new ie(o,i),new ie(o,a),new ie(r,a),new ie(r,i)]}},{key:"coordinatePoint",value:function(e){var t=oe["e"].fromValues(e.x*this.worldSize,e.y*this.worldSize,0,1);return oe["e"].transformMat4(t,t,this.pixelMatrix),new ie(t[0]/t[3],t[1]/t[3])}},{key:"locationPoint",value:function(e){return this.coordinatePoint(this.locationCoordinate(e))}},{key:"pointLocation",value:function(e){return this.coordinateLocation(this.pointCoordinate(e))}},{key:"locationCoordinate",value:function(e){return ve.fromLngLat(e)}},{key:"coordinateLocation",value:function(e){return e.toLngLat()}},{key:"getProjectionMatrix",value:function(){return this.projMatrix}},{key:"constrain",value:function(){if(this.center&&this.width&&this.height&&!this.constraining){this.constraining=!0;var e,t,n,r,i=-90,o=90,a=-180,s=180,u=this.size,c=this.unmodified;if(this.latRange){var l=this.latRange;i=le(l[1])*this.worldSize,o=le(l[0])*this.worldSize,e=o-i<u.y?u.y/(o-i):0}if(this.lngRange){var f=this.lngRange;a=ce(f[0])*this.worldSize,s=ce(f[1])*this.worldSize,t=s-a<u.x?u.x/(s-a):0}var p=this.point,h=Math.max(t||0,e||0);if(h)return this.center=this.unproject(new ie(t?(s+a)/2:p.x,e?(o+i)/2:p.y)),this.zoom+=this.scaleZoom(h),this.unmodified=c,void(this.constraining=!1);if(this.latRange){var d=p.y,m=u.y/2;d-m<i&&(r=i+m),d+m>o&&(r=o-m)}if(this.lngRange){var v=p.x,y=u.x/2;v-y<a&&(n=a+y),v+y>s&&(n=s-y)}void 0===n&&void 0===r||(this.center=this.unproject(new ie(void 0!==n?n:p.x,void 0!==r?r:p.y))),this.unmodified=c,this.constraining=!1}}},{key:"calcMatrices",value:function(){if(this.height){var e=this._fov/2,t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(e)*this.height;var n=Math.PI/2+this._pitch,r=this._fov*(.5+t.y/this.height),i=Math.sin(r)*this.cameraToCenterDistance/Math.sin(G(Math.PI-n-r,.01,Math.PI-.01)),o=this.point,a=o.x,s=o.y,u=Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance,c=1.01*u,l=this.height/50,f=oe["b"].create();oe["b"].perspective(f,this._fov,this.width/this.height,l,c),f[8]=2*-t.x/this.width,f[9]=2*t.y/this.height,oe["b"].scale(f,f,[1,-1,1]),oe["b"].translate(f,f,[0,0,-this.cameraToCenterDistance]),oe["b"].rotateX(f,f,this._pitch),oe["b"].rotateZ(f,f,this.angle),oe["b"].translate(f,f,[-a,-s,0]),this.mercatorMatrix=oe["b"].scale(oe["b"].create(),f,[this.worldSize,this.worldSize,this.worldSize]),oe["b"].scale(f,f,oe["d"].fromValues(1,1,fe(1,this.center.lat)*this.worldSize)),this.projMatrix=f,this.invProjMatrix=oe["b"].invert(oe["b"].create(),this.projMatrix);var p=this.width%2/2,h=this.height%2/2,d=Math.cos(this.angle),m=Math.sin(this.angle),v=a-Math.round(a)+d*p+m*h,y=s-Math.round(s)+d*h+m*p,g=oe["b"].clone(f);if(oe["b"].translate(g,g,[v>.5?v-1:v,y>.5?y-1:y,0]),this.alignedProjMatrix=g,f=oe["b"].create(),oe["b"].scale(f,f,[this.width/2,-this.height/2,1]),oe["b"].translate(f,f,[1,-1,0]),this.labelPlaneMatrix=f,f=oe["b"].create(),oe["b"].scale(f,f,[1,-1,1]),oe["b"].translate(f,f,[-1,-1,0]),oe["b"].scale(f,f,[2/this.width,2/this.height,1]),this.glCoordMatrix=f,this.pixelMatrix=oe["b"].multiply(oe["b"].create(),this.labelPlaneMatrix,this.projMatrix),f=oe["b"].invert(oe["b"].create(),this.pixelMatrix),!f)throw new Error("failed to invert matrix");this.pixelMatrixInverse=f,this.posMatrixCache={},this.alignedPosMatrixCache={}}}}]),e}(),_e=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u()(this,e),E()(this,"type",void 0),L()(this,n),this.type=t};function we(e){var t=Se();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}function Se(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Oe=function(e){p()(n,e);var t=we(n);function n(e){var r;u()(this,n),r=t.call(this),E()(M()(r),"transform",void 0),E()(M()(r),"options",void 0),E()(M()(r),"moving",void 0),E()(M()(r),"zooming",void 0),E()(M()(r),"rotating",void 0),E()(M()(r),"pitching",void 0),E()(M()(r),"padding",void 0),E()(M()(r),"bearingSnap",void 0),E()(M()(r),"easeEndTimeoutID",void 0),E()(M()(r),"easeStart",void 0),E()(M()(r),"easeOptions",void 0),E()(M()(r),"easeId",void 0),E()(M()(r),"onEaseFrame",void 0),E()(M()(r),"onEaseEnd",void 0),E()(M()(r),"easeFrameId",void 0),E()(M()(r),"renderFrameCallback",(function(){var e=Math.min((J()-r.easeStart)/r.easeOptions.duration,1);r.onEaseFrame(r.easeOptions.easing(e)),e<1?r.easeFrameId=r.requestRenderFrame(r.renderFrameCallback):r.stop()})),r.options=e;var i=e.minZoom,o=e.maxZoom,a=e.minPitch,s=e.maxPitch,c=e.renderWorldCopies;return r.moving=!1,r.zooming=!1,r.bearingSnap=e.bearingSnap,r.transform=new xe(i,o,a,s,c),r}return l()(n,[{key:"requestRenderFrame",value:function(e){return 0}},{key:"cancelRenderFrame",value:function(e){}},{key:"getCenter",value:function(){var e=this.transform.center,t=e.lng,n=e.lat;return new ne(t,n)}},{key:"getZoom",value:function(){return this.transform.zoom}},{key:"getPitch",value:function(){return this.transform.pitch}},{key:"setCenter",value:function(e,t){return this.jumpTo({center:e},t)}},{key:"setPitch",value:function(e,t){return this.jumpTo({pitch:e},t),this}},{key:"getBearing",value:function(){return this.transform.bearing}},{key:"panTo",value:function(e,t,n){return this.easeTo(L()({center:e},t),n)}},{key:"zoomOut",value:function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}},{key:"setBearing",value:function(e,t){return this.jumpTo({bearing:e},t),this}},{key:"setZoom",value:function(e,t){return this.jumpTo({zoom:e},t),this}},{key:"zoomIn",value:function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}},{key:"zoomTo",value:function(e,t,n){return this.easeTo(L()({zoom:e},t),n)}},{key:"getPadding",value:function(){return this.transform.padding}},{key:"setPadding",value:function(e,t){return this.jumpTo({padding:e},t),this}},{key:"rotateTo",value:function(e,t,n){return this.easeTo(L()({bearing:e},t),n)}},{key:"resetNorth",value:function(e,t){return this.rotateTo(0,L()({duration:1e3},e),t),this}},{key:"resetNorthPitch",value:function(e,t){return this.easeTo(L()({bearing:0,pitch:0,duration:1e3},e),t),this}},{key:"fitBounds",value:function(e,t,n){return this.fitInternal(this.cameraForBounds(e,t),t,n)}},{key:"cameraForBounds",value:function(e,t){return e=re.convert(e),this.cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),0,t)}},{key:"snapToNorth",value:function(e,t){return Math.abs(this.getBearing())<this.bearingSnap?this.resetNorth(e,t):this}},{key:"jumpTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.stop();var n=this.transform,r=!1,i=!1,o=!1;return e.zoom&&n.zoom!==+e.zoom&&(r=!0,n.zoom=+e.zoom),void 0!==e.center&&(n.center=ne.convert(e.center)),e.bearing&&n.bearing!==+e.bearing&&(i=!0,n.bearing=+e.bearing),e.pitch&&n.pitch!==+e.pitch&&(o=!0,n.pitch=+e.pitch),null==e.padding||n.isPaddingEqual(e.padding)||(n.padding=e.padding),this.emit("movestart",new _e("movestart",t)),this.emit("move",new _e("move",t)),r&&(this.emit("zoomstart",new _e("zoomstart",t)),this.emit("zoom",new _e("zoom",t)),this.emit("zoomend",new _e("zoomend",t))),i&&(this.emit("rotatestart",new _e("rotatestart",t)),this.emit("rotate",new _e("rotate",t)),this.emit("rotateend",new _e("rotateend",t))),o&&(this.emit("pitchstart",new _e("pitchstart",t)),this.emit("pitch",new _e("pitch",t)),this.emit("pitchend",new _e("pitchend",t))),this.emit("moveend",new _e("moveend",t))}},{key:"easeTo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;t=L()({offset:[0,0],duration:500,easing:Y},t),(!1===t.animate||!t.essential&&X())&&(t.duration=0);var r=this.transform,i=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),u=t.zoom?+t.zoom:i,c=t.bearing?this.normalizeBearing(t.bearing,o):o,l=t.pitch?+t.pitch:a,f=t.padding?t.padding:r.padding,p=ie.convert(t.offset),h=r.centerPoint.add(p),d=r.pointLocation(h),m=ne.convert(t.center||d);this.normalizeCenter(m);var v,y,g=r.project(d),b=r.project(m).sub(g),x=r.zoomScale(u-i);t.around&&(v=ne.convert(t.around),y=r.locationPoint(v));var _={moving:this.moving,zooming:this.zooming,rotating:this.rotating,pitching:this.pitching};return this.zooming=this.zooming||u!==i,this.rotating=this.rotating||o!==c,this.pitching=this.pitching||l!==a,this.padding=!r.isPaddingEqual(f),this.easeId=t.easeId,this.prepareEase(n,t.noMoveStart,_),clearTimeout(this.easeEndTimeoutID),this.ease((function(t){if(e.zooming&&(r.zoom=W(i,u,t)),e.rotating&&(r.bearing=W(o,c,t)),e.pitching&&(r.pitch=W(a,l,t)),e.padding&&(r.interpolatePadding(s,f,t),h=r.centerPoint.add(p)),v)r.setLocationAtPoint(v,y);else{var d=r.zoomScale(r.zoom-i),m=u>i?Math.min(2,x):Math.max(.5,x),_=Math.pow(m,1-t),w=r.unproject(g.add(b.mult(t*_)).mult(d));r.setLocationAtPoint(r.renderWorldCopies?w.wrap():w,h)}e.fireMoveEvents(n)}),(function(t){e.afterEase(n,t)}),t),this}},{key:"flyTo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(!t.essential&&X()){var r=K(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(r,n)}this.stop(),t=L()({offset:[0,0],speed:1.2,curve:1.42,easing:Y},t);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),u=this.getPadding(),c=t.zoom?G(+t.zoom,i.minZoom,i.maxZoom):o,l=t.bearing?this.normalizeBearing(t.bearing,a):a,f=t.pitch?+t.pitch:s,p="padding"in t?t.padding:i.padding,h=i.zoomScale(c-o),d=ie.convert(t.offset),m=i.centerPoint.add(d),v=i.pointLocation(m),y=ne.convert(t.center||v);this.normalizeCenter(y);var g=i.project(v),b=i.project(y).sub(g),x=t.curve,_=Math.max(i.width,i.height),w=_/h,S=b.mag();if("minZoom"in t){var O=G(Math.min(t.minZoom,o,c),i.minZoom,i.maxZoom),E=_/i.zoomScale(O-o);x=Math.sqrt(E/S*2)}var k=x*x;function C(e){var t=(w*w-_*_+(e?-1:1)*k*k*S*S)/(2*(e?w:_)*k*S);return Math.log(Math.sqrt(t*t+1)-t)}function j(e){return(Math.exp(e)-Math.exp(-e))/2}function T(e){return(Math.exp(e)+Math.exp(-e))/2}function A(e){return j(e)/T(e)}var P=C(0),M=function(e){return T(P)/T(P+x*e)},I=function(e){return _*((T(P)*A(P+x*e)-j(P))/k)/S},R=(C(1)-P)/x;if(Math.abs(S)<1e-6||!isFinite(R)){if(Math.abs(_-w)<1e-6)return this.easeTo(t,n);var D=w<_?-1:1;R=Math.abs(Math.log(w/_))/x,I=function(){return 0},M=function(e){return Math.exp(D*x*e)}}if("duration"in t)t.duration=+t.duration;else{var N="screenSpeed"in t?+t.screenSpeed/x:+t.speed;t.duration=1e3*R/N}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this.zooming=!0,this.rotating=a!==l,this.pitching=f!==s,this.padding=!i.isPaddingEqual(p),this.prepareEase(n,!1),this.ease((function(t){var r=t*R,h=1/M(r);i.zoom=1===t?c:o+i.scaleZoom(h),e.rotating&&(i.bearing=W(a,l,t)),e.pitching&&(i.pitch=W(s,f,t)),e.padding&&(i.interpolatePadding(u,p,t),m=i.centerPoint.add(d));var v=1===t?y:i.unproject(g.add(b.mult(I(r))).mult(h));i.setLocationAtPoint(i.renderWorldCopies?v.wrap():v,m),e.fireMoveEvents(n)}),(function(){return e.afterEase(n)}),t),this}},{key:"fitScreenCoordinates",value:function(e,t,n,r,i){return this.fitInternal(this.cameraForBoxAndBearing(this.transform.pointLocation(ie.convert(e)),this.transform.pointLocation(ie.convert(t)),n,r),r,i)}},{key:"stop",value:function(e,t){if(this.easeFrameId&&(this.cancelRenderFrame(this.easeFrameId),delete this.easeFrameId,delete this.onEaseFrame),this.onEaseEnd){var n=this.onEaseEnd;delete this.onEaseEnd,n.call(this,t)}return this}},{key:"normalizeBearing",value:function(e,t){e=q(e,-180,180);var n=Math.abs(e-t);return Math.abs(e-360-t)<n&&(e-=360),Math.abs(e+360-t)<n&&(e+=360),e}},{key:"normalizeCenter",value:function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}}},{key:"fireMoveEvents",value:function(e){this.emit("move",new _e("move",e)),this.zooming&&this.emit("zoom",new _e("zoom",e)),this.rotating&&this.emit("rotate",new _e("rotate",e)),this.pitching&&this.emit("rotate",new _e("pitch",e))}},{key:"prepareEase",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.moving=!0,t||n.moving||this.emit("movestart",new _e("movestart",e)),this.zooming&&!n.zooming&&this.emit("zoomstart",new _e("zoomstart",e)),this.rotating&&!n.rotating&&this.emit("rotatestart",new _e("rotatestart",e)),this.pitching&&!n.pitching&&this.emit("pitchstart",new _e("pitchstart",e))}},{key:"afterEase",value:function(e,t){if(!this.easeId||!t||this.easeId!==t){delete this.easeId;var n=this.zooming,r=this.rotating,i=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,this.padding=!1,n&&this.emit("zoomend",new _e("zoomend",e)),r&&this.emit("rotateend",new _e("rotateend",e)),i&&this.emit("pitchend",new _e("pitchend",e)),this.emit("moveend",new _e("moveend",e))}}},{key:"ease",value:function(e,t,n){!1===n.animate||0===n.duration?(e(1),t()):(this.easeStart=J(),this.easeOptions=n,this.onEaseFrame=e,this.onEaseEnd=t,this.easeFrameId=this.requestRenderFrame(this.renderFrameCallback))}},{key:"cameraForBoxAndBearing",value:function(e,t,n,r){var i={top:0,bottom:0,right:0,left:0};if(r=L()({padding:i,offset:[0,0],maxZoom:this.transform.maxZoom},r),"number"===typeof r.padding){var o=r.padding;r.padding={top:o,bottom:o,right:o,left:o}}r.padding=L()(i,r.padding);var a=this.transform,s=a.padding,u=a.project(ne.convert(e)),c=a.project(ne.convert(t)),l=u.rotate(-n*Math.PI/180),f=c.rotate(-n*Math.PI/180),p=new ie(Math.max(l.x,f.x),Math.max(l.y,f.y)),h=new ie(Math.min(l.x,f.x),Math.min(l.y,f.y)),d=p.sub(h),m=(a.width-(s.left+s.right+r.padding.left+r.padding.right))/d.x,v=(a.height-(s.top+s.bottom+r.padding.top+r.padding.bottom))/d.y;if(!(v<0||m<0)){var y=Math.min(a.scaleZoom(a.scale*Math.min(m,v)),r.maxZoom),g=ie.convert(r.offset),b=(r.padding.left-r.padding.right)/2,x=(r.padding.top-r.padding.bottom)/2,_=new ie(g.x+b,g.y+x),w=_.mult(a.scale/a.zoomScale(y)),S=a.unproject(u.add(c).div(2).sub(w));return{center:S,zoom:y,bearing:n}}}},{key:"fitInternal",value:function(e,t,n){return e?(t=L()(e,t),delete t.padding,t.linear?this.easeTo(t,n):this.flyTo(t,n)):this}}]),n}(D["EventEmitter"]),Ee=n("J4zp"),ke=n.n(Ee);function Ce(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=je(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function je(e,t){if(e){if("string"===typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ae={},Pe=Ae;Ae.create=function(e,t,n){var r=window.document.createElement(e);return void 0!==t&&(r.className=t),n&&n.appendChild(r),r},Ae.createNS=function(e,t){var n=window.document.createElementNS(e,t);return n};var Me=window.document&&window.document.documentElement.style;function Ie(e){if(!Me)return e[0];var t,n=Ce(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r in Me)return r}}catch(i){n.e(i)}finally{n.f()}return e[0]}var Le,Re=Ie(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);Ae.disableDrag=function(){Me&&Re&&(Le=Me[Re],Me[Re]="none")},Ae.enableDrag=function(){Me&&Re&&(Me[Re]=Le)};var De=Ie(["transform","WebkitTransform"]);Ae.setTransform=function(e,t){e.style[De]=t};var Ne=!1;try{var ze=Object.defineProperty({},"passive",{get:function(){Ne=!0}});window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(Nr){Ne=!1}Ae.addEventListener=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};"passive"in r&&Ne?e.addEventListener(t,n,r):e.addEventListener(t,n,r.capture)},Ae.removeEventListener=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};"passive"in r&&Ne?e.removeEventListener(t,n,r):e.removeEventListener(t,n,r.capture)};var Fe=function e(t){t.preventDefault(),t.stopPropagation(),window.removeEventListener("click",e,!0)};function Be(e){var t=Ue();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}function Ue(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Ae.suppressClick=function(){window.addEventListener("click",Fe,!0),window.setTimeout((function(){window.removeEventListener("click",Fe,!0)}),0)},Ae.mousePos=function(e,t){var n=e.getBoundingClientRect();return new ie(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},Ae.touchPos=function(e,t){var n,r=e.getBoundingClientRect(),i=[],o=Ce(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;i.push(new ie(a.clientX-r.left-e.clientLeft,a.clientY-r.top-e.clientTop))}}catch(Nr){o.e(Nr)}finally{o.f()}return i},Ae.mouseButton=function(e){return"undefined"!==typeof window.InstallTrigger&&2===e.button&&e.ctrlKey&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},Ae.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var Ve=function(e){p()(n,e);var t=Be(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};u()(this,n);var s=Pe.mousePos(r.getCanvasContainer(),i),c=r.unproject(s);return o=t.call(this,e,L()({point:s,lngLat:c,originalEvent:i},a)),E()(M()(o),"type",void 0),E()(M()(o),"target",void 0),E()(M()(o),"originalEvent",void 0),E()(M()(o),"point",void 0),E()(M()(o),"lngLat",void 0),E()(M()(o),"defaultPrevented",void 0),o.defaultPrevented=!1,o.target=r,o}return l()(n,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),n}(_e);function He(e){var t=qe();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}function qe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Ge=function(e){p()(n,e);var t=He(n);function n(e,r,i){var o;u()(this,n);var a="touchend"===e?i.changedTouches:i.touches,s=Pe.touchPos(r.getCanvasContainer(),a),c=s.map((function(e){return r.unproject(e)})),l=s.reduce((function(e,t,n,r){return e.add(t.div(r.length))}),new ie(0,0)),f=r.unproject(l);return o=t.call(this,e,{points:s,point:l,lngLats:c,lngLat:f,originalEvent:i}),E()(M()(o),"type",void 0),E()(M()(o),"target",void 0),E()(M()(o),"originalEvent",void 0),E()(M()(o),"lngLat",void 0),E()(M()(o),"point",void 0),E()(M()(o),"points",void 0),E()(M()(o),"lngLats",void 0),E()(M()(o),"defaultPrevented",void 0),o.defaultPrevented=!1,o}return l()(n,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),n}(_e);function We(e){var t=Ze();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}function Ze(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Ye=function(e){p()(n,e);var t=We(n);function n(e,r,i){var o;return u()(this,n),o=t.call(this,e,{originalEvent:i}),E()(M()(o),"type",void 0),E()(M()(o),"originalEvent",void 0),E()(M()(o),"defaultPrevented",void 0),E()(M()(o),"target",void 0),o.defaultPrevented=!1,o}return l()(n,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),n}(_e),Xe=function(){function e(t){u()(this,e),E()(this,"map",void 0),E()(this,"delayContextMenu",void 0),E()(this,"contextMenuEvent",void 0),this.map=t}return l()(e,[{key:"reset",value:function(){this.delayContextMenu=!1,delete this.contextMenuEvent}},{key:"mousemove",value:function(e){this.map.emit(e.type,new Ve(e.type,this.map,e))}},{key:"mousedown",value:function(){this.delayContextMenu=!0}},{key:"mouseup",value:function(){this.delayContextMenu=!1,this.contextMenuEvent&&(this.map.emit("contextmenu",new Ve("contextmenu",this.map,this.contextMenuEvent)),delete this.contextMenuEvent)}},{key:"contextmenu",value:function(e){this.delayContextMenu?this.contextMenuEvent=e:this.map.emit(e.type,new Ve(e.type,this.map,e)),this.map.listeners("contextmenu")&&e.preventDefault()}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){return!0}},{key:"disable",value:function(){return!1}}]),e}(),Ke=function(){function e(t,n){u()(this,e),E()(this,"map",void 0),E()(this,"el",void 0),E()(this,"container",void 0),E()(this,"enabled",void 0),E()(this,"active",void 0),E()(this,"startPos",void 0),E()(this,"lastPos",void 0),E()(this,"box",void 0),E()(this,"clickTolerance",void 0),this.map=t,this.el=t.getCanvasContainer(),this.container=t.getContainer(),this.clickTolerance=n.clickTolerance||1}return l()(e,[{key:"isEnabled",value:function(){return!!this.enabled}},{key:"isActive",value:function(){return!!this.active}},{key:"enable",value:function(){this.isEnabled()||(this.enabled=!0)}},{key:"disable",value:function(){this.isEnabled()&&(this.enabled=!1)}},{key:"mousedown",value:function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(Pe.disableDrag(),this.startPos=this.lastPos=t,this.active=!0)}},{key:"mousemoveWindow",value:function(e,t){if(this.active){var n=t;if(!(this.lastPos.equals(n)||!this.box&&n.dist(this.startPos)<this.clickTolerance)){var r=this.startPos;this.lastPos=n,this.box||(this.box=Pe.create("div","l7-boxzoom",this.container),this.container.classList.add("l7-crosshair"),this.fireEvent("boxzoomstart",e));var i=Math.min(r.x,n.x),o=Math.max(r.x,n.x),a=Math.min(r.y,n.y),s=Math.max(r.y,n.y);Pe.setTransform(this.box,"translate(".concat(i,"px,").concat(a,"px)")),this.box&&(this.box.style.width="".concat(o-i,"px"),this.box.style.height="".concat(s-a,"px"))}}}},{key:"mouseupWindow",value:function(e,t){var n=this;if(this.active&&0===e.button){var r=this.startPos,i=t;if(this.reset(),Pe.suppressClick(),r.x!==i.x||r.y!==i.y)return this.map.emit("boxzoomend",new _e("boxzoomend",{originalEvent:e})),{cameraAnimation:function(e){return e.fitScreenCoordinates(r,i,n.map.getBearing(),{linear:!0})}};this.fireEvent("boxzoomcancel",e)}}},{key:"keydown",value:function(e){this.active&&27===e.keyCode&&(this.reset(),this.fireEvent("boxzoomcancel",e))}},{key:"reset",value:function(){this.active=!1,this.container.classList.remove("l7-crosshair"),this.box&&(Pe.remove(this.box),this.box=null),Pe.enableDrag(),delete this.startPos,delete this.lastPos}},{key:"fireEvent",value:function(e,t){return this.map.emit(e,new _e(e,{originalEvent:t}))}}]),e}(),Je=Ke,Qe=function(){function e(){u()(this,e),E()(this,"enabled",void 0),E()(this,"active",void 0),this.reset()}return l()(e,[{key:"reset",value:function(){this.active=!1}},{key:"dblclick",value:function(e,t){return e.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),e}();function $e(e){var t=et();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}function et(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var tt=function(e){p()(n,e);var t=$e(n);function n(){var e;u()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),E()(M()(e),"type","renderFrame"),E()(M()(e),"timeStamp",void 0),e}return n}(_e);function nt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=rt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function rt(e,t){if(e){if("string"===typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(e,t):void 0}}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ot={linearity:.3,easing:Z(0,0,.3,1)},at=L()({deceleration:2500,maxSpeed:1400},ot),st=L()({deceleration:20,maxSpeed:1400},ot),ut=L()({deceleration:1e3,maxSpeed:360},ot),ct=L()({deceleration:1e3,maxSpeed:90},ot),lt=function(){function e(t){u()(this,e),E()(this,"map",void 0),E()(this,"inertiaBuffer",void 0),this.map=t,this.clear()}return l()(e,[{key:"clear",value:function(){this.inertiaBuffer=[]}},{key:"record",value:function(e){this.drainInertiaBuffer(),this.inertiaBuffer.push({time:J(),settings:e})}},{key:"drainInertiaBuffer",value:function(){var e=this.inertiaBuffer,t=J(),n=160;while(e.length>0&&t-e[0].time>n)e.shift()}},{key:"onMoveEnd",value:function(e){if(this.drainInertiaBuffer(),!(this.inertiaBuffer.length<2)){var t,n={zoom:0,bearing:0,pitch:0,pan:new ie(0,0),pinchAround:void 0,around:void 0},r=nt(this.inertiaBuffer);try{for(r.s();!(t=r.n()).done;){var i=t.value.settings;n.zoom+=i.zoomDelta||0,n.bearing+=i.bearingDelta||0,n.pitch+=i.pitchDelta||0,i.panDelta&&n.pan._add(i.panDelta),i.around&&(n.around=i.around),i.pinchAround&&(n.pinchAround=i.pinchAround)}}catch(Nr){r.e(Nr)}finally{r.f()}var o=this.inertiaBuffer[this.inertiaBuffer.length-1],a=o.time-this.inertiaBuffer[0].time,s={};if(n.pan.mag()){var u=pt(n.pan.mag(),a,L()({},at,e||{}));s.offset=n.pan.mult(u.amount/n.pan.mag()),s.center=this.map.transform.center,ft(s,u)}if(n.zoom){var c=pt(n.zoom,a,st);s.zoom=this.map.transform.zoom+c.amount,ft(s,c)}if(n.bearing){var l=pt(n.bearing,a,ut);s.bearing=this.map.transform.bearing+G(l.amount,-179,179),ft(s,l)}if(n.pitch){var f=pt(n.pitch,a,ct);s.pitch=this.map.transform.pitch+f.amount,ft(s,f)}if(s.zoom||s.bearing){var p=void 0===n.pinchAround?n.around:n.pinchAround;s.around=p?this.map.unproject(p):this.map.getCenter()}return this.clear(),L()(s,{noMoveStart:!0})}}}]),e}();function ft(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function pt(e,t,n){var r=n.maxSpeed,i=n.linearity,o=n.deceleration,a=G(e*i/(t/1e3),-r,r),s=Math.abs(a)/(o*i);return{easing:n.easing,duration:1e3*s,amount:a*(s/2)}}var ht={panStep:100,bearingStep:15,pitchStep:10},dt=function(){function e(){u()(this,e),E()(this,"enabled",void 0),E()(this,"active",void 0),E()(this,"panStep",void 0),E()(this,"bearingStep",void 0),E()(this,"pitchStep",void 0);var t=ht;this.panStep=t.panStep,this.bearingStep=t.bearingStep,this.pitchStep=t.pitchStep}return l()(e,[{key:"reset",value:function(){this.active=!1}},{key:"keydown",value:function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=0,r=0,i=0,o=0,a=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),o=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),o=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),a=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),a=1);break;default:return}return{cameraAnimation:function(s){var u=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:mt,zoom:n?Math.round(u)+n*(e.shiftKey?2:1):u,bearing:s.getBearing()+r*t.bearingStep,pitch:s.getPitch()+i*t.pitchStep,offset:[-o*t.panStep,-a*t.panStep],center:s.getCenter()},{originalEvent:e})}}}}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),e}();function mt(e){return e*(2-e)}var vt,yt=dt,gt=function(){function e(t,n){u()(this,e),E()(this,"mousedownPos",void 0),E()(this,"clickTolerance",void 0),E()(this,"map",void 0),this.map=t,this.clickTolerance=n.clickTolerance}return l()(e,[{key:"reset",value:function(){delete this.mousedownPos}},{key:"wheel",value:function(e){return this.firePreventable(new Ye(e.type,this.map,e))}},{key:"mousedown",value:function(e,t){return this.mousedownPos=t,this.firePreventable(new Ve(e.type,this.map,e))}},{key:"mouseup",value:function(e){this.map.emit(e.type,new Ve(e.type,this.map,e))}},{key:"click",value:function(e,t){this.mousedownPos&&this.mousedownPos.dist(t)>=this.clickTolerance||this.map.emit(e.type,new Ve(e.type,this.map,e))}},{key:"dblclick",value:function(e){return this.firePreventable(new Ve(e.type,this.map,e))}},{key:"mouseover",value:function(e){this.map.emit(e.type,new Ve(e.type,this.map,e))}},{key:"mouseout",value:function(e){this.map.emit(e.type,new Ve(e.type,this.map,e))}},{key:"touchstart",value:function(e){return this.firePreventable(new Ge(e.type,this.map,e))}},{key:"touchmove",value:function(e){this.map.emit(e.type,new Ge(e.type,this.map,e))}},{key:"touchend",value:function(e){this.map.emit(e.type,new Ge(e.type,this.map,e))}},{key:"touchcancel",value:function(e){this.map.emit(e.type,new Ge(e.type,this.map,e))}},{key:"firePreventable",value:function(e){if(this.map.emit(e.type,e),e.defaultPrevented)return{}}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){return!1}},{key:"disable",value:function(){return!1}}]),e}(),bt=n("iWIM"),xt=n.n(bt),_t=0,wt=2,St=(vt={},E()(vt,_t,1),E()(vt,wt,2),vt);function Ot(e,t){var n=St[t];return void 0===e.buttons||(e.buttons&n)!==n}var Et=function(){function e(t){u()(this,e),E()(this,"enabled",void 0),E()(this,"active",void 0),E()(this,"lastPoint",void 0),E()(this,"eventButton",void 0),E()(this,"moved",void 0),E()(this,"clickTolerance",void 0),this.reset(),this.clickTolerance=t.clickTolerance||1}return l()(e,[{key:"reset",value:function(){this.active=!1,this.moved=!1,delete this.lastPoint,delete this.eventButton}},{key:"mousedown",value:function(e,t){if(!this.lastPoint){var n=Pe.mouseButton(e);this.correctButton(e,n)&&(this.lastPoint=t,this.eventButton=n)}}},{key:"mousemoveWindow",value:function(e,t){var n=this.lastPoint;if(n)if(e.preventDefault(),Ot(e,this.eventButton))this.reset();else if(this.moved||!(t.dist(n)<this.clickTolerance))return this.moved=!0,this.lastPoint=t,this.move(n,t)}},{key:"mouseupWindow",value:function(e){if(this.lastPoint){var t=Pe.mouseButton(e);t===this.eventButton&&(this.moved&&Pe.suppressClick(),this.reset())}}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}},{key:"correctButton",value:function(e,t){return!1}},{key:"move",value:function(e,t){}}]),e}();function kt(e){var t=Ct();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}function Ct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var jt=function(e){p()(n,e);var t=kt(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"mousedown",value:function(e,t){xt()(v()(n.prototype),"mousedown",this).call(this,e,t),this.lastPoint&&(this.active=!0)}},{key:"move",value:function(e,t){return{around:t,panDelta:t.sub(e)}}},{key:"correctButton",value:function(e,t){return t===_t&&!e.ctrlKey}}]),n}(Et);function Tt(e){var t=At();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}function At(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Pt=function(e){p()(n,e);var t=Tt(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"correctButton",value:function(e,t){return t===_t&&e.ctrlKey||t===wt}},{key:"move",value:function(e,t){var n=-.5,r=(t.y-e.y)*n;if(r)return this.active=!0,{pitchDelta:r}}},{key:"contextmenu",value:function(e){e.preventDefault()}}]),n}(Et);function Mt(e){var t=It();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}function It(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Lt=function(e){p()(n,e);var t=Mt(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"contextmenu",value:function(e){e.preventDefault()}},{key:"correctButton",value:function(e,t){return t===_t&&e.ctrlKey||t===wt}},{key:"move",value:function(e,t){var n=.8,r=(t.x-e.x)*n;if(r)return this.active=!0,{bearingDelta:r}}}]),n}(Et),Rt=4.000244140625,Dt=.01,Nt=1/450,zt=2,Ft=function(){function e(t,n){var r=this;u()(this,e),E()(this,"map",void 0),E()(this,"el",void 0),E()(this,"enabled",void 0),E()(this,"active",void 0),E()(this,"zooming",void 0),E()(this,"aroundCenter",void 0),E()(this,"around",void 0),E()(this,"aroundPoint",void 0),E()(this,"type",void 0),E()(this,"lastValue",void 0),E()(this,"timeout",void 0),E()(this,"finishTimeout",void 0),E()(this,"lastWheelEvent",void 0),E()(this,"lastWheelEventTime",void 0),E()(this,"startZoom",void 0),E()(this,"targetZoom",void 0),E()(this,"delta",void 0),E()(this,"easing",void 0),E()(this,"prevEase",void 0),E()(this,"frameId",void 0),E()(this,"handler",void 0),E()(this,"defaultZoomRate",void 0),E()(this,"wheelZoomRate",void 0),E()(this,"onScrollFrame",(function(){if(r.frameId&&(r.frameId=null,r.isActive())){var e=r.map.transform;if(0!==r.delta){var t="wheel"===r.type&&Math.abs(r.delta)>Rt?r.wheelZoomRate:r.defaultZoomRate,n=zt/(1+Math.exp(-Math.abs(r.delta*t)));r.delta<0&&0!==n&&(n=1/n);var i="number"===typeof r.targetZoom?e.zoomScale(r.targetZoom):e.scale;r.targetZoom=Math.min(e.maxZoom,Math.max(e.minZoom,e.scaleZoom(i*n))),"wheel"===r.type&&(r.startZoom=e.zoom,r.easing=r.smoothOutEasing(200)),r.delta=0}var o,a="number"===typeof r.targetZoom?r.targetZoom:e.zoom,s=r.startZoom,u=r.easing,c=!1;if("wheel"===r.type&&s&&u){var l=Math.min((J()-r.lastWheelEventTime)/200,1),f=u(l);o=W(s,a,f),l<1?r.frameId||(r.frameId=!0):c=!0}else o=a,c=!0;return r.active=!0,c&&(r.active=!1,r.finishTimeout=setTimeout((function(){r.zooming=!1,r.handler.triggerRenderFrame(),delete r.targetZoom,delete r.finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!c,zoomDelta:o-e.zoom,around:r.aroundPoint,originalEvent:r.lastWheelEvent}}})),this.map=t,this.el=t.getCanvasContainer(),this.handler=n,this.delta=0,this.defaultZoomRate=Dt,this.wheelZoomRate=Nt}return l()(e,[{key:"setZoomRate",value:function(e){this.defaultZoomRate=e}},{key:"setWheelZoomRate",value:function(e){this.wheelZoomRate=e}},{key:"isEnabled",value:function(){return!!this.enabled}},{key:"isActive",value:function(){return!!this.active||void 0!==this.finishTimeout}},{key:"isZooming",value:function(){return!!this.zooming}},{key:"enable",value:function(e){this.isEnabled()||(this.enabled=!0,this.aroundCenter=e&&"center"===e.around)}},{key:"disable",value:function(){this.isEnabled()&&(this.enabled=!1)}},{key:"wheel",value:function(e){if(this.isEnabled()){var t=e.deltaMode===window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,n=J(),r=n-(this.lastWheelEventTime||0);this.lastWheelEventTime=n,0!==t&&t%Rt===0?this.type="wheel":0!==t&&Math.abs(t)<4?this.type="trackpad":r>400?(this.type=null,this.lastValue=t,this.timeout=setTimeout(this.onTimeout,40,e)):this.type||(this.type=Math.abs(r*t)<200?"trackpad":"wheel",this.timeout&&(clearTimeout(this.timeout),this.timeout=null,t+=this.lastValue)),e.shiftKey&&t&&(t/=4),this.type&&(this.lastWheelEvent=e,this.delta-=t,this.active||this.start(e)),e.preventDefault()}}},{key:"renderFrame",value:function(){return this.onScrollFrame()}},{key:"reset",value:function(){this.active=!1}},{key:"onTimeout",value:function(e){this.type="wheel",this.delta-=this.lastValue,this.active||this.start(e)}},{key:"start",value:function(e){if(this.delta){this.frameId&&(this.frameId=null),this.active=!0,this.isZooming()||(this.zooming=!0),this.finishTimeout&&(clearTimeout(this.finishTimeout),delete this.finishTimeout);var t=Pe.mousePos(this.el,e);this.around=ne.convert(this.aroundCenter?this.map.getCenter():this.map.unproject(t)),this.aroundPoint=this.map.transform.locationPoint(this.around),this.frameId||(this.frameId=!0,this.handler.triggerRenderFrame())}}},{key:"smoothOutEasing",value:function(e){var t=Y;if(this.prevEase){var n=this.prevEase,r=(J()-n.start)/n.duration,i=n.easing(r+.01)-n.easing(r),o=.27/Math.sqrt(i*i+1e-4)*.01,a=Math.sqrt(.0729-o*o);t=Z(o,a,.25,1)}return this.prevEase={start:J(),duration:e,easing:t},t}}]),e}(),Bt=Ft,Ut=function(){function e(t,n){u()(this,e),E()(this,"clickZoom",void 0),E()(this,"tapZoom",void 0),this.clickZoom=t,this.tapZoom=n}return l()(e,[{key:"enable",value:function(){this.clickZoom.enable(),this.tapZoom.enable()}},{key:"disable",value:function(){this.clickZoom.disable(),this.tapZoom.disable()}},{key:"isEnabled",value:function(){return this.clickZoom.isEnabled()&&this.tapZoom.isEnabled()}},{key:"isActive",value:function(){return this.clickZoom.isActive()||this.tapZoom.isActive()}}]),e}(),Vt=function(){function e(t,n,r){u()(this,e),E()(this,"inertiaOptions",void 0),E()(this,"el",void 0),E()(this,"mousePan",void 0),E()(this,"touchPan",void 0),this.el=t,this.mousePan=n,this.touchPan=r}return l()(e,[{key:"enable",value:function(e){this.inertiaOptions=e||{},this.mousePan.enable(),this.touchPan.enable(),this.el.classList.add("l7-touch-drag-pan")}},{key:"disable",value:function(){this.mousePan.disable(),this.touchPan.disable(),this.el.classList.remove("l7-touch-drag-pan")}},{key:"isEnabled",value:function(){return this.mousePan.isEnabled()&&this.touchPan.isEnabled()}},{key:"isActive",value:function(){return this.mousePan.isActive()||this.touchPan.isActive()}}]),e}(),Ht=function(){function e(t,n,r){u()(this,e),E()(this,"mouseRotate",void 0),E()(this,"mousePitch",void 0),E()(this,"pitchWithRotate",void 0),this.pitchWithRotate=t.pitchWithRotate,this.mouseRotate=n,this.mousePitch=r}return l()(e,[{key:"enable",value:function(){this.mouseRotate.enable(),this.pitchWithRotate&&this.mousePitch.enable()}},{key:"disable",value:function(){this.mouseRotate.disable(),this.mousePitch.disable()}},{key:"isEnabled",value:function(){return this.mouseRotate.isEnabled()&&(!this.pitchWithRotate||this.mousePitch.isEnabled())}},{key:"isActive",value:function(){return this.mouseRotate.isActive()||this.mousePitch.isActive()}}]),e}(),qt=function(){function e(t,n,r,i){u()(this,e),E()(this,"el",void 0),E()(this,"touchZoom",void 0),E()(this,"touchRotate",void 0),E()(this,"tapDragZoom",void 0),E()(this,"rotationDisabled",void 0),E()(this,"enabled",void 0),this.el=t,this.touchZoom=n,this.touchRotate=r,this.tapDragZoom=i,this.rotationDisabled=!1,this.enabled=!0}return l()(e,[{key:"enable",value:function(e){this.touchZoom.enable(e),this.rotationDisabled||this.touchRotate.enable(e),this.tapDragZoom.enable(),this.el.classList.add("l7-touch-zoom-rotate")}},{key:"disable",value:function(){this.touchZoom.disable(),this.touchRotate.disable(),this.tapDragZoom.disable(),this.el.classList.remove("l7-touch-zoom-rotate")}},{key:"isEnabled",value:function(){return this.touchZoom.isEnabled()&&(this.rotationDisabled||this.touchRotate.isEnabled())&&this.tapDragZoom.isEnabled()}},{key:"isActive",value:function(){return this.touchZoom.isActive()||this.touchRotate.isActive()||this.tapDragZoom.isActive()}},{key:"disableRotation",value:function(){this.rotationDisabled=!0,this.touchRotate.disable()}},{key:"enableRotation",value:function(){this.rotationDisabled=!1,this.touchZoom.isEnabled()&&this.touchRotate.enable()}}]),e}();function Gt(e,t){for(var n={},r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}function Wt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Zt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function Zt(e,t){if(e){if("string"===typeof e)return Yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yt(e,t):void 0}}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xt(e){var t,n=new ie(0,0),r=Wt(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n._add(i)}}catch(Nr){r.e(Nr)}finally{r.f()}return n.div(e.length)}var Kt=500,Jt=500,Qt=30,$t=function(){function e(t){u()(this,e),E()(this,"numTouches",void 0),E()(this,"centroid",void 0),E()(this,"startTime",void 0),E()(this,"aborted",void 0),E()(this,"touches",void 0),this.reset(),this.numTouches=t.numTouches}return l()(e,[{key:"reset",value:function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}},{key:"touchstart",value:function(e,t,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),n.length===this.numTouches&&(this.centroid=Xt(t),this.touches=Gt(n,t)))}},{key:"touchmove",value:function(e,t,n){if(!this.aborted&&this.centroid){var r=Gt(n,t);for(var i in this.touches)if(this.touches[i]){var o=this.touches[i],a=r[i];(!a||a.dist(o)>Qt)&&(this.aborted=!0)}}}},{key:"touchend",value:function(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>Jt)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}}}]),e}(),en=function(){function e(t){u()(this,e),E()(this,"singleTap",void 0),E()(this,"numTaps",void 0),E()(this,"lastTime",void 0),E()(this,"lastTap",void 0),E()(this,"count",void 0),this.singleTap=new $t(t),this.numTaps=t.numTaps,this.reset()}return l()(e,[{key:"reset",value:function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}},{key:"touchstart",value:function(e,t,n){this.singleTap.touchstart(e,t,n)}},{key:"touchmove",value:function(e,t,n){this.singleTap.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){var r=this.singleTap.touchend(e,t,n);if(r){var i=e.timeStamp-this.lastTime<Kt,o=!this.lastTap||this.lastTap.dist(r)<Qt;if(i&&o||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}]),e}(),tn=function(){function e(){u()(this,e),E()(this,"enabled",void 0),E()(this,"active",void 0),E()(this,"swipePoint",void 0),E()(this,"swipeTouch",void 0),E()(this,"tapTime",void 0),E()(this,"tap",void 0),this.tap=new en({numTouches:1,numTaps:1}),this.reset()}return l()(e,[{key:"reset",value:function(){this.active=!1,delete this.swipePoint,delete this.swipeTouch,delete this.tapTime,this.tap.reset()}},{key:"touchstart",value:function(e,t,n){this.swipePoint||(this.tapTime&&e.timeStamp-this.tapTime>Kt&&this.reset(),this.tapTime?n.length>0&&(this.swipePoint=t[0],this.swipeTouch=n[0].identifier):this.tap.touchstart(e,t,n))}},{key:"touchmove",value:function(e,t,n){if(this.tapTime){if(this.swipePoint){if(n[0].identifier!==this.swipeTouch)return;var r=t[0],i=r.y-this.swipePoint.y;return this.swipePoint=r,e.preventDefault(),this.active=!0,{zoomDelta:i/128}}}else this.tap.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){if(this.tapTime)this.swipePoint&&0===n.length&&this.reset();else{var r=this.tap.touchend(e,t,n);r&&(this.tapTime=e.timeStamp)}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),e}(),nn=function(){function e(){u()(this,e),E()(this,"enabled",void 0),E()(this,"active",void 0),E()(this,"zoomIn",void 0),E()(this,"zoomOut",void 0),this.zoomIn=new en({numTouches:1,numTaps:2}),this.zoomOut=new en({numTouches:2,numTaps:1}),this.reset()}return l()(e,[{key:"reset",value:function(){this.active=!1,this.zoomIn.reset(),this.zoomOut.reset()}},{key:"touchstart",value:function(e,t,n){this.zoomIn.touchstart(e,t,n),this.zoomOut.touchstart(e,t,n)}},{key:"touchmove",value:function(e,t,n){this.zoomIn.touchmove(e,t,n),this.zoomOut.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){var r=this,i=this.zoomIn.touchend(e,t,n),o=this.zoomOut.touchend(e,t,n);return i?(this.active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}}):o?(this.active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(o)},{originalEvent:e})}}):void 0}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),e}(),rn=function(){function e(t){u()(this,e),E()(this,"enabled",void 0),E()(this,"active",void 0),E()(this,"touches",void 0),E()(this,"minTouches",void 0),E()(this,"clickTolerance",void 0),E()(this,"sum",void 0),this.minTouches=1,this.clickTolerance=t.clickTolerance||1,this.reset()}return l()(e,[{key:"reset",value:function(){this.active=!1,this.touches={},this.sum=new ie(0,0)}},{key:"touchstart",value:function(e,t,n){return this.calculateTransform(e,t,n)}},{key:"touchmove",value:function(e,t,n){if(this.active)return e.preventDefault(),this.calculateTransform(e,t,n)}},{key:"touchend",value:function(e,t,n){this.calculateTransform(e,t,n),this.active&&n.length<this.minTouches&&this.reset()}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}},{key:"calculateTransform",value:function(e,t,n){n.length>0&&(this.active=!0);var r=Gt(n,t),i=new ie(0,0),o=new ie(0,0),a=0;for(var s in r)if(r[s]){var u=r[s],c=this.touches[s];c&&(i._add(u),o._add(u.sub(c)),a++,r[s]=u)}if(this.touches=r,!(a<this.minTouches)&&o.mag()){var l=o.div(a);if(this.sum._add(l),!(this.sum.mag()<this.clickTolerance)){var f=i.div(a);return{around:f,panDelta:l}}}}}]),e}(),on=function(){function e(){u()(this,e),E()(this,"enabled",void 0),E()(this,"active",void 0),E()(this,"firstTwoTouches",void 0),E()(this,"vector",void 0),E()(this,"startVector",void 0),E()(this,"aroundCenter",void 0),this.reset()}return l()(e,[{key:"reset",value:function(){this.active=!1,delete this.firstTwoTouches}},{key:"start",value:function(e){}},{key:"move",value:function(e,t,n){}},{key:"touchstart",value:function(e,t,n){this.firstTwoTouches||n.length<2||(this.firstTwoTouches=[n[0].identifier,n[1].identifier],this.start([t[0],t[1]]))}},{key:"touchmove",value:function(e,t,n){if(this.firstTwoTouches){e.preventDefault();var r=ke()(this.firstTwoTouches,2),i=r[0],o=r[1],a=an(n,t,i),s=an(n,t,o);if(a&&s){var u=this.aroundCenter?null:a.add(s).div(2);return this.move([a,s],u,e)}}}},{key:"touchend",value:function(e,t,n){if(this.firstTwoTouches){var r=ke()(this.firstTwoTouches,2),i=r[0],o=r[1],a=an(n,t,i),s=an(n,t,o);a&&s||(this.active&&Pe.suppressClick(),this.reset())}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(e){this.enabled=!0,this.aroundCenter=!!e&&"center"===e.around}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),e}();function an(e,t,n){for(var r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function sn(e){var t=un();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}function un(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function cn(e){return Math.abs(e.y)>Math.abs(e.x)}var ln=100,fn=function(e){p()(n,e);var t=sn(n);function n(){var e;u()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),E()(M()(e),"valid",void 0),E()(M()(e),"firstMove",void 0),E()(M()(e),"lastPoints",void 0),e}return l()(n,[{key:"reset",value:function(){xt()(v()(n.prototype),"reset",this).call(this),this.valid=void 0,delete this.firstMove,delete this.lastPoints}},{key:"start",value:function(e){this.lastPoints=e,cn(e[0].sub(e[1]))&&(this.valid=!1)}},{key:"move",value:function(e,t,n){var r=e[0].sub(this.lastPoints[0]),i=e[1].sub(this.lastPoints[1]);if(this.valid=this.gestureBeginsVertically(r,i,n.timeStamp),this.valid){this.lastPoints=e,this.active=!0;var o=(r.y+i.y)/2,a=-.5;return{pitchDelta:o*a}}}},{key:"gestureBeginsVertically",value:function(e,t,n){if(void 0!==this.valid)return this.valid;var r=2,i=e.mag()>=r,o=t.mag()>=r;if(i||o){if(!i||!o)return void 0===this.firstMove&&(this.firstMove=n),n-this.firstMove<ln&&void 0;var a=e.y>0===t.y>0;return cn(e)&&cn(t)&&a}}}]),n}(on);function pn(e){var t=hn();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}function hn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var dn=25;function mn(e,t){return 180*e.angleWith(t)/Math.PI}var vn=function(e){p()(n,e);var t=pn(n);function n(){var e;u()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),E()(M()(e),"minDiameter",void 0),e}return l()(n,[{key:"reset",value:function(){xt()(v()(n.prototype),"reset",this).call(this),delete this.minDiameter,delete this.startVector,delete this.vector}},{key:"start",value:function(e){this.startVector=this.vector=e[0].sub(e[1]),this.minDiameter=e[0].dist(e[1])}},{key:"move",value:function(e,t){var n=this.vector;if(this.vector=e[0].sub(e[1]),this.active||!this.isBelowThreshold(this.vector))return this.active=!0,{bearingDelta:mn(this.vector,n),pinchAround:t}}},{key:"isBelowThreshold",value:function(e){this.minDiameter=Math.min(this.minDiameter,e.mag());var t=Math.PI*this.minDiameter,n=dn/t*360,r=mn(e,this.startVector);return Math.abs(r)<n}}]),n}(on);function yn(e){var t=gn();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}function gn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var bn=.1;function xn(e,t){return Math.log(e/t)/Math.LN2}var _n=function(e){p()(n,e);var t=yn(n);function n(){var e;u()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),E()(M()(e),"distance",void 0),E()(M()(e),"startDistance",void 0),e}return l()(n,[{key:"reset",value:function(){xt()(v()(n.prototype),"reset",this).call(this),delete this.distance,delete this.startDistance}},{key:"start",value:function(e){this.startDistance=this.distance=e[0].dist(e[1])}},{key:"move",value:function(e,t){var n=this.distance;if(this.distance=e[0].dist(e[1]),this.active||!(Math.abs(xn(this.distance,this.startDistance))<bn))return this.active=!0,{zoomDelta:xn(this.distance,n),pinchAround:t}}}]),n}(on);function wn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Sn(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function Sn(e,t){if(e){if("string"===typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(e,t):void 0}}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var En=function(e){return e.zoom||e.drag||e.pitch||e.rotate};function kn(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var Cn=function(){function e(t,n){var r=this;u()(this,e),E()(this,"map",void 0),E()(this,"el",void 0),E()(this,"handlers",void 0),E()(this,"eventsInProgress",void 0),E()(this,"frameId",void 0),E()(this,"inertia",void 0),E()(this,"bearingSnap",void 0),E()(this,"handlersById",void 0),E()(this,"updatingCamera",void 0),E()(this,"changes",void 0),E()(this,"previousActiveHandlers",void 0),E()(this,"bearingChanged",void 0),E()(this,"listeners",void 0),E()(this,"handleWindowEvent",(function(e){r.handleEvent(e,"".concat(e.type,"Window"))})),E()(this,"handleEvent",(function(e,t){if("blur"!==e.type){r.updatingCamera=!0;var n,i="renderFrame"===e.type?void 0:e,o={needsRenderFrame:!1},a={},s={},u=e.touches?r.getMapTouches(e.touches):void 0,c=u?Pe.touchPos(r.el,u):Pe.mousePos(r.el,e),l=wn(r.handlers);try{for(l.s();!(n=l.n()).done;){var f=n.value,p=f.handlerName,h=f.handler,d=f.allowed;if(h.isEnabled()){var m=void 0;if(r.blockedByActive(s,d,p))h.reset();else{var v=t||e.type;h&&h[v]&&(m=h[v](e,c,u),r.mergeIHandlerResult(o,a,m,p,i),m&&m.needsRenderFrame&&r.triggerRenderFrame())}(m||h.isActive())&&(s[p]=h)}}}catch(Nr){l.e(Nr)}finally{l.f()}var y={};for(var g in r.previousActiveHandlers)s[g]||(y[g]=i);r.previousActiveHandlers=s,(Object.keys(y).length||kn(o))&&(r.changes.push([o,a,y]),r.triggerRenderFrame()),(Object.keys(s).length||kn(o))&&r.map.stop(!0),r.updatingCamera=!1;var b=o.cameraAnimation;b&&(r.inertia.clear(),r.fireEvents({},{}),r.changes=[],b(r.map))}else r.stop()})),this.map=t,this.el=this.map.getCanvasContainer(),this.handlers=[],this.handlersById={},this.changes=[],this.inertia=new lt(t),this.bearingSnap=n.bearingSnap,this.previousActiveHandlers={},this.eventsInProgress={},this.addDefaultHandlers(n);var i=this.el;this.listeners=[[i,"touchstart",{passive:!1}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[window.document,"mousemove",{capture:!0}],[window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[window,"blur",void 0]];var o,a=wn(this.listeners);try{for(a.s();!(o=a.n()).done;){var s=ke()(o.value,3),c=s[0],l=s[1],f=s[2];Pe.addEventListener(c,l,c===window.document?this.handleWindowEvent:this.handleEvent,f)}}catch(Nr){a.e(Nr)}finally{a.f()}}return l()(e,[{key:"destroy",value:function(){var e,t=wn(this.listeners);try{for(t.s();!(e=t.n()).done;){var n=ke()(e.value,3),r=n[0],i=n[1],o=n[2];Pe.removeEventListener(r,i,r===window.document?this.handleWindowEvent:this.handleEvent,o)}}catch(Nr){t.e(Nr)}finally{t.f()}}},{key:"stop",value:function(){if(!this.updatingCamera){var e,t=wn(this.handlers);try{for(t.s();!(e=t.n()).done;){var n=e.value.handler;n.reset()}}catch(Nr){t.e(Nr)}finally{t.f()}this.inertia.clear(),this.fireEvents({},{}),this.changes=[]}}},{key:"isActive",value:function(){var e,t=wn(this.handlers);try{for(t.s();!(e=t.n()).done;){var n=e.value.handler;if(n.isActive())return!0}}catch(Nr){t.e(Nr)}finally{t.f()}return!1}},{key:"isZooming",value:function(){return!!this.eventsInProgress.zoom||this.map.scrollZoom.isZooming()}},{key:"isRotating",value:function(){return!!this.eventsInProgress.rotate}},{key:"isMoving",value:function(){return Boolean(En(this.eventsInProgress))||this.isZooming()}},{key:"mergeIHandlerResult",value:function(e,t,n,r,i){if(n){L()(e,n);var o={handlerName:r,originalEvent:n.originalEvent||i};void 0!==n.zoomDelta&&(t.zoom=o),void 0!==n.panDelta&&(t.drag=o),void 0!==n.pitchDelta&&(t.pitch=o),void 0!==n.bearingDelta&&(t.rotate=o)}}},{key:"triggerRenderFrame",value:function(){var e=this;void 0===this.frameId&&(this.frameId=this.map.requestRenderFrame((function(t){delete e.frameId,e.handleEvent(new tt("renderFrame",{timeStamp:t})),e.applyChanges()})))}},{key:"addDefaultHandlers",value:function(e){var t=this.map,n=t.getCanvasContainer();this.add("mapEvent",new gt(t,e));var r=t.boxZoom=new Je(t,e);this.add("boxZoom",r);var i=new nn,o=new Qe;t.doubleClickZoom=new Ut(o,i),this.add("tapZoom",i),this.add("clickZoom",o);var a=new tn;this.add("tapDragZoom",a);var s=t.touchPitch=new fn;this.add("touchPitch",s);var u=new Pt(e),c=new Lt(e);t.dragRotate=new Ht(e,u,c),this.add("mouseRotate",u,["mousePitch"]),this.add("mousePitch",c,["mouseRotate"]);var l=new jt(e),f=new rn(e);t.dragPan=new Vt(n,l,f),this.add("mousePan",l),this.add("touchPan",f,["touchZoom","touchRotate"]);var p=new vn,h=new _n;t.touchZoomRotate=new qt(n,h,p,a),this.add("touchRotate",p,["touchPan","touchZoom"]),this.add("touchZoom",h,["touchPan","touchRotate"]);var d=t.scrollZoom=new Bt(t,this);this.add("scrollZoom",d,["mousePan"]);var m=t.keyboard=new yt;this.add("keyboard",m),this.add("blockableMapEvent",new Xe(t));for(var v=0,y=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];v<y.length;v++){var g=y[v];e.interactive&&e[g]&&t[g].enable(e[g])}}},{key:"add",value:function(e,t,n){this.handlers.push({handlerName:e,handler:t,allowed:n}),this.handlersById[e]=t}},{key:"blockedByActive",value:function(e,t,n){for(var r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1}},{key:"getMapTouches",value:function(e){var t,n=[],r=wn(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.target;this.el.contains(o)&&n.push(i)}}catch(Nr){r.e(Nr)}finally{r.f()}return n}},{key:"applyChanges",value:function(){var e,t={},n={},r={},i=wn(this.changes);try{for(i.s();!(e=i.n()).done;){var o=ke()(e.value,3),a=o[0],s=o[1],u=o[2];a.panDelta&&(t.panDelta=(t.panDelta||new ie(0,0))._add(a.panDelta)),a.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+a.zoomDelta),a.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+a.bearingDelta),a.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+a.pitchDelta),void 0!==a.around&&(t.around=a.around),void 0!==a.pinchAround&&(t.pinchAround=a.pinchAround),a.noInertia&&(t.noInertia=a.noInertia),L()(n,s),L()(r,u)}}catch(Nr){i.e(Nr)}finally{i.f()}this.updateMapTransform(t,n,r),this.changes=[]}},{key:"updateMapTransform",value:function(e,t,n){var r=this.map,i=r.transform;if(!kn(e))return this.fireEvents(t,n);var o=e.panDelta,a=e.zoomDelta,s=e.bearingDelta,u=e.pitchDelta,c=e.pinchAround,l=e.around;void 0!==c&&(l=c),r.stop(!0),l=l||r.transform.centerPoint;var f=i.pointLocation(o?l.sub(o):l);s&&(i.bearing+=s),u&&(i.pitch+=u),a&&(i.zoom+=a),i.setLocationAtPoint(f,l),this.map.update(),e.noInertia||this.inertia.record(e),this.fireEvents(t,n)}},{key:"fireEvents",value:function(e,t){var n=this,r=En(this.eventsInProgress),i=En(e),o={};for(var a in e)if(e[a]){var s=e[a].originalEvent;this.eventsInProgress[a]||(o["".concat(a,"start")]=s),this.eventsInProgress[a]=e[a]}for(var u in!r&&i&&this.fireEvent("movestart",i.originalEvent),o)o[u]&&this.fireEvent(u,o[u]);for(var c in e.rotate&&(this.bearingChanged=!0),i&&this.fireEvent("move",i.originalEvent),e)if(e[c]){var l=e[c].originalEvent;this.fireEvent(c,l)}var f,p={};for(var h in this.eventsInProgress)if(this.eventsInProgress[h]){var d=this.eventsInProgress[h],m=d.handlerName,v=d.originalEvent;this.handlersById[m].isActive()||(delete this.eventsInProgress[h],f=t[m]||v,p["".concat(h,"end")]=f)}for(var y in p)p[y]&&this.fireEvent(y,p[y]);var g=En(this.eventsInProgress);if((r||i)&&!g){this.updatingCamera=!0;var b=this.inertia.onMoveEnd(this.map.dragPan.inertiaOptions),x=function(e){return 0!==e&&-n.bearingSnap<e&&e<n.bearingSnap};b?(x(b.bearing||this.map.getBearing())&&(b.bearing=0),this.map.easeTo(b,{originalEvent:f})):(this.map.emit("moveend",new _e("moveend",{originalEvent:f})),x(this.map.getBearing())&&this.map.resetNorth()),this.bearingChanged=!1,this.updatingCamera=!1}}},{key:"fireEvent",value:function(e,t){this.map.emit(e,new _e(e,t?{originalEvent:t}:{}))}}]),e}(),jn=Cn,Tn=n("DzJC"),An=n.n(Tn),Pn=function(){function e(t){var n=this;u()(this,e),E()(this,"map",void 0),E()(this,"updateHash",void 0),E()(this,"hashName",void 0),E()(this,"onHashChange",(function(){var e=n.getCurrentHash();if(e.length>=3&&!e.some((function(e){return isNaN(+e)}))){var t=n.map.dragRotate.isEnabled()&&n.map.touchZoomRotate.isEnabled()?+(e[3]||0):n.map.getBearing();return n.map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1})),E()(this,"getCurrentHash",(function(){var e,t=window.location.hash.replace("#","");return n.hashName?(t.split("&").map((function(e){return e.split("=")})).forEach((function(t){t[0]===n.hashName&&(e=t)})),(e&&e[1]||"").split("/")):t.split("/")})),E()(this,"updateHashUnthrottled",(function(){var e=n.getHashString();try{window.history.replaceState(window.history.state,"",e)}catch(t){}})),this.hashName=t&&encodeURIComponent(t),this.updateHash=An()(this.updateHashUnthrottled,300)}return l()(e,[{key:"addTo",value:function(e){return this.map=e,window.addEventListener("hashchange",this.onHashChange,!1),this.map.on("moveend",this.updateHash),this}},{key:"remove",value:function(){return window.removeEventListener("hashchange",this.onHashChange,!1),this.map.off("moveend",this.updateHash),delete this.map,this}},{key:"getHashString",value:function(e){var t=this.map.getCenter(),n=Math.round(100*this.map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,r),o=Math.round(t.lng*i)/i,a=Math.round(t.lat*i)/i,s=this.map.getBearing(),u=this.map.getPitch(),c="";if(c+=e?"/".concat(o,"/").concat(a,"/").concat(n):"".concat(n,"/").concat(a,"/").concat(o),(s||u)&&(c+="/".concat(Math.round(10*s)/10)),u&&(c+="/".concat(Math.round(u))),this.hashName){var l=this.hashName,f=!1,p=window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===l?(f=!0,"".concat(t,"=").concat(c)):e})).filter((function(e){return e}));return f||p.push("".concat(l,"=").concat(c)),"#".concat(p.join("&"))}return"#".concat(c)}}]),e}(),Mn=Pn,In=null,Ln=[],Rn=30,Dn=1e3/Rn,Nn=window.performance,zn={create:"create",load:"load",fullLoad:"fullLoad"},Fn={mark:function(e){Nn.mark(e)},frame:function(e){var t=e;if(null!=In){var n=t-In;Ln.push(n)}In=t},clearMetrics:function(){for(var e in In=null,Ln=[],Nn.clearMeasures("loadTime"),Nn.clearMeasures("fullLoadTime"),zn)Nn.clearMarks(zn[e])},getPerformanceMetrics:function(){var e=Nn.measure("loadTime",zn.create,zn.load).duration,t=Nn.measure("fullLoadTime",zn.create,zn.fullLoad).duration,n=Ln.length,r=Ln.reduce((function(e,t){return e+t}),0)/n/1e3,i=1/r,o=Ln.filter((function(e){return e>Dn})).reduce((function(e,t){return e+(t-Dn)/Dn}),0),a=o/(n+o)*100;return{loadTime:e,fullLoadTime:t,fps:i,percentDroppedFrames:a}}};function Bn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Un(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function Un(e,t){if(e){if("string"===typeof e)return Vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vn(e,t):void 0}}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hn=function(){function e(){u()(this,e),E()(this,"queue",void 0),E()(this,"id",void 0),E()(this,"cleared",void 0),E()(this,"currentlyRunning",void 0),this.queue=[],this.id=0,this.cleared=!1,this.currentlyRunning=!1}return l()(e,[{key:"add",value:function(e){var t=++this.id,n=this.queue;return n.push({callback:e,id:t,cancelled:!1}),t}},{key:"remove",value:function(e){var t,n=this.currentlyRunning,r=n?this.queue.concat(n):this.queue,i=Bn(r);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.id===e)return void(o.cancelled=!0)}}catch(Nr){i.e(Nr)}finally{i.f()}}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.currentlyRunning=this.queue;this.queue=[];var n,r=Bn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.cancelled&&(i.callback(e),this.cleared))break}}catch(Nr){r.e(Nr)}finally{r.f()}this.cleared=!1,this.currentlyRunning=!1}},{key:"clear",value:function(){this.currentlyRunning&&(this.cleared=!0),this.queue=[]}}]),e}(),qn=Hn;function Gn(e){var t=Wn();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}function Wn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Zn(e,t){if(t||(t=document),t){var n=t.head||t.getElementsByTagName("head")[0];if(!n){n=t.createElement("head");var r=t.body||t.getElementsByTagName("body")[0];r?r.parentNode.insertBefore(n,r):t.documentElement.appendChild(n)}var i=t.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),n.appendChild(i),i}}Zn(".l7-map {\n  font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n  overflow: hidden;\n  position: relative;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.l7-canvas {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n.l7-map:-webkit-full-screen {\n  width: 100%;\n  height: 100%;\n}\n\n.l7-canary {\n  background-color: salmon;\n}\n\n.l7-canvas-container.l7-interactive,\n.l7-ctrl-group button.l7-ctrl-compass {\n  cursor: -webkit-grab;\n  cursor: grab;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.l7-canvas-container.l7-interactive.l7-track-pointer {\n  cursor: pointer;\n}\n\n.l7-canvas-container.l7-interactive:active,\n.l7-ctrl-group button.l7-ctrl-compass:active {\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n\n.l7-canvas-container.l7-touch-zoom-rotate,\n.l7-canvas-container.l7-touch-zoom-rotate .l7-canvas {\n  -ms-touch-action: pan-x pan-y;\n      touch-action: pan-x pan-y;\n}\n\n.l7-canvas-container.l7-touch-drag-pan,\n.l7-canvas-container.l7-touch-drag-pan .l7-canvas {\n  -ms-touch-action: pinch-zoom;\n      touch-action: pinch-zoom;\n}\n\n.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan,\n.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan .l7-canvas {\n  -ms-touch-action: none;\n      touch-action: none;\n}\n\n.l7-ctrl-top-left,\n.l7-ctrl-top-right,\n.l7-ctrl-bottom-left,\n.l7-ctrl-bottom-right { position: absolute; pointer-events: none; z-index: 2; }\n.l7-ctrl-top-left     { top: 0; left: 0; }\n.l7-ctrl-top-right    { top: 0; right: 0; }\n.l7-ctrl-bottom-left  { bottom: 0; left: 0; }\n.l7-ctrl-bottom-right { right: 0; bottom: 0; }\n\n.l7-ctrl {\n  clear: both;\n  pointer-events: auto;\n\n  /* workaround for a Safari bug https://github.com/mapbox/mapbox-gl-js/issues/8185 */\n  -webkit-transform: translate(0, 0);\n          transform: translate(0, 0);\n}\n.l7-ctrl-top-left .l7-ctrl     { margin: 10px 0 0 10px; float: left; }\n.l7-ctrl-top-right .l7-ctrl    { margin: 10px 10px 0 0; float: right; }\n.l7-ctrl-bottom-left .l7-ctrl  { margin: 0 0 10px 10px; float: left; }\n.l7-ctrl-bottom-right .l7-ctrl { margin: 0 10px 10px 0; float: right; }\n\n\n.l7-crosshair,\n.l7-crosshair .l7-interactive,\n.l7-crosshair .l7-interactive:active {\n    cursor: crosshair;\n}\n\n.l7-boxzoom {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 0;\n    height: 0;\n    background: #fff;\n    border: 2px dotted #202020;\n    opacity: 0.5;\n    z-index: 10;\n}\n");var Yn=-2,Xn=22,Kn=0,Jn=60,Qn={hash:!1,zoom:-1,center:[112,32],pitch:0,bearing:0,interactive:!0,minZoom:Yn,maxZoom:Xn,minPitch:Kn,maxPitch:Jn,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,trackResize:!0,renderWorldCopies:!0},$n=function(e){p()(n,e);var t=Gn(n);function n(e){var r;u()(this,n),r=t.call(this,L()({},Qn,e)),E()(M()(r),"doubleClickZoom",void 0),E()(M()(r),"dragRotate",void 0),E()(M()(r),"dragPan",void 0),E()(M()(r),"touchZoomRotate",void 0),E()(M()(r),"scrollZoom",void 0),E()(M()(r),"keyboard",void 0),E()(M()(r),"touchPitch",void 0),E()(M()(r),"boxZoom",void 0),E()(M()(r),"handlers",void 0),E()(M()(r),"container",void 0),E()(M()(r),"canvas",void 0),E()(M()(r),"canvasContainer",void 0),E()(M()(r),"renderTaskQueue",new qn),E()(M()(r),"frame",void 0),E()(M()(r),"trackResize",!0),E()(M()(r),"hash",void 0),E()(M()(r),"onWindowOnline",(function(){r.update()})),E()(M()(r),"onWindowResize",(function(e){r.trackResize&&r.resize({originalEvent:e}).update()})),r.initContainer(),r.resize(),r.handlers=new jn(M()(r),r.options),"undefined"!==typeof window&&(window.addEventListener("online",r.onWindowOnline,!1),window.addEventListener("resize",r.onWindowResize,!1),window.addEventListener("orientationchange",r.onWindowResize,!1));var i="string"===typeof e.hash&&e.hash||void 0;return e.hash&&(r.hash=new Mn(i).addTo(M()(r))),r.hash&&r.hash.onHashChange()||(r.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(r.resize(),r.fitBounds(e.bounds,L()({},e.fitBoundsOptions,{duration:0})))),r}return l()(n,[{key:"resize",value:function(e){var t=this.containerDimensions(),n=t[0],r=t[1];this.transform.resize(n,r);var i=!this.moving;return i&&(this.stop(),this.emit("movestart",new Event("movestart",e)),this.emit("move",new Event("move",e))),this.emit("resize",new Event("resize",e)),i&&this.emit("moveend",new Event("moveend",e)),this}},{key:"getContainer",value:function(){return this.container}},{key:"getCanvas",value:function(){return this.canvas}},{key:"getCanvasContainer",value:function(){return this.canvasContainer}},{key:"project",value:function(e){return this.transform.locationPoint(ne.convert(e))}},{key:"unproject",value:function(e){return this.transform.pointLocation(ie.convert(e))}},{key:"getBounds",value:function(){return this.transform.getBounds()}},{key:"getMaxBounds",value:function(){return this.transform.getMaxBounds()}},{key:"setMaxBounds",value:function(e){this.transform.setMaxBounds(re.convert(e))}},{key:"setStyle",value:function(e){}},{key:"setMinZoom",value:function(e){if(e=null===e||void 0===e?Yn:e,e>=Yn&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between ".concat(Yn," and the current maxZoom, inclusive"))}},{key:"getMinZoom",value:function(){return this.transform.minZoom}},{key:"setMaxZoom",value:function(e){if(e=null===e||void 0===e?Xn:e,e>=this.transform.minZoom)return this.transform.maxZoom=e,this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}},{key:"getMaxZoom",value:function(){return this.transform.maxZoom}},{key:"setMinPitch",value:function(e){if(e=null===e||void 0===e?Kn:e,e<Kn)throw new Error("minPitch must be greater than or equal to ".concat(Kn));if(e>=Kn&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between ".concat(Kn," and the current maxPitch, inclusive"))}},{key:"getMinPitch",value:function(){return this.transform.minPitch}},{key:"setMaxPitch",value:function(e){if(e=null===e||void 0===e?Jn:e,e>Jn)throw new Error("maxPitch must be less than or equal to ".concat(Jn));if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}},{key:"getMaxPitch",value:function(){return this.transform.maxPitch}},{key:"getRenderWorldCopies",value:function(){return this.transform.renderWorldCopies}},{key:"setRenderWorldCopies",value:function(e){this.transform.renderWorldCopies=!!e}},{key:"remove",value:function(){this.frame&&(this.frame.cancel(),this.frame=null),this.renderTaskQueue.clear()}},{key:"requestRenderFrame",value:function(e){return this.update(),this.renderTaskQueue.add(e)}},{key:"cancelRenderFrame",value:function(e){return this.renderTaskQueue.remove(e)}},{key:"triggerRepaint",value:function(){var e=this;this.frame||(this.frame=ee((function(t){Fn.frame(t),e.frame=null,e.update(t)})))}},{key:"update",value:function(e){var t=this;this.frame||(this.frame=ee((function(n){Fn.frame(n),t.frame=null,t.renderTaskQueue.run(e)})))}},{key:"initContainer",value:function(){if("string"===typeof this.options.container){if(this.container=window.document.getElementById(this.options.container),!this.container)throw new Error("Container '".concat(this.options.container,"' not found."))}else{if(!(this.options.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this.container=this.options.container}var e=this.container;e.classList.add("l7-map");var t=this.canvasContainer=R["a"].create("div","l7-canvas-container",e);this.options.interactive&&t.classList.add("l7-interactive")}},{key:"containerDimensions",value:function(){var e=0,t=0;return this.container&&(e=this.container.clientWidth||400,t=this.container.clientHeight||300),[e,t]}},{key:"resizeCanvas",value:function(e,t){var n=R["a"].DPR||1;this.canvas.width=n*e,this.canvas.height=n*t,this.canvas.style.width="".concat(e,"px"),this.canvas.style.height="".concat(t,"px")}}]),n}(Oe);function er(e){var t=tr();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}function tr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function nr(e,t){if(t||(t=document),t){var n=t.head||t.getElementsByTagName("head")[0];if(!n){n=t.createElement("head");var r=t.body||t.getElementsByTagName("body")[0];r?r.parentNode.insertBefore(n,r):t.documentElement.appendChild(n)}var i=t.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),n.appendChild(i),i}}nr(".l7-map {\n  font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n  overflow: hidden;\n  position: relative;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.l7-canvas {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n.l7-map:-webkit-full-screen {\n  width: 100%;\n  height: 100%;\n}\n\n.l7-canary {\n  background-color: salmon;\n}\n\n.l7-canvas-container.l7-interactive,\n.l7-ctrl-group button.l7-ctrl-compass {\n  cursor: -webkit-grab;\n  cursor: grab;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.l7-canvas-container.l7-interactive.l7-track-pointer {\n  cursor: pointer;\n}\n\n.l7-canvas-container.l7-interactive:active,\n.l7-ctrl-group button.l7-ctrl-compass:active {\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n\n.l7-canvas-container.l7-touch-zoom-rotate,\n.l7-canvas-container.l7-touch-zoom-rotate .l7-canvas {\n  -ms-touch-action: pan-x pan-y;\n      touch-action: pan-x pan-y;\n}\n\n.l7-canvas-container.l7-touch-drag-pan,\n.l7-canvas-container.l7-touch-drag-pan .l7-canvas {\n  -ms-touch-action: pinch-zoom;\n      touch-action: pinch-zoom;\n}\n\n.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan,\n.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan .l7-canvas {\n  -ms-touch-action: none;\n      touch-action: none;\n}\n\n.l7-ctrl-top-left,\n.l7-ctrl-top-right,\n.l7-ctrl-bottom-left,\n.l7-ctrl-bottom-right { position: absolute; pointer-events: none; z-index: 2; }\n.l7-ctrl-top-left     { top: 0; left: 0; }\n.l7-ctrl-top-right    { top: 0; right: 0; }\n.l7-ctrl-bottom-left  { bottom: 0; left: 0; }\n.l7-ctrl-bottom-right { right: 0; bottom: 0; }\n\n.l7-ctrl {\n  clear: both;\n  pointer-events: auto;\n\n  /* workaround for a Safari bug https://github.com/mapbox/mapbox-gl-js/issues/8185 */\n  -webkit-transform: translate(0, 0);\n          transform: translate(0, 0);\n}\n.l7-ctrl-top-left .l7-ctrl     { margin: 10px 0 0 10px; float: left; }\n.l7-ctrl-top-right .l7-ctrl    { margin: 10px 10px 0 0; float: right; }\n.l7-ctrl-bottom-left .l7-ctrl  { margin: 0 0 10px 10px; float: left; }\n.l7-ctrl-bottom-right .l7-ctrl { margin: 0 10px 10px 0; float: right; }\n\n\n.l7-crosshair,\n.l7-crosshair .l7-interactive,\n.l7-crosshair .l7-interactive:active {\n    cursor: crosshair;\n}\n\n.l7-boxzoom {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 0;\n    height: 0;\n    background: #fff;\n    border: 2px dotted #202020;\n    opacity: 0.5;\n    z-index: 10;\n}\n");var rr,ir,or,ar,sr,ur,cr,lr,fr,pr,hr,dr=-2,mr=22,vr=0,yr=60,gr={hash:!1,zoom:-1,center:[112,32],pitch:0,bearing:0,interactive:!0,minZoom:dr,maxZoom:mr,minPitch:vr,maxPitch:yr,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,trackResize:!0,renderWorldCopies:!0},br=(function(e){p()(n,e);var t=er(n);function n(e){var r;u()(this,n),r=t.call(this,L()({},gr,e)),E()(M()(r),"doubleClickZoom",void 0),E()(M()(r),"dragRotate",void 0),E()(M()(r),"dragPan",void 0),E()(M()(r),"touchZoomRotate",void 0),E()(M()(r),"scrollZoom",void 0),E()(M()(r),"keyboard",void 0),E()(M()(r),"touchPitch",void 0),E()(M()(r),"boxZoom",void 0),E()(M()(r),"handlers",void 0),E()(M()(r),"container",void 0),E()(M()(r),"canvas",void 0),E()(M()(r),"canvasContainer",void 0),E()(M()(r),"renderTaskQueue",new qn),E()(M()(r),"frame",void 0),E()(M()(r),"trackResize",!0),E()(M()(r),"hash",void 0),E()(M()(r),"onWindowOnline",(function(){r.update()})),E()(M()(r),"onWindowResize",(function(e){r.trackResize&&r.resize({originalEvent:e}).update()})),r.initContainer(),r.resize(),r.handlers=new jn(M()(r),r.options),"undefined"!==typeof window&&(window.addEventListener("online",r.onWindowOnline,!1),window.addEventListener("resize",r.onWindowResize,!1),window.addEventListener("orientationchange",r.onWindowResize,!1));var i="string"===typeof e.hash&&e.hash||void 0;return e.hash&&(r.hash=new Mn(i).addTo(M()(r))),r.hash&&r.hash.onHashChange()||(r.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(r.resize(),r.fitBounds(e.bounds,L()({},e.fitBoundsOptions,{duration:0})))),r}l()(n,[{key:"resize",value:function(e){var t=this.containerDimensions(),n=t[0],r=t[1];this.transform.resize(n,r);var i=!this.moving;return i&&(this.stop(),this.emit("movestart",new Event("movestart",e)),this.emit("move",new Event("move",e))),this.emit("resize",new Event("resize",e)),i&&this.emit("moveend",new Event("moveend",e)),this}},{key:"getContainer",value:function(){return this.container}},{key:"getCanvas",value:function(){return this.canvas}},{key:"getCanvasContainer",value:function(){return this.canvasContainer}},{key:"project",value:function(e){return this.transform.locationPoint(ne.convert(e))}},{key:"unproject",value:function(e){return this.transform.pointLocation(ie.convert(e))}},{key:"getBounds",value:function(){return this.transform.getBounds()}},{key:"getMaxBounds",value:function(){return this.transform.getMaxBounds()}},{key:"setMaxBounds",value:function(e){this.transform.setMaxBounds(re.convert(e))}},{key:"setStyle",value:function(e){}},{key:"setMinZoom",value:function(e){if(e=null===e||void 0===e?dr:e,e>=dr&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between ".concat(dr," and the current maxZoom, inclusive"))}},{key:"getMinZoom",value:function(){return this.transform.minZoom}},{key:"setMaxZoom",value:function(e){if(e=null===e||void 0===e?mr:e,e>=this.transform.minZoom)return this.transform.maxZoom=e,this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}},{key:"getMaxZoom",value:function(){return this.transform.maxZoom}},{key:"setMinPitch",value:function(e){if(e=null===e||void 0===e?vr:e,e<vr)throw new Error("minPitch must be greater than or equal to ".concat(vr));if(e>=vr&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between ".concat(vr," and the current maxPitch, inclusive"))}},{key:"getMinPitch",value:function(){return this.transform.minPitch}},{key:"setMaxPitch",value:function(e){if(e=null===e||void 0===e?yr:e,e>yr)throw new Error("maxPitch must be less than or equal to ".concat(yr));if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}},{key:"getMaxPitch",value:function(){return this.transform.maxPitch}},{key:"getRenderWorldCopies",value:function(){return this.transform.renderWorldCopies}},{key:"setRenderWorldCopies",value:function(e){this.transform.renderWorldCopies=!!e}},{key:"remove",value:function(){this.frame&&(this.frame.cancel(),this.frame=null),this.renderTaskQueue.clear()}},{key:"requestRenderFrame",value:function(e){return this.update(),this.renderTaskQueue.add(e)}},{key:"cancelRenderFrame",value:function(e){return this.renderTaskQueue.remove(e)}},{key:"triggerRepaint",value:function(){var e=this;this.frame||(this.frame=ee((function(t){Fn.frame(t),e.frame=null,e.update(t)})))}},{key:"update",value:function(e){var t=this;this.frame||(this.frame=ee((function(n){Fn.frame(n),t.frame=null,t.renderTaskQueue.run(e)})))}},{key:"initContainer",value:function(){if("string"===typeof this.options.container){if(this.container=window.document.getElementById(this.options.container),!this.container)throw new Error("Container '".concat(this.options.container,"' not found."))}else{if(!(this.options.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this.container=this.options.container}var e=this.container;e.classList.add("l7-map");var t=this.canvasContainer=R["a"].create("div","l7-canvas-container",e);this.options.interactive&&t.classList.add("l7-interactive")}},{key:"containerDimensions",value:function(){var e=0,t=0;return this.container&&(e=this.container.clientWidth||400,t=this.container.clientHeight||300),[e,t]}},{key:"resizeCanvas",value:function(e,t){var n=R["a"].DPR||1;this.canvas.width=n*e,this.canvas.height=n*t,this.canvas.style.width="".concat(e,"px"),this.canvas.style.height="".concat(t,"px")}}])}(Oe),n("4cb6")),xr=(n("mNvP"),n("6gmd")),_r=n("1A8y"),wr=function(){function e(){u()(this,e),E()(this,"viewport",void 0)}return l()(e,[{key:"syncWithMapCamera",value:function(e){var t=e.center,n=e.zoom,r=e.pitch,i=e.bearing,o=e.viewportHeight,a=e.viewportWidth;this.viewport=new _r["a"]({width:a,height:o,longitude:t&&t[0],latitude:t&&t[1],zoom:n,pitch:r,bearing:i})}},{key:"getZoom",value:function(){return this.viewport.zoom}},{key:"getZoomScale",value:function(){return Math.pow(2,this.getZoom())}},{key:"getCenter",value:function(){return[this.viewport.longitude,this.viewport.latitude]}},{key:"getProjectionMatrix",value:function(){return this.viewport.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewport.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.viewMatrixUncentered}},{key:"getViewProjectionMatrix",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(e,t){return this.viewport.projectFlat(e,t)}}]),e}(),Sr={light:"mapbox://styles/zcxduo/ck2ypyb1r3q9o1co1766dex29",dark:"mapbox://styles/zcxduo/ck241p6413s0b1cpayzldv7x7",normal:"mapbox://styles/mapbox/streets-v11",blank:{version:8,sources:{},layers:[{id:"background",type:"background",layout:{visibility:"none"}}]}};function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kr={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"},Cr=12,jr=(rr=Object(br["injectable"])(),ir=Object(br["inject"])(A["TYPES"].MapConfig),or=Object(br["inject"])(A["TYPES"].IGlobalConfigService),ar=Object(br["inject"])(A["TYPES"].ICoordinateSystemService),sr=Object(br["inject"])(A["TYPES"].IEventEmitter),rr((cr=function(){function e(){var t=this;u()(this,e),E()(this,"version",xr["a"].L7MAP),E()(this,"map",void 0),S()(this,"config",lr,this),S()(this,"configService",fr,this),S()(this,"coordinateSystemService",pr,this),S()(this,"eventEmitter",hr,this),E()(this,"viewport",void 0),E()(this,"markerContainer",void 0),E()(this,"cameraChangedCallback",void 0),E()(this,"$mapContainer",void 0),E()(this,"handleCameraChanged",(function(){var e=t.map.getCenter(),n=e.lat,r=e.lng,i=t.config.offsetCoordinate,o=void 0===i||i;t.viewport.syncWithMapCamera({bearing:t.map.getBearing(),center:[r,n],viewportHeight:t.map.transform.height,pitch:t.map.getPitch(),viewportWidth:t.map.transform.width,zoom:t.map.getZoom(),cameraHeight:0}),t.viewport.getZoom()>Cr&&o?t.coordinateSystemService.setCoordinateSystem(A["CoordinateSystem"].LNGLAT_OFFSET):t.coordinateSystemService.setCoordinateSystem(A["CoordinateSystem"].LNGLAT),t.cameraChangedCallback(t.viewport)}))}return l()(e,[{key:"addMarkerContainer",value:function(){var e=this.map.getCanvasContainer();this.markerContainer=R["a"].create("div","l7-marker-container",e),this.markerContainer.setAttribute("tabindex","-1")}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(e,t){-1!==A["MapServiceEvent"].indexOf(e)?this.eventEmitter.on(e,t):this.map.on(kr[e]||e,t)}},{key:"off",value:function(e,t){this.map.off(kr[e]||e,t)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){return this.map.getCanvasContainer()}},{key:"getSize",value:function(){var e=this.map.transform;return[e.width,e.height]}},{key:"getType",value:function(){return"default"}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"setZoom",value:function(e){return this.map.setZoom(e)}},{key:"getCenter",value:function(){return this.map.getCenter()}},{key:"setCenter",value:function(e){this.map.setCenter(e)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return this.map.getBearing()}},{key:"getBounds",value:function(){return this.map.getBounds().toArray()}},{key:"getMinZoom",value:function(){return this.map.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.map.getMaxZoom()}},{key:"setRotation",value:function(e){this.map.setBearing(e)}},{key:"zoomIn",value:function(e,t){this.map.zoomIn(e,t)}},{key:"zoomOut",value:function(e,t){this.map.zoomOut(e,t)}},{key:"setPitch",value:function(e){return this.map.setPitch(e)}},{key:"panTo",value:function(e){this.map.panTo(e)}},{key:"panBy",value:function(e){this.panTo(e)}},{key:"fitBounds",value:function(e,t){this.map.fitBounds(e,t)}},{key:"setMaxZoom",value:function(e){this.map.setMaxZoom(e)}},{key:"setMinZoom",value:function(e){this.map.setMinZoom(e)}},{key:"setMapStatus",value:function(e){!0===e.doubleClickZoom&&this.map.doubleClickZoom.enable(),!1===e.doubleClickZoom&&this.map.doubleClickZoom.disable(),!1===e.dragEnable&&this.map.dragPan.disable(),!0===e.dragEnable&&this.map.dragPan.enable(),!1===e.rotateEnable&&this.map.dragRotate.disable(),!0===e.dragEnable&&this.map.dragRotate.enable(),!1===e.keyboardEnable&&this.map.keyboard.disable(),!0===e.keyboardEnable&&this.map.keyboard.enable(),!1===e.zoomEnable&&this.map.scrollZoom.disable(),!0===e.zoomEnable&&this.map.scrollZoom.enable()}},{key:"setZoomAndCenter",value:function(e,t){this.map.flyTo({zoom:e,center:t})}},{key:"setMapStyle",value:function(e){this.map.setStyle(this.getMapStyle(e))}},{key:"pixelToLngLat",value:function(e){return this.map.unproject(e)}},{key:"lngLatToPixel",value:function(e){return this.map.project(e)}},{key:"containerToLngLat",value:function(e){return this.map.unproject(e)}},{key:"lngLatToContainer",value:function(e){return this.map.project(e)}},{key:"lngLatToMercator",value:function(e,t){throw new Error("not implement")}},{key:"getModelMatrix",value:function(e,t,n){throw new Error("not implement")}},{key:"init",value:function(){var e=_()(T.a.mark((function e(){var t,n,r,i,o,a,s,u,c,l;return T.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.config,n=t.id,r=void 0===n?"map":n,i=t.attributionControl,void 0!==i&&i,o=t.style,a=void 0===o?"light":o,s=t.rotation,u=void 0===s?0:s,c=t.mapInstance,l=b()(t,["id","attributionControl","style","rotation","mapInstance"]),this.viewport=new wr,c?(this.map=c,this.$mapContainer=this.map.getContainer()):(this.$mapContainer=this.creatAmapContainer(r),this.map=new $n(Er({container:this.$mapContainer,style:this.getMapStyle(a),bearing:u},l))),this.map.on("load",this.handleCameraChanged),this.map.on("move",this.handleCameraChanged),this.handleCameraChanged();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var e,t;null===(e=this.$mapContainer)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(this.$mapContainer),this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).emit.apply(t,[e].concat(r))}},{key:"once",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).once.apply(t,[e].concat(r))}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"exportMap",value:function(e){var t=this.map.getCanvas(),n="jpg"===e?null===t||void 0===t?void 0:t.toDataURL("image/jpeg"):null===t||void 0===t?void 0:t.toDataURL("image/png");return n}},{key:"onCameraChanged",value:function(e){this.cameraChangedCallback=e}},{key:"creatAmapContainer",value:function(e){var t=e;return"string"===typeof e&&(t=document.getElementById(e)),t}},{key:"getMapStyle",value:function(e){return"string"!==typeof e?e:Sr[e]?Sr[e]:e}}]),e}(),lr=C()(cr.prototype,"config",[ir],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fr=C()(cr.prototype,"configService",[or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pr=C()(cr.prototype,"coordinateSystemService",[ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hr=C()(cr.prototype,"eventEmitter",[sr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ur=cr))||ur);function Tr(e){var t=Ar();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}function Ar(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Pr=function(e){p()(n,e);var t=Tr(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getServiceConstructor",value:function(){return jr}}]),n}(y["a"]),Mr=n("q1tI"),Ir=n.n(Mr),Lr=n("45oE"),Rr=n("nKUr"),Dr=Ir.a.memo((e=>{var t=e.style,n=e.className,r=e.map,s=e.option,u=e.onSceneLoaded,c=e.children,l=Object(Mr["useRef"])(null),f=Object(Mr["useState"])(),p=Object(o["a"])(f,2),h=p[0],d=p[1];return Object(Mr["useEffect"])((()=>{var e=new a["Scene"](Object(i["a"])(Object(i["a"])({id:l.current},s),{},{map:new Pr(r)}));return e.on("loaded",(()=>{d(e),u&&u(e)})),()=>{e.destroy()}}),[]),Object(Mr["useEffect"])((()=>{h&&r.style&&h.setMapStyle(r.style)}),[JSON.stringify(r.style)]),Object(Mr["useEffect"])((()=>{h&&r.zoom&&h.setZoom(r.zoom)}),[r.zoom]),Object(Mr["useEffect"])((()=>{h&&r.center&&h.setCenter(r.center)}),[JSON.stringify(r.center)]),Object(Mr["useEffect"])((()=>{h&&r.pitch&&h.setPitch(r.pitch)}),[r.pitch]),Object(Mr["useEffect"])((()=>{h&&r.rotation&&h.setRotation(r.rotation)}),[r.rotation]),Object(Rr["jsx"])(Lr["a"].Provider,{value:h,children:Object(Rr["jsx"])("div",{ref:l,className:n,style:t,children:h&&c})})}));t["a"]=Dr},kGMc:function(e,t,n){var r=n("tny8"),i=n("MVys"),o=n("jtLI"),a=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(o(s,e))return s[e];t||(t={});var n=[][e],c=!!o(t,"ACCESSORS")&&t.ACCESSORS,l=o(t,0)?t[0]:u,f=o(t,1)?t[1]:void 0;return s[e]=!!n&&!i((function(){if(c&&!r)return!0;var e={length:-1};c?a(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,l,f)}))}},"kQ+U":function(e,t,n){"use strict";n.d(t,"a",(function(){return de}));var r,i,o,a,s,u,c,l,f,p,h,d,m,v,y=n("J4zp"),g=n.n(y),b=n("lwsE"),x=n.n(b),_=n("W8MJ"),w=n.n(_),S=n("lSNA"),O=n.n(S),E=n("k5/I"),k=n("h1nZ"),C=n("yXPU"),j=n.n(C),T=n("o0o1"),A=n.n(T),P=n("4cb6"),M=n("SUU4"),I=n.n(M),L=(n("mNvP"),function(){function e(t,n){x()(this,e),O()(this,"attribute",void 0),O()(this,"buffer",void 0);var r=n.buffer,i=n.offset,o=n.stride,a=n.normalized,s=n.size,u=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:i||0,stride:o||0,normalized:a||!1,divisor:u||0},s&&(this.attribute.size=s)}return w()(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}()),R=(r={},O()(r,k["gl"].POINTS,"points"),O()(r,k["gl"].LINES,"lines"),O()(r,k["gl"].LINE_LOOP,"line loop"),O()(r,k["gl"].LINE_STRIP,"line strip"),O()(r,k["gl"].TRIANGLES,"triangles"),O()(r,k["gl"].TRIANGLE_FAN,"triangle fan"),O()(r,k["gl"].TRIANGLE_STRIP,"triangle strip"),r),D=(i={},O()(i,k["gl"].STATIC_DRAW,"static"),O()(i,k["gl"].DYNAMIC_DRAW,"dynamic"),O()(i,k["gl"].STREAM_DRAW,"stream"),i),N=(o={},O()(o,k["gl"].BYTE,"int8"),O()(o,k["gl"].UNSIGNED_INT,"int16"),O()(o,k["gl"].INT,"int32"),O()(o,k["gl"].UNSIGNED_BYTE,"uint8"),O()(o,k["gl"].UNSIGNED_SHORT,"uint16"),O()(o,k["gl"].UNSIGNED_INT,"uint32"),O()(o,k["gl"].FLOAT,"float"),o),z=(a={},O()(a,k["gl"].ALPHA,"alpha"),O()(a,k["gl"].LUMINANCE,"luminance"),O()(a,k["gl"].LUMINANCE_ALPHA,"luminance alpha"),O()(a,k["gl"].RGB,"rgb"),O()(a,k["gl"].RGBA,"rgba"),O()(a,k["gl"].RGBA4,"rgba4"),O()(a,k["gl"].RGB5_A1,"rgb5 a1"),O()(a,k["gl"].RGB565,"rgb565"),O()(a,k["gl"].DEPTH_COMPONENT,"depth"),O()(a,k["gl"].DEPTH_STENCIL,"depth stencil"),a),F=(s={},O()(s,k["gl"].DONT_CARE,"dont care"),O()(s,k["gl"].NICEST,"nice"),O()(s,k["gl"].FASTEST,"fast"),s),B=(u={},O()(u,k["gl"].NEAREST,"nearest"),O()(u,k["gl"].LINEAR,"linear"),O()(u,k["gl"].LINEAR_MIPMAP_LINEAR,"mipmap"),O()(u,k["gl"].NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),O()(u,k["gl"].LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),O()(u,k["gl"].NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),u),U=(c={},O()(c,k["gl"].REPEAT,"repeat"),O()(c,k["gl"].CLAMP_TO_EDGE,"clamp"),O()(c,k["gl"].MIRRORED_REPEAT,"mirror"),c),V=(l={},O()(l,k["gl"].NONE,"none"),O()(l,k["gl"].BROWSER_DEFAULT_WEBGL,"browser"),l),H=(f={},O()(f,k["gl"].NEVER,"never"),O()(f,k["gl"].ALWAYS,"always"),O()(f,k["gl"].LESS,"less"),O()(f,k["gl"].LEQUAL,"lequal"),O()(f,k["gl"].GREATER,"greater"),O()(f,k["gl"].GEQUAL,"gequal"),O()(f,k["gl"].EQUAL,"equal"),O()(f,k["gl"].NOTEQUAL,"notequal"),f),q=(p={},O()(p,k["gl"].FUNC_ADD,"add"),O()(p,k["gl"].MIN_EXT,"min"),O()(p,k["gl"].MAX_EXT,"max"),O()(p,k["gl"].FUNC_SUBTRACT,"subtract"),O()(p,k["gl"].FUNC_REVERSE_SUBTRACT,"reverse subtract"),p),G=(h={},O()(h,k["gl"].ZERO,"zero"),O()(h,k["gl"].ONE,"one"),O()(h,k["gl"].SRC_COLOR,"src color"),O()(h,k["gl"].ONE_MINUS_SRC_COLOR,"one minus src color"),O()(h,k["gl"].SRC_ALPHA,"src alpha"),O()(h,k["gl"].ONE_MINUS_SRC_ALPHA,"one minus src alpha"),O()(h,k["gl"].DST_COLOR,"dst color"),O()(h,k["gl"].ONE_MINUS_DST_COLOR,"one minus dst color"),O()(h,k["gl"].DST_ALPHA,"dst alpha"),O()(h,k["gl"].ONE_MINUS_DST_ALPHA,"one minus dst alpha"),O()(h,k["gl"].CONSTANT_COLOR,"constant color"),O()(h,k["gl"].ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),O()(h,k["gl"].CONSTANT_ALPHA,"constant alpha"),O()(h,k["gl"].ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),O()(h,k["gl"].SRC_ALPHA_SATURATE,"src alpha saturate"),h),W=(d={},O()(d,k["gl"].NEVER,"never"),O()(d,k["gl"].ALWAYS,"always"),O()(d,k["gl"].LESS,"less"),O()(d,k["gl"].LEQUAL,"lequal"),O()(d,k["gl"].GREATER,"greater"),O()(d,k["gl"].GEQUAL,"gequal"),O()(d,k["gl"].EQUAL,"equal"),O()(d,k["gl"].NOTEQUAL,"notequal"),d),Z=(m={},O()(m,k["gl"].ZERO,"zero"),O()(m,k["gl"].KEEP,"keep"),O()(m,k["gl"].REPLACE,"replace"),O()(m,k["gl"].INVERT,"invert"),O()(m,k["gl"].INCR,"increment"),O()(m,k["gl"].DECR,"decrement"),O()(m,k["gl"].INCR_WRAP,"increment wrap"),O()(m,k["gl"].DECR_WRAP,"decrement wrap"),m),Y=(v={},O()(v,k["gl"].FRONT,"front"),O()(v,k["gl"].BACK,"back"),v),X=function(){function e(t,n){x()(this,e),O()(this,"buffer",void 0);var r=n.data,i=n.usage,o=n.type;this.buffer=t.buffer({data:r,usage:D[i||k["gl"].STATIC_DRAW],type:N[o||k["gl"].UNSIGNED_BYTE]})}return w()(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.buffer.subdata(t,n)}}]),e}(),K=function(){function e(t,n){x()(this,e),O()(this,"elements",void 0);var r=n.data,i=n.usage,o=n.type,a=n.count;this.elements=t.elements({data:r,usage:D[i||k["gl"].STATIC_DRAW],type:N[o||k["gl"].UNSIGNED_BYTE],count:a})}return w()(e,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(e){var t=e.data;this.elements.subdata(t)}},{key:"destroy",value:function(){}}]),e}(),J=function(){function e(t,n){x()(this,e),O()(this,"framebuffer",void 0);var r=n.width,i=n.height,o=n.color,a=n.colors,s=(n.depth,n.stencil,{width:r,height:i});Array.isArray(a)&&(s.colors=a.map((function(e){return e.get()}))),o&&"boolean"!==typeof o&&(s.color=o.get()),this.framebuffer=t.framebuffer(s)}return w()(e,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.framebuffer.resize(t,n)}}]),e}(),Q=n("cDf5"),$=n.n(Q),ee=n("c6wG"),te=n.n(ee),ne=n("YO3V"),re=n.n(ne);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae,se,ue=function(){function e(t,n){x()(this,e),O()(this,"reGl",void 0),O()(this,"destroyed",!1),O()(this,"drawCommand",void 0),O()(this,"drawParams",void 0),O()(this,"options",void 0),O()(this,"uniforms",{}),this.reGl=t;var r=n.vs,i=n.fs,o=n.attributes,a=n.uniforms,s=n.primitive,u=n.count,c=n.elements,l=n.depth,f=n.blend,p=n.stencil,h=n.cull,d=n.instances,m={};this.options=n,a&&(this.uniforms=this.extractUniforms(a),Object.keys(a).forEach((function(e){m[e]=t.prop(e)})));var v={};Object.keys(o).forEach((function(e){v[e]=o[e].get()}));var y={attributes:v,frag:i,uniforms:m,vert:r,primitive:R[void 0===s?k["gl"].TRIANGLES:s]};d&&(y.instances=d),u&&(y.count=u),c&&(y.elements=c.get()),this.initDepthDrawParams({depth:l},y),this.initBlendDrawParams({blend:f},y),this.initStencilDrawParams({stencil:p},y),this.initCullDrawParams({cull:h},y),this.drawCommand=t(y),this.drawParams=y}return w()(e,[{key:"addUniforms",value:function(e){this.uniforms=oe(oe({},this.uniforms),this.extractUniforms(e))}},{key:"draw",value:function(e){if(!this.drawParams.attributes||0!==Object.keys(this.drawParams.attributes).length){var t=oe(oe({},this.uniforms),this.extractUniforms(e.uniforms||{})),n={};Object.keys(t).forEach((function(e){var r=$()(t[e]);"boolean"===r||"number"===r||Array.isArray(t[e])||t[e].BYTES_PER_ELEMENT?n[e]=t[e]:n[e]=t[e].get()})),this.drawCommand(n)}}},{key:"destroy",value:function(){this.drawParams.elements.destroy(),this.options.attributes&&Object.values(this.options.attributes).forEach((function(e){e.destroy()})),this.destroyed=!0}},{key:"initDepthDrawParams",value:function(e,t){var n=e.depth;n&&(t.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:H[n.func||k["gl"].LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(e,t){var n=e.blend;if(n){var r=n.enable,i=n.func,o=n.equation,a=n.color,s=void 0===a?[0,0,0,0]:a;t.blend={enable:!!r,func:{srcRGB:G[i&&i.srcRGB||k["gl"].SRC_ALPHA],srcAlpha:G[i&&i.srcAlpha||k["gl"].SRC_ALPHA],dstRGB:G[i&&i.dstRGB||k["gl"].ONE_MINUS_SRC_ALPHA],dstAlpha:G[i&&i.dstAlpha||k["gl"].ONE_MINUS_SRC_ALPHA]},equation:{rgb:q[o&&o.rgb||k["gl"].FUNC_ADD],alpha:q[o&&o.alpha||k["gl"].FUNC_ADD]},color:s}}}},{key:"initStencilDrawParams",value:function(e,t){var n=e.stencil;if(n){var r=n.enable,i=n.mask,o=void 0===i?-1:i,a=n.func,s=void 0===a?{cmp:k["gl"].ALWAYS,ref:0,mask:-1}:a,u=n.opFront,c=void 0===u?{fail:k["gl"].KEEP,zfail:k["gl"].KEEP,zpass:k["gl"].KEEP}:u,l=n.opBack,f=void 0===l?{fail:k["gl"].KEEP,zfail:k["gl"].KEEP,zpass:k["gl"].KEEP}:l;t.stencil={enable:!!r,mask:o,func:oe(oe({},s),{},{cmp:W[s.cmp]}),opFront:{fail:Z[c.fail],zfail:Z[c.zfail],zpass:Z[c.zpass]},opBack:{fail:Z[f.fail],zfail:Z[f.zfail],zpass:Z[f.zpass]}}}}},{key:"initCullDrawParams",value:function(e,t){var n=e.cull;if(n){var r=n.enable,i=n.face,o=void 0===i?k["gl"].BACK:i;t.cull={enable:!!r,face:Y[o]}}}},{key:"extractUniforms",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){t.extractUniformsRecursively(r,e[r],n,"")})),n}},{key:"extractUniformsRecursively",value:function(e,t,n,r){var i=this;null===t||"number"===typeof t||"boolean"===typeof t||Array.isArray(t)&&"number"===typeof t[0]||te()(t)||""===t||"resize"in t?n["".concat(r&&r+".").concat(e)]=t:(re()(t)&&Object.keys(t).forEach((function(o){i.extractUniformsRecursively(o,t[o],n,"".concat(r&&r+".").concat(e))})),Array.isArray(t)&&t.forEach((function(t,o){Object.keys(t).forEach((function(a){i.extractUniformsRecursively(a,t[a],n,"".concat(r&&r+".").concat(e,"[").concat(o,"]"))}))})))}}]),e}(),ce=function(){function e(t,n){x()(this,e),O()(this,"texture",void 0),O()(this,"width",void 0),O()(this,"height",void 0);var r=n.data,i=n.type,o=void 0===i?k["gl"].UNSIGNED_BYTE:i,a=n.width,s=n.height,u=n.flipY,c=void 0!==u&&u,l=n.format,f=void 0===l?k["gl"].RGBA:l,p=n.mipmap,h=void 0!==p&&p,d=n.wrapS,m=void 0===d?k["gl"].CLAMP_TO_EDGE:d,v=n.wrapT,y=void 0===v?k["gl"].CLAMP_TO_EDGE:v,g=n.aniso,b=void 0===g?0:g,_=n.alignment,w=void 0===_?1:_,S=n.premultiplyAlpha,E=void 0!==S&&S,C=n.mag,j=void 0===C?k["gl"].NEAREST:C,T=n.min,A=void 0===T?k["gl"].NEAREST:T,P=n.colorSpace,M=void 0===P?k["gl"].BROWSER_DEFAULT_WEBGL:P;this.width=a,this.height=s;var I={width:a,height:s,type:N[o],format:z[f],wrapS:U[m],wrapT:U[y],mag:B[j],min:B[A],alignment:w,flipY:c,colorSpace:V[M],premultiplyAlpha:E,aniso:b};r&&(I.data=r),"number"===typeof h?I.mipmap=F[h]:"boolean"===typeof h&&(I.mipmap=h),this.texture=t.texture(I)}return w()(e,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.texture(e)}},{key:"bind",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.texture.resize(t,n),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),e}(),le=(ae=Object(P["injectable"])(),ae(se=function(){function e(){var t=this;x()(this,e),O()(this,"extensionObject",void 0),O()(this,"gl",void 0),O()(this,"$container",void 0),O()(this,"canvas",void 0),O()(this,"width",void 0),O()(this,"height",void 0),O()(this,"isDirty",void 0),O()(this,"createModel",(function(e){return new ue(t.gl,e)})),O()(this,"createAttribute",(function(e){return new L(t.gl,e)})),O()(this,"createBuffer",(function(e){return new X(t.gl,e)})),O()(this,"createElements",(function(e){return new K(t.gl,e)})),O()(this,"createTexture2D",(function(e){return new ce(t.gl,e)})),O()(this,"createFramebuffer",(function(e){return new J(t.gl,e)})),O()(this,"useFramebuffer",(function(e,n){t.gl({framebuffer:e?e.get():null})(n)})),O()(this,"clear",(function(e){var n=e.color,r=e.depth,i=e.stencil,o=e.framebuffer,a=void 0===o?null:o,s={color:n,depth:r,stencil:i};s.framebuffer=null===a?a:a.get(),t.gl.clear(s)})),O()(this,"viewport",(function(e){var n=e.x,r=e.y,i=e.width,o=e.height;t.gl._gl.viewport(n,r,i,o),t.width=i,t.height=o,t.gl._refresh()})),O()(this,"readPixels",(function(e){var n=e.framebuffer,r=e.x,i=e.y,o=e.width,a=e.height,s={x:r,y:i,width:o,height:a};return n&&(s.framebuffer=n.get()),t.gl.read(s)})),O()(this,"getViewportSize",(function(){return{width:t.gl._gl.drawingBufferWidth,height:t.gl._gl.drawingBufferHeight}})),O()(this,"getContainer",(function(){var e;return null===(e=t.canvas)||void 0===e?void 0:e.parentElement})),O()(this,"getCanvas",(function(){return t.canvas})),O()(this,"getGLContext",(function(){return t.gl._gl})),O()(this,"destroy",(function(){t.gl.destroy()}))}return w()(e,[{key:"init",value:function(){var e=j()(A.a.mark((function e(t,n){var r=this;return A.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.canvas=t,e.next=3,new Promise((function(e,t){I()({canvas:r.canvas,attributes:{alpha:!0,antialias:n.antialias,premultipliedAlpha:!0,preserveDrawingBuffer:n.preserveDrawingBuffer},extensions:["OES_element_index_uint","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["oes_texture_float_linear","OES_texture_float","EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(n,r){!n&&r||t(n),e(r)}})}));case 3:this.gl=e.sent,this.extensionObject={OES_texture_float:this.testExtension("OES_texture_float")};case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"testExtension",value:function(e){return!!this.getGLContext().getExtension(e)}},{key:"setBaseState",value:function(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!1,equation:"add"},framebuffer:null}),this.gl._refresh()}},{key:"setCustomLayerDefaults",value:function(){var e=this.getGLContext();e.disable(e.CULL_FACE)}},{key:"setDirty",value:function(e){this.isDirty=e}},{key:"getDirty",value:function(){return this.isDirty}}]),e}())||se),fe=n("Hel2");function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de=function(){function e(t){x()(this,e),O()(this,"sceneService",void 0),O()(this,"mapService",void 0),O()(this,"controlService",void 0),O()(this,"layerService",void 0),O()(this,"iconService",void 0),O()(this,"markerService",void 0),O()(this,"popupService",void 0),O()(this,"fontService",void 0),O()(this,"interactionService",void 0),O()(this,"container",void 0);var n=t.id,r=t.map,i=Object(k["createSceneContainer"])();this.container=i,r.setContainer(i,n),i.bind(k["TYPES"].IRendererService).to(le).inSingletonScope(),this.sceneService=i.get(k["TYPES"].ISceneService),this.mapService=i.get(k["TYPES"].IMapService),this.iconService=i.get(k["TYPES"].IIconService),this.fontService=i.get(k["TYPES"].IFontService),this.controlService=i.get(k["TYPES"].IControlService),this.layerService=i.get(k["TYPES"].ILayerService),this.markerService=i.get(k["TYPES"].IMarkerService),this.interactionService=i.get(k["TYPES"].IInteractionService),this.popupService=i.get(k["TYPES"].IPopupService),this.initComponent(n),this.sceneService.init(t),this.initControl()}return w()(e,[{key:"getServiceContainer",value:function(){return this.container}},{key:"getSize",value:function(){return this.mapService.getSize()}},{key:"getMinZoom",value:function(){return this.mapService.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.mapService.getMaxZoom()}},{key:"getType",value:function(){return this.mapService.getType()}},{key:"getMapContainer",value:function(){return this.mapService.getMapContainer()}},{key:"getMapCanvasContainer",value:function(){return this.mapService.getMapCanvasContainer()}},{key:"getMapService",value:function(){return this.mapService}},{key:"exportPng",value:function(e){return this.sceneService.exportPng(e)}},{key:"exportMap",value:function(e){return this.sceneService.exportPng(e)}},{key:"registerRenderService",value:function(e){var t=this;if(this.sceneService.loaded){var n=new e(this);n.init()}else this.on("loaded",(function(){var n=new e(t);n.init()}))}},{key:"map",get:function(){return this.mapService.map}},{key:"addLayer",value:function(e){var t=Object(k["createLayerContainer"])(this.container);e.setContainer(t),this.sceneService.addLayer(e)}},{key:"getLayers",value:function(){return this.layerService.getLayers()}},{key:"getLayer",value:function(e){return this.layerService.getLayer(e)}},{key:"getLayerByName",value:function(e){return this.layerService.getLayerByName(e)}},{key:"removeLayer",value:function(e){this.layerService.remove(e)}},{key:"removeAllLayer",value:function(){this.layerService.removeAllLayers()}},{key:"render",value:function(){this.sceneService.render()}},{key:"addIconFont",value:function(e,t){this.fontService.addIconFont(e,t)}},{key:"addIconFonts",value:function(e){var t=this;e.forEach((function(e){var n=g()(e,2),r=n[0],i=n[1];t.fontService.addIconFont(r,i)}))}},{key:"addFontFace",value:function(e,t){this.sceneService.addFontFace(e,t)}},{key:"addImage",value:function(e,t){this.iconService.addImage(e,t)}},{key:"hasImage",value:function(e){return this.iconService.hasImage(e)}},{key:"removeImage",value:function(e){this.iconService.removeImage(e)}},{key:"addIconFontGlyphs",value:function(e,t){this.fontService.addIconGlyphs(t)}},{key:"addControl",value:function(e){this.controlService.addControl(e,this.container)}},{key:"removeControl",value:function(e){this.controlService.removeControl(e)}},{key:"getControlByName",value:function(e){return this.controlService.getControlByName(e)}},{key:"addMarker",value:function(e){this.markerService.addMarker(e)}},{key:"addMarkerLayer",value:function(e){this.markerService.addMarkerLayer(e)}},{key:"removeMarkerLayer",value:function(e){this.markerService.removeMarkerLayer(e)}},{key:"removeAllMakers",value:function(){this.markerService.removeAllMarkers()}},{key:"addPopup",value:function(e){this.popupService.addPopup(e)}},{key:"on",value:function(e,t){-1===k["SceneEventList"].indexOf(e)?this.mapService.on(e,t):this.sceneService.on(e,t)}},{key:"once",value:function(e,t){-1===k["SceneEventList"].indexOf(e)?this.mapService.once(e,t):this.sceneService.once(e,t)}},{key:"off",value:function(e,t){-1===k["SceneEventList"].indexOf(e)?this.mapService.off(e,t):this.sceneService.off(e,t)}},{key:"getZoom",value:function(){return this.mapService.getZoom()}},{key:"getCenter",value:function(e){return this.mapService.getCenter(e)}},{key:"setCenter",value:function(e,t){return this.mapService.setCenter(e,t)}},{key:"getPitch",value:function(){return this.mapService.getPitch()}},{key:"setPitch",value:function(e){return this.mapService.setPitch(e)}},{key:"getRotation",value:function(){return this.mapService.getRotation()}},{key:"getBounds",value:function(){return this.mapService.getBounds()}},{key:"setRotation",value:function(e){this.mapService.setRotation(e)}},{key:"zoomIn",value:function(){this.mapService.zoomIn()}},{key:"zoomOut",value:function(){this.mapService.zoomOut()}},{key:"panTo",value:function(e){this.mapService.panTo(e)}},{key:"panBy",value:function(e){this.mapService.panBy(e)}},{key:"getContainer",value:function(){return this.mapService.getContainer()}},{key:"setZoom",value:function(e){this.mapService.setZoom(e)}},{key:"fitBounds",value:function(e,t){var n=this.sceneService.getSceneConfig(),r=n.fitBoundsOptions,i=n.animate;this.mapService.fitBounds(e,t||he(he({},r),{},{animate:i}))}},{key:"setZoomAndCenter",value:function(e,t){this.mapService.setZoomAndCenter(e,t)}},{key:"setMapStyle",value:function(e){this.mapService.setMapStyle(e)}},{key:"setMapStatus",value:function(e){this.mapService.setMapStatus(e)}},{key:"pixelToLngLat",value:function(e){return this.mapService.pixelToLngLat(e)}},{key:"lngLatToPixel",value:function(e){return this.mapService.lngLatToPixel(e)}},{key:"containerToLngLat",value:function(e){return this.mapService.containerToLngLat(e)}},{key:"lngLatToContainer",value:function(e){return this.mapService.lngLatToContainer(e)}},{key:"destroy",value:function(){this.sceneService.destroy()}},{key:"registerPostProcessingPass",value:function(e,t){this.container.bind(k["TYPES"].IPostProcessingPass).to(e).whenTargetNamed(t)}},{key:"initComponent",value:function(e){this.controlService.init({container:fe["a"].getContainer(e)},this.container),this.markerService.init(this.container),this.popupService.init(this.container)}},{key:"initControl",value:function(){var e=this.sceneService.getSceneConfig(),t=e.logoVisible,n=e.logoPosition;t&&this.addControl(new E["c"]({position:n}))}}]),e}()},kekF:function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},kiNa:function(e,t,n){var r=n("YfKC").f,i=n("jtLI"),o=n("2kyd"),a=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},kkxG:function(e,t,n){var r=n("MVys"),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==c||n!=u&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},kyO0:function(e,t){t.f=Object.getOwnPropertySymbols},l94r:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("PJYZ"),u=n.n(s),c=n("7W2i"),l=n.n(c),f=n("a1gu"),p=n.n(f),h=n("Nsbk"),d=n.n(h),m=n("lSNA"),v=n.n(m),y=n("JBE3"),g=n.n(y),b=n("4qC0"),x=n.n(b),_=n("lSCD"),w=n.n(_),S=n("BkRI"),O=n.n(S),E=n("xp6e"),k=n("Hel2"),C=n("uhBA"),j=n("rlAn"),T=n("qxNg");function A(e){if(0===e.length)throw new Error("max requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return t}function P(e){if(0===e.length)throw new Error("min requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return t}function M(e){if(0===e.length)return 0;for(var t,n=e[0],r=0,i=1;i<e.length;i++)t=n+1*e[i],Math.abs(n)>=Math.abs(e[i])?r+=n-t+e[i]:r+=e[i]-t+n,n=t;return n+1*r}function I(e){if(0===e.length)throw new Error("mean requires at least one data point");return M(e)/e.length}var L={min:P,max:A,mean:I,sum:M};function R(e,t){return e.map((function(e){return 1*e[t]}))}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){var t=F();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}function F(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function B(e,t){if(Array.isArray(t))return t}var U=function(e){l()(n,e);var t=z(n);function n(e,r){var o;return i()(this,n),o=t.call(this),v()(u()(o),"data",void 0),v()(u()(o),"extent",void 0),v()(u()(o),"hooks",{init:new E["c"]}),v()(u()(o),"parser",{type:"geojson"}),v()(u()(o),"transforms",[]),v()(u()(o),"cluster",!1),v()(u()(o),"clusterOptions",{enable:!1,radius:40,maxZoom:20,zoom:-99,method:"count"}),v()(u()(o),"mapService",void 0),v()(u()(o),"invalidExtent",!1),v()(u()(o),"originData",void 0),v()(u()(o),"rawData",void 0),v()(u()(o),"cfg",{}),v()(u()(o),"clusterIndex",void 0),o.originData=e,o.initCfg(r),o.hooks.init.tap("parser",(function(){o.excuteParser()})),o.hooks.init.tap("cluster",(function(){o.initCluster()})),o.hooks.init.tap("transform",(function(){o.executeTrans()})),o.init(),o}return a()(n,[{key:"setData",value:function(e,t){this.rawData=e,this.originData=e,this.initCfg(t),this.init(),this.emit("update")}},{key:"getClusters",value:function(e){return this.clusterIndex.getClusters(this.caculClusterExtent(2),e)}},{key:"getClustersLeaves",value:function(e){return this.clusterIndex.getLeaves(e,1/0)}},{key:"updateClusterData",value:function(e){var t=this,n=this.clusterOptions,r=n.method,i=void 0===r?"sum":r,o=n.field,a=this.clusterIndex.getClusters(this.caculClusterExtent(2),Math.floor(e));this.clusterOptions.zoom=e,a.forEach((function(e){e.id||(e.properties.point_count=1)})),(o||w()(i))&&(a=a.map((function(e){var n=e.id;if(n){var r,a=t.clusterIndex.getLeaves(n,1/0),s=a.map((function(e){return e.properties}));if(x()(i)&&o){var u=R(s,o);r=L[i](u)}w()(i)&&(r=i(s)),e.properties.stat=r}else e.properties.point_count=1;return e}))),this.data=Object(j["getParser"])("geojson")({type:"FeatureCollection",features:a}),this.executeTrans()}},{key:"getFeatureById",value:function(e){var t=this.parser.type,n=void 0===t?"geojson":t;if("geojson"!==n||this.cluster)return e<this.data.dataArray.length?this.data.dataArray[e]:"null";var r=e<this.originData.features.length?this.originData.features[e]:"null",i=O()(r);if(0!==this.transforms.length){var o=this.data.dataArray.find((function(t){return t._id===e}));i.properties=o}return i}},{key:"getFeatureId",value:function(e,t){var n=this.data.dataArray.find((function(t){return t[e]===name}));return null===n||void 0===n?void 0:n._id}},{key:"destroy",value:function(){this.removeAllListeners(),this.originData=null,this.clusterIndex=null,this.data=null}},{key:"caculClusterExtent",value:function(e){var t=[[-1/0,-1/0],[1/0,1/0]];return this.invalidExtent||(t=Object(k["r"])(Object(k["h"])(this.extent),e)),t[0].concat(t[1])}},{key:"initCfg",value:function(e){this.cfg=g()(this.cfg,e,B);var t=this.cfg;t&&(t.parser&&(this.parser=t.parser),t.transforms&&(this.transforms=t.transforms),this.cluster=t.cluster||!1,t.clusterOptions&&(this.cluster=!0,this.clusterOptions=N(N({},this.clusterOptions),t.clusterOptions)))}},{key:"excuteParser",value:function(){var e=this.parser,t=e.type||"geojson",n=Object(j["getParser"])(t);this.data=n(this.originData,e),this.extent=Object(k["m"])(this.data.dataArray),this.invalidExtent=this.extent[0]===this.extent[2]||this.extent[1]===this.extent[3]}},{key:"executeTrans",value:function(){var e=this,t=this.transforms;t.forEach((function(t){var n=t.type,r=Object(j["getTransform"])(n)(e.data,t);Object.assign(e.data,r)}))}},{key:"initCluster",value:function(){if(this.cluster){var e=this.clusterOptions||{};this.clusterIndex=Object(T["a"])(this.data,e)}}},{key:"init",value:function(){this.hooks.init.call(this)}}]),n}(C["EventEmitter"])},lJbI:function(e,t,n){"use strict";function r(e,t){var n=t.extent,r=t.width,i=t.height,o=t.min,a=t.max,s={_id:1,dataArray:[{_id:1,data:Array.from(e),width:r,height:i,min:o,max:a,coordinates:[[n[0],n[1]],[n[2],n[3]]]}]};return s}n.d(t,"a",(function(){return r}))},lSCD:function(e,t,n){var r=n("NykK"),i=n("GoyQ"),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";function c(e){if(!i(e))return!1;var t=r(e);return t==a||t==s||t==o||t==u}e.exports=c},lSNA:function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},lgSf:function(e,t,n){var r=n("MVys"),i=n("2kyd"),o=n("Zcjx"),a=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},ljhN:function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},ls1J:function(e,t,n){var r=n("Pp3M"),i=n("UHn5"),o=n("xxaU"),a=o("metadata"),s=a.store||(a.store=new i),u=function(e,t,n){var i=s.get(e);if(!i){if(!n)return;s.set(e,i=new r)}var o=i.get(t);if(!o){if(!n)return;i.set(t,o=new r)}return o},c=function(e,t,n){var r=u(t,n,!1);return void 0!==r&&r.has(e)},l=function(e,t,n){var r=u(t,n,!1);return void 0===r?void 0:r.get(e)},f=function(e,t,n,r){u(n,r,!0).set(e,t)},p=function(e,t){var n=u(e,t,!1),r=[];return n&&n.forEach((function(e,t){r.push(t)})),r},h=function(e){return void 0===e||"symbol"==typeof e?e:String(e)};e.exports={store:s,getMap:u,has:c,get:l,set:f,keys:p,toKey:h}},lwsE:function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},lz10:function(e,t,n){var r=n("tny8"),i=n("YfKC"),o=n("HhvW");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"m+aA":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("i8i4"),i=n.n(r);function o(e){return e instanceof HTMLElement?e:i.a.findDOMNode(e)}},m0LI:function(e,t){function n(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},m0kY:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},m3pO:function(e,t,n){var r,i,o,a,s,u,c,l,f=n("ukPv"),p=n("g8rt").f,h=n("UwrT"),d=n("C3pJ").set,m=n("xRZI"),v=f.MutationObserver||f.WebKitMutationObserver,y=f.process,g=f.Promise,b="process"==h(y),x=p(f,"queueMicrotask"),_=x&&x.value;_||(r=function(){var e,t;b&&(e=y.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?a():o=void 0,n}}o=void 0,e&&e.enter()},b?a=function(){y.nextTick(r)}:v&&!m?(s=!0,u=document.createTextNode(""),new v(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):g&&g.resolve?(c=g.resolve(void 0),l=c.then,a=function(){l.call(c,r)}):a=function(){d.call(f,r)}),e.exports=_||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},mGKP:function(e,t,n){var r=n("EdiO");function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}e.exports=i},mLN8:function(e,t,n){"use strict";var r=n("MMxC"),i=n("hKmx"),o=n("cTDu"),a=n("oa35"),s=n("m0kY"),u=n("nMuc");r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=a(t.length),r=u(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},mNvP:function(e,t,n){(function(e,t){var n;(function(n){(function(e){var r="object"===typeof t?t:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),i=o(n);function o(e,t){return function(n,r){"function"!==typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}"undefined"===typeof r.Reflect?r.Reflect=n:i=o(r.Reflect,i),e(i)})((function(t){var n=Object.prototype.hasOwnProperty,r="function"===typeof Symbol,i=r&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",a="function"===typeof Object.create,s={__proto__:[]}instanceof Array,u=!a&&!s,c={create:a?function(){return oe(Object.create(null))}:s?function(){return oe({__proto__:null})}:function(){return oe({})},has:u?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:u?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),f="object"===typeof e&&Object({NODE_ENV:"production"})&&"true"===Object({NODE_ENV:"production"})["REFLECT_METADATA_USE_MAP_POLYFILL"],p=f||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?ne():Map,h=f||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?re():Set,d=f||"function"!==typeof WeakMap?ie():WeakMap,m=new d;function v(e,t,n,r){if(N(n)){if(!W(e))throw new TypeError;if(!Y(t))throw new TypeError;return k(e,t)}if(!W(e))throw new TypeError;if(!B(t))throw new TypeError;if(!B(r)&&!N(r)&&!z(r))throw new TypeError;return z(r)&&(r=void 0),n=G(n),C(e,t,n,r)}function y(e,t){function n(n,r){if(!B(n))throw new TypeError;if(!N(r)&&!X(r))throw new TypeError;I(e,t,n,r)}return n}function g(e,t,n,r){if(!B(n))throw new TypeError;return N(r)||(r=G(r)),I(e,t,n,r)}function b(e,t,n){if(!B(t))throw new TypeError;return N(n)||(n=G(n)),T(e,t,n)}function x(e,t,n){if(!B(t))throw new TypeError;return N(n)||(n=G(n)),A(e,t,n)}function _(e,t,n){if(!B(t))throw new TypeError;return N(n)||(n=G(n)),P(e,t,n)}function w(e,t,n){if(!B(t))throw new TypeError;return N(n)||(n=G(n)),M(e,t,n)}function S(e,t){if(!B(e))throw new TypeError;return N(t)||(t=G(t)),L(e,t)}function O(e,t){if(!B(e))throw new TypeError;return N(t)||(t=G(t)),R(e,t)}function E(e,t,n){if(!B(t))throw new TypeError;N(n)||(n=G(n));var r=j(t,n,!1);if(N(r))return!1;if(!r["delete"](e))return!1;if(r.size>0)return!0;var i=m.get(t);return i["delete"](n),i.size>0||m["delete"](t),!0}function k(e,t){for(var n=e.length-1;n>=0;--n){var r=e[n],i=r(t);if(!N(i)&&!z(i)){if(!Y(i))throw new TypeError;t=i}}return t}function C(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=e[i],a=o(t,n,r);if(!N(a)&&!z(a)){if(!B(a))throw new TypeError;r=a}}return r}function j(e,t,n){var r=m.get(e);if(N(r)){if(!n)return;r=new p,m.set(e,r)}var i=r.get(t);if(N(i)){if(!n)return;i=new p,r.set(t,i)}return i}function T(e,t,n){var r=A(e,t,n);if(r)return!0;var i=te(t);return!z(i)&&T(e,i,n)}function A(e,t,n){var r=j(t,n,!1);return!N(r)&&H(r.has(e))}function P(e,t,n){var r=A(e,t,n);if(r)return M(e,t,n);var i=te(t);return z(i)?void 0:P(e,i,n)}function M(e,t,n){var r=j(t,n,!1);if(!N(r))return r.get(e)}function I(e,t,n,r){var i=j(n,r,!0);i.set(e,t)}function L(e,t){var n=R(e,t),r=te(e);if(null===r)return n;var i=L(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new h,a=[],s=0,u=n;s<u.length;s++){var c=u[s],l=o.has(c);l||(o.add(c),a.push(c))}for(var f=0,p=i;f<p.length;f++){c=p[f],l=o.has(c);l||(o.add(c),a.push(c))}return a}function R(e,t){var n=[],r=j(e,t,!1);if(N(r))return n;var i=r.keys(),o=J(i),a=0;while(1){var s=$(o);if(!s)return n.length=a,n;var u=Q(s);try{n[a]=u}catch(c){try{ee(o)}finally{throw c}}a++}}function D(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function N(e){return void 0===e}function z(e){return null===e}function F(e){return"symbol"===typeof e}function B(e){return"object"===typeof e?null!==e:"function"===typeof e}function U(e,t){switch(D(e)){case 0:return e;case 1:return e;case 2:return e;case 3:return e;case 4:return e;case 5:return e}var n=3===t?"string":5===t?"number":"default",r=K(e,i);if(void 0!==r){var o=r.call(e,n);if(B(o))throw new TypeError;return o}return V(e,"default"===n?"number":n)}function V(e,t){if("string"===t){var n=e.toString;if(Z(n)){var r=n.call(e);if(!B(r))return r}var i=e.valueOf;if(Z(i)){r=i.call(e);if(!B(r))return r}}else{i=e.valueOf;if(Z(i)){r=i.call(e);if(!B(r))return r}var o=e.toString;if(Z(o)){r=o.call(e);if(!B(r))return r}}throw new TypeError}function H(e){return!!e}function q(e){return""+e}function G(e){var t=U(e,3);return F(t)?t:q(t)}function W(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function Z(e){return"function"===typeof e}function Y(e){return"function"===typeof e}function X(e){switch(D(e)){case 3:return!0;case 4:return!0;default:return!1}}function K(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!Z(n))throw new TypeError;return n}}function J(e){var t=K(e,o);if(!Z(t))throw new TypeError;var n=t.call(e);if(!B(n))throw new TypeError;return n}function Q(e){return e.value}function $(e){var t=e.next();return!t.done&&t}function ee(e){var t=e["return"];t&&t.call(e)}function te(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!==typeof i||i===e?t:i}function ne(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype["throw"]=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype["return"]=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype["delete"]=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function a(e,t){return[e,t]}}function re(){return function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype["delete"]=function(e){return this._map["delete"](e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}()}function ie(){var e=16,t=c.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){var n=o(e,!0);return n[this._key]=t,this},e.prototype["delete"]=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+u()}while(c.has(t,e));return t[e]=!0,e}function o(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:c.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function u(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function oe(e){return e.__=void 0,delete e.__,e}t("decorate",v),t("metadata",y),t("defineMetadata",g),t("hasMetadata",b),t("hasOwnMetadata",x),t("getMetadata",_),t("getOwnMetadata",w),t("getMetadataKeys",S),t("getOwnMetadataKeys",O),t("deleteMetadata",E)}))})(n||(n={}))}).call(this,n("Q2Ig"),n("IyRk"))},mTKU:function(e,t,n){var r=n("FCfD"),i=n("Tfd0"),o="["+i+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),u=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},mTN9:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("H1Ra"),s=(n("Rsk4"),n("nKUr"));t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),Object(s["jsx"])(s["Fragment"],{children:Object(s["jsxs"])("div",{className:"markdown",children:[Object(s["jsxs"])("h3",{id:"\u5b89\u88c5",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u5b89\u88c5","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u5b89\u88c5"]}),Object(s["jsx"])(a["a"],{code:"npm i @antv/l7-react",lang:"bash"}),Object(s["jsxs"])("h3",{id:"\u793a\u4f8b",children:[Object(s["jsx"])(o["AnchorLink"],{to:"#\u793a\u4f8b","aria-hidden":"true",tabIndex:-1,children:Object(s["jsx"])("span",{className:"icon icon-link"})}),"\u793a\u4f8b"]}),Object(s["jsx"])(a["a"],{code:"import { LineLayer, AMapScene } from '@antv/l7-react';\nexport default React.memo(function Map() {\n  const [data, setData] = React.useState();\n  React.useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetch(\n        'https://gw.alipayobjects.com/os/basement_prod/32e1f3ab-8588-46cb-8a47-75afb692117d.json',\n      );\n      const raw = await response.json();\n      setData(raw);\n    };\n    fetchData();\n  }, []);\n  return (\n    <>\n      <AMapScene\n        map={{\n          center: [110.19382669582967, 50.258134],\n          pitch: 0,\n          style: 'dark',\n          zoom: 1,\n        }}\n        style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n        }}\n      >\n        {data && (\n          <LineLayer\n            key={'2'}\n            source={{\n              data,\n            }}\n            size={{\n              values: 1,\n            }}\n            color={{\n              values: '#fff',\n            }}\n            shape={{\n              values: 'line',\n            }}\n            style={{\n              opacity: 1,\n            }}\n          />\n        )}\n      </AMapScene>\n    </>\n  );\n});",lang:"javascript"})]})}))},mTTR:function(e,t,n){var r=n("b80T"),i=n("QcOe"),o=n("MMmD");function a(e){return o(e)?r(e,!0):i(e)}e.exports=a},mc0g:function(e,t){function n(e){return function(t,n,r){var i=-1,o=Object(t),a=r(t),s=a.length;while(s--){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}e.exports=n},mcGr:function(e,t,n){"use strict";var r=n("MMxC"),i=n("2FZw").start,o=n("y9mK");r({target:"String",proto:!0,forced:o},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},md7G:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("cDf5"),i=n.n(r),o=n("JX7q");function a(e,t){if(t&&("object"===i()(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(o["a"])(e)}},mdPL:function(e,t,n){(function(e){var r=n("WFqU"),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a&&r.process,u=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=u}).call(this,n("hOG+")(e))},mdU6:function(e,t,n){},mhV4:function(e,t,n){var r=n("ZK94");function i(e){var t,n=0;switch(e.type){case"Polygon":return o(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)n+=o(e.coordinates[t]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(t=0;t<e.geometries.length;t++)n+=i(e.geometries[t]);return n}}function o(e){var t=0;if(e&&e.length>0){t+=Math.abs(a(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(a(e[n]))}return t}function a(e){var t,n,i,o,a,u,c,l=0,f=e.length;if(f>2){for(c=0;c<f;c++)c===f-2?(o=f-2,a=f-1,u=0):c===f-1?(o=f-1,a=0,u=1):(o=c,a=c+1,u=c+2),t=e[o],n=e[a],i=e[u],l+=(s(i[0])-s(t[0]))*Math.sin(s(n[1]));l=l*r.RADIUS*r.RADIUS/2}return l}function s(e){return e*Math.PI/180}e.exports.geometry=i,e.exports.ring=a},miYZ:function(e,t,n){"use strict";n.r(t);n("cIOH"),n("bXwC")},mpbz:function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){"use strict";function e(n,r,i,o,a,s){if(!(a-o<=i)){var u=o+a>>1;t(n,r,u,o,a,s%2),e(n,r,i,o,u-1,s+1),e(n,r,i,u+1,a,s+1)}}function t(e,r,i,o,a,s){while(a>o){if(a-o>600){var u=a-o+1,c=i-o+1,l=Math.log(u),f=.5*Math.exp(2*l/3),p=.5*Math.sqrt(l*f*(u-f)/u)*(c-u/2<0?-1:1),h=Math.max(o,Math.floor(i-c*f/u+p)),d=Math.min(a,Math.floor(i+(u-c)*f/u+p));t(e,r,i,h,d,s)}var m=r[2*i+s],v=o,y=a;n(e,r,o,i),r[2*a+s]>m&&n(e,r,o,a);while(v<y){n(e,r,v,y),v++,y--;while(r[2*v+s]<m)v++;while(r[2*y+s]>m)y--}r[2*o+s]===m?n(e,r,o,y):(y++,n(e,r,y,a)),y<=i&&(o=y+1),i<=y&&(a=y-1)}}function n(e,t,n,i){r(e,n,i),r(t,2*n,2*i),r(t,2*n+1,2*i+1)}function r(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function i(e,t,n,r,i,o,a){var s,u,c=[0,e.length-1,0],l=[];while(c.length){var f=c.pop(),p=c.pop(),h=c.pop();if(p-h<=a)for(var d=h;d<=p;d++)s=t[2*d],u=t[2*d+1],s>=n&&s<=i&&u>=r&&u<=o&&l.push(e[d]);else{var m=Math.floor((h+p)/2);s=t[2*m],u=t[2*m+1],s>=n&&s<=i&&u>=r&&u<=o&&l.push(e[m]);var v=(f+1)%2;(0===f?n<=s:r<=u)&&(c.push(h),c.push(m-1),c.push(v)),(0===f?i>=s:o>=u)&&(c.push(m+1),c.push(p),c.push(v))}}return l}function o(e,t,n,r,i,o){var s=[0,e.length-1,0],u=[],c=i*i;while(s.length){var l=s.pop(),f=s.pop(),p=s.pop();if(f-p<=o)for(var h=p;h<=f;h++)a(t[2*h],t[2*h+1],n,r)<=c&&u.push(e[h]);else{var d=Math.floor((p+f)/2),m=t[2*d],v=t[2*d+1];a(m,v,n,r)<=c&&u.push(e[d]);var y=(l+1)%2;(0===l?n-i<=m:r-i<=v)&&(s.push(p),s.push(d-1),s.push(y)),(0===l?n+i>=m:r+i>=v)&&(s.push(d+1),s.push(f),s.push(y))}}return u}function a(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}var s=function(e){return e[0]},u=function(e){return e[1]},c=function(t,n,r,i,o){void 0===n&&(n=s),void 0===r&&(r=u),void 0===i&&(i=64),void 0===o&&(o=Float64Array),this.nodeSize=i,this.points=t;for(var a=t.length<65536?Uint16Array:Uint32Array,c=this.ids=new a(t.length),l=this.coords=new o(2*t.length),f=0;f<t.length;f++)c[f]=f,l[2*f]=n(t[f]),l[2*f+1]=r(t[f]);e(c,l,i,0,c.length-1,0)};c.prototype.range=function(e,t,n,r){return i(this.ids,this.coords,e,t,n,r,this.nodeSize)},c.prototype.within=function(e,t,n){return o(this.ids,this.coords,e,t,n,this.nodeSize)};var l={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},f=Math.fround||function(e){return function(t){return e[0]=+t,e[0]}}(new Float32Array(1)),p=function(e){this.options=_(Object.create(l),e),this.trees=new Array(this.options.maxZoom+1)};function h(e,t,n,r,i){return{x:f(e),y:f(t),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function d(e,t){var n=e.geometry.coordinates,r=n[0],i=n[1];return{x:f(y(r)),y:f(g(i)),zoom:1/0,index:t,parentId:-1}}function m(e){return{type:"Feature",id:e.id,properties:v(e),geometry:{type:"Point",coordinates:[b(e.x),x(e.y)]}}}function v(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return _(_({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function y(e){return e/360+.5}function g(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function b(e){return 360*(e-.5)}function x(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function _(e,t){for(var n in t)e[n]=t[n];return e}function w(e){return e.x}function S(e){return e.y}return p.prototype.load=function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,o=t.nodeSize;n&&console.time("total time");var a="prepare "+e.length+" points";n&&console.time(a),this.points=e;for(var s=[],u=0;u<e.length;u++)e[u].geometry&&s.push(d(e[u],u));this.trees[i+1]=new c(s,w,S,o,Float32Array),n&&console.timeEnd(a);for(var l=i;l>=r;l--){var f=+Date.now();s=this._cluster(s,l),this.trees[l]=new c(s,w,S,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",l,s.length,+Date.now()-f)}return n&&console.timeEnd("total time"),this},p.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],t),s=this.getClusters([-180,r,i,o],t);return a.concat(s)}for(var u=this.trees[this._limitZoom(t)],c=u.range(y(n),g(o),y(i),g(r)),l=[],f=0,p=c;f<p.length;f+=1){var h=p[f],d=u.points[h];l.push(d.numPoints?m(d):this.points[d.index])}return l},p.prototype.getChildren=function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[t];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=i.within(o.x,o.y,a),u=[],c=0,l=s;c<l.length;c+=1){var f=l[c],p=i.points[f];p.parentId===e&&u.push(p.numPoints?m(p):this.points[p.index])}if(0===u.length)throw new Error(r);return u},p.prototype.getLeaves=function(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r},p.prototype.getTile=function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),o=this.options,a=o.extent,s=o.radius,u=s/a,c=(n-u)/i,l=(n+1+u)/i,f={features:[]};return this._addTileFeatures(r.range((t-u)/i,c,(t+1+u)/i,l),r.points,t,n,i,f),0===t&&this._addTileFeatures(r.range(1-u/i,c,1,l),r.points,i,n,i,f),t===i-1&&this._addTileFeatures(r.range(0,c,u/i,l),r.points,-1,n,i,f),f.features.length?f:null},p.prototype.getClusterExpansionZoom=function(e){var t=this._getOriginZoom(e)-1;while(t<=this.options.maxZoom){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},p.prototype._appendLeaves=function(e,t,n,r,i){for(var o=this.getChildren(t),a=0,s=o;a<s.length;a+=1){var u=s[a],c=u.properties;if(c&&c.cluster?i+c.point_count<=r?i+=c.point_count:i=this._appendLeaves(e,c.cluster_id,n,r,i):i<r?i++:e.push(u),e.length===n)break}return i},p.prototype._addTileFeatures=function(e,t,n,r,i,o){for(var a=0,s=e;a<s.length;a+=1){var u=s[a],c=t[u],l=c.numPoints,f=void 0,p=void 0,h=void 0;if(l)f=v(c),p=c.x,h=c.y;else{var d=this.points[c.index];f=d.properties,p=y(d.geometry.coordinates[0]),h=g(d.geometry.coordinates[1])}var m={type:1,geometry:[[Math.round(this.options.extent*(p*i-n)),Math.round(this.options.extent*(h*i-r))]],tags:f},b=void 0;l?b=c.id:this.options.generateId?b=c.index:this.points[c.index].id&&(b=this.points[c.index].id),void 0!==b&&(m.id=b),o.features.push(m)}},p.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))},p.prototype._cluster=function(e,t){for(var n=[],r=this.options,i=r.radius,o=r.extent,a=r.reduce,s=r.minPoints,u=i/(o*Math.pow(2,t)),c=0;c<e.length;c++){var l=e[c];if(!(l.zoom<=t)){l.zoom=t;for(var f=this.trees[t+1],p=f.within(l.x,l.y,u),d=l.numPoints||1,m=d,v=0,y=p;v<y.length;v+=1){var g=y[v],b=f.points[g];b.zoom>t&&(m+=b.numPoints||1)}if(m>=s){for(var x=l.x*d,_=l.y*d,w=a&&d>1?this._map(l,!0):null,S=(c<<5)+(t+1)+this.points.length,O=0,E=p;O<E.length;O+=1){var k=E[O],C=f.points[k];if(!(C.zoom<=t)){C.zoom=t;var j=C.numPoints||1;x+=C.x*j,_+=C.y*j,C.parentId=S,a&&(w||(w=this._map(l,!0)),a(w,this._map(C)))}}l.parentId=S,n.push(h(x/m,_/m,S,m,w))}else if(n.push(l),m>1)for(var T=0,A=p;T<A.length;T+=1){var P=A[T],M=f.points[P];M.zoom<=t||(M.zoom=t,n.push(M))}}}return n},p.prototype._getOriginId=function(e){return e-this.points.length>>5},p.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},p.prototype._map=function(e,t){if(e.numPoints)return t?_({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?_({},r):r},p}))},"mv/X":function(e,t,n){var r=n("ljhN"),i=n("MMmD"),o=n("wJg7"),a=n("GoyQ");function s(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}e.exports=s},"n+fv":function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return i})),n.d(t,"clone",(function(){return o})),n.d(t,"length",(function(){return a})),n.d(t,"fromValues",(function(){return s})),n.d(t,"copy",(function(){return u})),n.d(t,"set",(function(){return c})),n.d(t,"add",(function(){return l})),n.d(t,"subtract",(function(){return f})),n.d(t,"multiply",(function(){return p})),n.d(t,"divide",(function(){return h})),n.d(t,"ceil",(function(){return d})),n.d(t,"floor",(function(){return m})),n.d(t,"min",(function(){return v})),n.d(t,"max",(function(){return y})),n.d(t,"round",(function(){return g})),n.d(t,"scale",(function(){return b})),n.d(t,"scaleAndAdd",(function(){return x})),n.d(t,"distance",(function(){return _})),n.d(t,"squaredDistance",(function(){return w})),n.d(t,"squaredLength",(function(){return S})),n.d(t,"negate",(function(){return O})),n.d(t,"inverse",(function(){return E})),n.d(t,"normalize",(function(){return k})),n.d(t,"dot",(function(){return C})),n.d(t,"cross",(function(){return j})),n.d(t,"lerp",(function(){return T})),n.d(t,"hermite",(function(){return A})),n.d(t,"bezier",(function(){return P})),n.d(t,"random",(function(){return M})),n.d(t,"transformMat4",(function(){return I})),n.d(t,"transformMat3",(function(){return L})),n.d(t,"transformQuat",(function(){return R})),n.d(t,"rotateX",(function(){return D})),n.d(t,"rotateY",(function(){return N})),n.d(t,"rotateZ",(function(){return z})),n.d(t,"angle",(function(){return F})),n.d(t,"zero",(function(){return B})),n.d(t,"str",(function(){return U})),n.d(t,"exactEquals",(function(){return V})),n.d(t,"equals",(function(){return H})),n.d(t,"sub",(function(){return q})),n.d(t,"mul",(function(){return G})),n.d(t,"div",(function(){return W})),n.d(t,"dist",(function(){return Z})),n.d(t,"sqrDist",(function(){return Y})),n.d(t,"len",(function(){return X})),n.d(t,"sqrLen",(function(){return K})),n.d(t,"forEach",(function(){return J}));var r=n("yU0y");function i(){var e=new r["a"](3);return r["a"]!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function o(e){var t=new r["a"](3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function a(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function s(e,t,n){var i=new r["a"](3);return i[0]=e,i[1]=t,i[2]=n,i}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function c(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function l(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function f(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function p(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function h(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function d(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function m(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function v(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function y(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function g(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function b(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function x(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function _(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.hypot(n,r,i)}function w(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function S(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function O(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function E(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function k(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function C(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function j(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e}function T(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e}function A(e,t,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),l=a*(3-2*o);return e[0]=t[0]*s+n[0]*u+r[0]*c+i[0]*l,e[1]=t[1]*s+n[1]*u+r[1]*c+i[1]*l,e[2]=t[2]*s+n[2]*u+r[2]*c+i[2]*l,e}function P(e,t,n,r,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,l=3*o*s,f=3*u*a,p=u*o;return e[0]=t[0]*c+n[0]*l+r[0]*f+i[0]*p,e[1]=t[1]*c+n[1]*l+r[1]*f+i[1]*p,e[2]=t[2]*c+n[2]*l+r[2]*f+i[2]*p,e}function M(e,t){t=t||1;var n=2*r["c"]()*Math.PI,i=2*r["c"]()-1,o=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*o,e[1]=Math.sin(n)*o,e[2]=i*t,e}function I(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}function L(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}function R(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],u=t[1],c=t[2],l=i*c-o*u,f=o*s-r*c,p=r*u-i*s,h=i*p-o*f,d=o*l-r*p,m=r*f-i*l,v=2*a;return l*=v,f*=v,p*=v,h*=2,d*=2,m*=2,e[0]=s+l+h,e[1]=u+f+d,e[2]=c+p+m,e}function D(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function N(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function z(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function F(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1],s=t[2],u=Math.sqrt(n*n+r*r+i*i),c=Math.sqrt(o*o+a*a+s*s),l=u*c,f=l&&C(e,t)/l;return Math.acos(Math.min(Math.max(f,-1),1))}function B(e){return e[0]=0,e[1]=0,e[2]=0,e}function U(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function V(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function H(e,t){var n=e[0],i=e[1],o=e[2],a=t[0],s=t[1],u=t[2];return Math.abs(n-a)<=r["b"]*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r["b"]*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-u)<=r["b"]*Math.max(1,Math.abs(o),Math.abs(u))}var q=f,G=p,W=h,Z=_,Y=w,X=a,K=S,J=function(){var e=i();return function(t,n,r,i,o,a){var s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}()},n2J3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var r=n("xfSm"),i=n("GXnB"),o=n("Ztfv");function a(){return function(e,t,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(e,t,n,a)}}t.unmanaged=a},n3AX:function(e,t,n){var r=n("Nsbk");function i(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=r(e),null===e)break;return e}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},n7Qr:function(e,t,n){var r=n("I65O");r("match")},nCqj:function(e,t,n){var r=n("1nhP");e.exports=function(e,t){var n=r(e);if(n%t)throw RangeError("Wrong offset");return n}},nDQn:function(e,t,n){"use strict";var r,i,o,a,s,u,c,l,f,p,h,d=n("k1fw"),m=n("tJVT"),v=n("8ml+"),y=n("lwsE"),g=n.n(y),b=n("W8MJ"),x=n.n(b),_=n("7W2i"),w=n.n(_),S=n("a1gu"),O=n.n(S),E=n("Nsbk"),k=n.n(E),C=n("oTYp"),j=n("QILm"),T=n.n(j),A=n("yXPU"),P=n.n(A),M=n("J4zp"),I=n.n(M),L=n("yG8O"),R=n.n(L),D=n("lSNA"),N=n.n(D),z=n("U+yc"),F=n.n(z),B=(n("1ABj"),n("o0o1")),U=n.n(B),V=n("hi0z"),H=n.n(V),q=n("h1nZ"),G=n("Hel2"),W=n("IOcx"),Z=n("4cb6"),Y=(n("mNvP"),n("1GGQ")),X=n("6gmd"),K={dark:"amap://styles/2a09079c3daac9420ee53b67307a8006?isPublic=true",light:"amap://styles/1fd9f8ef9751298f11f5c56968312c70?isPublic=true",normal:"amap://styles/normal",blank:"amap://styles/07c17002b38775b32a7a76c66cf90e99?isPublic=true"},J=Math.PI/180,Q=function(){function e(){g()(this,e),N()(this,"projectionMatrix",W["b"].create()),N()(this,"viewMatrix",W["b"].create()),N()(this,"viewProjectionMatrix",W["b"].create()),N()(this,"ViewProjectionMatrixUncentered",W["b"].create()),N()(this,"viewUncenteredMatrix",W["b"].create()),N()(this,"zoom",void 0),N()(this,"center",void 0)}return x()(e,[{key:"syncWithMapCamera",value:function(e){var t=e.zoom,n=void 0===t?1:t,r=e.pitch,i=void 0===r?0:r,o=e.bearing,a=void 0===o?0:o,s=e.center,u=void 0===s?[0,0]:s,c=e.offsetOrigin,l=void 0===c?[0,0]:c,f=e.cameraHeight,p=void 0===f?1:f,h=e.aspect,d=void 0===h?1:h,m=e.near,v=void 0===m?.1:m,y=e.far,g=void 0===y?1e3:y,b=e.fov,x=void 0===b?0:b;this.zoom=n,this.center=u;var _=i*J,w=(360-a)*J;W["b"].perspective(this.projectionMatrix,x,d,v,g);var S=W["d"].fromValues(p*Math.sin(_)*Math.sin(w),-p*Math.sin(_)*Math.cos(w),p*Math.cos(_)),O=W["d"].fromValues(-Math.cos(_)*Math.sin(w),Math.cos(_)*Math.cos(w),Math.sin(_));W["b"].lookAt(this.viewMatrix,S,W["d"].fromValues(0,0,0),O),this.viewUncenteredMatrix=W["b"].clone(this.viewMatrix),W["b"].translate(this.viewMatrix,this.viewMatrix,W["d"].fromValues(-l[0],l[1],0)),W["b"].multiply(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),W["b"].multiply(this.ViewProjectionMatrixUncentered,this.projectionMatrix,this.viewMatrix)}},{key:"getZoom",value:function(){return this.zoom}},{key:"getZoomScale",value:function(){return 524288}},{key:"getCenter",value:function(){var e=I()(this.center,2),t=e[0],n=e[1];return[t,n]}},{key:"getProjectionMatrix",value:function(){return this.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewUncenteredMatrix}},{key:"getViewProjectionMatrix",value:function(){return this.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.ViewProjectionMatrixUncentered}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(e,t){var n=85.0511287798,r=Math.max(Math.min(n,e[1]),-n),i=256<<20,o=Math.PI/180,a=e[0]*o,s=r*o;s=Math.log(Math.tan(Math.PI/4+s/2));var u=.5/Math.PI,c=.5,l=-.5/Math.PI;return o=.5,a=i*(u*a+c)-215440491,s=-(i*(l*s+o)-106744817),[a,s]}}]),e}();function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){N()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t){if(t||(t=document),t){var n=t.head||t.getElementsByTagName("head")[0];if(!n){n=t.createElement("head");var r=t.body||t.getElementsByTagName("body")[0];r?r.parentNode.insertBefore(n,r):t.documentElement.appendChild(n)}var i=t.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),n.appendChild(i),i}}te(".amap-logo{\n display: none !important;\n}\n");var ne=0;window.forceWebGL=!0;var re="15cd8a57710d40c9b7c0e3cc120f1200",ie="1.4.15",oe="amap-script",ae=!1,se=[],ue=12,ce=(r=Object(Z["injectable"])(),i=Object(Z["inject"])(q["TYPES"].IGlobalConfigService),o=Object(Z["inject"])(q["TYPES"].MapConfig),a=Object(Z["inject"])(q["TYPES"].ICoordinateSystemService),s=Object(Z["inject"])(q["TYPES"].IEventEmitter),r((c=function(){function e(){var t=this;g()(this,e),N()(this,"version",X["a"]["GAODE1.x"]),N()(this,"map",void 0),R()(this,"configService",l,this),R()(this,"config",f,this),R()(this,"coordinateSystemService",p,this),R()(this,"eventEmitter",h,this),N()(this,"markerContainer",void 0),N()(this,"$mapContainer",void 0),N()(this,"viewport",void 0),N()(this,"cameraChangedCallback",void 0),N()(this,"handleCameraChanged",(function(e){var n=e.camera,r=n.fov,i=n.near,o=n.far,a=n.height,s=n.pitch,u=n.rotation,c=n.aspect,l=n.position,f=t.getCenter(),p=f.lng,h=f.lat;if(t.cameraChangedCallback){t.viewport.syncWithMapCamera({aspect:c,bearing:360-u,far:o,fov:r,cameraHeight:a,near:i,pitch:s,zoom:t.map.getZoom()-1,center:[p,h],offsetOrigin:[l.x,l.y]});var d=t.config.offsetZoom,m=void 0===d?ue:d;t.viewport.getZoom()>m?t.coordinateSystemService.setCoordinateSystem(q["CoordinateSystem"].P20_OFFSET):t.coordinateSystemService.setCoordinateSystem(q["CoordinateSystem"].P20),t.cameraChangedCallback(t.viewport)}}))}return x()(e,[{key:"addMarkerContainer",value:function(){var e=this.map.getContainer();if(null!==e){var t=e.getElementsByClassName("amap-maps")[0];this.markerContainer=G["a"].create("div","l7-marker-container",t)}}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(e,t){-1!==q["MapServiceEvent"].indexOf(e)?this.eventEmitter.on(e,t):this.map.on(e,t)}},{key:"off",value:function(e,t){-1!==q["MapServiceEvent"].indexOf(e)?this.eventEmitter.off(e,t):this.map.off(e,t)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){var e;return null===(e=this.map.getContainer())||void 0===e?void 0:e.getElementsByClassName("amap-maps")[0]}},{key:"getSize",value:function(){var e=this.map.getSize();return[e.getWidth(),e.getHeight()]}},{key:"getType",value:function(){return"amap"}},{key:"getZoom",value:function(){return this.map.getZoom()-1}},{key:"setZoom",value:function(e){return this.map.setZoom(e)}},{key:"getCenter",value:function(e){if(null!==e&&void 0!==e&&e.padding){var t=this.getCenter(),n=this.getSize(),r=I()(n,2),i=(r[0],r[1],Object(Y["a"])(e.padding)),o=this.lngLatToPixel([t.lng,t.lat]),a=[(i.right-i.left)/2,(i.bottom-i.top)/2],s=this.pixelToLngLat([o.x-a[0],o.y-a[1]]);return s}var u=this.map.getCenter();return{lng:u.getLng(),lat:u.getLat()}}},{key:"setCenter",value:function(e,t){if(null!==t&&void 0!==t&&t.padding){var n=Object(Y["a"])(t.padding),r=this.lngLatToPixel(e),i=[(n.right-n.left)/2,(n.bottom-n.top)/2],o=this.pixelToLngLat([r.x+i[0],r.y+i[1]]);this.map.setCenter([o.lng,o.lat])}else this.map.setCenter(e)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return 360-this.map.getRotation()}},{key:"getBounds",value:function(){var e=this.map.getBounds().toBounds(),t=e.getNorthEast(),n=e.getSouthWest(),r=this.getCenter(),i=r.lng>t.getLng()||r.lng<n.getLng()?180-t.getLng():t.getLng(),o=r.lng<n.getLng()?n.getLng()-180:n.getLng();return[[o,n.getLat()],[i,t.getLat()]]}},{key:"getMinZoom",value:function(){var e=this.map.get("zooms");return e[0]-1}},{key:"getMaxZoom",value:function(){var e=this.map.get("zooms");return e[1]-1}},{key:"setRotation",value:function(e){return this.map.setRotation(e)}},{key:"setPitch",value:function(e){return this.map.setPitch(e)}},{key:"zoomIn",value:function(){this.map.zoomIn()}},{key:"zoomOut",value:function(){this.map.zoomOut()}},{key:"panTo",value:function(e){this.map.panTo(e)}},{key:"panBy",value:function(e){this.map.panTo(e)}},{key:"fitBounds",value:function(e){this.map.setBounds(new AMap.Bounds([e[0][0],e[0][1],e[1][0],e[1][1]]))}},{key:"setZoomAndCenter",value:function(e,t){this.map.setZoomAndCenter(e,t)}},{key:"setMapStyle",value:function(e){this.map.setMapStyle(this.getMapStyle(e))}},{key:"setMapStatus",value:function(e){this.map.setStatus(e)}},{key:"pixelToLngLat",value:function(e){var t=this.map.pixelToLngLat(new AMap.Pixel(e[0],e[1]));return{lng:t.getLng(),lat:t.getLat()}}},{key:"lngLatToPixel",value:function(e){var t=this.map.lnglatToPixel(new AMap.LngLat(e[0],e[1]));return{x:t.getX(),y:t.getY()}}},{key:"containerToLngLat",value:function(e){var t=new AMap.Pixel(e[0],e[1]),n=this.map.containerToLngLat(t);return{lng:null===n||void 0===n?void 0:n.getLng(),lat:null===n||void 0===n?void 0:n.getLat()}}},{key:"lngLatToContainer",value:function(e){var t=new AMap.LngLat(e[0],e[1]),n=this.map.lngLatToContainer(t);return{x:n.getX(),y:n.getY()}}},{key:"lngLatToCoord",value:function(e){var t=this.map.lngLatToGeodeticCoord(e),n=t.x,r=t.y;return[n,-r]}},{key:"lngLatToMercator",value:function(e,t){return{x:0,y:0,z:0}}},{key:"getModelMatrix",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],i=this.viewport.projectFlat(e),o=W["b"].create();return W["b"].translate(o,o,W["d"].fromValues(i[0],i[1],t)),W["b"].scale(o,o,W["d"].fromValues(r[0],r[1],r[2])),W["b"].rotateX(o,o,n[0]),W["b"].rotateY(o,o,n[1]),W["b"].rotateZ(o,o,n[2]),o}},{key:"init",value:function(){var e=P()(U.a.mark((function e(){var t,n,r,i,o,a,s,u,c,l,f,p,h,d,m=this;return U.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.config,n=t.id,r=t.style,i=void 0===r?"light":r,o=t.minZoom,a=void 0===o?0:o,s=t.maxZoom,u=void 0===s?18:s,c=t.token,l=void 0===c?re:c,f=t.mapInstance,p=t.plugin,h=void 0===p?[]:p,d=T()(t,["id","style","minZoom","maxZoom","token","mapInstance","plugin"]),e.next=3,new Promise((function(e){var t=function(){if(f)m.map=f,m.$mapContainer=m.map.getContainer(),setTimeout((function(){m.map.on("camerachange",m.handleCameraChanged),e()}),30);else{m.$mapContainer=m.creatAmapContainer(n);var t=new AMap.Map(m.$mapContainer,ee({mapStyle:m.getMapStyle(i),zooms:[a,u],viewMode:"3D"},d));t.on("camerachange",m.handleCameraChanged),m.map=t,setTimeout((function(){e()}),10)}};ae||f?ae&&window.AMap||f?t():se.push(t):(l===re&&console.warn(m.configService.getSceneWarninfo("MapToken")),ae=!0,h.push("Map3D"),H.a.load({key:l,version:ie,plugins:h}).then((function(e){t(),se.length&&(se.forEach((function(e){return e()})),se=[])}))["catch"]((function(e){throw new Error(e)})))}));case 3:this.viewport=new Q;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"exportMap",value:function(e){var t,n=null===(t=this.getContainer())||void 0===t?void 0:t.getElementsByClassName("amap-layer")[0],r="jpg"===e?null===n||void 0===n?void 0:n.toDataURL("image/jpeg"):null===n||void 0===n?void 0:n.toDataURL("image/png");return r}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).emit.apply(t,[e].concat(r))}},{key:"once",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).once.apply(t,[e].concat(r))}},{key:"destroy",value:function(){var e,t;this.map.destroy(),null===(e=this.$mapContainer)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(this.$mapContainer),delete window.initAMap;var n=document.getElementById(oe);n&&document.head.removeChild(n)}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"onCameraChanged",value:function(e){this.cameraChangedCallback=e}},{key:"getMapStyle",value:function(e){return K[e]?K[e]:e}},{key:"creatAmapContainer",value:function(e){var t=e;"string"===typeof e&&(t=document.getElementById(e));var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      top: 0;\n      height: 100%;\n      width: 100%;\n    ",n.id="l7_amap_div"+ne++,t.appendChild(n),n}}]),e}(),l=F()(c.prototype,"configService",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=F()(c.prototype,"config",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=F()(c.prototype,"coordinateSystemService",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=F()(c.prototype,"eventEmitter",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=c))||u);function le(e){var t=fe();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O()(this,n)}}function fe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var pe=function(e){w()(n,e);var t=le(n);function n(){return g()(this,n),t.apply(this,arguments)}return x()(n,[{key:"getServiceConstructor",value:function(){return ce}}]),n}(C["a"]),he=n("q1tI"),de=n.n(he),me=n("45oE"),ve=n("nKUr"),ye=de.a.memo((e=>{var t=e.style,n=e.className,r=e.map,i=e.option,o=e.onSceneLoaded,a=e.children,s=Object(he["useRef"])(null),u=Object(he["useState"])(),c=Object(m["a"])(u,2),l=c[0],f=c[1];return Object(he["useEffect"])((()=>{var e=new v["Scene"](Object(d["a"])(Object(d["a"])({id:s.current},i),{},{map:new pe(r)}));return e.on("loaded",(()=>{f(e),o&&o(e)})),()=>{e.destroy()}}),[]),Object(he["useEffect"])((()=>{l&&r.style&&l.setMapStyle(r.style)}),[JSON.stringify(r.style)]),Object(he["useEffect"])((()=>{l&&r.zoom&&l.setZoom(r.zoom)}),[r.zoom]),Object(he["useEffect"])((()=>{l&&r.center&&l.setCenter(r.center)}),[JSON.stringify(r.center)]),Object(he["useEffect"])((()=>{l&&r.pitch&&l.setPitch(r.pitch)}),[r.pitch]),Object(he["useEffect"])((()=>{l&&r.rotation&&l.setRotation(r.rotation)}),[r.rotation]),Object(ve["jsx"])(me["a"].Provider,{value:l,children:Object(ve["jsx"])("div",{ref:s,className:n,style:t,children:l&&a})})}));t["a"]=ye},nDqD:function(e,t,n){"use strict";var r=n("MMxC"),i=n("MVys"),o=n("ZSlt"),a=n("f1E4"),s=n("bIKR"),u=n("oa35"),c=n("/dTS"),l=o.ArrayBuffer,f=o.DataView,p=l.prototype.slice,h=i((function(){return!new l(2).slice(1,void 0).byteLength}));r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:h},{slice:function(e,t){if(void 0!==p&&void 0===t)return p.call(a(this),e);var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(c(this,l))(u(i-r)),h=new f(this),d=new f(o),m=0;while(r<i)d.setUint8(m++,h.getUint8(r++));return o}})},nEGZ:function(e,t,n){var r=n("I65O");r("species")},nFn1:function(e,t,n){var r=n("ukPv");e.exports=r},nKUr:function(e,t,n){"use strict";e.exports=n("0x2o")},nLCz:function(e,t,n){"use strict";function r(){var e=i(n("q1tI"));return r=function(){return e},e}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=r()["default"].createContext({config:{mode:"doc",title:"",navs:{},menus:{},locales:[],repository:{branch:"master"},theme:{}},meta:{title:""},menu:[],nav:[],base:"",routes:[]});t["default"]=o},nMuc:function(e,t,n){var r=n("tSXo"),i=n("Un+d"),o=n("2kyd"),a=o("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},nZC5:function(e,t,n){"use strict";var r=n("MMxC"),i=n("tny8"),o=n("i7kj"),a=n("cTDu"),s=n("cT1L"),u=n("YfKC");i&&r({target:"Object",proto:!0,forced:o},{__defineSetter__:function(e,t){u.f(a(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},nkhd:function(e,t,n){"use strict";var r=n("MMxC"),i=n("tny8"),o=n("Acmb"),a=n("g1ZG"),s=n("u+7+"),u=n("YfKC"),c=n("HhvW"),l=n("IuhT"),f=n("lz10"),p=n("1aI8"),h=p.set,d=p.getterFor("AggregateError"),m=function(e,t){var n=this;if(!(n instanceof m))return new m(e,t);a&&(n=a(new Error(t),o(n)));var r=[];return l(e,r.push,r),i?h(n,{errors:r,type:"AggregateError"}):n.errors=r,void 0!==t&&f(n,"message",String(t)),n};m.prototype=s(Error.prototype,{constructor:c(5,m),message:c(5,""),name:c(5,"AggregateError")}),i&&u.f(m.prototype,"errors",{get:function(){return d(this).errors},configurable:!0}),r({global:!0},{AggregateError:m})},nlPz:function(e,t,n){"use strict";var r=n("MMxC"),i=n("NcLc");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},nmnc:function(e,t,n){var r=n("Kz5y"),i=r.Symbol;e.exports=i},nmq7:function(e,t,n){"use strict";var r=n("0jNN"),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},u=function(e,t){return e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c="utf8=%26%2310003%3B",l="utf8=%E2%9C%93",f=function(e,t){var n,f={},p=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,h=t.parameterLimit===1/0?void 0:t.parameterLimit,d=p.split(t.delimiter,h),m=-1,v=t.charset;if(t.charsetSentinel)for(n=0;n<d.length;++n)0===d[n].indexOf("utf8=")&&(d[n]===l?v="utf-8":d[n]===c&&(v="iso-8859-1"),m=n,n=d.length);for(n=0;n<d.length;++n)if(n!==m){var y,g,b=d[n],x=b.indexOf("]="),_=-1===x?b.indexOf("="):x+1;-1===_?(y=t.decoder(b,a.decoder,v,"key"),g=t.strictNullHandling?null:""):(y=t.decoder(b.slice(0,_),a.decoder,v,"key"),g=r.maybeMap(u(b.slice(_+1),t),(function(e){return t.decoder(e,a.decoder,v,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===v&&(g=s(g)),b.indexOf("[]=")>-1&&(g=o(g)?[g]:g),i.call(f,y)?f[y]=r.combine(f[y],g):f[y]=g}return f},p=function(e,t,n,r){for(var i=r?t:u(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(c,10);n.parseArrays||""!==c?!isNaN(l)&&s!==c&&String(l)===c&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(a=[],a[l]=i):a[c]=i:a={0:i}}i=a}return i},h=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,u=n.depth>0&&a.exec(o),c=u?o.slice(0,u.index):o,l=[];if(c){if(!n.plainObjects&&i.call(Object.prototype,c)&&!n.allowPrototypes)return;l.push(c)}var f=0;while(n.depth>0&&null!==(u=s.exec(o))&&f<n.depth){if(f+=1,!n.plainObjects&&i.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(u[1])}return u&&l.push("["+o.slice(u.index)+"]"),p(l,t,n,r)}},d=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?a.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:a.comma,decoder:"function"===typeof e.decoder?e.decoder:a.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}};e.exports=function(e,t){var n=d(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var i="string"===typeof e?f(e,n):e,o=n.plainObjects?Object.create(null):{},a=Object.keys(i),s=0;s<a.length;++s){var u=a[s],c=h(u,i[u],n,"string"===typeof e);o=r.merge(o,c,n)}return!0===n.allowSparse?o:r.compact(o)}},"o+pz":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e["DEPTH_BUFFER_BIT"]=256]="DEPTH_BUFFER_BIT",e[e["STENCIL_BUFFER_BIT"]=1024]="STENCIL_BUFFER_BIT",e[e["COLOR_BUFFER_BIT"]=16384]="COLOR_BUFFER_BIT",e[e["POINTS"]=0]="POINTS",e[e["LINES"]=1]="LINES",e[e["LINE_LOOP"]=2]="LINE_LOOP",e[e["LINE_STRIP"]=3]="LINE_STRIP",e[e["TRIANGLES"]=4]="TRIANGLES",e[e["TRIANGLE_STRIP"]=5]="TRIANGLE_STRIP",e[e["TRIANGLE_FAN"]=6]="TRIANGLE_FAN",e[e["ZERO"]=0]="ZERO",e[e["ONE"]=1]="ONE",e[e["SRC_COLOR"]=768]="SRC_COLOR",e[e["ONE_MINUS_SRC_COLOR"]=769]="ONE_MINUS_SRC_COLOR",e[e["SRC_ALPHA"]=770]="SRC_ALPHA",e[e["ONE_MINUS_SRC_ALPHA"]=771]="ONE_MINUS_SRC_ALPHA",e[e["DST_ALPHA"]=772]="DST_ALPHA",e[e["ONE_MINUS_DST_ALPHA"]=773]="ONE_MINUS_DST_ALPHA",e[e["DST_COLOR"]=774]="DST_COLOR",e[e["ONE_MINUS_DST_COLOR"]=775]="ONE_MINUS_DST_COLOR",e[e["SRC_ALPHA_SATURATE"]=776]="SRC_ALPHA_SATURATE",e[e["FUNC_ADD"]=32774]="FUNC_ADD",e[e["BLEND_EQUATION"]=32777]="BLEND_EQUATION",e[e["BLEND_EQUATION_RGB"]=32777]="BLEND_EQUATION_RGB",e[e["BLEND_EQUATION_ALPHA"]=34877]="BLEND_EQUATION_ALPHA",e[e["FUNC_SUBTRACT"]=32778]="FUNC_SUBTRACT",e[e["FUNC_REVERSE_SUBTRACT"]=32779]="FUNC_REVERSE_SUBTRACT",e[e["MAX_EXT"]=32776]="MAX_EXT",e[e["MIN_EXT"]=32775]="MIN_EXT",e[e["BLEND_DST_RGB"]=32968]="BLEND_DST_RGB",e[e["BLEND_SRC_RGB"]=32969]="BLEND_SRC_RGB",e[e["BLEND_DST_ALPHA"]=32970]="BLEND_DST_ALPHA",e[e["BLEND_SRC_ALPHA"]=32971]="BLEND_SRC_ALPHA",e[e["CONSTANT_COLOR"]=32769]="CONSTANT_COLOR",e[e["ONE_MINUS_CONSTANT_COLOR"]=32770]="ONE_MINUS_CONSTANT_COLOR",e[e["CONSTANT_ALPHA"]=32771]="CONSTANT_ALPHA",e[e["ONE_MINUS_CONSTANT_ALPHA"]=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e["BLEND_COLOR"]=32773]="BLEND_COLOR",e[e["ARRAY_BUFFER"]=34962]="ARRAY_BUFFER",e[e["ELEMENT_ARRAY_BUFFER"]=34963]="ELEMENT_ARRAY_BUFFER",e[e["ARRAY_BUFFER_BINDING"]=34964]="ARRAY_BUFFER_BINDING",e[e["ELEMENT_ARRAY_BUFFER_BINDING"]=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e["STREAM_DRAW"]=35040]="STREAM_DRAW",e[e["STATIC_DRAW"]=35044]="STATIC_DRAW",e[e["DYNAMIC_DRAW"]=35048]="DYNAMIC_DRAW",e[e["BUFFER_SIZE"]=34660]="BUFFER_SIZE",e[e["BUFFER_USAGE"]=34661]="BUFFER_USAGE",e[e["CURRENT_VERTEX_ATTRIB"]=34342]="CURRENT_VERTEX_ATTRIB",e[e["FRONT"]=1028]="FRONT",e[e["BACK"]=1029]="BACK",e[e["FRONT_AND_BACK"]=1032]="FRONT_AND_BACK",e[e["CULL_FACE"]=2884]="CULL_FACE",e[e["BLEND"]=3042]="BLEND",e[e["DITHER"]=3024]="DITHER",e[e["STENCIL_TEST"]=2960]="STENCIL_TEST",e[e["DEPTH_TEST"]=2929]="DEPTH_TEST",e[e["SCISSOR_TEST"]=3089]="SCISSOR_TEST",e[e["POLYGON_OFFSET_FILL"]=32823]="POLYGON_OFFSET_FILL",e[e["SAMPLE_ALPHA_TO_COVERAGE"]=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e["SAMPLE_COVERAGE"]=32928]="SAMPLE_COVERAGE",e[e["NO_ERROR"]=0]="NO_ERROR",e[e["INVALID_ENUM"]=1280]="INVALID_ENUM",e[e["INVALID_VALUE"]=1281]="INVALID_VALUE",e[e["INVALID_OPERATION"]=1282]="INVALID_OPERATION",e[e["OUT_OF_MEMORY"]=1285]="OUT_OF_MEMORY",e[e["CW"]=2304]="CW",e[e["CCW"]=2305]="CCW",e[e["LINE_WIDTH"]=2849]="LINE_WIDTH",e[e["ALIASED_POINT_SIZE_RANGE"]=33901]="ALIASED_POINT_SIZE_RANGE",e[e["ALIASED_LINE_WIDTH_RANGE"]=33902]="ALIASED_LINE_WIDTH_RANGE",e[e["CULL_FACE_MODE"]=2885]="CULL_FACE_MODE",e[e["FRONT_FACE"]=2886]="FRONT_FACE",e[e["DEPTH_RANGE"]=2928]="DEPTH_RANGE",e[e["DEPTH_WRITEMASK"]=2930]="DEPTH_WRITEMASK",e[e["DEPTH_CLEAR_VALUE"]=2931]="DEPTH_CLEAR_VALUE",e[e["DEPTH_FUNC"]=2932]="DEPTH_FUNC",e[e["STENCIL_CLEAR_VALUE"]=2961]="STENCIL_CLEAR_VALUE",e[e["STENCIL_FUNC"]=2962]="STENCIL_FUNC",e[e["STENCIL_FAIL"]=2964]="STENCIL_FAIL",e[e["STENCIL_PASS_DEPTH_FAIL"]=2965]="STENCIL_PASS_DEPTH_FAIL",e[e["STENCIL_PASS_DEPTH_PASS"]=2966]="STENCIL_PASS_DEPTH_PASS",e[e["STENCIL_REF"]=2967]="STENCIL_REF",e[e["STENCIL_VALUE_MASK"]=2963]="STENCIL_VALUE_MASK",e[e["STENCIL_WRITEMASK"]=2968]="STENCIL_WRITEMASK",e[e["STENCIL_BACK_FUNC"]=34816]="STENCIL_BACK_FUNC",e[e["STENCIL_BACK_FAIL"]=34817]="STENCIL_BACK_FAIL",e[e["STENCIL_BACK_PASS_DEPTH_FAIL"]=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e["STENCIL_BACK_PASS_DEPTH_PASS"]=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e["STENCIL_BACK_REF"]=36003]="STENCIL_BACK_REF",e[e["STENCIL_BACK_VALUE_MASK"]=36004]="STENCIL_BACK_VALUE_MASK",e[e["STENCIL_BACK_WRITEMASK"]=36005]="STENCIL_BACK_WRITEMASK",e[e["VIEWPORT"]=2978]="VIEWPORT",e[e["SCISSOR_BOX"]=3088]="SCISSOR_BOX",e[e["COLOR_CLEAR_VALUE"]=3106]="COLOR_CLEAR_VALUE",e[e["COLOR_WRITEMASK"]=3107]="COLOR_WRITEMASK",e[e["UNPACK_ALIGNMENT"]=3317]="UNPACK_ALIGNMENT",e[e["PACK_ALIGNMENT"]=3333]="PACK_ALIGNMENT",e[e["MAX_TEXTURE_SIZE"]=3379]="MAX_TEXTURE_SIZE",e[e["MAX_VIEWPORT_DIMS"]=3386]="MAX_VIEWPORT_DIMS",e[e["SUBPIXEL_BITS"]=3408]="SUBPIXEL_BITS",e[e["RED_BITS"]=3410]="RED_BITS",e[e["GREEN_BITS"]=3411]="GREEN_BITS",e[e["BLUE_BITS"]=3412]="BLUE_BITS",e[e["ALPHA_BITS"]=3413]="ALPHA_BITS",e[e["DEPTH_BITS"]=3414]="DEPTH_BITS",e[e["STENCIL_BITS"]=3415]="STENCIL_BITS",e[e["POLYGON_OFFSET_UNITS"]=10752]="POLYGON_OFFSET_UNITS",e[e["POLYGON_OFFSET_FACTOR"]=32824]="POLYGON_OFFSET_FACTOR",e[e["TEXTURE_BINDING_2D"]=32873]="TEXTURE_BINDING_2D",e[e["SAMPLE_BUFFERS"]=32936]="SAMPLE_BUFFERS",e[e["SAMPLES"]=32937]="SAMPLES",e[e["SAMPLE_COVERAGE_VALUE"]=32938]="SAMPLE_COVERAGE_VALUE",e[e["SAMPLE_COVERAGE_INVERT"]=32939]="SAMPLE_COVERAGE_INVERT",e[e["COMPRESSED_TEXTURE_FORMATS"]=34467]="COMPRESSED_TEXTURE_FORMATS",e[e["DONT_CARE"]=4352]="DONT_CARE",e[e["FASTEST"]=4353]="FASTEST",e[e["NICEST"]=4354]="NICEST",e[e["GENERATE_MIPMAP_HINT"]=33170]="GENERATE_MIPMAP_HINT",e[e["BYTE"]=5120]="BYTE",e[e["UNSIGNED_BYTE"]=5121]="UNSIGNED_BYTE",e[e["SHORT"]=5122]="SHORT",e[e["UNSIGNED_SHORT"]=5123]="UNSIGNED_SHORT",e[e["INT"]=5124]="INT",e[e["UNSIGNED_INT"]=5125]="UNSIGNED_INT",e[e["FLOAT"]=5126]="FLOAT",e[e["DEPTH_COMPONENT"]=6402]="DEPTH_COMPONENT",e[e["ALPHA"]=6406]="ALPHA",e[e["RGB"]=6407]="RGB",e[e["RGBA"]=6408]="RGBA",e[e["LUMINANCE"]=6409]="LUMINANCE",e[e["LUMINANCE_ALPHA"]=6410]="LUMINANCE_ALPHA",e[e["UNSIGNED_SHORT_4_4_4_4"]=32819]="UNSIGNED_SHORT_4_4_4_4",e[e["UNSIGNED_SHORT_5_5_5_1"]=32820]="UNSIGNED_SHORT_5_5_5_1",e[e["UNSIGNED_SHORT_5_6_5"]=33635]="UNSIGNED_SHORT_5_6_5",e[e["FRAGMENT_SHADER"]=35632]="FRAGMENT_SHADER",e[e["VERTEX_SHADER"]=35633]="VERTEX_SHADER",e[e["MAX_VERTEX_ATTRIBS"]=34921]="MAX_VERTEX_ATTRIBS",e[e["MAX_VERTEX_UNIFORM_VECTORS"]=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e["MAX_VARYING_VECTORS"]=36348]="MAX_VARYING_VECTORS",e[e["MAX_COMBINED_TEXTURE_IMAGE_UNITS"]=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e["MAX_VERTEX_TEXTURE_IMAGE_UNITS"]=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e["MAX_TEXTURE_IMAGE_UNITS"]=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e["MAX_FRAGMENT_UNIFORM_VECTORS"]=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e["SHADER_TYPE"]=35663]="SHADER_TYPE",e[e["DELETE_STATUS"]=35712]="DELETE_STATUS",e[e["LINK_STATUS"]=35714]="LINK_STATUS",e[e["VALIDATE_STATUS"]=35715]="VALIDATE_STATUS",e[e["ATTACHED_SHADERS"]=35717]="ATTACHED_SHADERS",e[e["ACTIVE_UNIFORMS"]=35718]="ACTIVE_UNIFORMS",e[e["ACTIVE_ATTRIBUTES"]=35721]="ACTIVE_ATTRIBUTES",e[e["SHADING_LANGUAGE_VERSION"]=35724]="SHADING_LANGUAGE_VERSION",e[e["CURRENT_PROGRAM"]=35725]="CURRENT_PROGRAM",e[e["NEVER"]=512]="NEVER",e[e["LESS"]=513]="LESS",e[e["EQUAL"]=514]="EQUAL",e[e["LEQUAL"]=515]="LEQUAL",e[e["GREATER"]=516]="GREATER",e[e["NOTEQUAL"]=517]="NOTEQUAL",e[e["GEQUAL"]=518]="GEQUAL",e[e["ALWAYS"]=519]="ALWAYS",e[e["KEEP"]=7680]="KEEP",e[e["REPLACE"]=7681]="REPLACE",e[e["INCR"]=7682]="INCR",e[e["DECR"]=7683]="DECR",e[e["INVERT"]=5386]="INVERT",e[e["INCR_WRAP"]=34055]="INCR_WRAP",e[e["DECR_WRAP"]=34056]="DECR_WRAP",e[e["VENDOR"]=7936]="VENDOR",e[e["RENDERER"]=7937]="RENDERER",e[e["VERSION"]=7938]="VERSION",e[e["NEAREST"]=9728]="NEAREST",e[e["LINEAR"]=9729]="LINEAR",e[e["NEAREST_MIPMAP_NEAREST"]=9984]="NEAREST_MIPMAP_NEAREST",e[e["LINEAR_MIPMAP_NEAREST"]=9985]="LINEAR_MIPMAP_NEAREST",e[e["NEAREST_MIPMAP_LINEAR"]=9986]="NEAREST_MIPMAP_LINEAR",e[e["LINEAR_MIPMAP_LINEAR"]=9987]="LINEAR_MIPMAP_LINEAR",e[e["TEXTURE_MAG_FILTER"]=10240]="TEXTURE_MAG_FILTER",e[e["TEXTURE_MIN_FILTER"]=10241]="TEXTURE_MIN_FILTER",e[e["TEXTURE_WRAP_S"]=10242]="TEXTURE_WRAP_S",e[e["TEXTURE_WRAP_T"]=10243]="TEXTURE_WRAP_T",e[e["TEXTURE_2D"]=3553]="TEXTURE_2D",e[e["TEXTURE"]=5890]="TEXTURE",e[e["TEXTURE_CUBE_MAP"]=34067]="TEXTURE_CUBE_MAP",e[e["TEXTURE_BINDING_CUBE_MAP"]=34068]="TEXTURE_BINDING_CUBE_MAP",e[e["TEXTURE_CUBE_MAP_POSITIVE_X"]=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e["TEXTURE_CUBE_MAP_NEGATIVE_X"]=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e["TEXTURE_CUBE_MAP_POSITIVE_Y"]=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e["TEXTURE_CUBE_MAP_NEGATIVE_Y"]=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e["TEXTURE_CUBE_MAP_POSITIVE_Z"]=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e["TEXTURE_CUBE_MAP_NEGATIVE_Z"]=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e["MAX_CUBE_MAP_TEXTURE_SIZE"]=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e["TEXTURE0"]=33984]="TEXTURE0",e[e["TEXTURE1"]=33985]="TEXTURE1",e[e["TEXTURE2"]=33986]="TEXTURE2",e[e["TEXTURE3"]=33987]="TEXTURE3",e[e["TEXTURE4"]=33988]="TEXTURE4",e[e["TEXTURE5"]=33989]="TEXTURE5",e[e["TEXTURE6"]=33990]="TEXTURE6",e[e["TEXTURE7"]=33991]="TEXTURE7",e[e["TEXTURE8"]=33992]="TEXTURE8",e[e["TEXTURE9"]=33993]="TEXTURE9",e[e["TEXTURE10"]=33994]="TEXTURE10",e[e["TEXTURE11"]=33995]="TEXTURE11",e[e["TEXTURE12"]=33996]="TEXTURE12",e[e["TEXTURE13"]=33997]="TEXTURE13",e[e["TEXTURE14"]=33998]="TEXTURE14",e[e["TEXTURE15"]=33999]="TEXTURE15",e[e["TEXTURE16"]=34e3]="TEXTURE16",e[e["TEXTURE17"]=34001]="TEXTURE17",e[e["TEXTURE18"]=34002]="TEXTURE18",e[e["TEXTURE19"]=34003]="TEXTURE19",e[e["TEXTURE20"]=34004]="TEXTURE20",e[e["TEXTURE21"]=34005]="TEXTURE21",e[e["TEXTURE22"]=34006]="TEXTURE22",e[e["TEXTURE23"]=34007]="TEXTURE23",e[e["TEXTURE24"]=34008]="TEXTURE24",e[e["TEXTURE25"]=34009]="TEXTURE25",e[e["TEXTURE26"]=34010]="TEXTURE26",e[e["TEXTURE27"]=34011]="TEXTURE27",e[e["TEXTURE28"]=34012]="TEXTURE28",e[e["TEXTURE29"]=34013]="TEXTURE29",e[e["TEXTURE30"]=34014]="TEXTURE30",e[e["TEXTURE31"]=34015]="TEXTURE31",e[e["ACTIVE_TEXTURE"]=34016]="ACTIVE_TEXTURE",e[e["REPEAT"]=10497]="REPEAT",e[e["CLAMP_TO_EDGE"]=33071]="CLAMP_TO_EDGE",e[e["MIRRORED_REPEAT"]=33648]="MIRRORED_REPEAT",e[e["FLOAT_VEC2"]=35664]="FLOAT_VEC2",e[e["FLOAT_VEC3"]=35665]="FLOAT_VEC3",e[e["FLOAT_VEC4"]=35666]="FLOAT_VEC4",e[e["INT_VEC2"]=35667]="INT_VEC2",e[e["INT_VEC3"]=35668]="INT_VEC3",e[e["INT_VEC4"]=35669]="INT_VEC4",e[e["BOOL"]=35670]="BOOL",e[e["BOOL_VEC2"]=35671]="BOOL_VEC2",e[e["BOOL_VEC3"]=35672]="BOOL_VEC3",e[e["BOOL_VEC4"]=35673]="BOOL_VEC4",e[e["FLOAT_MAT2"]=35674]="FLOAT_MAT2",e[e["FLOAT_MAT3"]=35675]="FLOAT_MAT3",e[e["FLOAT_MAT4"]=35676]="FLOAT_MAT4",e[e["SAMPLER_2D"]=35678]="SAMPLER_2D",e[e["SAMPLER_CUBE"]=35680]="SAMPLER_CUBE",e[e["VERTEX_ATTRIB_ARRAY_ENABLED"]=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e["VERTEX_ATTRIB_ARRAY_SIZE"]=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e["VERTEX_ATTRIB_ARRAY_STRIDE"]=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e["VERTEX_ATTRIB_ARRAY_TYPE"]=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e["VERTEX_ATTRIB_ARRAY_NORMALIZED"]=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e["VERTEX_ATTRIB_ARRAY_POINTER"]=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e["VERTEX_ATTRIB_ARRAY_BUFFER_BINDING"]=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e["COMPILE_STATUS"]=35713]="COMPILE_STATUS",e[e["LOW_FLOAT"]=36336]="LOW_FLOAT",e[e["MEDIUM_FLOAT"]=36337]="MEDIUM_FLOAT",e[e["HIGH_FLOAT"]=36338]="HIGH_FLOAT",e[e["LOW_INT"]=36339]="LOW_INT",e[e["MEDIUM_INT"]=36340]="MEDIUM_INT",e[e["HIGH_INT"]=36341]="HIGH_INT",e[e["FRAMEBUFFER"]=36160]="FRAMEBUFFER",e[e["RENDERBUFFER"]=36161]="RENDERBUFFER",e[e["RGBA4"]=32854]="RGBA4",e[e["RGB5_A1"]=32855]="RGB5_A1",e[e["RGB565"]=36194]="RGB565",e[e["DEPTH_COMPONENT16"]=33189]="DEPTH_COMPONENT16",e[e["STENCIL_INDEX"]=6401]="STENCIL_INDEX",e[e["STENCIL_INDEX8"]=36168]="STENCIL_INDEX8",e[e["DEPTH_STENCIL"]=34041]="DEPTH_STENCIL",e[e["RENDERBUFFER_WIDTH"]=36162]="RENDERBUFFER_WIDTH",e[e["RENDERBUFFER_HEIGHT"]=36163]="RENDERBUFFER_HEIGHT",e[e["RENDERBUFFER_INTERNAL_FORMAT"]=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e["RENDERBUFFER_RED_SIZE"]=36176]="RENDERBUFFER_RED_SIZE",e[e["RENDERBUFFER_GREEN_SIZE"]=36177]="RENDERBUFFER_GREEN_SIZE",e[e["RENDERBUFFER_BLUE_SIZE"]=36178]="RENDERBUFFER_BLUE_SIZE",e[e["RENDERBUFFER_ALPHA_SIZE"]=36179]="RENDERBUFFER_ALPHA_SIZE",e[e["RENDERBUFFER_DEPTH_SIZE"]=36180]="RENDERBUFFER_DEPTH_SIZE",e[e["RENDERBUFFER_STENCIL_SIZE"]=36181]="RENDERBUFFER_STENCIL_SIZE",e[e["FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE"]=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e["FRAMEBUFFER_ATTACHMENT_OBJECT_NAME"]=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e["FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL"]=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e["FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE"]=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e["COLOR_ATTACHMENT0"]=36064]="COLOR_ATTACHMENT0",e[e["DEPTH_ATTACHMENT"]=36096]="DEPTH_ATTACHMENT",e[e["STENCIL_ATTACHMENT"]=36128]="STENCIL_ATTACHMENT",e[e["DEPTH_STENCIL_ATTACHMENT"]=33306]="DEPTH_STENCIL_ATTACHMENT",e[e["NONE"]=0]="NONE",e[e["FRAMEBUFFER_COMPLETE"]=36053]="FRAMEBUFFER_COMPLETE",e[e["FRAMEBUFFER_INCOMPLETE_ATTACHMENT"]=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e["FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT"]=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e["FRAMEBUFFER_INCOMPLETE_DIMENSIONS"]=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e["FRAMEBUFFER_UNSUPPORTED"]=36061]="FRAMEBUFFER_UNSUPPORTED",e[e["FRAMEBUFFER_BINDING"]=36006]="FRAMEBUFFER_BINDING",e[e["RENDERBUFFER_BINDING"]=36007]="RENDERBUFFER_BINDING",e[e["MAX_RENDERBUFFER_SIZE"]=34024]="MAX_RENDERBUFFER_SIZE",e[e["INVALID_FRAMEBUFFER_OPERATION"]=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e["UNPACK_FLIP_Y_WEBGL"]=37440]="UNPACK_FLIP_Y_WEBGL",e[e["UNPACK_PREMULTIPLY_ALPHA_WEBGL"]=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e["CONTEXT_LOST_WEBGL"]=37442]="CONTEXT_LOST_WEBGL",e[e["UNPACK_COLORSPACE_CONVERSION_WEBGL"]=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e["BROWSER_DEFAULT_WEBGL"]=37444]="BROWSER_DEFAULT_WEBGL"}(r||(r={}))},o0kM:function(e,t,n){"use strict";var r=n("5wUe");function i(){var e=n("q1tI");return i=function(){return e},e}function o(e,t){return l(e)||c(e,t)||s(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function l(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var f,p="https://riddle.alibaba-inc.com/riddles/define",h=function(){var e=(0,i().useState)(Boolean(f)),t=o(e,2),n=t[0],r=t[1];return(0,i().useEffect)((function(){if(void 0===f){var e=document.createElement("img");setTimeout((function(){e.src="",e.remove()}),200),e.onload=function(){f=!0,r(!0),e.remove()},e.src="https://private-alipayobjects.alipay.com/alipay-rmsdeploy-image/rmsportal/RKuAiriJqrUhyqW.png"}}),[]),n};function d(e){var t,n=e.dependencies,r=e.sources._.tsx||e.sources._.jsx;return r=r.replace(/^/,"import ReactDOM from 'react-dom@".concat((null===(t=n.react)||void 0===t?void 0:t.version)||"latest","';\n")).replace("export default","const DumiDemo =").concat("\nReactDOM.render(<DumiDemo />, mountNode);"),r=r.replace(/(from ')((?:@[^/'"]+)?[^/'"]+)/g,(function(e,t,r){var i="".concat(t).concat(r);return n[r]&&(i+="@".concat(n[r].version)),i})),r}var m=function(e){var t=(0,i().useState)(),n=o(t,2),a=n[0],s=n[1],u=h();return(0,i().useEffect)((function(){if(e&&u&&1===Object.keys(e.sources).length){var t=document.createElement("form"),n=document.createElement("input");return t.method="POST",t.target="_blank",t.style.display="none",t.action=p,t.appendChild(n),t.setAttribute("data-demo",e.title||""),n.name="data",n.value=JSON.stringify({title:e.titlle,js:d(e),css:Object.entries(e.dependencies).filter((function(e){var t=r(e,2),n=t[1];return n.css})).map((function(e){var t=r(e,2),n=t[0],i=t[1],o=i.version,a=i.css;return"@import '~".concat(a.replace(new RegExp("^(".concat(n,")")),"$1@".concat(o)),"';")})).join("\n")}),document.body.appendChild(t),s((function(){return function(){return t.submit()}})),function(){return t.remove()}}}),[e,u]),a};t["default"]=m},o0o1:function(e,t,n){e.exports=n("VWci")},"oCl/":function(e,t,n){var r=n("CH3K"),i=n("LcsW"),o=n("MvSz"),a=n("0ycA"),s=Object.getOwnPropertySymbols,u=s?function(e){var t=[];while(e)r(t,o(e)),e=i(e);return t}:a;e.exports=u},oJGl:function(e,t,n){var r=n("MMxC"),i=n("aF2d");r({target:"WeakMap",stat:!0},{from:i})},oNNP:function(e,t,n){"use strict";var r=n("D3zA");e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},oPmN:function(e,t,n){"use strict";var r=n("q1tI");n("45oE"),r["useEffect"]},oShl:function(e,t,n){var r=n("Nsbk"),i=n("SksO"),o=n("xfeJ"),a=n("sXyB");function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports["default"]=e.exports,e.exports.__esModule=!0,s(t)}e.exports=s,e.exports["default"]=e.exports,e.exports.__esModule=!0},oTYp:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r,i,o,a=n("yG8O"),s=n.n(a),u=n("lwsE"),c=n.n(u),l=n("W8MJ"),f=n.n(l),p=n("lSNA"),h=n.n(p),d=n("U+yc"),m=n.n(d),v=(n("1ABj"),n("h1nZ"));function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=(r=Object(v["lazyInject"])(v["TYPES"].IGlobalConfigService),i=function(){function e(t){c()(this,e),s()(this,"configService",o,this),h()(this,"config",void 0),this.config=t}return f()(e,[{key:"setContainer",value:function(e,t){e.bind(v["TYPES"].MapConfig).toConstantValue(g(g({},this.config),{},{id:t})),e.bind(v["TYPES"].IMapService).to(this.getServiceConstructor()).inSingletonScope()}},{key:"getServiceConstructor",value:function(){throw new Error("Method not implemented.")}}]),e}(),o=m()(i.prototype,"configService",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i)},oYEA:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("7BAe"),s=n("PPXv"),u=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{every:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return!u(n,(function(e,n){if(!r(n,e,t))return u.stop()}),void 0,!0,!0).stopped}})},oa35:function(e,t,n){var r=n("m0kY"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},oaX6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var r=n("xfSm"),i=n("GXnB"),o=n("Ztfv");function a(e){return function(t,n,a){var s=new i.Metadata(r.NAME_TAG,e);o.tagParameter(t,n,a,s)}}t.targetName=a},or5M:function(e,t,n){var r=n("1hJj"),i=n("QoRX"),o=n("xYSL"),a=1,s=2;function u(e,t,n,u,c,l){var f=n&a,p=e.length,h=t.length;if(p!=h&&!(f&&h>p))return!1;var d=l.get(e),m=l.get(t);if(d&&m)return d==t&&m==e;var v=-1,y=!0,g=n&s?new r:void 0;l.set(e,t),l.set(t,e);while(++v<p){var b=e[v],x=t[v];if(u)var _=f?u(x,b,v,t,e,l):u(b,x,v,e,t,l);if(void 0!==_){if(_)continue;y=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(b===e||c(b,e,n,u,l)))return g.push(t)}))){y=!1;break}}else if(b!==x&&!c(b,x,n,u,l)){y=!1;break}}return l["delete"](e),l["delete"](t),y}e.exports=u},"otv/":function(e,t,n){var r=n("nmnc"),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;function a(e){return o?Object(o.call(e)):{}}e.exports=a},"oy+k":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n("d9O0"),i=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},p1ln:function(e,t,n){var r=n("MMxC"),i=n("qitQ");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},p5yU:function(e,t,n){var r=n("MMxC"),i=n("ukPv"),o=n("m3pO"),a=n("UwrT"),s=i.process,u="process"==a(s);r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=u&&s.domain;o(t?t.bind(e):e)}})},p6E5:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("+X1D");r({target:"WeakSet",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},pFRH:function(e,t,n){var r=n("cvCv"),i=n("O0oS"),o=n("zZ0H"),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},pSRY:function(e,t,n){var r=n("QkVE");function i(e){return r(this,e).has(e)}e.exports=i},pW3P:function(e,t,n){"use strict";var r=n("MMxC"),i=n("cT1L"),o=n("LUyE"),a=n("WJ3H"),s=n("IuhT");r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=o.f(t),r=n.resolve,u=n.reject,c=a((function(){var n=i(t.resolve),o=[],a=0,u=1;s(e,(function(e){var i=a++,s=!1;o.push(void 0),u++,n.call(t,e).then((function(e){s||(s=!0,o[i]={status:"fulfilled",value:e},--u||r(o))}),(function(e){s||(s=!0,o[i]={status:"rejected",reason:e},--u||r(o))}))})),--u||r(o)}));return c.error&&u(c.value),n.promise}})},pb5k:function(e,t,n){var r=n("ukPv"),i=n("TMUv"),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},q1tI:function(e,t,n){"use strict";e.exports=n("viRO")},q3YX:function(e){e.exports=JSON.parse('{"menus":{"en-US":{"*":[{"path":"/","title":"react","meta":{"order":null}},{"path":"/start","title":"\u5feb\u901f\u5f00\u59cb","meta":{"order":0}},{"path":"/scene","title":"Scene \u7ec4\u4ef6","meta":{"order":1}},{"path":"/layer","title":"Layer \u7ec4\u4ef6","meta":{"order":2}},{"path":"/marker","title":"Marker \u7ec4\u4ef6","meta":{"order":3}},{"path":"/popup","title":"Popup \u7ec4\u4ef6","meta":{"order":4}},{"title":"Demo","path":"/demo","meta":{},"children":[{"path":"/demo","title":"Hello react!","meta":{}},{"path":"/demo/amap2","title":"\u9ad8\u5fb7\u5730\u56fe V2!","meta":{}},{"path":"/demo/image-layer","title":"\u56fe\u7247\u56fe\u5c42","meta":{}},{"path":"/demo/layer","title":"\u56fe\u5c42\u63a7\u4ef6","meta":{}},{"path":"/demo/popup","title":"\u4fe1\u606f\u6846","meta":{}}]}]}},"locales":[{"name":"en-US","label":"English"}],"navs":{},"title":"react","logo":"https://user-images.githubusercontent.com/9554297/83762004-a0761b00-a6a9-11ea-83b4-9c8ff721d4b8.png","mode":"doc","repository":{"url":"https://github.com/antvis/L7-react","branch":"master"},"theme":{}}')},qA1w:function(e,t,n){"use strict";e.exports=function(){var e=arguments.length,t=new Array(e);while(e--)t[e]=arguments[e];return new this(t)}},qHiR:function(e,t,n){},qK8v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var r=n("MON2");function i(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}t.isStackOverflowExeption=i},qRkn:function(e,t,n){var r=n("3cYt"),i={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"},o=r(i);e.exports=o},qT12:function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol["for"],i=r?Symbol["for"]("react.element"):60103,o=r?Symbol["for"]("react.portal"):60106,a=r?Symbol["for"]("react.fragment"):60107,s=r?Symbol["for"]("react.strict_mode"):60108,u=r?Symbol["for"]("react.profiler"):60114,c=r?Symbol["for"]("react.provider"):60109,l=r?Symbol["for"]("react.context"):60110,f=r?Symbol["for"]("react.async_mode"):60111,p=r?Symbol["for"]("react.concurrent_mode"):60111,h=r?Symbol["for"]("react.forward_ref"):60112,d=r?Symbol["for"]("react.suspense"):60113,m=r?Symbol["for"]("react.suspense_list"):60120,v=r?Symbol["for"]("react.memo"):60115,y=r?Symbol["for"]("react.lazy"):60116,g=r?Symbol["for"]("react.block"):60121,b=r?Symbol["for"]("react.fundamental"):60117,x=r?Symbol["for"]("react.responder"):60118,_=r?Symbol["for"]("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type,e){case f:case p:case a:case u:case s:case d:return e;default:switch(e=e&&e.$$typeof,e){case l:case h:case y:case v:case c:return e;default:return t}}case o:return t}}}function S(e){return w(e)===p}t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=d,t.isAsyncMode=function(e){return S(e)||w(e)===f},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===p||e===u||e===s||e===d||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===b||e.$$typeof===x||e.$$typeof===_||e.$$typeof===g)},t.typeOf=w},qZTm:function(e,t,n){var r=n("fR/l"),i=n("MvSz"),o=n("7GkX");function a(e){return r(e,o,i)}e.exports=a},qcmB:function(e,t,n){var r=n("f1E4"),i=n("9SZg");e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},qhky:function(e,t,n){"use strict";(function(e){var t=n("17x9"),r=n.n(t),i=n("8+s/"),o=n.n(i),a=n("bmMU"),s=n.n(a),u=n("q1tI"),c=n.n(u),l=n("MgzW"),f=n.n(l),p={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},h={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},d=(Object.keys(h).map((function(e){return h[e]})),{CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"}),m={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},v={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},y=Object.keys(m).reduce((function(e,t){return e[m[t]]=t,e}),{}),g=[h.NOSCRIPT,h.SCRIPT,h.STYLE],b="data-react-helmet",x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},E=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},k=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},C=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},j=function(e){var t=I(e,h.TITLE),n=I(e,v.TITLE_TEMPLATE);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var r=I(e,v.DEFAULT_TITLE);return t||r||void 0},T=function(e){return I(e,v.ON_CHANGE_CLIENT_STATE)||function(){}},A=function(e,t){return t.filter((function(t){return"undefined"!==typeof t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return S({},e,t)}),{})},P=function(e,t){return t.filter((function(e){return"undefined"!==typeof e[h.BASE]})).map((function(e){return e[h.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i],a=o.toLowerCase();if(-1!==e.indexOf(a)&&n[a])return t.concat(n)}return t}),[])},M=function(e,t,n){var r={};return n.filter((function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&F("Helmet: "+e+' should be of type "Array". Instead found type "'+x(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var i={};n.filter((function(e){for(var n=void 0,o=Object.keys(e),a=0;a<o.length;a++){var s=o[a],u=s.toLowerCase();-1===t.indexOf(u)||n===d.REL&&"canonical"===e[n].toLowerCase()||u===d.REL&&"stylesheet"===e[u].toLowerCase()||(n=u),-1===t.indexOf(s)||s!==d.INNER_HTML&&s!==d.CSS_TEXT&&s!==d.ITEM_PROP||(n=s)}if(!n||!e[n])return!1;var c=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][c]&&(i[n][c]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],u=f()({},r[s],i[s]);r[s]=u}return e}),[]).reverse()},I=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},L=function(e){return{baseTag:P([d.HREF,d.TARGET],e),bodyAttributes:A(p.BODY,e),defer:I(e,v.DEFER),encode:I(e,v.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:A(p.HTML,e),linkTags:M(h.LINK,[d.REL,d.HREF],e),metaTags:M(h.META,[d.NAME,d.CHARSET,d.HTTPEQUIV,d.PROPERTY,d.ITEM_PROP],e),noscriptTags:M(h.NOSCRIPT,[d.INNER_HTML],e),onChangeClientState:T(e),scriptTags:M(h.SCRIPT,[d.SRC,d.INNER_HTML],e),styleTags:M(h.STYLE,[d.CSS_TEXT],e),title:j(e),titleAttributes:A(p.TITLE,e)}},R=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout((function(){R(t)}),0)}}(),D=function(e){return clearTimeout(e)},N="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||R:e.requestAnimationFrame||R,z="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||D:e.cancelAnimationFrame||D,F=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},B=null,U=function(e){B&&z(B),e.defer?B=N((function(){V(e,(function(){B=null}))})):(V(e),B=null)},V=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,s=e.noscriptTags,u=e.onChangeClientState,c=e.scriptTags,l=e.styleTags,f=e.title,p=e.titleAttributes;G(h.BODY,r),G(h.HTML,i),q(f,p);var d={baseTag:W(h.BASE,n),linkTags:W(h.LINK,o),metaTags:W(h.META,a),noscriptTags:W(h.NOSCRIPT,s),scriptTags:W(h.SCRIPT,c),styleTags:W(h.STYLE,l)},m={},v={};Object.keys(d).forEach((function(e){var t=d[e],n=t.newTags,r=t.oldTags;n.length&&(m[e]=n),r.length&&(v[e]=d[e].oldTags)})),t&&t(),u(e,m,v)},H=function(e){return Array.isArray(e)?e.join(""):e},q=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=H(e)),G(h.TITLE,t)},G=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(b),i=r?r.split(","):[],o=[].concat(i),a=Object.keys(t),s=0;s<a.length;s++){var u=a[s],c=t[u]||"";n.getAttribute(u)!==c&&n.setAttribute(u,c),-1===i.indexOf(u)&&i.push(u);var l=o.indexOf(u);-1!==l&&o.splice(l,1)}for(var f=o.length-1;f>=0;f--)n.removeAttribute(o[f]);i.length===o.length?n.removeAttribute(b):n.getAttribute(b)!==a.join(",")&&n.setAttribute(b,a.join(","))}},W=function(e,t){var n=document.head||document.querySelector(h.HEAD),r=n.querySelectorAll(e+"["+b+"]"),i=Array.prototype.slice.call(r),o=[],a=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===d.INNER_HTML)n.innerHTML=t.innerHTML;else if(r===d.CSS_TEXT)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var s="undefined"===typeof t[r]?"":t[r];n.setAttribute(r,s)}n.setAttribute(b,"true"),i.some((function(e,t){return a=t,n.isEqualNode(e)}))?i.splice(a,1):o.push(n)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),o.forEach((function(e){return n.appendChild(e)})),{oldTags:i,newTags:o}},Z=function(e){return Object.keys(e).reduce((function(t,n){var r="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},Y=function(e,t,n,r){var i=Z(n),o=H(t);return i?"<"+e+" "+b+'="true" '+i+">"+C(o,r)+"</"+e+">":"<"+e+" "+b+'="true">'+C(o,r)+"</"+e+">"},X=function(e,t,n){return t.reduce((function(t,r){var i=Object.keys(r).filter((function(e){return!(e===d.INNER_HTML||e===d.CSS_TEXT)})).reduce((function(e,t){var i="undefined"===typeof r[t]?t:t+'="'+C(r[t],n)+'"';return e?e+" "+i:i}),""),o=r.innerHTML||r.cssText||"",a=-1===g.indexOf(e);return t+"<"+e+" "+b+'="true" '+i+(a?"/>":">"+o+"</"+e+">")}),"")},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[m[n]||n]=e[n],t}),t)},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[y[n]||n]=e[n],t}),t)},Q=function(e,t,n){var r,i=(r={key:t},r[b]=!0,r),o=K(n,i);return[c.a.createElement(h.TITLE,o,t)]},$=function(e,t){return t.map((function(t,n){var r,i=(r={key:n},r[b]=!0,r);return Object.keys(t).forEach((function(e){var n=m[e]||e;if(n===d.INNER_HTML||n===d.CSS_TEXT){var r=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:r}}else i[n]=t[e]})),c.a.createElement(e,i)}))},ee=function(e,t,n){switch(e){case h.TITLE:return{toComponent:function(){return Q(e,t.title,t.titleAttributes,n)},toString:function(){return Y(e,t.title,t.titleAttributes,n)}};case p.BODY:case p.HTML:return{toComponent:function(){return K(t)},toString:function(){return Z(t)}};default:return{toComponent:function(){return $(e,t)},toString:function(){return X(e,t,n)}}}},te=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,s=e.noscriptTags,u=e.scriptTags,c=e.styleTags,l=e.title,f=void 0===l?"":l,d=e.titleAttributes;return{base:ee(h.BASE,t,r),bodyAttributes:ee(p.BODY,n,r),htmlAttributes:ee(p.HTML,i,r),link:ee(h.LINK,o,r),meta:ee(h.META,a,r),noscript:ee(h.NOSCRIPT,s,r),script:ee(h.SCRIPT,u,r),style:ee(h.STYLE,c,r),title:ee(h.TITLE,{title:f,titleAttributes:d},r)}},ne=function(e){var t,n;return n=t=function(t){function n(){return _(this,n),k(this,t.apply(this,arguments))}return O(n,t),n.prototype.shouldComponentUpdate=function(e){return!s()(this.props,e)},n.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case h.SCRIPT:case h.NOSCRIPT:return{innerHTML:t};case h.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},n.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,o=e.nestedChildren;return S({},r,(t={},t[n.type]=[].concat(r[n.type]||[],[S({},i,this.mapNestedChildrenToProps(n,o))]),t))},n.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,o=e.newChildProps,a=e.nestedChildren;switch(r.type){case h.TITLE:return S({},i,(t={},t[r.type]=a,t.titleAttributes=S({},o),t));case h.BODY:return S({},i,{bodyAttributes:S({},o)});case h.HTML:return S({},i,{htmlAttributes:S({},o)})}return S({},i,(n={},n[r.type]=S({},o),n))},n.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=S({},t);return Object.keys(e).forEach((function(t){var r;n=S({},n,(r={},r[t]=e[t],r))})),n},n.prototype.warnOnInvalidChildren=function(e,t){return!0},n.prototype.mapChildrenToProps=function(e,t){var n=this,r={};return c.a.Children.forEach(e,(function(e){if(e&&e.props){var i=e.props,o=i.children,a=E(i,["children"]),s=J(a);switch(n.warnOnInvalidChildren(e,o),e.type){case h.LINK:case h.META:case h.NOSCRIPT:case h.SCRIPT:case h.STYLE:r=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:r,newChildProps:s,nestedChildren:o});break;default:t=n.mapObjectTypeChildren({child:e,newProps:t,newChildProps:s,nestedChildren:o});break}}})),t=this.mapArrayTypeChildrenToProps(r,t),t},n.prototype.render=function(){var t=this.props,n=t.children,r=E(t,["children"]),i=S({},r);return n&&(i=this.mapChildrenToProps(n,i)),c.a.createElement(e,i)},w(n,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),n}(c.a.Component),t.propTypes={base:r.a.object,bodyAttributes:r.a.object,children:r.a.oneOfType([r.a.arrayOf(r.a.node),r.a.node]),defaultTitle:r.a.string,defer:r.a.bool,encodeSpecialCharacters:r.a.bool,htmlAttributes:r.a.object,link:r.a.arrayOf(r.a.object),meta:r.a.arrayOf(r.a.object),noscript:r.a.arrayOf(r.a.object),onChangeClientState:r.a.func,script:r.a.arrayOf(r.a.object),style:r.a.arrayOf(r.a.object),title:r.a.string,titleAttributes:r.a.object,titleTemplate:r.a.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var t=e.rewind();return t||(t=te({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},n},re=function(){return null},ie=o()(L,U,te)(re),oe=ne(ie);oe.renderStatic=oe.rewind}).call(this,n("IyRk"))},qitQ:function(e,t,n){"use strict";var r=n("tny8"),i=n("MVys"),o=n("P0e2"),a=n("kyO0"),s=n("e3V2"),u=n("cTDu"),c=n("EzR6"),l=Object.assign,f=Object.defineProperty;e.exports=!l||i((function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||o(l({},t)).join("")!=i}))?function(e,t){var n=u(e),i=arguments.length,l=1,f=a.f,p=s.f;while(i>l){var h,d=c(arguments[l++]),m=f?o(d).concat(f(d)):o(d),v=m.length,y=0;while(v>y)h=m[y++],r&&!p.call(d,h)||(n[h]=d[h])}return n}:l},qkSU:function(e,t,n){"use strict";var r=n("MMxC"),i=n("LUyE"),o=n("WJ3H");r({target:"Promise",stat:!0},{try:function(e){var t=i.f(this),n=o(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},quHW:function(e,t,n){var r=n("MMxC"),i=n("29mP"),o=n("cT1L"),a=n("f1E4"),s=n("MVys"),u=i("Reflect","apply"),c=Function.apply,l=!s((function(){u((function(){}))}));r({target:"Reflect",stat:!0,forced:l},{apply:function(e,t,n){return o(e),a(n),u?u(e,t,n):c.call(e,t,n)}})},quyA:function(e,t){var n="\\ud800-\\udfff",r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",a=r+i+o,s="\\ufe0e\\ufe0f",u="\\u200d",c=RegExp("["+u+n+a+s+"]");function l(e){return c.test(e)}e.exports=l},qwGt:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),i=n.n(r),o=i.a.createContext({})},qxNg:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("lSNA"),i=n.n(r),o=n("mpbz"),a=n.n(o);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){var n=t.radius,r=void 0===n?40:n,i=t.maxZoom,o=void 0===i?18:i,s=t.minZoom,c=void 0===s?0:s,f=t.zoom,p=void 0===f?2:f;if(e.pointIndex){var h=e.pointIndex.getClusters(e.extent,Math.floor(p));return e.dataArray=l(h),e}var d=new a.a({radius:r,minZoom:c,maxZoom:o}),m={type:"FeatureCollection",features:[]};return m.features=e.dataArray.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:e.coordinates},properties:u({},e)}})),d.load(m.features),d}function l(e){return e.map((function(e,t){return u({coordinates:e.geometry.coordinates,_id:t+1},e.properties)}))}},r1Q5:function(e,t,n){"use strict";var r=n("5wUe");function i(){var e=n("q1tI");return i=function(){return e},e}function o(){var e=a(n("6xEa"));return o=function(){return e},e}function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return p(e)||f(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function p(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var h="https://codesandbox.io/api/v1/sandboxes/define";function d(e){return o()["default"].compressToBase64(JSON.stringify(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function m(e){var t=document.createElement("span");t.innerHTML=e;var n=t.textContent;return t.remove(),n}function v(e){var t=Boolean(e.sources._.tsx),n=t?".tsx":".jsx",i={},o={},a=Object.values(e.dependencies).filter((function(e){return e.css})),s="App".concat(n),u="index".concat(n);return Object.entries(e.dependencies).forEach((function(e){var t=r(e,2),n=t[0],i=t[1].version;o[n]=i})),o["react-dom"]||(o["react-dom"]=o.react||"latest"),i["sandbox.config.json"]={content:JSON.stringify({template:t?"create-react-app-typescript":"create-react-app"},null,2)},i["package.json"]={content:JSON.stringify({name:e.title,description:m(e.description)||"An auto-generated demo by dumi",main:u,dependencies:o,devDependencies:t?{typescript:"^3"}:{}},null,2)},i["index.html"]={content:'<div style="margin: 16px;" id="root"></div>'},i[u]={content:"/**\n* This is an auto-generated demo by dumi\n* if you think it is not working as expected,\n* please report the issue at\n* https://github.com/umijs/dumi/issues\n**/\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n".concat(a.map((function(e){var t=e.css;return"import '".concat(t,"';")})).join("\n"),"\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);")},Object.entries(e.sources).forEach((function(e){var t=r(e,2),n=t[0],o=t[1],a=o.tsx,u=o.jsx,c=o.content;i["_"===n?s:n]={content:a||u||c}})),d({files:i})}var y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=(0,i().useState)(),r=s(n,2),o=r[0],a=r[1];return(0,i().useEffect)((function(){if(e){var n=document.createElement("form"),r=document.createElement("input"),i=v(e);return n.method="POST",n.target="_blank",n.style.display="none",n.action=t,n.appendChild(r),n.setAttribute("data-demo",e.title||""),r.name="parameters",r.value=i,document.body.appendChild(n),a((function(){return function(){return n.submit()}})),function(){return n.remove()}}}),[e]),o};t["default"]=y},rEGp:function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}e.exports=n},rSSe:function(e,t,n){},rUU2:function(e,t,n){"use strict";var r=n("ENif"),i=n("f1E4"),o=n("cTDu"),a=n("oa35"),s=n("m0kY"),u=n("FCfD"),c=n("xH5X"),l=n("dagG"),f=Math.max,p=Math.min,h=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,v=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,n,r){var y=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=r.REPLACE_KEEPS_$0,b=y?"$":"$0";return[function(n,r){var i=u(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!y&&g||"string"===typeof r&&-1===r.indexOf(b)){var o=n(t,e,this,r);if(o.done)return o.value}var u=i(e),h=String(this),d="function"===typeof r;d||(r=String(r));var m=u.global;if(m){var _=u.unicode;u.lastIndex=0}var w=[];while(1){var S=l(u,h);if(null===S)break;if(w.push(S),!m)break;var O=String(S[0]);""===O&&(u.lastIndex=c(h,a(u.lastIndex),_))}for(var E="",k=0,C=0;C<w.length;C++){S=w[C];for(var j=String(S[0]),T=f(p(s(S.index),h.length),0),A=[],P=1;P<S.length;P++)A.push(v(S[P]));var M=S.groups;if(d){var I=[j].concat(A,T,h);void 0!==M&&I.push(M);var L=String(r.apply(void 0,I))}else L=x(j,h,T,A,M,r);T>=k&&(E+=h.slice(k,T)+L,k=T+j.length)}return E+h.slice(k)}];function x(e,n,r,i,a,s){var u=r+e.length,c=i.length,l=m;return void 0!==a&&(a=o(a),l=d),t.call(s,l,(function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return t;if(l>c){var f=h(l/10);return 0===f?t:f<=c?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):t}s=i[l-1]}return void 0===s?"":s}))}}))},rVgK:function(e,t,n){"use strict";var r=n("MMxC"),i=n("eYKs").charAt;r({target:"String",proto:!0},{at:function(e){return i(this,e)}})},"rb3/":function(e,t,n){"use strict";n.r(t);var r=n("k1fw"),i=n("q1tI"),o=n.n(i),a=n("dEAq"),s=n("Zxc8"),u=n("Rsk4"),c=n("nKUr"),l=o.a.memo(u["default"]["docs-popup"].component);t["default"]=e=>(o.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),Object(c["jsx"])(c["Fragment"],{children:Object(c["jsxs"])(o.a.Fragment,{children:[Object(c["jsx"])("div",{className:"markdown",children:Object(c["jsxs"])("h2",{id:"\u4fe1\u606f\u6846",children:[Object(c["jsx"])(a["AnchorLink"],{to:"#\u4fe1\u606f\u6846","aria-hidden":"true",tabIndex:-1,children:Object(c["jsx"])("span",{className:"icon icon-link"})}),"\u4fe1\u606f\u6846"]})}),Object(c["jsx"])(s["default"],Object(r["a"])(Object(r["a"])({},u["default"]["docs-popup"].previewerProps),{},{children:Object(c["jsx"])(l,{})}))]})}))},rePB:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},"rhT+":function(e,t){function n(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}e.exports=n},riiI:function(e,t){},rjJZ:function(e,t,n){var r=n("YON3");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},rlAn:function(e,t,n){"use strict";var r=n("ISu3"),i=n("gMG2"),o=n("5gLl"),a=n("BpBL"),s=n("5zYK"),u=n("lJbI"),c=n("l94r"),l=n("qxNg"),f=n("Y8BV"),p=n("VIsB"),h=n("+VLl"),d=n("aF1E"),m=n("fdMe");n.d(t,"getTransform",(function(){return r["b"]})),n.d(t,"getParser",(function(){return r["a"]}));n("U1ZX");t["default"]=c["a"],Object(r["c"])("geojson",o["a"]),Object(r["c"])("image",a["a"]),Object(r["c"])("csv",i["a"]),Object(r["c"])("json",s["a"]),Object(r["c"])("raster",u["a"]),Object(r["d"])("cluster",l["a"]),Object(r["d"])("filter",f["a"]),Object(r["d"])("join",d["a"]),Object(r["d"])("map",m["a"]),Object(r["d"])("grid",p["a"]),Object(r["d"])("hexagon",h["a"])},rn5R:function(e,t,n){var r=n("ukPv"),i=n("mTKU").trim,o=n("Tfd0"),a=r.parseFloat,s=1/a(o+"-0")!==-1/0;e.exports=s?function(e){var t=i(String(e)),n=a(t);return 0===n&&"-"==t.charAt(0)?-0:n}:a},rpUR:function(e,t,n){"use strict";var r=n("MMxC"),i=n("g8rt").f,o=n("oa35"),a=n("rjJZ"),s=n("FCfD"),u=n("C7V6"),c=n("Zcjx"),l="".endsWith,f=Math.min,p=u("endsWith"),h=!c&&!p&&!!function(){var e=i(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!h&&!p},{endsWith:function(e){var t=String(s(this));a(e);var n=arguments.length>1?arguments[1]:void 0,r=o(t.length),i=void 0===n?r:f(o(n),r),u=String(e);return l?l.call(t,u,i):t.slice(i-u.length,i)===u}})},rxlC:function(e,t,n){"use strict";e.exports=i,e.exports["default"]=i;var r=1e20;function i(e,t,n,r,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer,s=a+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function o(e,t,n,i,o,a,s){a.fill(r,0,t*n),s.fill(0,0,t*n);for(var u=(t-i)/2,c=0;c<o;c++)for(var l=0;l<i;l++){var f=(c+u)*t+l+u,p=e.data[4*(c*i+l)+3]/255;if(1===p)a[f]=0,s[f]=r;else if(0===p)a[f]=r,s[f]=0;else{var h=Math.max(0,.5-p),d=Math.max(0,p-.5);a[f]=h*h,s[f]=d*d}}}function a(e,t,n,r,i,o,a){for(var s=0;s<t*n;s++){var u=Math.sqrt(r[s])-Math.sqrt(i[s]);e[s]=Math.round(255-255*(u/o+a))}}function s(e,t,n,r,i,o){for(var a=0;a<t;a++)u(e,a,t,n,r,i,o);for(var s=0;s<n;s++)u(e,s*t,1,t,r,i,o)}function u(e,t,n,i,o,a,s){var u,c,l,f;for(a[0]=0,s[0]=-r,s[1]=r,u=0;u<i;u++)o[u]=e[t+u*n];for(u=1,c=0,l=0;u<i;u++){do{f=a[c],l=(o[u]-o[f]+u*u-f*f)/(u-f)/2}while(l<=s[c]&&--c>-1);c++,a[c]=u,s[c]=l,s[c+1]=r}for(u=0,c=0;u<i;u++){while(s[c+1]<u)c++;f=a[c],e[t+u*n]=o[f]+(u-f)*(u-f)}}i.prototype._draw=function(e,t){var n,r,i,u,c,l,f,p,h,d=this.ctx.measureText(e),m=d.width,v=2*this.buffer;t&&this.useMetrics?(c=Math.floor(d.actualBoundingBoxAscent),p=this.buffer+Math.ceil(d.actualBoundingBoxAscent),l=this.buffer,f=this.buffer,r=Math.min(this.size,Math.ceil(d.actualBoundingBoxRight-d.actualBoundingBoxLeft)),u=Math.min(this.size-l,Math.ceil(d.actualBoundingBoxAscent+d.actualBoundingBoxDescent)),n=r+v,i=u+v,this.ctx.textBaseline="alphabetic"):(n=r=this.size,i=u=this.size,c=19*this.fontSize/24,l=f=0,p=this.middle,this.ctx.textBaseline="middle"),r&&u&&(this.ctx.clearRect(f,l,r,u),this.ctx.fillText(e,this.buffer,p),h=this.ctx.getImageData(f,l,r,u));var y=new Uint8ClampedArray(n*i);return o(h,n,i,r,u,this.gridOuter,this.gridInner),s(this.gridOuter,n,i,this.f,this.v,this.z),s(this.gridInner,n,i,this.f,this.v,this.z),a(y,n,i,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:y,metrics:{width:r,height:u,sdfWidth:n,sdfHeight:i,top:c,left:0,advance:m}}},i.prototype.draw=function(e){return this._draw(e,!1).data},i.prototype.drawWithMetrics=function(e){return this._draw(e,!0)}},s00F:function(e,t,n){var r=n("I65O");r("dispose")},s1ay:function(e,t,n){"use strict";var r,i,o,a,s=n("MMxC"),u=n("Zcjx"),c=n("ukPv"),l=n("29mP"),f=n("b6st"),p=n("NMFW"),h=n("ujhg"),d=n("kiNa"),m=n("ssJt"),v=n("tSXo"),y=n("cT1L"),g=n("igoe"),b=n("UwrT"),x=n("J3Yn"),_=n("IuhT"),w=n("GPrf"),S=n("/dTS"),O=n("C3pJ").set,E=n("m3pO"),k=n("U8/t"),C=n("dnEI"),j=n("LUyE"),T=n("WJ3H"),A=n("1aI8"),P=n("kkxG"),M=n("2kyd"),I=n("hRxt"),L=M("species"),R="Promise",D=A.get,N=A.set,z=A.getterFor(R),F=f,B=c.TypeError,U=c.document,V=c.process,H=l("fetch"),q=j.f,G=q,W="process"==b(V),Z=!!(U&&U.createEvent&&c.dispatchEvent),Y="unhandledrejection",X="rejectionhandled",K=0,J=1,Q=2,$=1,ee=2,te=P(R,(function(){var e=x(F)!==String(F);if(!e){if(66===I)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!F.prototype["finally"])return!0;if(I>=51&&/native code/.test(F))return!1;var t=F.resolve(1),n=function(e){e((function(){}),(function(){}))},r=t.constructor={};return r[L]=n,!(t.then((function(){}))instanceof n)})),ne=te||!w((function(e){F.all(e)["catch"]((function(){}))})),re=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;E((function(){var i=t.value,o=t.state==J,a=0;while(r.length>a){var s,u,c,l=r[a++],f=o?l.ok:l.fail,p=l.resolve,h=l.reject,d=l.domain;try{f?(o||(t.rejection===ee&&ue(e,t),t.rejection=$),!0===f?s=i:(d&&d.enter(),s=f(i),d&&(d.exit(),c=!0)),s===l.promise?h(B("Promise-chain cycle")):(u=re(s))?u.call(s,p,h):p(s)):h(i)}catch(m){d&&!c&&d.exit(),h(m)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&ae(e,t)}))}},oe=function(e,t,n){var r,i;Z?(r=U.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},(i=c["on"+e])?i(r):e===Y&&C("Unhandled promise rejection",n)},ae=function(e,t){O.call(c,(function(){var n,r=t.value,i=se(t);if(i&&(n=T((function(){W?V.emit("unhandledRejection",r,e):oe(Y,e,r)})),t.rejection=W||se(t)?ee:$,n.error))throw n.value}))},se=function(e){return e.rejection!==$&&!e.parent},ue=function(e,t){O.call(c,(function(){W?V.emit("rejectionHandled",e):oe(X,e,t.value)}))},ce=function(e,t,n,r){return function(i){e(t,n,i,r)}},le=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=Q,ie(e,t,!0))},fe=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw B("Promise can't be resolved itself");var i=re(n);i?E((function(){var r={done:!1};try{i.call(n,ce(fe,e,r,t),ce(le,e,r,t))}catch(o){le(e,r,o,t)}})):(t.value=n,t.state=J,ie(e,t,!1))}catch(o){le(e,{done:!1},o,t)}}};te&&(F=function(e){g(this,F,R),y(e),r.call(this);var t=D(this);try{e(ce(fe,this,t),ce(le,this,t))}catch(n){le(this,t,n)}},r=function(e){N(this,{type:R,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:K,value:void 0})},r.prototype=h(F.prototype,{then:function(e,t){var n=z(this),r=q(S(this,F));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=W?V.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=K&&ie(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=D(e);this.promise=e,this.resolve=ce(fe,e,t),this.reject=ce(le,e,t)},j.f=q=function(e){return e===F||e===o?new i(e):G(e)},u||"function"!=typeof f||(a=f.prototype.then,p(f.prototype,"then",(function(e,t){var n=this;return new F((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof H&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return k(F,H.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:te},{Promise:F}),d(F,R,!1,!0),m(R),o=l(R),s({target:R,stat:!0,forced:te},{reject:function(e){var t=q(this);return t.reject.call(void 0,e),t.promise}}),s({target:R,stat:!0,forced:u||te},{resolve:function(e){return k(u&&this===o?F:this,e)}}),s({target:R,stat:!0,forced:ne},{all:function(e){var t=this,n=q(t),r=n.resolve,i=n.reject,o=T((function(){var n=y(t.resolve),o=[],a=0,s=1;_(e,(function(e){var u=a++,c=!1;o.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,o[u]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=q(t),r=n.reject,i=T((function(){var i=y(t.resolve);_(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},s4An:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,"a",(function(){return r}))},sEf8:function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},sEfC:function(e,t,n){var r=n("GoyQ"),i=n("QIyF"),o=n("tLB3"),a="Expected a function",s=Math.max,u=Math.min;function c(e,t,n){var c,l,f,p,h,d,m=0,v=!1,y=!1,g=!0;if("function"!=typeof e)throw new TypeError(a);function b(t){var n=c,r=l;return c=l=void 0,m=t,p=e.apply(r,n),p}function x(e){return m=e,h=setTimeout(S,t),v?b(e):p}function _(e){var n=e-d,r=e-m,i=t-n;return y?u(i,f-r):i}function w(e){var n=e-d,r=e-m;return void 0===d||n>=t||n<0||y&&r>=f}function S(){var e=i();if(w(e))return O(e);h=setTimeout(S,_(e))}function O(e){return h=void 0,g&&c?b(e):(c=l=void 0,p)}function E(){void 0!==h&&clearTimeout(h),m=0,c=d=l=h=void 0}function k(){return void 0===h?p:O(i())}function C(){var e=i(),n=w(e);if(c=arguments,l=this,d=e,n){if(void 0===h)return x(d);if(y)return clearTimeout(h),h=setTimeout(S,t),b(d)}return void 0===h&&(h=setTimeout(S,t)),p}return t=o(t)||0,r(n)&&(v=!!n.leading,y="maxWait"in n,f=y?s(o(n.maxWait)||0,t):f,g="trailing"in n?!!n.trailing:g),C.cancel=E,C.flush=k,C}e.exports=c},sXyB:function(e,t,n){var r=n("SksO"),i=n("b48C");function o(t,n,a){return i()?(e.exports=o=Reflect.construct,e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=Function.bind.apply(e,i),a=new o;return n&&r(a,n.prototype),a},e.exports["default"]=e.exports,e.exports.__esModule=!0),o.apply(null,arguments)}e.exports=o,e.exports["default"]=e.exports,e.exports.__esModule=!0},sdAH:function(e,t,n){var r=n("MMxC"),i=Math.hypot,o=Math.abs,a=Math.sqrt,s=!!i&&i(1/0,NaN)!==1/0;r({target:"Math",stat:!0,forced:s},{hypot:function(e,t){var n,r,i=0,s=0,u=arguments.length,c=0;while(s<u)n=o(arguments[s++]),c<n?(r=c/n,i=i*r*r+1,c=n):n>0?(r=n/c,i+=r*r):i+=n;return c===1/0?1/0:c*a(i)}})},seXi:function(e,t,n){var r=n("qZTm"),i=1,o=Object.prototype,a=o.hasOwnProperty;function s(e,t,n,o,s,u){var c=n&i,l=r(e),f=l.length,p=r(t),h=p.length;if(f!=h&&!c)return!1;var d=f;while(d--){var m=l[d];if(!(c?m in t:a.call(t,m)))return!1}var v=u.get(e),y=u.get(t);if(v&&y)return v==t&&y==e;var g=!0;u.set(e,t),u.set(t,e);var b=c;while(++d<f){m=l[d];var x=e[m],_=t[m];if(o)var w=c?o(_,x,m,t,e,u):o(x,_,m,e,t,u);if(!(void 0===w?x===_||s(x,_,n,o,u):w)){g=!1;break}b||(b="constructor"==m)}if(g&&!b){var S=e.constructor,O=t.constructor;S==O||!("constructor"in e)||!("constructor"in t)||"function"==typeof S&&S instanceof S&&"function"==typeof O&&O instanceof O||(g=!1)}return u["delete"](e),u["delete"](t),g}e.exports=s},sgoq:function(e,t,n){var r=n("asDA"),i=n("TKrE"),o=n("6nK8"),a="['\u2019]",s=RegExp(a,"g");function u(e){return function(t){return r(o(i(t).replace(s,"")),e,"")}}e.exports=u},shjB:function(e,t){var n=9007199254740991;function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}e.exports=r},ssJt:function(e,t,n){"use strict";var r=n("29mP"),i=n("YfKC"),o=n("2kyd"),a=n("tny8"),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},sxDa:function(e,t,n){"use strict";n.d(t,"e",(function(){return Yr})),n.d(t,"f",(function(){return ci})),n.d(t,"d",(function(){return Wn})),n.d(t,"a",(function(){return kt})),n.d(t,"c",(function(){return yn})),n.d(t,"g",(function(){return ji})),n.d(t,"b",(function(){return sn}));var r,i,o,a,s,u=n("h1nZ"),c=n("lwsE"),l=n.n(c),f=n("W8MJ"),p=n.n(f),h=n("PJYZ"),d=n.n(h),m=n("7W2i"),v=n.n(m),y=n("a1gu"),g=n.n(y),b=n("Nsbk"),x=n.n(b),_=n("lSNA"),w=n.n(_),S=n("QILm"),O=n.n(S),E=n("yG8O"),k=n.n(E),C=n("U+yc"),j=n.n(C),T=(n("1ABj"),n("GoyQ")),A=n.n(T),P=n("lSCD"),M=n.n(P),I=n("xp6e"),L=n("Hel2"),R=n("uhBA"),D=n("4cb6");n("mNvP");function N(e){return e.map((function(e){return"string"===typeof e&&(e=[e,{}]),e}))}var z,F,B,U,V,H,q=(r=Object(D["injectable"])(),i=Object(D["inject"])(u["TYPES"].IGlobalConfigService),r((a=function(){function e(){l()(this,e),k()(this,"configService",s,this),w()(this,"enabled",void 0)}return p()(e,[{key:"apply",value:function(e,t){var n=this,r=(t.rendererService,t.postProcessingPassFactory),i=t.normalPassFactory;e.hooks.init.tap("MultiPassRendererPlugin",(function(){var t=e.getLayerConfig(),o=t.enableMultiPassRenderer,a=t.passes,s=void 0===a?[]:a;n.enabled=!!o&&!1!==e.getLayerConfig().enableMultiPassRenderer,n.enabled&&(e.multiPassRenderer=n.createMultiPassRenderer(e,s,r,i),e.multiPassRenderer.setRenderFlag(!0))})),e.hooks.beforeRender.tap("MultiPassRendererPlugin",(function(){}))}},{key:"createMultiPassRenderer",value:function(e,t,n,r){var i=e.multiPassRenderer,o=e.getLayerConfig(),a=o.enablePicking;o.enableTAA;return a&&i.add(r("pixelPicking")),i}}]),e}(),s=j()(a.prototype,"configService",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=a))||o),G=(z={},w()(z,u["BlendType"].additive,{enable:!0,func:{srcRGB:u["gl"].ONE,dstRGB:u["gl"].ONE,srcAlpha:1,dstAlpha:1}}),w()(z,u["BlendType"].none,{enable:!1}),w()(z,u["BlendType"].normal,{enable:!0,func:{srcRGB:u["gl"].SRC_ALPHA,dstRGB:u["gl"].ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}),w()(z,u["BlendType"].subtractive,{enable:!0,func:{srcRGB:u["gl"].ONE,dstRGB:u["gl"].ONE,srcAlpha:u["gl"].ZERO,dstAlpha:u["gl"].ONE_MINUS_SRC_COLOR},equation:{rgb:u["gl"].FUNC_SUBTRACT,alpha:u["gl"].FUNC_SUBTRACT}}),w()(z,u["BlendType"].max,{enable:!0,func:{srcRGB:u["gl"].ONE,dstRGB:u["gl"].ONE},equation:{rgb:u["gl"].MAX_EXT}}),w()(z,u["BlendType"].min,{enable:!0,func:{srcRGB:u["gl"].ONE,dstRGB:u["gl"].ONE},equation:{rgb:u["gl"].MIN_EXT}}),z),W=n("4qC0"),Z=n.n(W),Y=n("UB5X"),X=n.n(Y),K=n("Z0cm"),J=n.n(K);function Q(e,t,n,r,i){t.updateStyleAttribute(e,n,r,i)}function $(e,t){e.opacity&&ee("opacity",t,e.opacity),e.strokeWidth&&ee("strokeWidth",t,e.strokeWidth),e.strokeOpacity&&ee("strokeOpacity",t,e.strokeOpacity),e.stroke&&ne("stroke",t,e.stroke),e.offsets&&te("offsets",t,e.offsets),e.textOffset&&te("textOffset",t,e.textOffset)}function ee(e,t,n){Z()(n)?Q(e,t,n,(function(e){return e})):X()(n)?Q(e,t,[n],void 0):J()(n)&&2===n.length&&(Z()(n[0])&&M()(n[1])||Z()(n[0])&&J()(n[1])&&X()(n[1][0])&&X()(n[1][1]))?Q(e,t,n[0],n[1]):Q(e,t,[1],void 0)}function te(e,t,n){Z()(n)?Q(e,t,n,(function(e){return e})):J()(n)&&2===n.length&&Z()(n[0])&&M()(n[1])?Q(e,t,n[0],n[1]):J()(n)&&2===n.length&&X()(n[0])&&X()(n[1])?Q(e,t,n,void 0):Q(e,t,[0,0],void 0)}function ne(e,t,n){Z()(n)?Q(e,t,n,void 0):J()(n)&&2===n.length&&(Z()(n[0])&&M()(n[1])||Z()(n[0])&&J()(n[1])&&n[1].length>0)?Q(e,t,n[0],n[1]):Q(e,t,"#fff",void 0)}function re(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ie(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function ie(e,t){if(e){if("string"===typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e){var t=ce();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function ce(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var le,fe,pe,he,de,me=0,ve=(F=Object(u["lazyInject"])(u["TYPES"].IGlobalConfigService),B=Object(u["lazyInject"])(u["TYPES"].IShaderModuleService),U=function(e){v()(n,e);var t=ue(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()(this,n),e=t.call(this),w()(d()(e),"id","".concat(me++)),w()(d()(e),"name","".concat(me)),w()(d()(e),"type",void 0),w()(d()(e),"visible",!0),w()(d()(e),"zIndex",0),w()(d()(e),"minZoom",void 0),w()(d()(e),"maxZoom",void 0),w()(d()(e),"inited",!1),w()(d()(e),"layerModelNeedUpdate",!1),w()(d()(e),"pickedFeatureID",null),w()(d()(e),"selectedFeatureID",null),w()(d()(e),"styleNeedUpdate",!1),w()(d()(e),"rendering",void 0),w()(d()(e),"dataState",{dataSourceNeedUpdate:!1,dataMappingNeedUpdate:!1,filterNeedUpdate:!1,featureScaleNeedUpdate:!1,StyleAttrNeedUpdate:!1}),w()(d()(e),"hooks",{init:new I["b"],afterInit:new I["b"],beforeRender:new I["b"],beforeRenderData:new I["d"],afterRender:new I["c"],beforePickingEncode:new I["c"],afterPickingEncode:new I["c"],beforeHighlight:new I["c"](["pickedColor"]),afterHighlight:new I["c"],beforeSelect:new I["c"](["pickedColor"]),afterSelect:new I["c"],beforeDestroy:new I["c"],afterDestroy:new I["c"]}),w()(d()(e),"models",[]),w()(d()(e),"multiPassRenderer",void 0),w()(d()(e),"plugins",void 0),w()(d()(e),"sourceOption",void 0),w()(d()(e),"layerModel",void 0),k()(d()(e),"configService",V,d()(e)),k()(d()(e),"shaderModuleService",H,d()(e)),w()(d()(e),"cameraService",void 0),w()(d()(e),"coordinateService",void 0),w()(d()(e),"iconService",void 0),w()(d()(e),"fontService",void 0),w()(d()(e),"pickingService",void 0),w()(d()(e),"rendererService",void 0),w()(d()(e),"layerService",void 0),w()(d()(e),"interactionService",void 0),w()(d()(e),"mapService",void 0),w()(d()(e),"styleAttributeService",void 0),w()(d()(e),"layerSource",void 0),w()(d()(e),"postProcessingPassFactory",void 0),w()(d()(e),"normalPassFactory",void 0),w()(d()(e),"animateOptions",{enable:!1}),w()(d()(e),"container",void 0),w()(d()(e),"encodedData",void 0),w()(d()(e),"configSchema",void 0),w()(d()(e),"currentPickId",null),w()(d()(e),"rawConfig",void 0),w()(d()(e),"needUpdateConfig",void 0),w()(d()(e),"pendingStyleAttributes",[]),w()(d()(e),"scaleOptions",{}),w()(d()(e),"animateStartTime",void 0),w()(d()(e),"aniamateStatus",!1),w()(d()(e),"sourceEvent",(function(){e.dataState.dataSourceNeedUpdate=!0;var t=e.getLayerConfig(),n=t.autoFit,r=t.fitBoundsOptions;n&&e.fitBounds(r),e.emit("dataUpdate"),e.reRender()})),e.name=r.name||e.id,e.zIndex=r.zIndex||0,e.rawConfig=r,e}return p()(n,[{key:"getLayerConfig",value:function(){return this.configService.getLayerConfig(this.id)}},{key:"updateLayerConfig",value:function(e){if(this.inited){var t=this.container.get(u["TYPES"].SceneID);$(e,this),this.configService.setLayerConfig(t,this.id,se(se(se({},this.configService.getLayerConfig(this.id)),this.needUpdateConfig),e)),this.needUpdateConfig={}}else this.needUpdateConfig=se(se({},this.needUpdateConfig),e)}},{key:"setContainer",value:function(e){this.container=e}},{key:"getContainer",value:function(){return this.container}},{key:"addPlugin",value:function(e){return this.plugins.push(e),this}},{key:"init",value:function(){var e=this,t=this.container.get(u["TYPES"].SceneID),n=this.rawConfig.enableMultiPassRenderer,r=void 0!==n&&n;this.configService.setLayerConfig(t,this.id,{enableMultiPassRenderer:r}),this.iconService=this.container.get(u["TYPES"].IIconService),this.fontService=this.container.get(u["TYPES"].IFontService),this.rendererService=this.container.get(u["TYPES"].IRendererService),this.layerService=this.container.get(u["TYPES"].ILayerService),this.interactionService=this.container.get(u["TYPES"].IInteractionService),this.pickingService=this.container.get(u["TYPES"].IPickingService),this.mapService=this.container.get(u["TYPES"].IMapService),this.cameraService=this.container.get(u["TYPES"].ICameraService),this.coordinateService=this.container.get(u["TYPES"].ICoordinateSystemService),this.postProcessingPassFactory=this.container.get(u["TYPES"].IFactoryPostProcessingPass),this.normalPassFactory=this.container.get(u["TYPES"].IFactoryNormalPass),this.styleAttributeService=this.container.get(u["TYPES"].IStyleAttributeService),this.multiPassRenderer=this.container.get(u["TYPES"].IMultiPassRenderer),this.multiPassRenderer.setLayer(this),this.pendingStyleAttributes.forEach((function(t){var n=t.attributeName,r=t.attributeField,i=t.attributeValues,o=t.updateOptions;e.styleAttributeService.updateStyleAttribute(n,{scale:se({field:r},e.splitValuesAndCallbackInAttribute(i,e.getLayerConfig()[n]))},o)})),this.pendingStyleAttributes=[],this.plugins=this.container.getAll(u["TYPES"].ILayerPlugin);var i,o=re(this.plugins);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.apply(this,{rendererService:this.rendererService,mapService:this.mapService,styleAttributeService:this.styleAttributeService,normalPassFactory:this.normalPassFactory,postProcessingPassFactory:this.postProcessingPassFactory})}}catch(s){o.e(s)}finally{o.f()}return this.hooks.init.call(),this.hooks.afterInit.call(),this.emit("inited",{target:this,type:"inited"}),this.emit("add",{target:this,type:"add"}),this}},{key:"prepareBuildModel",value:function(){this.inited=!0,this.updateLayerConfig(se(se({},this.getDefaultConfig()),this.rawConfig));var e=this.getLayerConfig(),t=e.animateOption;null!==t&&void 0!==t&&t.enable&&(this.layerService.startAnimate(),this.aniamateStatus=!0)}},{key:"color",value:function(e,t,n){return this.updateStyleAttribute("color",e,t,n),this}},{key:"texture",value:function(e,t,n){return this.updateStyleAttribute("texture",e,t,n),this}},{key:"rotate",value:function(e,t,n){return this.updateStyleAttribute("rotate",e,t,n),this}},{key:"size",value:function(e,t,n){return this.updateStyleAttribute("size",e,t,n),this}},{key:"filter",value:function(e,t,n){return this.updateStyleAttribute("filter",e,t,n),this}},{key:"shape",value:function(e,t,n){return this.updateStyleAttribute("shape",e,t,n),this}},{key:"label",value:function(e,t,n){return this.pendingStyleAttributes.push({attributeName:"label",attributeField:e,attributeValues:t,updateOptions:n}),this}},{key:"animate",value:function(e){var t={};return A()(e)?(t.enable=!0,t=se(se({},t),e)):t.enable=e,this.updateLayerConfig({animateOption:t}),this}},{key:"source",value:function(e,t){return this.sourceOption={data:e,options:t},this}},{key:"setData",value:function(e,t){var n=this;return this.inited?this.layerSource.setData(e,t):this.on("inited",(function(){n.layerSource.setData(e,t)})),this}},{key:"style",value:function(e){var t=this,n=e.passes,r=O()(e,["passes"]);return n&&N(n).forEach((function(e){var n=t.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(e[0]);n&&n.updateOptions(e[1])})),this.rawConfig=se(se({},this.rawConfig),r),this.container&&(this.updateLayerConfig(this.rawConfig),this.styleNeedUpdate=!0),this}},{key:"scale",value:function(e,t){return A()(e)?this.scaleOptions=se(se({},this.scaleOptions),e):this.scaleOptions[e]=t,this}},{key:"renderLayers",value:function(){this.rendering=!0,this.layerService.renderLayers(),this.rendering=!1}},{key:"render",value:function(){return 0!==this.getEncodedData().length&&this.renderModels(),this}},{key:"active",value:function(e){var t={};return t.enableHighlight=!!A()(e)||e,A()(e)?(t.enableHighlight=!0,e.color&&(t.highlightColor=e.color)):t.enableHighlight=!!e,this.updateLayerConfig(t),this}},{key:"setActive",value:function(e,t){var n=this;if(A()(e)){var r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o;this.updateLayerConfig({highlightColor:A()(t)?t.color:this.getLayerConfig().highlightColor}),this.pick({x:i,y:a})}else this.updateLayerConfig({pickedFeatureID:e,highlightColor:A()(t)?t.color:this.getLayerConfig().highlightColor}),this.hooks.beforeSelect.call(Object(L["l"])(e)).then((function(){setTimeout((function(){n.reRender()}),1)}))}},{key:"select",value:function(e){var t={};return t.enableSelect=!!A()(e)||e,A()(e)?(t.enableSelect=!0,e.color&&(t.selectColor=e.color)):t.enableSelect=!!e,this.updateLayerConfig(t),this}},{key:"setSelect",value:function(e,t){var n=this;if(A()(e)){var r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o;this.updateLayerConfig({selectColor:A()(t)?t.color:this.getLayerConfig().selectColor}),this.pick({x:i,y:a})}else this.updateLayerConfig({pickedFeatureID:e,selectColor:A()(t)?t.color:this.getLayerConfig().selectColor}),this.hooks.beforeSelect.call(Object(L["l"])(e)).then((function(){setTimeout((function(){n.reRender()}),1)}))}},{key:"setBlend",value:function(e){this.updateLayerConfig({blend:e}),this.layerModelNeedUpdate=!0,this.reRender()}},{key:"show",value:function(){return this.updateLayerConfig({visible:!0}),this.reRender(),this}},{key:"hide",value:function(){return this.updateLayerConfig({visible:!1}),this.reRender(),this}},{key:"setIndex",value:function(e){return this.zIndex=e,this.layerService.updateRenderOrder(),this}},{key:"setCurrentPickId",value:function(e){this.currentPickId=e}},{key:"getCurrentPickId",value:function(){return this.currentPickId}},{key:"setCurrentSelectedId",value:function(e){this.selectedFeatureID=e}},{key:"getCurrentSelectedId",value:function(){return this.selectedFeatureID}},{key:"isVisible",value:function(){var e=this.mapService.getZoom(),t=this.getLayerConfig(),n=t.visible,r=t.minZoom,i=void 0===r?-1/0:r,o=t.maxZoom,a=void 0===o?1/0:o;return!!n&&e>=i&&e<=a}},{key:"setMinZoom",value:function(e){return this.updateLayerConfig({minZoom:e}),this}},{key:"getMinZoom",value:function(){var e=this.getLayerConfig(),t=e.minZoom;return t}},{key:"getMaxZoom",value:function(){var e=this.getLayerConfig(),t=e.maxZoom;return t}},{key:"get",value:function(e){var t=this.getLayerConfig();return t[e]}},{key:"setMaxZoom",value:function(e){return this.updateLayerConfig({maxZoom:e}),this}},{key:"fitBounds",value:function(e){if(!this.inited)return this.updateLayerConfig({autoFit:!0}),this;var t=this.getSource(),n=t.extent,r=n.some((function(e){return Math.abs(e)===1/0}));return r||this.mapService.fitBounds([[n[0],n[1]],[n[2],n[3]]],e),this}},{key:"destroy",value:function(){this.hooks.beforeDestroy.call(),this.layerSource.off("update",this.sourceEvent),this.multiPassRenderer.destroy(),this.styleAttributeService.clearAllAttributes(),this.hooks.afterDestroy.call(),this.emit("remove",{target:this,type:"remove"}),this.removeAllListeners()}},{key:"clear",value:function(){this.styleAttributeService.clearAllAttributes()}},{key:"clearModels",value:function(){this.models.forEach((function(e){return e.destroy()})),this.layerModel.clearModels()}},{key:"isDirty",value:function(){return!!(this.styleAttributeService.getLayerStyleAttributes()||[]).filter((function(e){return e.needRescale||e.needRemapping||e.needRegenerateVertices})).length}},{key:"setSource",value:function(e){if(this.layerSource&&this.layerSource.off("update",this.sourceEvent),this.layerSource=e,this.inited&&this.layerSource.cluster){var t=this.mapService.getZoom();this.layerSource.updateClusterData(t)}this.layerSource.on("update",this.sourceEvent)}},{key:"getSource",value:function(){return this.layerSource}},{key:"getScaleOptions",value:function(){return this.scaleOptions}},{key:"setEncodedData",value:function(e){this.encodedData=e}},{key:"getEncodedData",value:function(){return this.encodedData}},{key:"getLegendItems",value:function(e){var t=this.styleAttributeService.getLayerAttributeScale(e);if(!t)return[];if(t.ticks){var n=t.ticks().map((function(n){return w()({value:n},e,t(n))}));return n}if(t.invertExtent){var r=t.range().map((function(n){return w()({value:t.invertExtent(n)},e,n)}));return r}}},{key:"pick",value:function(e){var t=e.x,n=e.y;this.interactionService.triggerHover({x:t,y:n})}},{key:"boxSelect",value:function(e,t){this.pickingService.boxPickLayer(this,e,t)}},{key:"buildLayerModel",value:function(e){var t=e.moduleName,n=e.vertexShader,r=e.fragmentShader,i=e.triangulation,o=e.segmentNumber,a=O()(e,["moduleName","vertexShader","fragmentShader","triangulation","segmentNumber"]);this.shaderModuleService.registerModule(t,{vs:n,fs:r});var s=this.shaderModuleService.getModule(t),c=s.vs,l=s.fs,f=s.uniforms,p=this.rendererService.createModel,h=this.styleAttributeService.createAttributesAndIndices(this.encodedData,i,o),d=h.attributes,m=h.elements;return p(se({attributes:d,uniforms:f,fs:l,vs:c,elements:m,blend:G[u["BlendType"].normal]},a))}},{key:"getTime",value:function(){return this.layerService.clock.getDelta()}},{key:"setAnimateStartTime",value:function(){this.animateStartTime=this.layerService.clock.getElapsedTime()}},{key:"stopAnimate",value:function(){this.aniamateStatus&&(this.layerService.stopAnimate(),this.aniamateStatus=!1,this.updateLayerConfig({animateOption:{enable:!1}}))}},{key:"getLayerAnimateTime",value:function(){return this.layerService.clock.getElapsedTime()-this.animateStartTime}},{key:"needPick",value:function(e){var t=this.getLayerConfig(),n=t.enableHighlight,r=void 0===n||n,i=t.enableSelect,o=void 0===i||i,a=-1!==this.eventNames().indexOf(e)||-1!==this.eventNames().indexOf("un"+e);return"click"!==e&&"dblclick"!==e||!o||(a=!0),"mousemove"!==e||!r&&-1===this.eventNames().indexOf("mouseenter")&&-1===this.eventNames().indexOf("unmousemove")&&-1===this.eventNames().indexOf("mouseout")||(a=!0),this.isVisible()&&a}},{key:"buildModels",value:function(){throw new Error("Method not implemented.")}},{key:"rebuildModels",value:function(){throw new Error("Method not implemented.")}},{key:"renderModels",value:function(){var e=this;return this.getEncodedData().length>0&&(this.layerModelNeedUpdate&&this.layerModel&&(this.models=this.layerModel.buildModels(),this.hooks.beforeRender.call(),this.layerModelNeedUpdate=!1),this.models.forEach((function(t){t.draw({uniforms:e.layerModel.getUninforms()})}))),this}},{key:"updateStyleAttribute",value:function(e,t,n,r){this.inited?this.styleAttributeService.updateStyleAttribute(e,{scale:se({field:t},this.splitValuesAndCallbackInAttribute(n,this.getLayerConfig()[t]))},r):this.pendingStyleAttributes.push({attributeName:e,attributeField:t,attributeValues:n,updateOptions:r})}},{key:"setEarthTime",value:function(e){console.warn("empty fn")}},{key:"getConfigSchema",value:function(){throw new Error("Method not implemented.")}},{key:"getModelType",value:function(){throw new Error("Method not implemented.")}},{key:"getDefaultConfig",value:function(){return{}}},{key:"reRender",value:function(){this.inited&&this.layerService.renderLayers()}},{key:"splitValuesAndCallbackInAttribute",value:function(e,t){return{values:M()(e)?void 0:e||t,callback:M()(e)?e:void 0}}}]),n}(R["EventEmitter"]),V=j()(U.prototype,"configService",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=j()(U.prototype,"shaderModuleService",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U),ye=n("RIqP"),ge=n.n(ye),be=n("Y+p1"),xe=n.n(be),_e=n("FmoU");function we(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Se(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function Se(e,t){if(e){if("string"===typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ee=(le=Object(u["lazyInject"])(u["TYPES"].IGlobalConfigService),fe=Object(u["lazyInject"])(u["TYPES"].IShaderModuleService),pe=function(){function e(t){l()(this,e),w()(this,"triangulation",void 0),w()(this,"createTexture2D",void 0),w()(this,"layer",void 0),w()(this,"dataTexture",void 0),w()(this,"DATA_TEXTURE_WIDTH",void 0),w()(this,"rowCount",void 0),w()(this,"cacheStyleProperties",void 0),w()(this,"cellLength",void 0),w()(this,"cellProperties",void 0),w()(this,"cellTypeLayout",void 0),w()(this,"stylePropertyesExist",void 0),w()(this,"dataTextureTest",void 0),k()(this,"configService",he,this),k()(this,"shaderModuleService",de,this),w()(this,"rendererService",void 0),w()(this,"iconService",void 0),w()(this,"fontService",void 0),w()(this,"styleAttributeService",void 0),w()(this,"mapService",void 0),w()(this,"cameraService",void 0),w()(this,"layerService",void 0),this.layer=t,this.rendererService=t.getContainer().get(u["TYPES"].IRendererService),this.styleAttributeService=t.getContainer().get(u["TYPES"].IStyleAttributeService),this.mapService=t.getContainer().get(u["TYPES"].IMapService),this.iconService=t.getContainer().get(u["TYPES"].IIconService),this.fontService=t.getContainer().get(u["TYPES"].IFontService),this.cameraService=t.getContainer().get(u["TYPES"].ICameraService),this.layerService=t.getContainer().get(u["TYPES"].ILayerService),this.registerBuiltinAttributes(),this.startModelAnimate();var n=this.rendererService.createTexture2D;this.createTexture2D=n,this.DATA_TEXTURE_WIDTH=1024,this.rowCount=1,this.cellLength=0,this.cellProperties=[],this.cacheStyleProperties={opacity:void 0,strokeOpacity:void 0,strokeWidth:void 0,stroke:void 0,offsets:void 0},this.stylePropertyesExist={hasOpacity:0,hasStrokeOpacity:0,hasStrokeWidth:0,hasStroke:0,hasOffsets:0},this.dataTextureTest=this.layerService.getOESTextureFloat(),this.dataTextureTest||(this.dataTexture=this.createTexture2D({data:new ImageData(1,1).data,mag:u["gl"].NEAREST,min:u["gl"].NEAREST,width:1,height:1}))}return p()(e,[{key:"clearLastCalRes",value:function(){this.cellProperties=[],this.cellLength=0,this.stylePropertyesExist={hasOpacity:0,hasStrokeOpacity:0,hasStrokeWidth:0,hasStroke:0,hasOffsets:0}}},{key:"getCellTypeLayout",value:function(){return this.dataTextureTest?[this.rowCount,this.DATA_TEXTURE_WIDTH,0,0,this.stylePropertyesExist.hasOpacity,this.stylePropertyesExist.hasStrokeOpacity,this.stylePropertyesExist.hasStrokeWidth,this.stylePropertyesExist.hasStroke,this.stylePropertyesExist.hasOffsets,0,0,0,0,0,0,1]:[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,-1]}},{key:"dataTextureNeedUpdate",value:function(e){var t=!1;return xe()(e.opacity,this.cacheStyleProperties.opacity)||(t=!0,this.cacheStyleProperties.opacity=e.opacity),xe()(e.strokeOpacity,this.cacheStyleProperties.strokeOpacity)||(t=!0,this.cacheStyleProperties.strokeOpacity=e.strokeOpacity),xe()(e.strokeWidth,this.cacheStyleProperties.strokeWidth)||(t=!0,this.cacheStyleProperties.strokeWidth=e.strokeWidth),xe()(e.stroke,this.cacheStyleProperties.stroke)||(t=!0,this.cacheStyleProperties.stroke=e.stroke),xe()(e.offsets,this.cacheStyleProperties.offsets)||(t=!0,this.cacheStyleProperties.offsets=e.offsets),void 0===this.dataTexture&&(t=!0),t}},{key:"judgeStyleAttributes",value:function(e){this.clearLastCalRes(),void 0===e.opacity||X()(e.opacity)||(this.cellProperties.push({attr:"opacity",count:1}),this.stylePropertyesExist.hasOpacity=1,this.cellLength+=1),void 0===e.strokeOpacity||X()(e.strokeOpacity)||(this.cellProperties.push({attr:"strokeOpacity",count:1}),this.stylePropertyesExist.hasStrokeOpacity=1,this.cellLength+=1),void 0===e.strokeWidth||X()(e.strokeWidth)||(this.cellProperties.push({attr:"strokeWidth",count:1}),this.stylePropertyesExist.hasStrokeWidth=1,this.cellLength+=1),void 0===e.stroke||this.isStaticColor(e.stroke)||(this.cellProperties.push({attr:"stroke",count:4}),this.stylePropertyesExist.hasStroke=1,this.cellLength+=4),void 0===e.offsets||this.isOffsetStatic(e.offsets)||(this.cellProperties.push({attr:"offsets",count:2}),this.stylePropertyesExist.hasOffsets=1,this.cellLength+=2)}},{key:"isStaticColor",value:function(e){return!!Z()(e)&&!!Object(_e["a"])(e)}},{key:"getStrokeColor",value:function(e){if(this.isStaticColor(e)){var t=Object(L["s"])(e);return t[0]=t[0]?t[0]:0,t[1]=t[1]?t[1]:0,t[2]=t[2]?t[2]:0,t[3]=t[3]?t[3]:0,t}return[0,0,0,0]}},{key:"isOffsetStatic",value:function(e){return!!(J()(e)&&2===e.length&&X()(e[0])&&X()(e[1]))}},{key:"patchMod",value:function(e,t){for(var n=0;n<t;n++)e.push(-1)}},{key:"patchData",value:function(e,t,n){var r,i=we(n);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.attr,s=o.count,u=t[a];u?"stroke"===a?e.push.apply(e,ge()(Object(L["s"])(u))):"offsets"===a?this.isOffsetStatic(u)?e.push(-u[0],u[1]):e.push(0,0):e.push(X()(u)?u:1):this.patchMod(e,s)}}catch(c){i.e(c)}finally{i.f()}}},{key:"calDataFrame",value:function(e,t,n){for(var r=t.length,i=Math.ceil(r*e/this.DATA_TEXTURE_WIDTH),o=i*this.DATA_TEXTURE_WIDTH,a=[],s=0;s<r;s++){var u=t[s];this.patchData(a,u,n)}for(var c=a.length;c<o;c++)a.push(-1);return{data:a,width:this.DATA_TEXTURE_WIDTH,height:i}}},{key:"getBlend",value:function(){var e=this.layer.getLayerConfig(),t=e.blend,n=void 0===t?"normal":t;return G[u["BlendType"][n]]}},{key:"getDefaultStyle",value:function(){return{}}},{key:"getUninforms",value:function(){throw new Error("Method not implemented.")}},{key:"getAnimateUniforms",value:function(){return{}}},{key:"needUpdate",value:function(){return!1}},{key:"buildModels",value:function(){throw new Error("Method not implemented.")}},{key:"initModels",value:function(){throw new Error("Method not implemented.")}},{key:"clearModels",value:function(){}},{key:"getAttribute",value:function(){throw new Error("Method not implemented.")}},{key:"render",value:function(){throw new Error("Method not implemented.")}},{key:"registerBuiltinAttributes",value:function(){throw new Error("Method not implemented.")}},{key:"animateOption2Array",value:function(e){return[e.enable?0:1,e.duration||4,e.interval||.2,e.trailLength||.1]}},{key:"startModelAnimate",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;t.enable&&this.layer.setAnimateStartTime()}}]),e}(),he=j()(pe.prototype,"configService",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=j()(pe.prototype,"shaderModuleService",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe),ke=n("J4zp"),Ce=n.n(ke),je=n("VmRL"),Te=n.n(je),Ae=n("IOcx"),Pe=Ae["c"].create(),Me=(Ae["c"].create(),Ae["c"].create()),Ie=Ae["c"].create(),Le=Ae["c"].create();function Re(e,t,n,r,i){Ae["c"].add(e,n,r),Ae["c"].normalize(e,e),t=Ae["c"].fromValues(-e[1],e[0]);var o=Ae["c"].fromValues(-n[1],n[0]);return[i/Ae["c"].dot(t,o),t]}function De(e,t){return Ae["c"].set(e,-t[1],t[0])}function Ne(e,t,n){return Ae["c"].sub(e,t,n),Ae["c"].normalize(e,e),e}function ze(e,t){return e[0]===t[0]&&e[1]===t[1]}var Fe,Be,Ue,Ve=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,e),w()(this,"complex",void 0),w()(this,"join",void 0),w()(this,"cap",void 0),w()(this,"miterLimit",void 0),w()(this,"thickness",void 0),w()(this,"normal",void 0),w()(this,"lastFlip",-1),w()(this,"miter",Ae["c"].fromValues(0,0)),w()(this,"started",!1),w()(this,"dash",!1),w()(this,"totalDistance",0),this.join=t.join||"miter",this.cap=t.cap||"butt",this.miterLimit=t.miterLimit||10,this.thickness=t.thickness||1,this.dash=t.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0}}return p()(e,[{key:"extrude_gaode2",value:function(e,t){var n=this.complex;if(e.length<=1)return n;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var r=e.length,i=n.startIndex,o=1;o<r;o++){var a=e[o-1],s=t[o-1],u=e[o],c=t[o],l=o<e.length-1?e[o+1]:null,f=o<t.length-1?t[o+1]:null,p=this.segment_gaode2(n,i,a,u,l,s,c,f);i+=p}if(this.dash)for(var h=0;h<n.positions.length/6;h++)n.positions[6*h+5]=this.totalDistance;return n.startIndex=n.positions.length/6,n}},{key:"extrude",value:function(e){var t=this.complex;if(e.length<=1)return t;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var n=e.length,r=t.startIndex,i=1;i<n;i++){var o=e[i-1],a=e[i],s=i<e.length-1?e[i+1]:null,u=this.segment(t,r,o,a,s);r+=u}if(this.dash)for(var c=0;c<t.positions.length/6;c++)t.positions[6*c+5]=this.totalDistance;return t.startIndex=t.positions.length/6,t}},{key:"segment_gaode2",value:function(e,t,n,r,i,o,a,s){var u=0,c=e.indices,l=e.positions,f=e.normals,p="square"===this.cap,h="bevel"===this.join,d=Object(L["d"])([a[0],a[1]]),m=Object(L["d"])([o[0],o[1]]);Ne(Me,r,n);var v=0;if(this.dash&&(v=this.lineSegmentDistance(d,m),this.totalDistance+=v),this.normal||(this.normal=Ae["c"].create(),De(this.normal,Me)),!this.started)if(this.started=!0,p){var y=Ae["c"].create(),g=Ae["c"].create();Ae["c"].add(y,this.normal,Me),Ae["c"].add(g,this.normal,Me),f.push(g[0],g[1],0),f.push(y[0],y[1],0),l.push(n[0],n[1],0,this.totalDistance-v,-this.thickness,0),l.push(n[0],n[1],0,this.totalDistance-v,this.thickness,0)}else this.extrusions(l,f,n,this.normal,this.thickness,this.totalDistance-v);if(c.push(t+0,t+1,t+2),i){ze(r,i)&&Ae["c"].add(i,r,Ae["c"].normalize(i,Ae["c"].subtract(i,r,n))),Ne(Ie,i,r);var b=Re(Le,Ae["c"].create(),Me,Ie,this.thickness),x=Ce()(b,2),_=x[0],w=x[1],S=Ae["c"].dot(Le,this.normal)<0?-1:1,O=h;if(!O&&"miter"===this.join){var E=_;E>this.miterLimit&&(O=!0)}O?(f.push(this.normal[0],this.normal[1],0),f.push(w[0],w[1],0),l.push(r[0],r[1],0,this.totalDistance,-this.thickness*S,0),l.push(r[0],r[1],0,this.totalDistance,this.thickness*S,0),c.push.apply(c,ge()(this.lastFlip!==-S?[t,t+2,t+3]:[t+2,t+1,t+3])),c.push(t+2,t+3,t+4),De(Pe,Ie),Ae["c"].copy(this.normal,Pe),f.push(this.normal[0],this.normal[1],0),l.push(r[0],r[1],0,this.totalDistance,-this.thickness*S,0),u+=3):(this.extrusions(l,f,r,w,_,this.totalDistance),c.push.apply(c,ge()(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),S=-1,Ae["c"].copy(this.normal,w),u+=2),this.lastFlip=S}else{if(De(this.normal,Me),p){var k=Ae["c"].create(),C=Ae["c"].create();Ae["c"].sub(C,Me,this.normal),Ae["c"].add(k,Me,this.normal),f.push(C[0],C[1],0),f.push(k[0],k[1],0),l.push(r[0],r[1],0,this.totalDistance,this.thickness,0),l.push(r[0],r[1],0,this.totalDistance,this.thickness,0)}else this.extrusions(l,f,r,this.normal,this.thickness,this.totalDistance);c.push.apply(c,ge()(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),u+=2}return u}},{key:"segment",value:function(e,t,n,r,i){var o=0,a=e.indices,s=e.positions,u=e.normals,c="square"===this.cap,l="bevel"===this.join,f=Object(L["d"])([r[0],r[1]]),p=Object(L["d"])([n[0],n[1]]);Ne(Me,f,p);var h=0;if(this.dash&&(h=this.lineSegmentDistance(f,p),this.totalDistance+=h),this.normal||(this.normal=Ae["c"].create(),De(this.normal,Me)),!this.started)if(this.started=!0,c){var d=Ae["c"].create(),m=Ae["c"].create();Ae["c"].add(d,this.normal,Me),Ae["c"].add(m,this.normal,Me),u.push(m[0],m[1],0),u.push(d[0],d[1],0),s.push(n[0],n[1],0,this.totalDistance-h,-this.thickness,0),s.push(n[0],n[1],0,this.totalDistance-h,this.thickness,0)}else this.extrusions(s,u,n,this.normal,this.thickness,this.totalDistance-h);if(a.push(t+0,t+1,t+2),i){var v=Object(L["d"])([i[0],i[1]]);ze(f,v)&&Ae["c"].add(v,f,Ae["c"].normalize(v,Ae["c"].subtract(v,f,p))),Ne(Ie,v,f);var y=Re(Le,Ae["c"].create(),Me,Ie,this.thickness),g=Ce()(y,2),b=g[0],x=g[1],_=Ae["c"].dot(Le,this.normal)<0?-1:1,w=l;if(!w&&"miter"===this.join){var S=b;S>this.miterLimit&&(w=!0)}w?(u.push(this.normal[0],this.normal[1],0),u.push(x[0],x[1],0),s.push(r[0],r[1],0,this.totalDistance,-this.thickness*_,0),s.push(r[0],r[1],0,this.totalDistance,this.thickness*_,0),a.push.apply(a,ge()(this.lastFlip!==-_?[t,t+2,t+3]:[t+2,t+1,t+3])),a.push(t+2,t+3,t+4),De(Pe,Ie),Ae["c"].copy(this.normal,Pe),u.push(this.normal[0],this.normal[1],0),s.push(r[0],r[1],0,this.totalDistance,-this.thickness*_,0),o+=3):(this.extrusions(s,u,r,x,b,this.totalDistance),a.push.apply(a,ge()(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),_=-1,Ae["c"].copy(this.normal,x),o+=2),this.lastFlip=_}else{if(De(this.normal,Me),c){var O=Ae["c"].create(),E=Ae["c"].create();Ae["c"].sub(E,Me,this.normal),Ae["c"].add(O,Me,this.normal),u.push(E[0],E[1],0),u.push(O[0],O[1],0),s.push(r[0],r[1],0,this.totalDistance,this.thickness,0),s.push(r[0],r[1],0,this.totalDistance,this.thickness,0)}else this.extrusions(s,u,r,this.normal,this.thickness,this.totalDistance);a.push.apply(a,ge()(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),o+=2}return o}},{key:"extrusions",value:function(e,t,n,r,i,o){t.push(r[0],r[1],0),t.push(r[0],r[1],0),e.push(n[0],n[1],0,o,-i,0),e.push(n[0],n[1],0,o,i,0)}},{key:"lineSegmentDistance",value:function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}}]),e}();function He(e){if(X()(e[0]))return e;if(X()(e[0][0]))throw new Error("\u5f53\u524d\u6570\u636e\u4e0d\u652f\u6301\u6807\u6ce8");if(X()(e[0][0][0])){var t=e,n=0,r=0,i=0;return t.forEach((function(e){e.forEach((function(e){n+=e[0],r+=e[1],i++}))})),[n/i,r/i,0]}throw new Error("\u5f53\u524d\u6570\u636e\u4e0d\u652f\u6301\u6807\u6ce8")}function qe(e){var t=e[0][0],n=e[0][e[0].length-1];t[0]===n[0]&&t[1]===n[1]&&(e[0]=e[0].slice(0,e[0].length-1));for(var r=e[0].length,i=Te.a.flatten(e),o=i.vertices,a=i.dimensions,s=[],u=[],c=0;c<o.length/a;c++)2===a?s.push(o[2*c],o[2*c+1],1):s.push(o[3*c],o[3*c+1],1);var l=Te()(i.vertices,i.holes,i.dimensions);u.push.apply(u,ge()(l));for(var f=function(e){var t=i.vertices.slice(e*a,(e+1)*a),n=i.vertices.slice((e+1)*a,(e+2)*a);0===n.length&&(n=i.vertices.slice(0,a));var r=s.length/3;s.push(t[0],t[1],1,n[0],n[1],1,t[0],t[1],0,n[0],n[1],0),u.push.apply(u,ge()([0,2,1,2,3,1].map((function(e){return e+r}))))},p=0;p<r;p++)f(p);return{positions:s,index:u}}function Ge(e){var t=Te.a.flatten(e),n=Te()(t.vertices,t.holes,t.dimensions);return{positions:t.vertices,index:n}}function We(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e[0][0],r=e[0][e[0].length-1];n[0]===r[0]&&n[1]===r[1]&&(e[0]=e[0].slice(0,e[0].length-1));for(var i=e[0].length,o=Te.a.flatten(e),a=o.vertices,s=o.dimensions,u=[],c=[],l=[],f=0;f<a.length/s;f++)2===s?u.push(a[2*f],a[2*f+1],1,-1,-1):u.push(a[3*f],a[3*f+1],1,-1,-1),l.push(0,0,1);var p=Te()(o.vertices,o.holes,o.dimensions);c.push.apply(c,ge()(p));for(var h=function(e){var n=o.vertices.slice(e*s,(e+1)*s),r=o.vertices.slice((e+1)*s,(e+2)*s);0===r.length&&(r=o.vertices.slice(0,s));var i=u.length/5;u.push(n[0],n[1],1,0,0,r[0],r[1],1,.1,0,n[0],n[1],0,0,.8,r[0],r[1],0,.1,.8);var a=Ze([r[0],r[1],1],[n[0],n[1],0],[n[0],n[1],1],t);l.push.apply(l,ge()(a).concat(ge()(a),ge()(a),ge()(a))),c.push.apply(c,ge()([1,2,0,3,2,1].map((function(e){return e+i}))))},d=0;d<i;d++)h(d);return{positions:u,index:c,normals:l}}function Ze(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Ae["d"].create(),o=Ae["d"].create(),a=Ae["d"].create();r&&(e=Object(L["p"])(e),t=Object(L["p"])(t),n=Object(L["p"])(n));var s=Ae["d"].fromValues.apply(Ae["d"],ge()(e)),u=Ae["d"].fromValues.apply(Ae["d"],ge()(t)),c=Ae["d"].fromValues.apply(Ae["d"],ge()(n));Ae["d"].sub(i,c,u),Ae["d"].sub(o,s,u),Ae["d"].cross(a,i,o);var l=Ae["d"].create();return Ae["d"].normalize(l,a),l}function Ye(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=2*Math.PI/e,r=[],i=0;i<e;i++)r.push(n*i+t*Math.PI/12);var o=r.map((function(e){var t=Math.sin(e+Math.PI/4),n=Math.cos(e+Math.PI/4);return[t,n,0]}));return o}function Xe(){return Ye(30)}function Ke(){return Ye(4)}function Je(){return Ye(3)}function Qe(){return Ye(6,1)}function $e(){return Ye(5)}(function(e){e["CYLINDER"]="cylinder",e["SQUARECOLUMN"]="squareColumn",e["TRIANGLECOLUMN"]="triangleColumn",e["HEXAGONCOLUMN"]="hexagonColumn",e["PENTAGONCOLUMN"]="pentagonColumn"})(Be||(Be={})),function(e){e["CIRCLE"]="circle",e["SQUARE"]="square",e["TRIANGLE"]="triangle",e["HEXAGON"]="hexagon",e["PENTAGON"]="pentagon"}(Ue||(Ue={}));var et=(Fe={},w()(Fe,Ue.CIRCLE,Xe),w()(Fe,Ue.HEXAGON,Qe),w()(Fe,Ue.TRIANGLE,Je),w()(Fe,Ue.SQUARE,Ke),w()(Fe,Ue.PENTAGON,$e),w()(Fe,Be.CYLINDER,Xe),w()(Fe,Be.HEXAGONCOLUMN,Qe),w()(Fe,Be.TRIANGLECOLUMN,Je),w()(Fe,Be.SQUARECOLUMN,Ke),w()(Fe,Be.PENTAGONCOLUMN,$e),Fe),tt={},nt=100;function rt(e){var t=He(e.coordinates);return{vertices:[].concat(ge()(t),ge()(t),ge()(t),ge()(t)),indices:[0,1,2,2,3,0],size:t.length}}function it(e){var t=He(e.coordinates),n=at(t);return{vertices:[].concat(ge()(n),ge()(n),ge()(n),ge()(n)),indices:[0,1,2,2,3,0],size:n.length}}function ot(e){return e/180*Math.acos(-1)}function at(e){var t=ot(e[0])+Math.PI/2,n=ot(e[1]),r=nt*Math.cos(n)*Math.cos(t),i=nt*Math.cos(n)*Math.sin(t),o=nt*Math.sin(n);return[i,o,r]}function st(e){var t=e.shape,n=vt(t,!1),r=n.positions,i=n.index,o=n.normals;return{vertices:r,indices:i,normals:o,size:5}}function ut(e){var t=He(e.coordinates);return{vertices:ge()(t),indices:[0],size:t.length}}function ct(e){var t=e.coordinates,n=e.originCoordinates,r=e.version,i=new Ve({dash:!0,join:"bevel"});if("GAODE2.x"===r){var o=t;Array.isArray(o[0][0])||(o=[t]);var a=n;Array.isArray(a[0][0])||(a=[n]);for(var s=0;s<o.length;s++){var u=o[s],c=a[s];i.extrude_gaode2(u,c)}}else{var l=t;Array.isArray(l[0][0])||(l=[t]),l.forEach((function(e){i.extrude(e)}))}var f=i.complex;return{vertices:f.positions,indices:f.indices,normals:f.normals,size:6}}function lt(e){var t=e.coordinates,n=Te.a.flatten(t),r=n.vertices,i=n.dimensions,o=n.holes;return{indices:Te()(r,o,i),vertices:r,size:i}}function ft(e){var t=e.coordinates,n=We(t,!0),r=n.positions,i=n.index,o=n.normals;return{vertices:r,indices:i,normals:o,size:5}}function pt(e){var t=e.shape,n=yt(t),r=n.positions,i=n.index;return{vertices:r,indices:i,size:3}}function ht(e){var t=e.coordinates,n=[].concat(ge()(t[0]),[0,0,1,t[1][0],t[0][1],0,1,1],ge()(t[1]),[0,1,0],ge()(t[0]),[0,0,1],ge()(t[1]),[0,1,0,t[0][0],t[1][1],0,0,0]),r=[0,1,2,3,4,5];return{vertices:n,indices:r,size:5}}function dt(e,t){for(var n=t||30,r=e.coordinates,i=[],o=[],a=function(e){i.push(e,1,e,r[0][0],r[0][1],r[1][0],r[1][1],e,-1,e,r[0][0],r[0][1],r[1][0],r[1][1]),e!==n-1&&o.push.apply(o,ge()([0,1,2,1,3,2].map((function(t){return 2*e+t}))))},s=0;s<n;s++)a(s);return{vertices:i,indices:o,size:7}}function mt(e){var t=e.coordinates;2===t.length&&t.push(0);e.size;var n=gt(-1,1),r=gt(1,1),i=gt(-1,-1),o=gt(1,-1),a=[].concat(ge()(t),ge()(n),ge()(t),ge()(i),ge()(t),ge()(o),ge()(t),ge()(r)),s=[0,1,2,3,0,2];return{vertices:a,indices:s,size:5}}function vt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(tt&&tt[e])return tt[e];var n=et[e]?et[e]():et.cylinder(),r=We([n],t);return tt[e]=r,r}function yt(e){var t=["cylinder","triangleColumn","hexagonColumn","squareColumn"],n=et[e]?et[e]():et.circle(),r=-1===t.indexOf(e)?Ge([n]):qe([n]);return r}function gt(e,t){var n=(e+1)/2,r=(t+1)/2;return[n,r]}function bt(e){var t=xt();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function xt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _t='uniform float u_opacity: 1.0;\nuniform vec4 u_baseColor : [ 1.0, 0, 0, 1.0 ];\nuniform vec4 u_brightColor : [ 1.0, 0, 0, 1.0 ];\nuniform vec4 u_windowColor : [ 1.0, 0, 0, 1.0 ];\nuniform float u_near : 0;\nuniform float u_far : 1;\nvarying vec4 v_Color;\nvarying vec2 v_texCoord;\nuniform float u_Zoom : 1;\nuniform float u_time;\n\n#pragma include "picking"\n\nvec3 getWindowColor(float n, float hot, vec3 brightColor, vec3 darkColor) {\n    float s = step(hot, n);\n    vec3 color = mix(brightColor,vec3(0.9,0.9,1.0),n);\n\n    return mix(darkColor, color, s);\n}\nfloat random (vec2 st) {\n    return fract(sin(dot(st.xy, vec2(12.9898,78.233)))* 43758.5453123);\n}\n\nfloat LinearizeDepth()\n{\n    float z = gl_FragCoord.z * 2.0 - 1.0;\n    return (2.0 * u_near * u_far) / (u_far + u_near - z * (u_far - u_near));\n}\n\nvec3 fog(vec3 color, vec3 fogColor, float depth){\n    float fogFactor=clamp(depth,0.0,1.0);\n    vec3 output_color=mix(fogColor,color,fogFactor);\n    return output_color;\n}\n\nfloat sdRect(vec2 p, vec2 sz) {\n  vec2 d = abs(p) - sz;\n  float outside = length(max(d, 0.));\n  float inside = min(max(d.x, d.y), 0.);\n  return outside + inside;\n}\n\nvoid main() {\n  gl_FragColor = v_Color;\n  vec3 baseColor = u_baseColor.xyz;\n  vec3 brightColor = u_brightColor.xyz;\n  vec3 windowColor = u_windowColor.xyz;\n  float targetColId = 5.;\n  float depth = 1.0 - LinearizeDepth() / u_far * u_Zoom;\n  vec3 fogColor = vec3(23.0/255.0,31.0/255.0,51.0/255.0);\n  if(v_texCoord.x < 0.) { //\u9876\u90e8\u989c\u8272\n       vec3 foggedColor = fog(baseColor.xyz + vec3(0.12*0.9,0.2*0.9,0.3*0.9),fogColor,depth);\n       gl_FragColor = vec4( foggedColor, v_Color.w);\n  }else { // \u4fa7\u9762\u989c\u8272\n        vec2 st = v_texCoord;\n        vec2  UvScale = v_texCoord;\n        float tStep = min(0.08,max(0.05* (18.0-u_Zoom),0.02));\n        float tStart = 0.25 * tStep;\n        float tEnd = 0.75 * tStep;\n        float u = mod(UvScale.x, tStep);\n        float v = mod(UvScale.y, tStep);\n        float ux = floor(UvScale.x/tStep);\n        float uy = floor(UvScale.y/tStep);\n        float n = random(vec2(ux,uy));\n        float lightP = u_time;\n        float head = 1.0- step(0.005,st.y);\n        /*step3*/\n        // \u5c06\u7a97\u6237\u989c\u8272\u548c\u5899\u9762\u989c\u8272\u533a\u522b\u5f00\u6765\n        float sU = step(tStart, u) - step(tEnd, u);\n        float sV = step(tStart, v) - step(tEnd, v);\n        vec2 windowSize = vec2(abs(tEnd-tStart),abs(tEnd-tStart));\n        float dist = sdRect(vec2(u,v), windowSize);\n        float s = sU * sV;\n\n        float curColId = floor(UvScale.x / tStep);\n        float sCol = step(targetColId - 0.2, curColId) - step(targetColId + 0.2, curColId);\n\n        float mLightP = mod(lightP, 2.);\n        float sRow = step(mLightP - 0.2, st.y) - step(mLightP, st.y);\n        if(ux == targetColId){\n            n =0.;\n        }\n        float timeP = min(0.75, abs ( sin(u_time/3.0) ) );\n        float hot = smoothstep(1.0,0.0,timeP);\n        vec3 color = mix(baseColor, getWindowColor(n,hot,brightColor,windowColor), s);\n        //vec3 color = mix(baseColor, getWindowColor(n,hot,brightColor,windowColor), 1.0);\n        float sFinal = s * sCol * sRow;\n        color += mix(baseColor, brightColor, sFinal*n);\n        if (st.y<0.01){\n        color = baseColor;\n         }\n        if(head ==1.0) { // \u9876\u90e8\u4eae\u7ebf\n            color = brightColor;\n        }\n        color = color * v_Color.rgb;\n\n        vec3 foggedColor = fog(color,fogColor,depth);\n\n        gl_FragColor = vec4(foggedColor,1.0);\n  }\n  gl_FragColor.a *= u_opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',wt='precision highp float;\n\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Normal;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\n\nattribute vec2 a_Uv;\nvarying vec2 v_texCoord;\n\nvarying vec4 v_Color;\nuniform mat4 u_Mvp;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n  vec4 project_pos = project_position(pos);\n   v_texCoord = a_Uv;\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n\n  float lightWeight = calc_lighting(pos);\n  // v_Color = a_Color;\n  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  setPickingColor(a_PickingColor);\n}\n',St=function(e){v()(n,e);var t=bt(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.baseColor,i=void 0===r?"rgb(16,16,16)":r,o=e.brightColor,a=void 0===o?"rgb(255,176,38)":o,s=e.windowColor,u=void 0===s?"rgb(30,60,89)":s,c=e.time,l=void 0===c?0:c;return{u_opacity:n,u_baseColor:Object(L["s"])(i),u_brightColor:Object(L["s"])(a),u_windowColor:Object(L["s"])(u),u_time:this.layer.getLayerAnimateTime()||l}}},{key:"initModels",value:function(){return this.startModelAnimate(),[this.layer.buildLayerModel({moduleName:"cityBuilding",vertexShader:wt,fragmentShader:_t,triangulation:ft})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:u["AttributeType"].Attribute,descriptor:{name:"a_Normal",buffer:{usage:u["gl"].STATIC_DRAW,data:[],type:u["gl"].FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:u["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?10:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:u["AttributeType"].Attribute,descriptor:{name:"a_Uv",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:2,update:function(e,t,n,r){e.size;return[n[3],n[4]]}}})}}]),n}(Ee);function Ot(e){var t=Et();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function Et(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var kt=function(e){v()(n,e);var t=Ot(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),w()(d()(e),"type","PolygonLayer"),e}return p()(n,[{key:"buildModels",value:function(){this.layerModel=new St(this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"setLight",value:function(e){this.updateLayerConfig({time:e})}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){return"citybuilding"}}]),n}(ve);function Ct(e){var t=jt();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function jt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Tt='precision highp float;\r\n// \u591a\u8fb9\u5f62\u9876\u70b9\u5750\u6807\r\nattribute vec3 a_Position;\r\n// \u591a\u8fb9\u5f62\u7ecf\u7eac\u5ea6\u5750\u6807\r\nattribute vec3 a_Pos;\r\nattribute float a_Size;\r\nattribute vec4 a_Color;\r\nuniform vec2 u_radius;\r\nuniform float u_coverage: 0.9;\r\nuniform float u_angle: 0;\r\nuniform mat4 u_ModelMatrix;\r\nuniform mat4 u_Mvp;\r\nvarying vec4 v_color;\r\n\r\nuniform vec2 u_SceneCenterMKT;\r\n\r\n#pragma include "projection"\r\n#pragma include "project"\r\n#pragma include "picking"\r\n\r\nvoid main() {\r\n  v_color = a_Color;\r\n\r\n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\r\n  vec2 offset = a_Position.xy * u_radius * rotationMatrix * u_coverage ;\r\n  // vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\r\n  // vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\r\n  // gl_Position = project_common_position_to_clipspace(project_pos);\r\n\r\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\r\n    vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\r\n    vec2 customLnglat = customProject(lnglat) - u_SceneCenterMKT; // \u5c06\u7ecf\u7eac\u5ea6\u8f6c\u6362\u4e3a\u9ad8\u5fb72.0\u9700\u8981\u7684\u5e73\u9762\u5750\u6807\r\n    vec4 project_pos = project_position(vec4(customLnglat, 0, 1.0));\r\n    gl_Position = u_Mvp * (project_pos);\r\n  } else {\r\n     vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\r\n    vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\r\n    gl_Position = project_common_position_to_clipspace(project_pos);\r\n  }\r\n\r\n  setPickingColor(a_PickingColor);\r\n}\r\n',At='precision highp float;\nvarying vec4 v_color;\nuniform float u_opacity: 1;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  gl_FragColor.a *= u_opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',Pt=function(e){v()(n,e);var t=Ct(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.coverage,r=e.angle;return{u_opacity:t||1,u_coverage:n||.9,u_angle:r||0,u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"gridheatmap",vertexShader:Tt,fragmentShader:At,triangulation:pt,depth:{enable:!1},primitive:u["gl"].TRIANGLES,blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:u["AttributeType"].Attribute,descriptor:{name:"a_Pos",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:3,update:function(e,t){var n="GAODE2.x"===e.version?e.originCoordinates:e.coordinates;return[n[0],n[1],0]}}})}}]),n}(Ee);function Mt(e){var t=It();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function It(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Lt,Rt,Dt='precision highp float;\n// \u591a\u8fb9\u5f62\u9876\u70b9\u5750\u6807\nattribute vec3 a_Position;\n// \u591a\u8fb9\u5f62\u7ecf\u7eac\u5ea6\u5750\u6807\nattribute vec3 a_Pos;\n\nattribute vec3 a_Normal;\nattribute float a_Size;\nattribute vec4 a_Color;\nuniform vec2 u_radius;\nuniform float u_coverage: 0.9;\nuniform float u_angle: 0;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nvarying vec4 v_color;\n\nuniform vec2 u_SceneCenterMKT;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "light"\n#pragma include "picking"\n\n\nvoid main() {\n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\n  vec2 offset =(vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage));\n  // vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // \u5b9e\u9645\u7684\u7ecf\u7eac\u5ea6\n  // vec2 lnglat = (a_Pos.xy + offset); \n  // vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));\n  // gl_Position = project_common_position_to_clipspace(project_pos);\n  // float lightWeight = calc_lighting(project_pos);\n  // v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // vec2 lnglat = (a_Pos.xy + offset); \n    // vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));\n\n    // float lightWeight = calc_lighting(project_pos);\n    // v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);\n  \n    // gl_Position = u_Mvp * vec4(lnglat , a_Position.z * a_Size, 1.0);\n    vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // \u7ecf\u7eac\u5ea6\n    vec2 customLnglat = customProject(lnglat) - u_SceneCenterMKT; // \u5c06\u7ecf\u7eac\u5ea6\u8f6c\u6362\u4e3a\u9ad8\u5fb72.0\u9700\u8981\u7684\u5e73\u9762\u5750\u6807\n    vec4 project_pos = project_position(vec4(customLnglat, a_Position.z * a_Size, 1.0));\n\n    float lightWeight = calc_lighting(project_pos);\n    v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);\n  \n    gl_Position = u_Mvp * vec4(customLnglat , a_Position.z * a_Size, 1.0);\n  } else {\n    vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // \u5b9e\u9645\u7684\u7ecf\u7eac\u5ea6\n    vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));\n    \n    float lightWeight = calc_lighting(project_pos);\n    v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);\n    \n    gl_Position = project_common_position_to_clipspace(project_pos);\n  }\n\n\n\n  setPickingColor(a_PickingColor);\n}\n',Nt='precision highp float;\nvarying vec4 v_color;\nuniform float u_opacity: 1;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  gl_FragColor.a *= u_opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',zt=function(e){v()(n,e);var t=Mt(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.coverage,r=e.angle;return{u_opacity:t||1,u_coverage:n||1,u_angle:r||0,u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"grid3dheatmap",vertexShader:Dt,fragmentShader:Nt,triangulation:st,depth:{enable:!0},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:u["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size;return Array.isArray(i)?[i[0]]:[i]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:u["AttributeType"].Attribute,descriptor:{name:"a_Normal",buffer:{usage:u["gl"].STATIC_DRAW,data:[],type:u["gl"].FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:u["AttributeType"].Attribute,descriptor:{name:"a_Pos",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:3,update:function(e,t){var n="GAODE2.x"===e.version?e.originCoordinates:e.coordinates;return[n[0],n[1],0]}}})}}]),n}(Ee);function Ft(e,t){for(var n=[],r=[],i=[],o=e+1,a=t+1,s=e/2,u=t/2,c=0;c<a;c++)for(var l=c-u,f=0;f<o;f++){var p=f-s;r.push(p/s,-l/u,0),i.push(f/e),i.push(1-c/t)}for(var h=0;h<t;h++)for(var d=0;d<e;d++){var m=d+o*h,v=d+o*(h+1),y=d+1+o*(h+1),g=d+1+o*h;n.push(m,v,g),n.push(v,y,g)}return{vertices:r,indices:n,uvs:i}}function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e){var t=Ht();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function Ht(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var qt="uniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\nuniform float u_opacity;\nvarying vec2 v_texCoord;\nvarying float v_intensity;\n\nvoid main(){\n   \n     float intensity = texture2D(u_texture, v_texCoord).r;\n    vec4 color = texture2D(u_colorTexture,vec2(intensity, 0));\n    gl_FragColor = color;\n    // gl_FragColor.a = color.a * smoothstep(0.1,0.2,intensity)* u_opacity;\n     gl_FragColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;\n}\n",Gt='precision highp float;\nattribute vec3 a_Position;\nattribute vec2 a_Uv;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_InverseViewProjectionMatrix;\nuniform mat4 u_ViewProjectionMatrixUncentered;\nvarying float v_intensity;\n\n\nvec2 toBezier(float t, vec2 P0, vec2 P1, vec2 P2, vec2 P3) {\n    float t2 = t * t;\n    float one_minus_t = 1.0 - t;\n    float one_minus_t2 = one_minus_t * one_minus_t;\n    return (P0 * one_minus_t2 * one_minus_t + P1 * 3.0 * t * one_minus_t2 + P2 * 3.0 * t2 * one_minus_t + P3 * t2 * t);\n}\nvec2 toBezier(float t, vec4 p){\n    return toBezier(t, vec2(0.0, 0.0), vec2(p.x, p.y), vec2(p.z, p.w), vec2(1.0, 1.0));\n}\n#pragma include "projection"\nvoid main() {\n  v_texCoord = a_Uv;\n\n  vec2 pos = a_Uv * vec2(2.0) - vec2(1.0); // \u5c06\u539f\u672c 0 -> 1 \u7684 uv \u8f6c\u6362\u4e3a -1 -> 1 \u7684\u6807\u51c6\u5750\u6807\u7a7a\u95f4\uff08NDC\uff09\n\n  vec4 p1 = vec4(pos, 0.0, 1.0); // x/y \u5e73\u9762\u4e0a\u7684\u70b9\uff08z == 0\uff09\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e09\u7ef4\u4e0a\u7684\u70b9\u88ab\u6295\u5f71\u5230\u5e73\u9762\u540e\u7684\u70b9\n\tvec4 p2 = vec4(pos, 1.0, 1.0); // \u5e73\u884c\u4e8ex/y\u5e73\u9762\u3001z==1 \u7684\u5e73\u9762\u4e0a\u7684\u70b9\n\n\tvec4 inverseP1 = u_InverseViewProjectionMatrix * p1; // \u6839\u636e\u89c6\u56fe\u6295\u5f71\u77e9\u9635\u7684\u9006\u77e9\u9635\u5e73\u9762\u4e0a\u7684\u53cd\u7b97\u51fa\u4e09\u7ef4\u7a7a\u95f4\u4e2d\u7684\u70b9\uff08p1\u5e73\u9762\u4e0a\u7684\u70b9\uff09\n\tvec4 inverseP2 = u_InverseViewProjectionMatrix * p2;\n\n  inverseP1 = inverseP1 / inverseP1.w; // \u5f52\u4e00\u5316\u64cd\u4f5c\uff08\u5f52\u4e00\u5316\u540e\u4e3a\u4e16\u754c\u5750\u6807\uff09\n\tinverseP2 = inverseP2 / inverseP2.w;\n\n\tfloat zPos = (0.0 - inverseP1.z) / (inverseP2.z - inverseP1.z); // ??\n\tvec4 position = inverseP1 + zPos * (inverseP2 - inverseP1);\n\n  vec4 b= vec4(0.5000, 0.0, 1.0, 0.5000);\n  float fh;\n\n  v_intensity = texture2D(u_texture, v_texCoord).r;\n  fh = toBezier(v_intensity, b).y;\n  gl_Position = u_ViewProjectionMatrixUncentered * vec4(position.xy, fh * project_pixel(50.), 1.0);\n \n}\n',Wt="uniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\nuniform float u_opacity;\nvarying vec2 v_texCoord;\nvarying float v_intensity;\n\nvoid main(){\n     float intensity = texture2D(u_texture, v_texCoord).r;\n    vec4 color = texture2D(u_colorTexture,vec2(intensity, 0));\n    gl_FragColor =color;\n    gl_FragColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;\n\n}\n",Zt="precision highp float;\nuniform float u_intensity;\nvarying float v_weight;\nvarying vec2 v_extrude;\n#define GAUSS_COEF  0.3989422804014327\nvoid main(){\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = v_weight * u_intensity * GAUSS_COEF * exp(d);\n    gl_FragColor = vec4(val, 1., 1., 1.);\n}\n",Yt='precision highp float;\nattribute vec3 a_Position;\nattribute float a_Size;\nattribute vec2 a_Dir;\nuniform float u_intensity;\nuniform float u_radius;\nvarying vec2 v_extrude;\nvarying float v_weight;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\n#define GAUSS_COEF  0.3989422804014327\n\n#pragma include "projection"\n\nvoid main(){\n    v_weight = a_Size;\n    float ZERO = 1.0 / 255.0 / 16.0;\n    float extrude_x = a_Dir.x * 2.0 -1.0;\n    float extrude_y = a_Dir.y * 2.0 -1.0;\n    vec2 extrude_dir = normalize(vec2(extrude_x,extrude_y));\n    float S = sqrt(-2.0 * log(ZERO / a_Size / u_intensity / GAUSS_COEF)) / 3.0;\n    v_extrude = extrude_dir * S;\n\n    vec2 offset = project_pixel(v_extrude * u_radius);\n    vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\n\n    // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n        gl_Position = u_Mvp * (vec4(project_pos.xy + offset, 0.0, 1.0));\n    } else {\n        gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n    }\n}\n',Xt="precision highp float;\nattribute vec3 a_Position;\nattribute vec2 a_Uv;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nvarying float v_intensity;\nvoid main() {\n  v_texCoord = a_Uv;\n  v_intensity = texture2D(u_texture, v_texCoord).r;\n  gl_Position = vec4(a_Position.xy, 0, 1.);\n}\n",Kt=(Lt=Object(D["injectable"])(),Lt(Rt=function(e){v()(n,e);var t=Vt(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),w()(d()(e),"texture",void 0),w()(d()(e),"colorTexture",void 0),w()(d()(e),"heatmapFramerBuffer",void 0),w()(d()(e),"intensityModel",void 0),w()(d()(e),"colorModel",void 0),w()(d()(e),"shapeType",void 0),e}return p()(n,[{key:"render",value:function(){var e=this,t=this.rendererService,n=t.clear,r=t.useFramebuffer;r(this.heatmapFramerBuffer,(function(){n({color:[0,0,0,0],depth:1,stencil:0,framebuffer:e.heatmapFramerBuffer}),e.drawIntensityMode()})),this.layer.styleNeedUpdate&&this.updateColorTexture(),"heatmap"===this.shapeType?this.drawColorMode():this.draw3DHeatMap()}},{key:"getUninforms",value:function(){throw new Error("Method not implemented.")}},{key:"initModels",value:function(){var e,t=this.rendererService,n=t.createFramebuffer,r=(t.clear,t.getViewportSize),i=t.createTexture2D,o=(t.useFramebuffer,this.styleAttributeService.getLayerStyleAttribute("shape")),a=(null===o||void 0===o||null===(e=o.scale)||void 0===e?void 0:e.field)||"heatmap";this.shapeType=a,this.intensityModel=this.buildHeatMapIntensity(),this.colorModel="heatmap"===a?this.buildHeatmapColor():this.build3dHeatMap();var s=this.layer.getLayerConfig(),c=s.rampColors,l=(Object(L["n"])(c),r()),f=l.width,p=l.height;return this.heatmapFramerBuffer=n({color:i({width:Math.floor(f/4),height:Math.floor(p/4),wrapS:u["gl"].CLAMP_TO_EDGE,wrapT:u["gl"].CLAMP_TO_EDGE,min:u["gl"].LINEAR,mag:u["gl"].LINEAR}),depth:!1}),this.updateColorTexture(),[this.intensityModel,this.colorModel]}},{key:"buildModels",value:function(){return this.initModels()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"dir",type:u["AttributeType"].Attribute,descriptor:{name:"a_Dir",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:2,update:function(e,t,n,r){return[n[3],n[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:u["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return[o]}}})}},{key:"buildHeatMapIntensity",value:function(){return this.layer.buildLayerModel({moduleName:"heatmapintensity",vertexShader:Yt,fragmentShader:Zt,triangulation:mt,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:u["gl"].ONE,srcAlpha:1,dstRGB:u["gl"].ONE,dstAlpha:1}}})}},{key:"buildHeatmapColor",value:function(){this.shaderModuleService.registerModule("heatmapColor",{vs:Xt,fs:Wt});var e=this.shaderModuleService.getModule("heatmapColor"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService,o=i.createAttribute,a=i.createElements,s=i.createBuffer,c=i.createModel;return c({vs:t,fs:n,attributes:{a_Position:o({buffer:s({data:[-1,1,0,1,1,0,-1,-1,0,1,-1,0],type:u["gl"].FLOAT}),size:3}),a_Uv:o({buffer:s({data:[0,1,1,1,0,0,1,0],type:u["gl"].FLOAT}),size:2})},uniforms:Ut({},r),depth:{enable:!1},blend:this.getBlend(),count:6,elements:a({data:[0,2,1,2,3,1],type:u["gl"].UNSIGNED_INT,count:6})})}},{key:"drawIntensityMode",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.intensity,r=void 0===n?10:n,i=e.radius,o=void 0===i?5:i;this.intensityModel.draw({uniforms:{u_opacity:t||1,u_radius:o,u_intensity:r}})}},{key:"drawColorMode",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity;this.colorModel.draw({uniforms:{u_opacity:t||1,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer}})}},{key:"draw3DHeatMap",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=Ae["b"].create();Ae["b"].invert(n,this.cameraService.getViewProjectionMatrixUncentered()),this.colorModel.draw({uniforms:{u_opacity:t||1,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer,u_ViewProjectionMatrixUncentered:this.cameraService.getViewProjectionMatrixUncentered(),u_InverseViewProjectionMatrix:ge()(n)}})}},{key:"build3dHeatMap",value:function(){var e=this.rendererService.getViewportSize,t=e(),n=t.width,r=t.height,i=Ft(n/4,r/4);this.shaderModuleService.registerModule("heatmap3dColor",{vs:Gt,fs:qt});var o=this.shaderModuleService.getModule("heatmap3dColor"),a=o.vs,s=o.fs,c=o.uniforms,l=this.rendererService,f=l.createAttribute,p=l.createElements,h=l.createBuffer,d=l.createModel;return d({vs:a,fs:s,attributes:{a_Position:f({buffer:h({data:i.vertices,type:u["gl"].FLOAT}),size:3}),a_Uv:f({buffer:h({data:i.uvs,type:u["gl"].FLOAT}),size:2})},primitive:u["gl"].TRIANGLES,uniforms:Ut({},c),depth:{enable:!0},blend:{enable:!0,func:{srcRGB:u["gl"].SRC_ALPHA,srcAlpha:1,dstRGB:u["gl"].ONE_MINUS_SRC_ALPHA,dstAlpha:1}},elements:p({data:i.indices,type:u["gl"].UNSIGNED_INT,count:i.indices.length})})}},{key:"updateStyle",value:function(){this.updateColorTexture()}},{key:"updateColorTexture",value:function(){var e=this.rendererService.createTexture2D;this.texture&&this.texture.destroy();var t=this.layer.getLayerConfig(),n=t.rampColors,r=Object(L["n"])(n);this.colorTexture=e({data:new Uint8Array(r.data),width:r.width,height:r.height,wrapS:u["gl"].CLAMP_TO_EDGE,wrapT:u["gl"].CLAMP_TO_EDGE,min:u["gl"].NEAREST,mag:u["gl"].NEAREST,flipY:!1})}}]),n}(Ee))||Rt);function Jt(e){var t=Qt();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function Qt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var $t='precision highp float;\nvarying vec4 v_color;\nuniform float u_opacity: 1;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  gl_FragColor.a *= u_opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',en='precision highp float;\n// \u591a\u8fb9\u5f62\u9876\u70b9\u5750\u6807\nattribute vec3 a_Position;\n// \u591a\u8fb9\u5f62\u7ecf\u7eac\u5ea6\u5750\u6807\nattribute vec3 a_Pos;\nattribute float a_Size;\nattribute vec4 a_Color;\nuniform vec2 u_radius;\nuniform float u_coverage: 0.9;\nuniform float u_angle: 0;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nvarying vec4 v_color;\n\nuniform vec2 u_SceneCenterMKT;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nvoid main() {\n  v_color = a_Color;\n    \n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\n  vec2 offset =(vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage));\n  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\n \n  // vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0., 1.0));\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // gl_Position = u_Mvp * (vec4(project_pos.xy, 0., 1.0));\n    // gl_Position = u_Mvp * (vec4(a_Pos.xy + offset, 0., 1.0));\n    vec2 customLnglat = customProject(lnglat) - u_SceneCenterMKT;\n    vec4 project_pos = project_position(vec4(customLnglat, 0, 1.0));\n    gl_Position = u_Mvp * vec4(project_pos.xy, 0.0, 1.0);\n  } else {\n    vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0., 1.0));\n  }\n  setPickingColor(a_PickingColor);\n}\n',tn=function(e){v()(n,e);var t=Jt(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.coverage,r=e.angle;return{u_opacity:t||1,u_coverage:n||.9,u_angle:r||0,u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"hexagonheatmap",vertexShader:en,fragmentShader:$t,triangulation:pt,depth:{enable:!1},primitive:u["gl"].TRIANGLES,blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:u["AttributeType"].Attribute,descriptor:{name:"a_Pos",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:3,update:function(e,t){var n="GAODE2.x"===e.version?e.originCoordinates:e.coordinates;return[n[0],n[1],0]}}})}}]),n}(Ee),nn={heatmap:Kt,heatmap3d:Kt,grid:Pt,grid3d:zt,hexagon:tn},rn=nn;function on(e){var t=an();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function an(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var sn=function(e){v()(n,e);var t=on(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),w()(d()(e),"type","HeatMapLayer"),e}return p()(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new rn[e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"renderModels",value:function(){var e=this,t=this.getModelType();return"heatmap"===t?(this.layerModel&&this.layerModel.render(),this):(this.layerModelNeedUpdate&&(this.models=this.layerModel.buildModels(),this.layerModelNeedUpdate=!1),this.models.forEach((function(t){return t.draw({uniforms:e.layerModel.getUninforms()})})),this)}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){var e,t=this.styleAttributeService.getLayerStyleAttribute("shape"),n=this.getLayerConfig(),r=n.shape3d,i=this.getSource(),o=i.data.type,a=(null===t||void 0===t||null===(e=t.scale)||void 0===e?void 0:e.field)||"heatmap";return"heatmap"===a||"heatmap3d"===a?"heatmap":"hexagon"===o?-1===(null===r||void 0===r?void 0:r.indexOf(a))?"hexagon":"grid3d":"grid"===o?-1===(null===r||void 0===r?void 0:r.indexOf(a))?"grid":"grid3d":"heatmap"}}]),n}(ve);function un(e){var t=cn();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function cn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ln="precision mediump float;\nuniform float u_opacity: 1.0;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nvoid main() {\n  vec4 color = texture2D(u_texture,vec2(v_texCoord.x,v_texCoord.y));\n  gl_FragColor = color;\n  gl_FragColor.a *= u_opacity;\n}\n",fn='precision highp float;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nattribute vec3 a_Position;\nattribute vec2 a_Uv;\nvarying vec2 v_texCoord;\n#pragma include "projection"\nvoid main() {\n   v_texCoord = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));\n   if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      gl_Position = u_Mvp * (vec4(project_pos.xy,0., 1.0));\n   } else {\n      gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));\n   }\n}\n',pn=function(e){v()(n,e);var t=un(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),w()(d()(e),"texture",void 0),e}return p()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity;return{u_opacity:t||1,u_texture:this.texture}}},{key:"initModels",value:function(){var e=this,t=this.layer.getSource(),n=this.rendererService.createTexture2D;return this.texture=n({height:0,width:0}),t.data.images.then((function(t){e.texture=n({data:t[0],width:t[0].width,height:t[0].height}),e.layerService.renderLayers()})),[this.layer.buildLayerModel({moduleName:"RasterImage",vertexShader:fn,fragmentShader:ln,triangulation:ht,primitive:u["gl"].TRIANGLES,depth:{enable:!1},blend:this.getBlend()})]}},{key:"buildModels",value:function(){return this.initModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:u["AttributeType"].Attribute,descriptor:{name:"a_Uv",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:2,update:function(e,t,n,r){return[n[3],n[4]]}}})}}]),n}(Ee),hn={image:pn},dn=hn;function mn(e){var t=vn();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function vn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var yn=function(e){v()(n,e);var t=mn(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),w()(d()(e),"type","ImageLayer"),e}return p()(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new dn[e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var e=this.getModelType(),t={image:{}};return t[e]}},{key:"getModelType",value:function(){return"image"}}]),n}(ve);function gn(e){var t=bn();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function bn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var xn='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nuniform float u_opacity;\nuniform float u_textureBlend;\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\n// varying vec2 v_normal;\nvarying vec4 v_dash_array;\nvarying vec4 v_color;\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\nuniform float u_line_texture;\nuniform sampler2D u_texture;\nuniform vec2 u_textSize;\n\nuniform float segmentNumber;\nvarying vec2 v_iconMapUV;\n\nvarying vec4 v_dataset; // \u6570\u636e\u96c6 - \u7528\u4e8e\u5408\u5e76\u5355\u4e2a\u7684 varying \u53d8\u91cf\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float animateSpeed = 0.0; // \u8fd0\u52a8\u901f\u5ea6\n  float d_segmentIndex = v_dataset.r;   // \u5f53\u524d\u9876\u70b9\u5728\u5f27\u7ebf\u4e2d\u6240\u5904\u7684\u5206\u6bb5\u4f4d\u7f6e\n  float d_distance_ratio = v_dataset.b; // \u5f53\u524d\u9876\u70b9\u5728\u5f27\u7ebf\u4e2d\u6240\u5904\u7684\u5206\u6bb5\u6bd4\u4f8b\n\n  // \u8bbe\u7f6e\u5f27\u7ebf\u7684\u5e95\u8272\n  if(u_linearColor == 1.0) { // \u4f7f\u7528\u6e10\u53d8\u989c\u8272\n    gl_FragColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);\n  } else { // \u4f7f\u7528 color \u65b9\u6cd5\u4f20\u5165\u7684\u989c\u8272\n     gl_FragColor = v_color;\n  }\n  \n  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));\n  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));\n  gl_FragColor.a *= opacity;\n  if(u_line_type == LineTypeDash) {\n   float flag = 0.;\n    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n  }\n\n  if(u_aimate.x == Animate) {\n      animateSpeed = u_time / u_aimate.y;\n      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      // alpha = smoothstep(0., 1., alpha);\n      alpha = clamp(alpha, 0.0, 1.0);\n      gl_FragColor.a *= alpha;\n  }\n\n  // \u5f53\u5b58\u5728\u8d34\u56fe\u65f6\u5728\u5e95\u8272\u4e0a\u8d34\u4e0a\u8d34\u56fe\n  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture\n    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / segmentNumber));\n    // float arcRadio = smoothstep( 0.0, 1.0, d_distance_ratio);\n\n    float d_texCount = v_dataset.g; // \u8d34\u56fe\u5728\u5f27\u7ebf\u4e0a\u91cd\u590d\u7684\u6570\u91cf\n\n    float u = 1.0 - fract(arcRadio * d_texCount + animateSpeed);\n\n    if(u_aimate.x == Animate) {\n      u = gl_FragColor.a/opacity;\n    }\n    float v = v_dataset.a; // \u6a2a\u5411 v\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n\n    vec4 pattern = texture2D(u_texture, uv);\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      gl_FragColor = filterColor(gl_FragColor + pattern);\n    } else { // replace\n        pattern.a *= opacity;\n        if(gl_FragColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        gl_FragColor = filterColor(pattern);\n    }\n    // gl_FragColor = vec4(1.0 - fract(arcRadio * 20000.0), 0.0, 0.0, 1.0);\n    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, uv));\n    // gl_FragColor = filterColor(texture2D(u_texture, uv));\n    \n  } else {\n     gl_FragColor = filterColor(gl_FragColor);\n  }\n  // gl_FragColor = filterColor(gl_FragColor);\n}',_n='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\n// varying vec2 v_normal;\n\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nuniform float u_lineDir: 1.0;\nvarying vec4 v_dash_array;\n\nuniform float u_icon_step: 100;\nuniform float u_line_texture: 0.0;\nattribute vec2 a_iconMapUV;\nvarying vec2 v_iconMapUV;\n\nvarying vec4 v_dataset; // \u6570\u636e\u96c6 - \u7528\u4e8e\u5408\u5e76\u5355\u4e2a\u7684 varying \u53d8\u91cf\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat bezier3(vec3 arr, float t) {\n  float ut = 1. - t;\n  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;\n}\nvec2 midPoint(vec2 source, vec2 target) {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  vec2 center = target - source;\n  float r = length(center);\n  float theta = atan(center.y, center.x);\n  float thetaOffset = 0.314;\n  float r2 = r / 2.0 / cos(thetaOffset);\n  float theta2 = theta + thetaOffset;\n  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);\n  if(u_lineDir == 1.0) { // \u6b63\u5411\n    return mid;\n  } else { // \u9006\u5411\n    // (mid + vmin)/2 = (s + t)/2\n    vec2 vmid = source + target - mid;\n    return vmid;\n  }\n  // return mid;\n}\nfloat getSegmentRatio(float index) {\n    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));\n}\nvec2 interpolate (vec2 source, vec2 target, float t) {\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  vec2 mid = midPoint(source, target);\n  vec3 x = vec3(source.x, mid.x, target.x);\n  vec3 y = vec3(source.y, mid.y, target.y);\n  return vec2(bezier3(x ,t), bezier3(y,t));\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\n\nvoid main() {\n  v_color = a_Color;\n  \n  vec2 source = a_Instance.rg;  // \u8d77\u59cb\u70b9\n  vec2 target =  a_Instance.ba; // \u7ec8\u70b9\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  float d_distance_ratio;\n  if(u_line_type == LineTypeDash) {\n      d_distance_ratio = segmentIndex / segmentNumber;\n\n      vec2 s = source;\n      vec2 t = target;\n      \n      if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n        s = unProjCustomCoord(source);\n        t = unProjCustomCoord(target);\n      }\n      float total_Distance = pixelDistance(s, t) / 2.0 * PI;\n      // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;\n      v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n  }\n  \n  if(u_aimate.x == Animate) {\n      d_distance_ratio = segmentIndex / segmentNumber;\n      if(u_lineDir != 1.0) {\n        d_distance_ratio = 1.0 - d_distance_ratio;\n      }\n  }\n\n  v_dataset.b = d_distance_ratio;\n\n  vec4 curr = project_position(vec4(interpolate(source, target, segmentRatio), 0.0, 1.0));\n  vec4 next = project_position(vec4(interpolate(source, target, nextSegmentRatio), 0.0, 1.0));\n  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n  //unProjCustomCoord\n  \n  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));\n\n\n  float d_segmentIndex = a_Position.x + 1.0; // \u5f53\u524d\u9876\u70b9\u5728\u5f27\u7ebf\u4e2d\u6240\u5904\u7684\u5206\u6bb5\u4f4d\u7f6e\n  v_dataset.r = d_segmentIndex;\n\n  if(LineTexture == u_line_texture) { // \u5f00\u542f\u8d34\u56fe\u6a21\u5f0f\n\n    float arcDistrance = length(source - target); // \u8d77\u59cb\u70b9\u548c\u7ec8\u70b9\u7684\u8ddd\u79bb\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20) { // amap\n      arcDistrance *= 1000000.0;\n    }\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) { // mapbox\n      // arcDistrance *= 8.0;\n      arcDistrance = project_pixel_allmap(arcDistrance);\n    }\n    v_iconMapUV = a_iconMapUV;\n\n    float pixelLen = project_pixel(u_icon_step); // \u8d34\u56fe\u6cbf\u5f27\u7ebf\u65b9\u5411\u7684\u957f\u5ea6 - \u968f\u5730\u56fe\u7f29\u653e\u6539\u53d8\n    float texCount = floor(arcDistrance/pixelLen); // \u8d34\u56fe\u5728\u5f27\u7ebf\u4e0a\u91cd\u590d\u7684\u6570\u91cf\n    v_dataset.g = texCount;\n\n    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \u7ebf\u6a2a\u5411\u504f\u79fb\u7684\u8ddd\u79bb\n    float linePixelSize = project_pixel(a_Size); // \u5b9a\u70b9\u4f4d\u7f6e\u504f\u79fb\n    v_dataset.a = lineOffsetWidth/linePixelSize; // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n  }\n  \n\n  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));\n    gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));\n  }\n  setPickingColor(a_PickingColor);\n}\n',wn={solid:0,dash:1},Sn=function(e){v()(n,e);var t=gn(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),w()(d()(e),"texture",void 0),w()(d()(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.render();e.texture=t({data:e.iconService.getCanvas(),mag:u["gl"].NEAREST,min:u["gl"].NEAREST,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128})})),e}return p()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.sourceColor,r=e.targetColor,i=e.textureBlend,o=void 0===i?"normal":i,a=e.lineType,s=void 0===a?"solid":a,c=e.dashArray,l=void 0===c?[10,5]:c,f=e.forward,p=void 0===f||f,h=e.lineTexture,d=void 0!==h&&h,m=e.iconStep,v=void 0===m?100:m,y=e.segmentNumber,g=void 0===y?30:y;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:t})){this.judgeStyleAttributes({opacity:t});var b=this.layer.getEncodedData(),x=this.calDataFrame(this.cellLength,b,this.cellProperties),_=x.data,w=x.width,S=x.height;this.rowCount=S,this.dataTexture=this.cellLength>0&&_.length>0?this.createTexture2D({flipY:!0,data:_,format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:w,height:S}):this.createTexture2D({flipY:!0,data:[1],format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:1,height:1})}2===l.length&&l.push(0,0);var O=0,E=[0,0,0,0],k=[0,0,0,0];return n&&r&&(E=Object(L["s"])(n),k=Object(L["s"])(r),O=1),this.rendererService.getDirty()&&this.texture.bind(),{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:X()(t)?t:1,u_textureBlend:"normal"===o?0:1,segmentNumber:g,u_line_type:wn[s||"solid"],u_dash_array:l,u_blur:.9,u_lineDir:p?1:-1,u_texture:this.texture,u_line_texture:d?1:0,u_icon_step:v,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:O,u_sourceColor:E,u_targetColor:k}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){var e=this.layer.getLayerConfig(),t=e.segmentNumber,n=void 0===t?30:t;return[this.layer.buildLayerModel({moduleName:"arc2dline",vertexShader:_n,fragmentShader:xn,triangulation:dt,depth:{enable:!1},blend:this.getBlend(),segmentNumber:n})]}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:u["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:u["AttributeType"].Attribute,descriptor:{name:"a_Instance",buffer:{usage:u["gl"].STATIC_DRAW,data:[],type:u["gl"].FLOAT},size:4,update:function(e,t,n,r){return[n[3],n[4],n[5],n[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:u["AttributeType"].Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:2,update:function(t,n,r,i){var o=e.iconService.getIconMap(),a=t.texture,s=o[a]||{x:0,y:0},u=s.x,c=s.y;return[u,c]}}})}}]),n}(Ee);function On(e){var t=En();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function En(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var kn='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nuniform float u_opacity;\nuniform float u_textureBlend;\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\n// varying vec2 v_normal;\nvarying vec4 v_dash_array;\nvarying vec4 v_color;\n\nuniform float u_line_texture: 0.0;\nuniform sampler2D u_texture;\nuniform vec2 u_textSize;\nvarying float v_segmentIndex;\nuniform float segmentNumber;\n\nvarying vec4 v_dataset; // \u6570\u636e\u96c6\n\nvarying vec2 v_iconMapUV;\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\nvarying mat4 styleMappingMat;\n\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float animateSpeed = 0.0; // \u8fd0\u52a8\u901f\u5ea6\n  float d_distance_ratio = v_dataset.g; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n\n  if(u_linearColor == 1.0) { // \u4f7f\u7528\u6e10\u53d8\u989c\u8272\n    gl_FragColor = mix(u_sourceColor, u_targetColor, v_segmentIndex/segmentNumber);\n  } else { // \u4f7f\u7528 color \u65b9\u6cd5\u4f20\u5165\u7684\u989c\u8272\n     gl_FragColor = v_color;\n  }\n\n  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));\n  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));\n  gl_FragColor.a *= opacity;\n  if(u_line_type == LineTypeDash) {\n   float flag = 0.;\n    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n  }\n\n  if(u_aimate.x == Animate) {\n      animateSpeed = u_time / u_aimate.y;\n      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      // alpha = smoothstep(0., 1., alpha);\n      alpha = clamp(alpha, 0.0, 1.0);\n      gl_FragColor.a *= alpha;\n  }\n\n  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture\n    // float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));\n    float arcRadio = v_segmentIndex / (segmentNumber - 1.0);\n    float count = v_dataset.b; // // \u8d34\u56fe\u5728\u5f27\u7ebf\u4e0a\u91cd\u590d\u7684\u6570\u91cf\n\n    float u = fract(arcRadio * count - animateSpeed * count);\n \n    if(u_aimate.x == Animate) {\n      u = gl_FragColor.a/opacity;\n    }\n\n    float v = v_dataset.a;  // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    vec4 pattern = texture2D(u_texture, uv);\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      gl_FragColor = filterColor(gl_FragColor + pattern);\n    } else { // replace\n        pattern.a *= opacity;\n        if(gl_FragColor.a <= 0.0) {\n          pattern.a = 0.0;\n          discard;\n        } else {\n          gl_FragColor = filterColor(pattern);\n        }\n    }\n\n  } else {\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n\n  // gl_FragColor = filterColor(gl_FragColor);\n}\n',Cn='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute vec4 a_Color;\nattribute float a_Size;\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\n// varying vec2 v_normal;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nvarying vec4 v_dash_array;\n\nuniform float u_icon_step: 100;\nuniform float u_line_texture: 0.0;\nvarying float v_segmentIndex;\n\nvarying vec4 v_dataset; // \u6570\u636e\u96c6\n\nattribute vec2 a_iconMapUV;\nvarying vec2 v_iconMapUV;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat maps (float value, float start1, float stop1, float start2, float stop2) {\n  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));\n}\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n  vec2 x = mix(source, target, ratio);\n  vec2 center = mix(source, target, 0.5);\n  float dSourceCenter = distance(source, center);\n  float dXCenter = distance(x, center);\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n  float vertex_height = paraboloid(source, target, segmentRatio);\n\n  return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n  );\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_color = a_Color;\n  vec2 source = project_position(vec4(a_Instance.rg, 0, 0)).xy;\n  vec2 target = project_position(vec4(a_Instance.ba, 0, 0)).xy;\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n\n  float d_distance_ratio;\n   if(u_line_type == LineTypeDash) {\n    d_distance_ratio = segmentIndex / segmentNumber;\n    // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;\n    vec2 s = source;\n    vec2 t = target;\n    \n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      s = unProjCustomCoord(source);\n      t = unProjCustomCoord(target);\n    }\n    float total_Distance = pixelDistance(s, t) / 2.0 * PI;\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n  }\n    if(u_aimate.x == Animate) {\n      d_distance_ratio = segmentIndex / segmentNumber;\n  }\n  v_dataset.g = d_distance_ratio; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  vec3 curr = getPos(source, target, segmentRatio);\n  vec3 next = getPos(source, target, nextSegmentRatio);\n  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);\n  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n\n\n  v_segmentIndex = a_Position.x;\n  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // \u5f00\u542f\u8d34\u56fe\u6a21\u5f0f  \n\n    float arcDistrance = length(source - target);\n    float pixelLen =  project_pixel(u_icon_step);\n    v_dataset.b = floor(arcDistrance/pixelLen); // \u8d34\u56fe\u5728\u5f27\u7ebf\u4e0a\u91cd\u590d\u7684\u6570\u91cf\n\n    vec2 projectOffset = project_pixel(offset);\n    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // \u7ebf\u6a2a\u5411\u504f\u79fb\u7684\u8ddd\u79bb\n    float linePixelSize = project_pixel(a_Size);  // \u5b9a\u70b9\u4f4d\u7f6e\u504f\u79fb\uff0c\u6309\u5730\u56fe\u7b49\u7ea7\u7f29\u653e\u540e\u7684\u8ddd\u79bb\n    v_dataset.a = lineOffsetWidth/linePixelSize;  // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n    v_iconMapUV = a_iconMapUV;\n  }\n  \n\n  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  }\n  setPickingColor(a_PickingColor);\n}\n',jn={solid:0,dash:1},Tn=function(e){v()(n,e);var t=On(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),w()(d()(e),"texture",void 0),w()(d()(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.render();e.texture=t({data:e.iconService.getCanvas(),mag:u["gl"].NEAREST,min:u["gl"].NEAREST,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128})})),e}return p()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.sourceColor,r=e.targetColor,i=e.textureBlend,o=void 0===i?"normal":i,a=e.lineType,s=void 0===a?"solid":a,c=e.dashArray,l=void 0===c?[10,5]:c,f=e.lineTexture,p=void 0!==f&&f,h=e.iconStep,d=void 0===h?100:h,m=e.segmentNumber,v=void 0===m?30:m;2===l.length&&l.push(0,0);var y=0,g=[0,0,0,0],b=[0,0,0,0];if(n&&r&&(g=Object(L["s"])(n),b=Object(L["s"])(r),y=1),this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:t})){this.judgeStyleAttributes({opacity:t});var x=this.layer.getEncodedData(),_=this.calDataFrame(this.cellLength,x,this.cellProperties),w=_.data,S=_.width,O=_.height;this.rowCount=O,this.dataTexture=this.cellLength>0&&w.length>0?this.createTexture2D({flipY:!0,data:w,format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:S,height:O}):this.createTexture2D({flipY:!0,data:[1],format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:X()(t)?t:1,u_textureBlend:"normal"===o?0:1,segmentNumber:v,u_line_type:jn[s]||0,u_dash_array:l,u_texture:this.texture,u_line_texture:p?1:0,u_icon_step:d,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:y,u_sourceColor:g,u_targetColor:b}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"arc3Dline",vertexShader:Cn,fragmentShader:kn,triangulation:dt,blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:u["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:u["AttributeType"].Attribute,descriptor:{name:"a_Instance",buffer:{usage:u["gl"].STATIC_DRAW,data:[],type:u["gl"].FLOAT},size:4,update:function(e,t,n,r){return[n[3],n[4],n[5],n[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:u["AttributeType"].Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:2,update:function(t,n,r,i){var o=e.iconService.getIconMap(),a=t.texture,s=o[a]||{x:0,y:0},u=s.x,c=s.y;return[u,c]}}})}}]),n}(Ee);function An(e){var t=Pn();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function Pn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Mn='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nuniform float u_opacity;\nuniform float u_textureBlend;\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\n// varying vec2 v_normal;\nvarying vec4 v_dash_array;\nvarying float v_distance_ratio;\nvarying vec4 v_color;\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\nuniform float u_line_texture: 0.0;\nuniform sampler2D u_texture;\nuniform vec2 u_textSize;\nuniform float segmentNumber;\n\nvarying vec4 v_dataset; // \u6570\u636e\u96c6\n\nvarying vec2 v_iconMapUV;\n\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\nvarying mat4 styleMappingMat;\n\n#pragma include "picking"\n#pragma include "project"\n#pragma include "projection"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float animateSpeed = 0.0;\n  float d_segmentIndex = v_dataset.g;\n  \n  // \u8bbe\u7f6e\u5f27\u7ebf\u7684\u5e95\u8272\n  if(u_linearColor == 1.0) { // \u4f7f\u7528\u6e10\u53d8\u989c\u8272\n    gl_FragColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);\n  } else { // \u4f7f\u7528 color \u65b9\u6cd5\u4f20\u5165\u7684\u989c\u8272\n     gl_FragColor = v_color;\n  }\n\n  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));\n  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));\n  gl_FragColor.a *= opacity;\n  if(u_line_type == LineTypeDash) {\n   float flag = 0.;\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n  }\n\n  // \u8bbe\u7f6e\u5f27\u7ebf\u7684\u52a8\u753b\u6a21\u5f0f\n  if(u_aimate.x == Animate) {\n      animateSpeed = u_time / u_aimate.y;\n      float alpha =1.0 - fract( mod(1.0- smoothstep(0.0, 1.0, v_distance_ratio), u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      alpha = smoothstep(0., 1., alpha);\n      gl_FragColor.a *= alpha;\n  }\n\n  // \u8bbe\u7f6e\u5f27\u7ebf\u7684\u8d34\u56fe\n  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { \n    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / (segmentNumber - 1.0)));\n    // float arcRadio = d_segmentIndex / (segmentNumber - 1.0);\n    float count = v_dataset.b; // \u8d34\u56fe\u5728\u5f27\u7ebf\u4e0a\u91cd\u590d\u7684\u6570\u91cf\n    float u = fract(arcRadio * count - animateSpeed * count);\n    // float u = fract(arcRadio * count - animateSpeed);\n    if(u_aimate.x == Animate) {\n      u = gl_FragColor.a/opacity;\n    }\n\n    float v = v_dataset.a; // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    vec4 pattern = texture2D(u_texture, uv);\n    \n    // \u8bbe\u7f6e\u8d34\u56fe\u548c\u5e95\u8272\u7684\u53e0\u52a0\u6a21\u5f0f\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      gl_FragColor = filterColor(gl_FragColor + pattern);\n    } else { // replace\n        pattern.a *= opacity;\n        if(gl_FragColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        gl_FragColor = filterColor(pattern);\n    }\n  } else {\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n\n  // gl_FragColor = filterColor(gl_FragColor);\n}',In='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\n// varying vec2 v_normal;\n\nvarying float v_distance_ratio;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nvarying vec4 v_dash_array;\n\nuniform float u_icon_step: 100;\nuniform float u_line_texture: 0.0;\n\nvarying vec4 v_dataset; // \u6570\u636e\u96c6\n\nattribute vec2 a_iconMapUV;\nvarying vec2 v_iconMapUV;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat maps (float value, float start1, float stop1, float start2, float stop2) {\n    return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\n}\n\nfloat getSegmentRatio(float index) {\n    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));\n}\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n    vec2 x = mix(source, target, ratio);\n    vec2 center = mix(source, target, 0.5);\n    float dSourceCenter = distance(source, center);\n    float dXCenter = distance(x, center);\n    return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n     float vertex_height = paraboloid(source, target, segmentRatio);\n\n    return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n    );\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size)/ 2.0;\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\nfloat getAngularDist (vec2 source, vec2 target) {\n  vec2 delta = source - target;\n  vec2 sin_half_delta = sin(delta / 2.0);\n  float a =\n    sin_half_delta.y * sin_half_delta.y +\n    cos(source.y) * cos(target.y) *\n    sin_half_delta.x * sin_half_delta.x;\n  return 2.0 * atan(sqrt(a), sqrt(1.0 - a));\n}\n\nvec2 midPoint(vec2 source, vec2 target) {\n  vec2 center = target - source;\n  float r = length(center);\n  float theta = atan(center.y, center.x);\n  float thetaOffset = 0.314;\n  float r2 = r / 2.0 / cos(thetaOffset);\n  float theta2 = theta + thetaOffset;\n  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);\n  return mid;\n}\nfloat bezier3(vec3 arr, float t) {\n  float ut = 1. - t;\n  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;\n}\n\nvec2 interpolate (vec2 source, vec2 target, float angularDist, float t) {\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    vec2 mid = midPoint(source, target);\n    vec3 x = vec3(source.x, mid.x, target.x);\n    vec3 y = vec3(source.y, mid.y, target.y);\n    return vec2(bezier3(x ,t), bezier3(y,t));\n  }else {\n    if(abs(angularDist - PI) < 0.001) {\n      return (1.0 - t) * source + t * target;\n    }\n    float a = sin((1.0 - t) * angularDist) / sin(angularDist);\n    float b = sin(t * angularDist) / sin(angularDist);\n    vec2 sin_source = sin(source);\n    vec2 cos_source = cos(source);\n    vec2 sin_target = sin(target);\n    vec2 cos_target = cos(target);\n    float x = a * cos_source.y * cos_source.x + b * cos_target.y * cos_target.x;\n    float y = a * cos_source.y * sin_source.x + b * cos_target.y * sin_target.x;\n    float z = a * sin_source.y + b * sin_target.y;\n    return vec2(atan(y, x), atan(z, sqrt(x * x + y * y)));\n  }\n}\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_color = a_Color;\n  vec2 source = radians(a_Instance.rg);\n  vec2 target = radians(a_Instance.ba);\n  float angularDist = getAngularDist(source, target);\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  if(u_line_type == LineTypeDash) {\n    v_distance_ratio = segmentIndex / segmentNumber;\n    vec2 s = source;\n    vec2 t = target;\n    \n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      s = unProjCustomCoord(source);\n      t = unProjCustomCoord(target);\n    }\n    float total_Distance = pixelDistance(s, t) / 2.0 * PI;\n    total_Distance = total_Distance*8.0;\n    // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba);\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n  }\n  if(u_aimate.x == Animate) {\n      v_distance_ratio = segmentIndex / segmentNumber;\n  }\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  v_distance_ratio = segmentIndex / segmentNumber;\n  vec4 curr = project_position(vec4(degrees(interpolate(source, target, angularDist, segmentRatio)), 0.0, 1.0));\n  vec4 next = project_position(vec4(degrees(interpolate(source, target, angularDist, nextSegmentRatio)), 0.0, 1.0));\n  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));\n  //  vec4 project_pos = project_position(vec4(curr.xy, 0, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));\n\n  v_dataset.g = a_Position.x; // \u8be5\u9876\u70b9\u5728\u5f27\u7ebf\u4e0a\u7684\u5206\u6bb5\u6392\u5e8f\n  if(LineTexture == u_line_texture) { // \u5f00\u542f\u8d34\u56fe\u6a21\u5f0f  \n    // float mapZoomScale = u_CoordinateSystem !== COORDINATE_SYSTEM_P20_2?10000000.0:1.0;\n    float d_arcDistrance = length(source - target);\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20) { // amap\n      d_arcDistrance = d_arcDistrance * 1000000.0;\n    }\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) { // mapbox\n      d_arcDistrance = project_pixel_allmap(d_arcDistrance);\n    }\n    float d_pixelLen = project_pixel(u_icon_step)/8.0;\n    v_dataset.b = floor(d_arcDistrance/d_pixelLen); // \u8d34\u56fe\u5728\u5f27\u7ebf\u4e0a\u91cd\u590d\u7684\u6570\u91cf\n\n    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \u7ebf\u6a2a\u5411\u504f\u79fb\u7684\u8ddd\u79bb\n    float linePixelSize = project_pixel(a_Size);  // \u5b9a\u70b9\u4f4d\u7f6e\u504f\u79fb\uff0c\u6309\u5730\u56fe\u7b49\u7ea7\u7f29\u653e\u540e\u7684\u8ddd\u79bb\n    v_dataset.a = lineOffsetWidth/linePixelSize;  // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n    v_iconMapUV = a_iconMapUV;\n  }\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(curr.xy + offset, curr.z, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));\n  }\n  setPickingColor(a_PickingColor);\n}\n\n',Ln={solid:0,dash:1},Rn=function(e){v()(n,e);var t=An(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),w()(d()(e),"texture",void 0),w()(d()(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.render();e.texture=t({data:e.iconService.getCanvas(),mag:u["gl"].NEAREST,min:u["gl"].NEAREST,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128})})),e}return p()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.sourceColor,r=e.targetColor,i=e.textureBlend,o=void 0===i?"normal":i,a=e.lineType,s=void 0===a?"solid":a,c=e.dashArray,l=void 0===c?[10,5]:c,f=e.lineTexture,p=void 0!==f&&f,h=e.iconStep,d=void 0===h?100:h,m=e.segmentNumber,v=void 0===m?30:m;2===l.length&&l.push(0,0),this.rendererService.getDirty()&&this.texture.bind();var y=0,g=[0,0,0,0],b=[0,0,0,0];if(n&&r&&(g=Object(L["s"])(n),b=Object(L["s"])(r),y=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:t})){this.judgeStyleAttributes({opacity:t});var x=this.layer.getEncodedData(),_=this.calDataFrame(this.cellLength,x,this.cellProperties),w=_.data,S=_.width,O=_.height;this.rowCount=O,this.dataTexture=this.cellLength>0&&w.length>0?this.createTexture2D({flipY:!0,data:w,format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:S,height:O}):this.createTexture2D({flipY:!0,data:[1],format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:X()(t)?t:1,u_textureBlend:"normal"===o?0:1,segmentNumber:v,u_line_type:Ln[s]||0,u_dash_array:l,u_texture:this.texture,u_line_texture:p?1:0,u_icon_step:d,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:y,u_sourceColor:g,u_targetColor:b}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"arc2dline",vertexShader:In,fragmentShader:Mn,triangulation:dt,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:u["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:u["AttributeType"].Attribute,descriptor:{name:"a_Instance",buffer:{usage:u["gl"].STATIC_DRAW,data:[],type:u["gl"].FLOAT},size:4,update:function(e,t,n,r){return[n[3],n[4],n[5],n[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:u["AttributeType"].Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:2,update:function(t,n,r,i){var o=e.iconService.getIconMap(),a=t.texture,s=o[a]||{x:0,y:0},u=s.x,c=s.y;return[u,c]}}})}}]),n}(Ee);function Dn(e){var t=Nn();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function Nn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var zn='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\nuniform float u_blur : 0.99;\nuniform float u_line_type: 0.0;\nuniform float u_opacity : 1.0;\nuniform float u_textureBlend;\nvarying vec4 v_color;\nvarying vec2 v_normal;\n\n// line texture\nuniform float u_line_texture;\nuniform sampler2D u_texture;\nuniform vec2 u_textSize;\n\n// dash\nuniform float u_dash_offset : 0.0;\nuniform float u_dash_ratio : 0.1;\nvarying vec4 v_dash_array;\n\nvarying vec4 v_dataset; // \u6570\u636e\u96c6 - distance_ratio/distance/pixelLen/texV\n\nvarying vec2 v_iconMapUV;\n\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\n#pragma include "picking"\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ]; // \u63a7\u5236\u8fd0\u52a8\n\nvarying mat4 styleMappingMat;\n// [animate, duration, interval, trailLength],\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float animateSpeed = 0.0; // \u8fd0\u52a8\u901f\u5ea6\n  float d_distance_ratio = v_dataset.r; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n\n  if(u_linearColor == 1.0) { // \u4f7f\u7528\u6e10\u53d8\u989c\u8272\n    gl_FragColor = mix(u_sourceColor, u_targetColor, d_distance_ratio);\n  } else { // \u4f7f\u7528 color \u65b9\u6cd5\u4f20\u5165\u7684\u989c\u8272\n     gl_FragColor = v_color;\n  }\n\n  // anti-alias\n  // float blur = 1.0 - smoothstep(u_blur, 1., length(v_normal.xy));\n  gl_FragColor.a *= opacity; // \u5168\u5c40\u900f\u660e\u5ea6\n  if(u_aimate.x == Animate) {\n      animateSpeed = u_time / u_aimate.y;\n       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + animateSpeed);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      alpha = smoothstep(0., 1., alpha);\n      gl_FragColor.a *= alpha;\n  }\n // dash line\n  if(u_line_type == LineTypeDash) {\n    float flag = 0.;\n    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n  }\n\n  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture\n    float aDistance = v_dataset.g;      // \u5f53\u524d\u9876\u70b9\u7684\u8ddd\u79bb\n    float d_texPixelLen = v_dataset.b;  // \u8d34\u56fe\u7684\u50cf\u7d20\u957f\u5ea6\uff0c\u6839\u636e\u5730\u56fe\u5c42\u7ea7\u7f29\u653e\n    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);\n    float v = v_dataset.a;  // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n    v = max(smoothstep(0.95, 1.0, v), v);\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, vec2(u, v)));\n    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, uv));\n     vec4 pattern = texture2D(u_texture, uv);\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      gl_FragColor = filterColor(gl_FragColor + pattern);\n    } else { // replace\n        pattern.a *= opacity;\n        if(gl_FragColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        gl_FragColor = filterColor(pattern);\n    }\n  } else {\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n  // gl_FragColor = filterColor(vec4(1.0, 0.0, 0.0, 1.0));\n \n  // if(rV < r || rV > 1.0 - r) {\n  //   gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n  // } \n  // if(v > 0.9) {\n  //   gl_FragColor = vec4(0.17647, 0.43921568, 0.2, 1.0);\n  // } else if(v < 0.1) {\n  //   gl_FragColor = vec4(0.17647, 0.43921568, 0.2, 1.0);\n  // }\n\n  // gl_FragColor = filterColor(gl_FragColor);\n}\n',Fn='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n\nattribute float a_Miter;\nattribute vec4 a_Color;\nattribute vec2 a_Size;\nattribute vec3 a_Normal;\nattribute vec3 a_Position;\n\nattribute vec2 a_iconMapUV;\n\n// dash line\nattribute float a_Total_Distance;\nattribute float a_Distance;\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nuniform float u_icon_step: 100;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvarying vec4 v_color;\nvarying vec4 v_dash_array;\nvarying vec2 v_normal;\n\nvarying vec4 v_dataset; // \u6570\u636e\u96c6 - distance_ratio/distance/pixelLen/texV\n// texV \u7ebf\u56fe\u5c42 - \u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\uff08\u7ebf\u7684\u5bbd\u5ea6\u65b9\u5411\uff09\nvarying vec2 v_iconMapUV;\nuniform float u_linearColor: 0;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  float d_distance_ratio; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n  float d_texPixelLen;    // \u8d34\u56fe\u7684\u50cf\u7d20\u957f\u5ea6\uff0c\u6839\u636e\u5730\u56fe\u5c42\u7ea7\u7f29\u653e\n\n  v_iconMapUV = a_iconMapUV;\n  d_texPixelLen = project_pixel(u_icon_step);\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    d_texPixelLen *= 10.0;\n  }\n\n  if(u_line_type == LineTypeDash) {\n    d_distance_ratio = a_Distance / a_Total_Distance;\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_Total_Distance;\n  }\n  if(u_aimate.x == Animate || u_linearColor == 1.0) {\n      d_distance_ratio = a_Distance / a_Total_Distance;\n  }\n  v_normal = vec2(reverse_offset_normal(a_Normal) * sign(a_Miter));\n\n\n  v_color = a_Color;\n\n  vec3 size = a_Miter * setPickingSize(a_Size.x) * reverse_offset_normal(a_Normal);\n\n  vec2 offset = project_pixel(size.xy);\n\n  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // \u7ebf\u6a2a\u5411\u504f\u79fb\u7684\u8ddd\u79bb\uff08\u5411\u4e24\u4fa7\u504f\u79fb\u7684\u548c\uff09\n  float linePixelSize = project_pixel(a_Size.x) * 2.0;  // \u5b9a\u70b9\u4f4d\u7f6e\u504f\u79fb\uff0c\u6309\u5730\u56fe\u7b49\u7ea7\u7f29\u653e\u540e\u7684\u8ddd\u79bb \u5355\u4fa7 * 2\n  float texV = lineOffsetWidth/linePixelSize; // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n  // \u8bbe\u7f6e\u6570\u636e\u96c6\u7684\u53c2\u6570\n  v_dataset.r = d_distance_ratio; // \u5f53\u524d\u70b9\u4f4d\u8ddd\u79bb\u5360\u7ebf\u603b\u957f\u7684\u6bd4\u4f8b\n  v_dataset.g = a_Distance;       // \u5f53\u524d\u9876\u70b9\u7684\u8ddd\u79bb\n  v_dataset.b = d_texPixelLen;    // \u8d34\u56fe\u7684\u50cf\u7d20\u957f\u5ea6\uff0c\u6839\u636e\u5730\u56fe\u5c42\u7ea7\u7f29\u653e\n  v_dataset.a = texV;             // \u7ebf\u56fe\u5c42\u8d34\u56fe\u90e8\u5206\u7684 v \u5750\u6807\u503c\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));\n\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // gl_Position = u_Mvp * (vec4(project_pos.xy + offset, a_Size.y, 1.0));\n    gl_Position = u_Mvp * (vec4(project_pos.xy + offset, a_Size.y / 8.0, 1.0)); // \u989d\u5916\u9664 8.0 \u662f\u4e3a\u4e86\u548cgaode1.x\u7684\u9ad8\u5ea6\u517c\u5bb9\n  } else {\n    float lineHeight = a_Size.y;\n    // \u517c\u5bb9 mapbox \u5728\u7ebf\u9ad8\u5ea6\u4e0a\u7684\u6548\u679c\u8868\u73b0\u57fa\u672c\u4e00\u81f4\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      lineHeight = lineHeight*2.0/pow(2.0, 20.0 - u_Zoom);\n    }\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, lineHeight, 1.0));\n  }\n\n  setPickingColor(a_PickingColor);\n}\n',Bn={solid:0,dash:1},Un=function(e){v()(n,e);var t=Dn(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),w()(d()(e),"texture",void 0),w()(d()(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.render();e.texture=t({data:e.iconService.getCanvas(),mag:u["gl"].NEAREST,min:u["gl"].NEAREST,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128})})),e}return p()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.sourceColor,r=e.targetColor,i=e.textureBlend,o=void 0===i?"normal":i,a=e.lineType,s=void 0===a?"solid":a,c=e.dashArray,l=void 0===c?[10,5,0,0]:c,f=e.lineTexture,p=void 0!==f&&f,h=e.iconStep,d=void 0===h?100:h;2===l.length&&l.push(0,0),this.rendererService.getDirty()&&this.texture.bind();var m=0,v=[0,0,0,0],y=[0,0,0,0];if(n&&r&&(v=Object(L["s"])(n),y=Object(L["s"])(r),m=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:t})){this.judgeStyleAttributes({opacity:t});var g=this.layer.getEncodedData(),b=this.calDataFrame(this.cellLength,g,this.cellProperties),x=b.data,_=b.width,w=b.height;this.rowCount=w,this.dataTexture=this.cellLength>0&&x.length>0?this.createTexture2D({flipY:!0,data:x,format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:_,height:w}):this.createTexture2D({flipY:!0,data:[1],format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:X()(t)?t:1,u_textureBlend:"normal"===o?0:1,u_line_type:Bn[s],u_dash_array:l,u_texture:this.texture,u_line_texture:p?1:0,u_icon_step:d,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:m,u_sourceColor:v,u_targetColor:y}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"line",vertexShader:Fn,fragmentShader:zn,triangulation:ct,primitive:u["gl"].TRIANGLES,blend:this.getBlend(),depth:{enable:!1}})]}},{key:"registerBuiltinAttributes",value:function(){var e=this,t=this.layer.getLayerConfig();t.lineType;this.styleAttributeService.registerStyleAttribute({name:"distance",type:u["AttributeType"].Attribute,descriptor:{name:"a_Distance",buffer:{usage:u["gl"].STATIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t,n,r){return[n[3]]}}}),this.styleAttributeService.registerStyleAttribute({name:"total_distance",type:u["AttributeType"].Attribute,descriptor:{name:"a_Total_Distance",buffer:{usage:u["gl"].STATIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t,n,r){return[n[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:u["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:2,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0],o[1]]:[o,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:u["AttributeType"].Attribute,descriptor:{name:"a_Normal",buffer:{usage:u["gl"].STATIC_DRAW,data:[],type:u["gl"].FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"miter",type:u["AttributeType"].Attribute,descriptor:{name:"a_Miter",buffer:{usage:u["gl"].STATIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t,n,r){return[n[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:u["AttributeType"].Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:2,update:function(t,n,r,i){var o=e.iconService.getIconMap(),a=t.texture,s=o[a]||{x:0,y:0},u=s.x,c=s.y;return[u,c]}}})}},{key:"loadImage",value:function(e){return new Promise((function(t,n){if(e instanceof HTMLImageElement)t(e);else{var r=new Image;r.crossOrigin="anonymous",r.onload=function(){t(r)},r.onerror=function(){n(new Error("Could not load image at "+e))},r.src=e instanceof File?URL.createObjectURL(e):e}}))}}]),n}(Ee),Vn={arc:Sn,arc3d:Tn,greatcircle:Rn,line:Un},Hn=Vn;function qn(e){var t=Gn();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function Gn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Wn=function(e){v()(n,e);var t=qn(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),w()(d()(e),"type","LineLayer"),e}return p()(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new Hn[e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var e=this.getModelType(),t={line:{},arc3d:{blend:"additive"},arc:{blend:"additive"},greatcircle:{blend:"additive"}};return t[e]}},{key:"getModelType",value:function(){var e,t=this.styleAttributeService.getLayerStyleAttribute("shape"),n=null===t||void 0===t||null===(e=t.scale)||void 0===e?void 0:e.field;return n||"line"}}]),n}(ve);function Zn(e){var t=Yn();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function Yn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Xn='varying vec4 v_color;\nuniform float u_opacity: 1.0;\n\n#pragma include "picking"\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  gl_FragColor = v_color;\n  // gl_FragColor.a *= u_opacity;\n  gl_FragColor.a *= opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',Kn='precision highp float;\n\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nattribute vec3 a_Position;\nattribute vec3 a_Pos;\nattribute vec4 a_Color;\nattribute vec3 a_Size;\nattribute vec3 a_Normal;\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nvarying vec4 v_color;\n\nuniform float u_opacity : 1;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  vec3 size = a_Size * a_Position;\n\n  vec2 offset = project_pixel(size.xy);\n\n  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));\n\n  vec4 pos = vec4(project_pos.xy + offset, project_pixel(size.z), 1.0);\n\n  float lightWeight = calc_lighting(pos);\n  v_color =vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  // gl_Position = project_common_position_to_clipspace(pos);\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * pos;\n  } else {\n    gl_Position = project_common_position_to_clipspace(pos);\n  }\n  setPickingColor(a_PickingColor);\n}\n',Jn=function(e){v()(n,e);var t=Zn(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var r=this.layer.getEncodedData(),i=this.calDataFrame(this.cellLength,r,this.cellProperties),o=i.data,a=i.width,s=i.height;this.rowCount=s,this.dataTexture=this.cellLength>0&&o.length>0?this.createTexture2D({flipY:!0,data:o,format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:a,height:s}):this.createTexture2D({flipY:!0,data:[1],format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:X()(n)?n:1}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"pointExtrude2",vertexShader:Kn,fragmentShader:Xn,triangulation:st,blend:this.getBlend()})]}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:u["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:3,update:function(e,t,n,r){var i=e.size;if(i){var o=[];return Array.isArray(i)&&(o=2===i.length?[i[0],i[0],i[1]]:i),Array.isArray(i)||(o=[i]),o}return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:u["AttributeType"].Attribute,descriptor:{name:"a_Normal",buffer:{usage:u["gl"].STATIC_DRAW,data:[],type:u["gl"].FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:u["AttributeType"].Attribute,descriptor:{name:"a_Pos",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:3,update:function(e,t){var n=He(e.coordinates);return[n[0],n[1],0]}}})}}]),n}(Ee);function Qn(e){var t=$n();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function $n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var er="#define Animate 0.0\n\nuniform float u_blur : 0;\n// uniform float u_stroke_width : 1;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\n#pragma include \"sdf_2d\"\n#pragma include \"picking\"\n\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n \n  vec4 textrueStroke = vec4(\n    styleMappingMat[1][0],\n    styleMappingMat[1][1],\n    styleMappingMat[1][2],\n    styleMappingMat[1][3]\n  );\n\n  float opacity = styleMappingMat[0][0];\n  float stroke_opacity = styleMappingMat[0][1];\n  float strokeWidth = styleMappingMat[0][2];\n  vec4 strokeColor = textrueStroke == vec4(0) ? v_color : textrueStroke;\n\n  lowp float antialiasblur = v_data.z;\n  float antialiased_blur = -max(u_blur, antialiasblur);\n  // float r = v_radius / (v_radius + u_stroke_width);\n  float r = v_radius / (v_radius + strokeWidth);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  } else if (shape == 1) {\n    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  } else if (shape == 2) {\n    outer_df = sdBox(v_data.xy, vec2(1.));\n    inner_df = sdBox(v_data.xy, vec2(r));\n  } else if (shape == 3) {\n    outer_df = sdPentagon(v_data.xy, 0.8);\n    inner_df = sdPentagon(v_data.xy, r * 0.8);\n  } else if (shape == 4) {\n    outer_df = sdHexagon(v_data.xy, 0.8);\n    inner_df = sdHexagon(v_data.xy, r * 0.8);\n  } else if (shape == 5) {\n    outer_df = sdOctogon(v_data.xy, 1.0);\n    inner_df = sdOctogon(v_data.xy, r);\n  } else if (shape == 6) {\n    outer_df = sdHexagram(v_data.xy, 0.52);\n    inner_df = sdHexagram(v_data.xy, r * 0.52);\n  } else if (shape == 7) {\n    outer_df = sdRhombus(v_data.xy, vec2(1.0));\n    inner_df = sdRhombus(v_data.xy, vec2(r));\n  } else if (shape == 8) {\n    outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  }\n\n  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);\n  // float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\n  //   antialiased_blur,\n  //   0.0,\n  //   inner_df\n  // );\n   float color_t = strokeWidth < 0.01 ? 0.0 : smoothstep(\n    antialiased_blur,\n    0.0,\n    inner_df\n  );\n  float PI = 3.14159;\n  float N_RINGS = 3.0;\n  float FREQ = 1.0;\n\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), strokeColor * stroke_opacity, color_t);\n\n  \n  gl_FragColor.a = gl_FragColor.a * opacity_t;\n  if(u_aimate.x == Animate) {\n    float d = length(v_data.xy);\n    float intensity = clamp(cos(d * PI), 0.0, 1.0) * clamp(cos(2.0 * PI * (d * 2.0 * u_aimate.z - u_aimate.y * u_time)), 0.0, 1.0);\n    gl_FragColor = vec4(gl_FragColor.xyz, intensity);\n  }\n\n  gl_FragColor = filterColor(gl_FragColor);\n\n}\n",tr='attribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Extrude;\nattribute float a_Size;\nattribute float a_Shape;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\nuniform float u_globel;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\n\nuniform float u_opacity : 1;\nuniform float u_stroke_opacity : 1;\nuniform float u_stroke_width : 2;\nuniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\nuniform vec2 u_offsets;\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n#pragma include "styleMappingCalStrokeOpacity"\n#pragma include "styleMappingCalStrokeWidth"\n\n#pragma include "projection"\n#pragma include "picking"\n\n\nvoid main() {\n  vec3 extrude = a_Extrude;\n  float shape_type = a_Shape;\n  float newSize = setPickingSize(a_Size);\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 strokeOpacityAndOffset = calStrokeOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][1] = strokeOpacityAndOffset.r;\n  textureOffset = strokeOpacityAndOffset.g;\n\n  vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][2] = strokeWidthAndOffset.r;\n  textureOffset = strokeWidthAndOffset.g;\n\n  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);\n  if(hasStroke()) {\n    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R\n    textureOffset += 1.0;\n\n    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G\n    textureOffset += 1.0;\n\n    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B\n    textureOffset += 1.0;\n\n    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A\n    textureOffset += 1.0;\n  } else {\n    if(u_stroke_color == vec4(0.0)) {\n      styleMappingMat[1][0] = v_color.r;\n      styleMappingMat[1][1] = v_color.g;\n      styleMappingMat[1][2] = v_color.b;\n      styleMappingMat[1][3] = v_color.a;\n    } else {\n      styleMappingMat[1][0] = u_stroke_color.r;\n      styleMappingMat[1][1] = u_stroke_color.g;\n      styleMappingMat[1][2] = u_stroke_color.b;\n      styleMappingMat[1][3] = u_stroke_color.a;\n    }\n  }\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping\n\n  // unpack color(vec2)\n  v_color = a_Color;\n\n  // radius(16-bit)\n  v_radius = newSize;\n\n  // TODO: billboard\n  // anti-alias\n  float antialiasblur = 1.0 / u_DevicePixelRatio / (newSize + u_stroke_width);\n\n  // construct point coords\n  // TODP: /abs(extrude.x) \u662f\u4e3a\u4e86\u517c\u5bb9\u5730\u7403\u6a21\u5f0f\n  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);\n\n  // vec2 offset = project_pixel(extrude * (newSize + u_stroke_width) + u_offsets);\n  vec2 offset = project_pixel(extrude.xy * (newSize + u_stroke_width) + textrueOffsets);\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * vec4(project_pos.xy + offset, 0.0, 1.0);\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\n  }\n\n  if(u_globel > 0.0) {\n    gl_Position = u_ViewProjectionMatrix * vec4(a_Position + extrude * newSize * 0.1, 1.0);\n  }\n \n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',nr=function(e){v()(n,e);var t=Qn(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.strokeOpacity,i=void 0===r?1:r,o=e.strokeWidth,a=void 0===o?0:o,s=e.stroke,c=void 0===s?"rgba(0,0,0,0)":s,l=e.offsets,f=void 0===l?[0,0]:l;e.isGlobel;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,strokeOpacity:i,strokeWidth:a,stroke:c,offsets:f})){this.judgeStyleAttributes({opacity:n,strokeOpacity:i,strokeWidth:a,stroke:c,offsets:f});var p=this.layer.getEncodedData(),h=this.calDataFrame(this.cellLength,p,this.cellProperties),d=h.data,m=h.width,v=h.height;this.rowCount=v,this.dataTexture=this.cellLength>0&&d.length>0?this.createTexture2D({flipY:!0,data:d,format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:m,height:v}):this.createTexture2D({flipY:!0,data:[1],format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:1,height:1})}return{u_globel:"GLOBEL"===this.mapService.version?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:X()(n)?n:1,u_stroke_opacity:X()(i)?i:1,u_stroke_width:X()(a)?a:0,u_stroke_color:this.getStrokeColor(c),u_offsets:this.isOffsetStatic(f)?f:[0,0]}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"getAttribute",value:function(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),rt)}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){var e="GLOBEL"===this.mapService.version;return[this.layer.buildLayerModel({moduleName:"pointfill",vertexShader:tr,fragmentShader:er,triangulation:e?it:rt,depth:{enable:e},blend:this.getBlend()})]}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"animateOption2Array",value:function(e){return[e.enable?0:1,e.speed||1,e.rings||3,0]}},{key:"registerBuiltinAttributes",value:function(){var e=this,t="GLOBEL"===this.mapService.version;this.styleAttributeService.registerStyleAttribute({name:"extrude",type:u["AttributeType"].Attribute,descriptor:{name:"a_Extrude",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:3,update:function(e,n,r,i){var o;if(t){var a=Ce()(r,3),s=a[0],u=a[1],c=a[2],l=Ae["d"].fromValues(0,0,1),f=Ae["d"].fromValues(s,0,c),p=s>=0?Ae["d"].angle(l,f):2*Math.PI-Ae["d"].angle(l,f),h=2*Math.PI-Math.asin(u/100),d=Ae["b"].create();Ae["b"].rotateY(d,d,p),Ae["b"].rotateX(d,d,h);var m=Ae["d"].fromValues(1,1,0);Ae["d"].transformMat4(m,m,d),Ae["d"].normalize(m,m);var v=Ae["d"].fromValues(-1,1,0);Ae["d"].transformMat4(v,v,d),Ae["d"].normalize(v,v);var y=Ae["d"].fromValues(-1,-1,0);Ae["d"].transformMat4(y,y,d),Ae["d"].normalize(y,y);var g=Ae["d"].fromValues(1,-1,0);Ae["d"].transformMat4(g,g,d),Ae["d"].normalize(g,g),o=[].concat(ge()(m),ge()(v),ge()(y),ge()(g))}else o=[1,1,0,-1,1,0,-1,-1,0,1,-1,0];var b=i%4*3;return[o[b],o[b+1],o[b+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:u["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?5:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:u["AttributeType"].Attribute,descriptor:{name:"a_Shape",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(t,n,r,i){var o=t.shape,a=void 0===o?2:o,s=e.layer.getLayerConfig().shape2d,u=s.indexOf(a);return[u]}}})}}]),n}(Ee);function rr(e){var t=ir();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function ir(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var or='\nuniform sampler2D u_texture;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform vec2 u_textSize;\nuniform float u_opacity : 1;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\nvoid main(){\n      float opacity = styleMappingMat[0][0];\n      vec2 pos= v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;\n      vec4 textureColor=texture2D(u_texture,pos);\n      if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){\n            gl_FragColor= textureColor;\n      }else {\n            gl_FragColor= step(0.01, textureColor.z) * v_color;\n      }\n      // gl_FragColor.a =gl_FragColor.a * u_opacity;\n      gl_FragColor.a =gl_FragColor.a * opacity;\n      gl_FragColor = filterColor(gl_FragColor);\n}\n',ar='precision highp float;\nattribute vec3 a_Position;\nattribute vec4 a_Color;\nattribute vec2 a_Uv;\nattribute float a_Size;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float u_stroke_width : 1;\nuniform vec2 u_offsets;\n\nuniform float u_opacity : 1;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n   v_color = a_Color;\n   v_uv = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   \n  //  vec2 offset = project_pixel(u_offsets);\n  vec2 offset = project_pixel(textrueOffsets);\n\n  //  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));\n\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      gl_Position = u_Mvp * vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0);\n    } else {\n      gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));\n    }\n   gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n\n  setPickingColor(a_PickingColor);\n\n}\n',sr=function(e){v()(n,e);var t=rr(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),w()(d()(e),"texture",void 0),e}return p()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity;return{u_opacity:t||1,u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128]}}},{key:"initModels",value:function(){var e=this;return this.initIconFontGlyphs(),this.registerBuiltinAttributes(),this.updateTexture(),this.iconService.on("imageUpdate",(function(){e.updateTexture(),e.layer.render()})),[this.layer.buildLayerModel({moduleName:"pointiconImage",vertexShader:ar,fragmentShader:or,triangulation:ut,primitive:u["gl"].POINTS,depth:{enable:!1},blend:this.getBlend()})]}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:u["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size;return Array.isArray(i)?[i[0]]:[i]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:u["AttributeType"].Attribute,descriptor:{name:"a_Uv",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:2,update:function(t,n,r,i){var o=e.fontService.mapping,a=t.shape,s=e.fontService.getGlyph(a),u=o[s],c=u.x,l=u.y;return[c,l]}}})}},{key:"updateTexture",value:function(){var e=this.rendererService.createTexture2D,t=this.fontService.canvas;this.texture=e({data:t,mag:u["gl"].LINEAR,min:u["gl"].LINEAR,width:t.width,height:t.height})}},{key:"initIconFontGlyphs",value:function(){var e=this,t=this.layer.getLayerConfig(),n=t.fontWeight,r=void 0===n?"normal":n,i=t.fontFamily,o=void 0===i?"sans-serif":i,a=this.layer.getEncodedData(),s=[];a.forEach((function(t){var n=t.shape,r=void 0===n?"":n;r=r.toString();var i=e.fontService.getGlyph(r);-1===s.indexOf(i)&&s.push(i)})),this.fontService.setFontOptions({characterSet:s,fontWeight:r,fontFamily:o,fontSize:48})}}]),n}(Ee);function ur(e){var t=cr();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function cr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var lr='\nuniform sampler2D u_texture;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform vec2 u_textSize;\nuniform float u_opacity : 1;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\nvoid main(){\n      float opacity = styleMappingMat[0][0];\n      vec2 pos= v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;\n      vec4 textureColor=texture2D(u_texture,pos);\n      if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){\n            gl_FragColor= textureColor;\n      }else {\n            gl_FragColor= step(0.01, textureColor.z) * v_color;\n      }\n      // gl_FragColor.a =gl_FragColor.a * u_opacity;\n      gl_FragColor.a =gl_FragColor.a * opacity;\n      gl_FragColor = filterColor(gl_FragColor);\n}\n',fr='precision highp float;\nattribute vec3 a_Position;\nattribute vec4 a_Color;\nattribute vec2 a_Uv;\nattribute float a_Size;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float u_stroke_width : 1;\nuniform vec2 u_offsets;\n\nuniform float u_opacity : 1;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n   v_color = a_Color;\n   v_uv = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   \n  //  vec2 offset = project_pixel(u_offsets);\n  vec2 offset = project_pixel(textrueOffsets);\n\n  //  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));\n\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      gl_Position = u_Mvp * vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0);\n    } else {\n      gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));\n    }\n   gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n\n  setPickingColor(a_PickingColor);\n\n}\n',pr=function(e){v()(n,e);var t=ur(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),w()(d()(e),"texture",void 0),w()(d()(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.renderLayers();e.texture=t({data:e.iconService.getCanvas(),mag:u["gl"].LINEAR,min:u["gl"].LINEAR,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128})})),e}return p()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.offsets,r=void 0===n?[0,0]:n;if(this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:t,offsets:r})){this.judgeStyleAttributes({opacity:t,offsets:r});var i=this.layer.getEncodedData(),o=this.calDataFrame(this.cellLength,i,this.cellProperties),a=o.data,s=o.width,c=o.height;this.rowCount=c,this.dataTexture=this.cellLength>0&&a.length>0?this.createTexture2D({flipY:!0,data:a,format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:s,height:c}):this.createTexture2D({flipY:!0,data:[1],format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128],u_opacity:X()(t)?t:1,u_offsets:this.isOffsetStatic(r)?r:[0,0]}}},{key:"initModels",value:function(){return this.registerBuiltinAttributes(),this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"pointImage",vertexShader:fr,fragmentShader:lr,triangulation:ut,primitive:u["gl"].POINTS,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:u["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?5:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:u["AttributeType"].Attribute,descriptor:{name:"a_Uv",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:2,update:function(t,n,r,i){var o=e.iconService.getIconMap(),a=t.shape,s=o[a]||{x:0,y:0},u=s.x,c=s.y;return[u,c]}}})}}]),n}(Ee);function hr(e){var t=dr();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function dr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var mr='\nuniform float u_opacity : 1;\nuniform vec2 u_offsets;\nvarying vec4 v_color;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n\n  gl_FragColor = v_color;\n  // gl_FragColor.a =gl_FragColor.a * u_opacity;\n  gl_FragColor.a =gl_FragColor.a * opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',vr='\nattribute vec3 a_Position;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nattribute float a_Size;\nattribute vec4 a_Color;\nvarying vec4 v_color;\n\nuniform float u_opacity : 1;\nuniform vec2 u_offsets;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n#pragma include "project"\nvoid main() {\n  v_color = a_Color;\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\nstyleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping\n  \n  // vec2 offset = project_pixel(u_offsets);\n  vec2 offset = project_pixel(textrueOffsets);\n  // vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);\n  // gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));\\\n  // \n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // vec2 offset = project_pixel((u_offsets));\n    gl_Position = u_Mvp * vec4(a_Position.xy + offset, a_Position.z, 1.0);\n  } else { // else\n    // vec2 offset = project_pixel(u_offsets);\n    vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);\n    gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));\n  }\n\n  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n  setPickingColor(a_PickingColor);\n}\n';function yr(e){var t=e.coordinates;return{vertices:ge()(t),indices:[0],size:t.length}}var gr=function(e){v()(n,e);var t=hr(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"getDefaultStyle",value:function(){return{blend:"additive"}}},{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.offsets,i=void 0===r?[0,0]:r;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,offsets:i})){this.judgeStyleAttributes({opacity:n,offsets:i});var o=this.layer.getEncodedData(),a=this.calDataFrame(this.cellLength,o,this.cellProperties),s=a.data,c=a.width,l=a.height;this.rowCount=l,this.dataTexture=this.cellLength>0&&s.length>0?this.createTexture2D({flipY:!0,data:s,format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:c,height:l}):this.createTexture2D({flipY:!0,data:[1],format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:X()(n)?n:1,u_offsets:this.isOffsetStatic(i)?i:[0,0]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"normalpoint",vertexShader:vr,fragmentShader:mr,triangulation:yr,depth:{enable:!1},primitive:u["gl"].POINTS,blend:this.getBlend()})]}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:u["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0]]:[o]}}})}},{key:"defaultStyleOptions",value:function(){return{blend:u["BlendType"].additive}}}]),n}(Ee);function br(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=xr(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function xr(e,t){if(e){if("string"===typeof e)return _r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_r(e,t):void 0}}function _r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wr=function(){function e(t,n,r){l()(this,e),w()(this,"boxCells",[]),w()(this,"xCellCount",void 0),w()(this,"yCellCount",void 0),w()(this,"boxKeys",void 0),w()(this,"bboxes",void 0),w()(this,"width",void 0),w()(this,"height",void 0),w()(this,"xScale",void 0),w()(this,"yScale",void 0),w()(this,"boxUid",void 0);var i=this.boxCells;this.xCellCount=Math.ceil(t/r),this.yCellCount=Math.ceil(n/r);for(var o=0;o<this.xCellCount*this.yCellCount;o++)i.push([]);this.boxKeys=[],this.bboxes=[],this.width=t,this.height=n,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/n,this.boxUid=0}return p()(e,[{key:"insert",value:function(e,t,n,r,i){this.forEachCell(t,n,r,i,this.insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}},{key:"query",value:function(e,t,n,r,i){return this.queryHitTest(e,t,n,r,!1,i)}},{key:"hitTest",value:function(e,t,n,r,i){return this.queryHitTest(e,t,n,r,!0,i)}},{key:"insertBoxCell",value:function(e,t,n,r,i,o){this.boxCells[i].push(o)}},{key:"queryHitTest",value:function(e,t,n,r,i,o){if(n<0||e>this.width||r<0||t>this.height)return!i&&[];var a=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});return o?a.filter(o):a}var u={hitTest:i,seenUids:{box:{},circle:{}}};return this.forEachCell(e,t,n,r,this.queryCell,a,u,o),i?a.length>0:a}},{key:"queryCell",value:function(e,t,n,r,i,o,a,s){var u=a.seenUids,c=this.boxCells[i];if(null!==c){var l,f=this.bboxes,p=br(c);try{for(p.s();!(l=p.n()).done;){var h=l.value;if(!u.box[h]){u.box[h]=!0;var d=4*h;if(e<=f[d+2]&&t<=f[d+3]&&n>=f[d+0]&&r>=f[d+1]&&(!s||s(this.boxKeys[h]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[h],x1:f[d],y1:f[d+1],x2:f[d+2],y2:f[d+3]})}}}}catch(m){p.e(m)}finally{p.f()}}return!1}},{key:"forEachCell",value:function(e,t,n,r,i,o,a,s){for(var u=this.convertToXCellCoord(e),c=this.convertToYCellCoord(t),l=this.convertToXCellCoord(n),f=this.convertToYCellCoord(r),p=u;p<=l;p++)for(var h=c;h<=f;h++){var d=this.xCellCount*h+p;if(i.call(this,e,t,n,r,d,o,a,s))return}}},{key:"convertToXCellCoord",value:function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}},{key:"convertToYCellCoord",value:function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}}]),e}(),Sr=wr,Or=function(){function e(t,n){l()(this,e),w()(this,"width",void 0),w()(this,"height",void 0),w()(this,"grid",void 0),w()(this,"viewportPadding",100),w()(this,"screenRightBoundary",void 0),w()(this,"screenBottomBoundary",void 0),w()(this,"gridRightBoundary",void 0),w()(this,"gridBottomBoundary",void 0),this.width=t,this.height=n,this.viewportPadding=Math.max(t,n),this.grid=new Sr(t+this.viewportPadding,n+this.viewportPadding,25),this.screenRightBoundary=t+this.viewportPadding,this.screenBottomBoundary=n+this.viewportPadding,this.gridRightBoundary=t+2*this.viewportPadding,this.gridBottomBoundary=n+2*this.viewportPadding}return p()(e,[{key:"placeCollisionBox",value:function(e){var t=e.x1+e.anchorPointX+this.viewportPadding,n=e.y1+e.anchorPointY+this.viewportPadding,r=e.x2+e.anchorPointX+this.viewportPadding,i=e.y2+e.anchorPointY+this.viewportPadding;return!this.isInsideGrid(t,n,r,i)||this.grid.hitTest(t,n,r,i)?{box:[]}:{box:[t,n,r,i]}}},{key:"insertCollisionBox",value:function(e,t){var n={featureIndex:t};this.grid.insert(n,e[0],e[1],e[2],e[3])}},{key:"project",value:function(e,t,n){var r=Ae["e"].fromValues(t,n,0,1),i=Ae["e"].create(),o=Ae["b"].fromValues.apply(Ae["b"],ge()(e));return Ae["e"].transformMat4(i,r,o),{x:(i[0]/i[3]+1)/2*this.width+this.viewportPadding,y:(-i[1]/i[3]+1)/2*this.height+this.viewportPadding}}},{key:"isInsideGrid",value:function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}}]),e}();function Er(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=kr(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function kr(e,t){if(e){if("string"===typeof e)return Cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cr(e,t):void 0}}function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jr(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0;break;default:t=.5}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0;break;default:n=.5}return{horizontalAlign:t,verticalAlign:n}}function Tr(e,t,n,r,i){if(i){var o=e[r],a=o.glyph;if(a)for(var s=t[a].advance*o.scale,u=(e[r].x+s)*i,c=n;c<=r;c++)e[c].x-=u}}function Ar(e,t,n,r,i,o,a){var s,u=(t-n)*i,c=(-r*a+.5)*o,l=Er(e);try{for(l.s();!(s=l.n()).done;){var f=s.value;f.x+=u,f.y+=c}}catch(p){l.e(p)}finally{l.f()}}function Pr(e,t,n,r,i,o,a){var s=-8,u=0,c=s,l=0,f=e.positionedGlyphs,p="right"===o?1:"left"===o?0:.5,h=f.length;n.forEach((function(e){if(e.split("").forEach((function(e){var n=t[e],r=0;n&&(f.push({glyph:e,x:u,y:c+r,vertical:!1,scale:1,metrics:n}),u+=n.advance+a)})),f.length!==h){var n=u-a;l=Math.max(n,l),Tr(f,t,h,f.length-1,p)}u=0,c+=r}));var d=jr(i),m=d.horizontalAlign,v=d.verticalAlign;Ar(f,p,m,v,l,r,n.length);var y=c-s;e.top+=-v*y,e.bottom=e.top+y,e.left+=-m*l,e.right=e.left+l}function Mr(e,t,n,r,i,o,a){var s=-8,u=0,c=s,l=0,f=e.positionedGlyphs,p="right"===o?1:"left"===o?0:.5,h=f.length;n.forEach((function(e){var n=t[e],i=0;if(n&&(f.push({glyph:e,x:u,y:c+i,vertical:!1,scale:1,metrics:n}),u+=n.advance+a),f.length!==h){var o=u-a;l=Math.max(o,l),Tr(f,t,h,f.length-1,p)}u=0,c+=r}));var d=jr(i),m=d.horizontalAlign,v=d.verticalAlign;Ar(f,p,m,v,l,r,n.length);var y=c-s;e.top+=-v*y,e.bottom=e.top+y,e.left+=-m*l,e.right=e.left+l}function Ir(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[0,0],s=arguments.length>7?arguments[7]:void 0,u=e.split("\n"),c=[],l={positionedGlyphs:c,top:a[1],bottom:a[1],left:a[0],right:a[0],lineCount:u.length,text:e};return s?Mr(l,t,u,n,r,i,o):Pr(l,t,u,n,r,i,o),!!c.length&&l}function Lr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],r=arguments.length>2?arguments[2]:void 0,i=e.positionedGlyphs,o=void 0===i?[]:i,a=[],s=Er(o);try{for(s.s();!(t=s.n()).done;){var u=t.value,c=u.metrics,l=4,f=c.advance*u.scale/2,p=r?[u.x+f,u.y]:[0,0],h=r?[0,0]:[u.x+f+n[0],u.y+n[1]],d=(0-l)*u.scale-f+h[0],m=(0-l)*u.scale+h[1],v=d+c.width*u.scale,y=m+c.height*u.scale,g={x:d,y:m},b={x:v,y:m},x={x:d,y:y},_={x:v,y:y};a.push({tl:g,tr:b,bl:x,br:_,tex:c,glyphOffset:p})}}catch(w){s.e(w)}finally{s.f()}return a}function Rr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Dr(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function Dr(e,t){if(e){if("string"===typeof e)return Nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nr(e,t):void 0}}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zr(e){var t=Fr();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function Fr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Br='#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105\n#define FONT_SIZE 48.0\nuniform sampler2D u_sdf_map;\nuniform float u_gamma_scale : 0.5;\n// uniform float u_font_size : 24.0;\nuniform float u_opacity : 1.0;\nuniform vec4 u_stroke_color : [0, 0, 0, 1];\nuniform float u_stroke_width : 2.0;\nuniform float u_halo_blur : 0.5;\nuniform float u_DevicePixelRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_uv;\nvarying float v_gamma_scale;\nvarying float v_fontScale;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\nvoid main() {\n  // get style data mapping\n  float opacity = styleMappingMat[0][0];\n  float strokeWidth = styleMappingMat[0][2];\n  vec4 textrueStroke = vec4(\n    styleMappingMat[1][0],\n    styleMappingMat[1][1],\n    styleMappingMat[1][2],\n    styleMappingMat[1][3]\n  );\n\n  // get sdf from atlas\n  float dist = texture2D(u_sdf_map, v_uv).a;\n\n  // float fontScale = u_font_size / FONT_SIZE;\n\n  // lowp float buff = (6.0 - u_stroke_width / v_fontScale) / SDF_PX;\n  lowp float buff = (6.0 - strokeWidth / v_fontScale) / SDF_PX;\n  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;\n\n  highp float gamma_scaled = gamma * v_gamma_scale;\n\n  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n  // gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), vec4(u_stroke_color.rgb, u_stroke_color.a * u_opacity), smoothstep(0., 0.5, 1. - dist));\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), vec4(textrueStroke.rgb, textrueStroke.a * opacity), smoothstep(0., 0.5, 1. - dist));\n  gl_FragColor.a= gl_FragColor.a * alpha;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',Ur='#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105\n#define FONT_SIZE 24.0\nattribute vec3 a_Position;\nattribute vec2 a_tex;\nattribute vec2 a_textOffsets;\nattribute vec4 a_Color;\nattribute float a_Size;\nattribute float a_Rotate;\n\nuniform vec2 u_sdf_map_size;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nvarying vec2 v_uv;\nvarying float v_gamma_scale;\nvarying vec4 v_color;\nvarying float v_fontScale;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\nuniform float u_opacity : 1;\nuniform float u_stroke_width : 2;\nuniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n#pragma include "styleMappingCalStrokeWidth"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n   styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n   vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][2] = strokeWidthAndOffset.r;\n  textureOffset = strokeWidthAndOffset.g;\n\n  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);\n  if(hasStroke()) {\n    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R\n    textureOffset += 1.0;\n\n    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G\n    textureOffset += 1.0;\n\n    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B\n    textureOffset += 1.0;\n\n    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A\n    textureOffset += 1.0;\n  } else {\n    if(u_stroke_color == vec4(0.0)) {\n      styleMappingMat[1][0] = v_color.r;\n      styleMappingMat[1][1] = v_color.g;\n      styleMappingMat[1][2] = v_color.b;\n      styleMappingMat[1][3] = v_color.a;\n    } else {\n      styleMappingMat[1][0] = u_stroke_color.r;\n      styleMappingMat[1][1] = u_stroke_color.g;\n      styleMappingMat[1][2] = u_stroke_color.b;\n      styleMappingMat[1][3] = u_stroke_color.a;\n    }\n  }\n  \n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_color = a_Color;\n  v_uv = a_tex / u_sdf_map_size;\n\n  // \u6587\u672c\u7f29\u653e\u6bd4\u4f8b\n  float fontScale = a_Size / FONT_SIZE;\n  v_fontScale = fontScale;\n\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  // vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  highp float angle_sin = sin(a_Rotate);\n  highp float angle_cos = cos(a_Rotate);\n  mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n  \n  // gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);\n\n  vec4 projected_position;\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n   projected_position  = u_Mvp * (vec4(a_Position.xyz, 1.0));\n  } else { // else\n   projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n\n  gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);\n  v_gamma_scale = gl_Position.w;\n  setPickingColor(a_PickingColor);\n\n}\n';function Vr(e){var t=this,n=e.id,r=[],i=[];if(!t.glyphInfoMap||!t.glyphInfoMap[n])return{vertices:[],indices:[],size:7};var o=t.glyphInfoMap[n].centroid,a=2===o.length?[o[0],o[1],0]:o;return t.glyphInfoMap[n].glyphQuads.forEach((function(e,t){r.push.apply(r,ge()(a).concat([e.tex.x,e.tex.y+e.tex.height,e.tl.x,e.tl.y],ge()(a),[e.tex.x+e.tex.width,e.tex.y+e.tex.height,e.tr.x,e.tr.y],ge()(a),[e.tex.x+e.tex.width,e.tex.y,e.br.x,e.br.y],ge()(a),[e.tex.x,e.tex.y,e.bl.x,e.bl.y])),i.push(0+4*t,1+4*t,2+4*t,2+4*t,3+4*t,0+4*t)})),{vertices:r,indices:i,size:7}}var Hr=function(e){v()(n,e);var t=zr(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),w()(d()(e),"glyphInfo",void 0),w()(d()(e),"glyphInfoMap",{}),w()(d()(e),"texture",void 0),w()(d()(e),"currentZoom",-1),w()(d()(e),"extent",void 0),w()(d()(e),"textureHeight",0),w()(d()(e),"textCount",0),w()(d()(e),"preTextStyle",{}),w()(d()(e),"buildModels",(function(){return e.initGlyph(),e.updateTexture(),e.filterGlyphs(),e.reBuildModel(),[e.layer.buildLayerModel({moduleName:"pointText",vertexShader:Ur,fragmentShader:Br,triangulation:Vr.bind(d()(e)),depth:{enable:!1},blend:e.getBlend()})]})),e}return p()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.stroke,i=void 0===r?"#fff":r,o=e.strokeWidth,a=void 0===o?0:o,s=e.textAnchor,c=void 0===s?"center":s,l=e.textAllowOverlap,f=void 0!==l&&l,p=e.halo,h=void 0===p?.5:p,d=e.gamma,m=void 0===d?2:d,v=this.fontService,y=v.canvas,g=v.mapping;if(Object.keys(g).length!==this.textCount&&(this.updateTexture(),this.textCount=Object.keys(g).length),this.preTextStyle={textAnchor:c,textAllowOverlap:f},this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,strokeWidth:a,stroke:i})){this.judgeStyleAttributes({opacity:n,strokeWidth:a,stroke:i});var b=this.layer.getEncodedData(),x=this.calDataFrame(this.cellLength,b,this.cellProperties),_=x.data,w=x.width,S=x.height;this.rowCount=S,this.dataTexture=this.cellLength>0&&_.length>0?this.createTexture2D({flipY:!0,data:_,format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:w,height:S}):this.createTexture2D({flipY:!0,data:[1],format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:X()(n)?n:1,u_stroke_width:X()(a)?a:0,u_stroke_color:this.getStrokeColor(i),u_sdf_map:this.texture,u_halo_blur:h,u_gamma_scale:m,u_sdf_map_size:[y.width,y.height]}}},{key:"initModels",value:function(){this.layer.on("remapping",this.buildModels),this.extent=this.textExtent();var e=this.layer.getLayerConfig(),t=e.textAnchor,n=void 0===t?"center":t,r=e.textAllowOverlap,i=void 0===r||r;return this.preTextStyle={textAnchor:n,textAllowOverlap:i},this.buildModels()}},{key:"needUpdate",value:function(){var e=this.layer.getLayerConfig(),t=e.textAllowOverlap,n=void 0!==t&&t,r=this.mapService.getZoom(),i=this.mapService.getBounds(),o=Object(L["j"])(this.extent,i);return(!n&&(Math.abs(this.currentZoom-r)>1||!o)||n!==this.preTextStyle.textAllowOverlap)&&(this.reBuildModel(),!0)}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy(),this.layer.off("remapping",this.buildModels)}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"rotate",type:u["AttributeType"].Attribute,descriptor:{name:"a_Rotate",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t,n,r){var i=e.rotate,o=void 0===i?0:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"textOffsets",type:u["AttributeType"].Attribute,descriptor:{name:"a_textOffsets",buffer:{usage:u["gl"].STATIC_DRAW,data:[],type:u["gl"].FLOAT},size:2,update:function(e,t,n,r){return[n[5],n[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:u["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?12:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"textUv",type:u["AttributeType"].Attribute,descriptor:{name:"a_tex",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:2,update:function(e,t,n,r){return[n[3],n[4]]}}})}},{key:"textExtent",value:function(){var e=this.mapService.getBounds();return Object(L["r"])(e,.5)}},{key:"initTextFont",value:function(){var e=this.layer.getLayerConfig(),t=e.fontWeight,n=void 0===t?"400":t,r=e.fontFamily,i=void 0===r?"sans-serif":r,o=this.layer.getEncodedData(),a=[];o.forEach((function(e){var t=e.shape,n=void 0===t?"":t;n=n.toString();var r,i=Rr(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;-1===a.indexOf(o)&&a.push(o)}}catch(s){i.e(s)}finally{i.f()}})),this.fontService.setFontOptions({characterSet:a,fontWeight:n,fontFamily:i,iconfont:!1})}},{key:"initIconFontTex",value:function(){var e=this.layer.getLayerConfig(),t=e.fontWeight,n=void 0===t?"400":t,r=e.fontFamily,i=void 0===r?"sans-serif":r,o=this.layer.getEncodedData(),a=[];o.forEach((function(e){var t=e.shape,n=void 0===t?"":t;n=n.toString(),-1===a.indexOf(n)&&a.push(n)})),this.fontService.setFontOptions({characterSet:a,fontWeight:n,fontFamily:i,iconfont:!0})}},{key:"generateGlyphLayout",value:function(e){var t=this,n=this.fontService.mapping,r=this.layer.getLayerConfig(),i=r.spacing,o=void 0===i?2:i,a=r.textAnchor,s=void 0===a?"center":a,u=this.layer.getEncodedData();this.glyphInfo=u.map((function(r){var i=r.shape,a=void 0===i?"":i,u=r.id,c=r.size,l=void 0===c?1:c,f=r.textOffset,p=void 0===f?[0,0]:f,h=Ir(a.toString(),n,l,s,"center",o,p,e),d=Lr(h,p,!1);return r.shaping=h,r.glyphQuads=d,r.centroid=He(r.coordinates),r.originCentroid="GAODE2.x"===r.version?He(r.originCoordinates):r.originCentroid=r.centroid,t.glyphInfoMap[u]={shaping:h,glyphQuads:d,centroid:He(r.coordinates)},r}))}},{key:"filterGlyphs",value:function(){var e=this,t=this.layer.getLayerConfig(),n=t.padding,r=void 0===n?[4,4]:n,i=t.textAllowOverlap,o=void 0!==i&&i;if(!o){this.glyphInfoMap={},this.currentZoom=this.mapService.getZoom(),this.extent=this.textExtent();var a=this.rendererService.getViewportSize(),s=a.width,u=a.height,c=new Or(s,u),l=this.glyphInfo.filter((function(t){var n=t.shaping,i=t.id,o=void 0===i?0:i,a="GAODE2.x"===t.version?t.originCentroid:t.centroid,s=t.size,u=s/24,l=e.mapService.lngLatToContainer(a),f=c.placeCollisionBox({x1:n.left*u-r[0],x2:n.right*u+r[0],y1:n.top*u-r[1],y2:n.bottom*u+r[1],anchorPointX:l.x,anchorPointY:l.y}),p=f.box;return!(!p||!p.length)&&(c.insertCollisionBox(p,o),!0)}));l.forEach((function(t){e.glyphInfoMap[t.id]=t}))}}},{key:"initGlyph",value:function(){var e=this.layer.getLayerConfig(),t=e.iconfont,n=void 0!==t&&t;n?this.initIconFontTex():this.initTextFont(),this.generateGlyphLayout(n)}},{key:"updateTexture",value:function(){var e=this.rendererService.createTexture2D,t=this.fontService.canvas;this.textureHeight=t.height,this.texture&&this.texture.destroy(),this.texture=e({data:t,mag:u["gl"].LINEAR,min:u["gl"].LINEAR,width:t.width,height:t.height})}},{key:"reBuildModel",value:function(){this.filterGlyphs(),this.layer.models=[this.layer.buildLayerModel({moduleName:"pointText",vertexShader:Ur,fragmentShader:Br,triangulation:Vr.bind(this),depth:{enable:!1},blend:this.getBlend()})]}}]),n}(Ee),qr={fill:nr,image:pr,normal:gr,extrude:Jn,text:Hr,icon:sr},Gr=qr;function Wr(e){var t=Zr();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function Zr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Yr=function(e){v()(n,e);var t=Wr(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),w()(d()(e),"type","PointLayer"),e}return p()(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new Gr[e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var e=this.getModelType(),t={normal:{blend:"additive"},fill:{blend:"normal"},extrude:{},image:{},icon:{},text:{blend:"normal"}};return t[e]}},{key:"getModelType",value:function(){var e=this.getEncodedData(),t=this.getLayerConfig(),n=t.shape2d,r=t.shape3d,i=this.iconService.getIconMap(),o=e.find((function(e){return e.hasOwnProperty("shape")}));if(o){var a=o.shape;return"dot"===a?"normal":-1!==(null===n||void 0===n?void 0:n.indexOf(a))?"fill":-1!==(null===r||void 0===r?void 0:r.indexOf(a))?"extrude":i.hasOwnProperty(a)?"image":""!==this.fontService.getGlyph(a)?"icon":"text"}return"normal"}}]),n}(ve);function Xr(e){var t=Kr();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function Kr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Jr='uniform float u_opacity: 1.0;\nvarying vec4 v_Color;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  gl_FragColor = v_Color;\n  // gl_FragColor.a *= u_opacity;\n  gl_FragColor.a *= opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',Qr='precision highp float;\n\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Normal;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nvarying vec4 v_Color;\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n  vec4 project_pos = project_position(pos);\n\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // gl_Position = u_Mvp * (vec4(project_pos.xyz * vec3(1.0, 1.0, -1.0), 1.0));\n    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n\n  float lightWeight = calc_lighting(pos);\n  // v_Color = a_Color;\n  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  setPickingColor(a_PickingColor);\n}\n',$r=function(e){v()(n,e);var t=Xr(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var r=this.layer.getEncodedData(),i=this.calDataFrame(this.cellLength,r,this.cellProperties),o=i.data,a=i.width,s=i.height;this.rowCount=s,this.dataTexture=this.cellLength>0&&o.length>0?this.createTexture2D({flipY:!0,data:o,format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:a,height:s}):this.createTexture2D({flipY:!0,data:[1],format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:X()(n)?n:1}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"polygonExtrude",vertexShader:Qr,fragmentShader:Jr,triangulation:ft})]}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:u["AttributeType"].Attribute,descriptor:{name:"a_Normal",buffer:{usage:u["gl"].STATIC_DRAW,data:[],type:u["gl"].FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:u["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t,n,r){var i=e.size,o=void 0===i?10:i;return Array.isArray(o)?[o[0]]:[o]}}})}}]),n}(Ee);function ei(e){var t=ti();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function ti(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ni='uniform float u_opacity: 1.0;\nvarying vec4 v_Color;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  gl_FragColor = v_Color;\n  // gl_FragColor.a *= u_opacity;\n  gl_FragColor.a *= opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',ri='attribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Normal;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nvarying vec4 v_Color;\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\nstyleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_Color = a_Color;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n\n  setPickingColor(a_PickingColor);\n}\n\n',ii=function(e){v()(n,e);var t=ei(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var r=this.layer.getEncodedData(),i=this.calDataFrame(this.cellLength,r,this.cellProperties),o=i.data,a=i.width,s=i.height;this.rowCount=s,this.dataTexture=this.cellLength>0&&o.length>0?this.createTexture2D({flipY:!0,data:o,format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:a,height:s}):this.createTexture2D({flipY:!0,data:[1],format:u["gl"].LUMINANCE,type:u["gl"].FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:X()(n)?n:1}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"polygon",vertexShader:ri,fragmentShader:ni,triangulation:lt,blend:this.getBlend(),depth:{enable:!1}})]}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){}}]),n}(Ee),oi={fill:ii,line:Un,extrude:$r,text:Hr,point_fill:nr,point_image:pr,point_normal:gr,point_extrude:Jn},ai=oi;function si(e){var t=ui();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function ui(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ci=function(e){v()(n,e);var t=si(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),w()(d()(e),"type","PolygonLayer"),e}return p()(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new ai[e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){var e,t=this.styleAttributeService.getLayerStyleAttribute("shape"),n=null===t||void 0===t||null===(e=t.scale)||void 0===e?void 0:e.field;return"fill"===n?"fill":"extrude"===n?"extrude":"line"===n?"line":this.getPointModelType()}},{key:"getPointModelType",value:function(){var e=this.getEncodedData(),t=this.getLayerConfig(),n=t.shape2d,r=t.shape3d,i=this.iconService.getIconMap(),o=e.find((function(e){return e.hasOwnProperty("shape")}));if(o){var a=o.shape;return"dot"===a?"point_normal":-1!==(null===n||void 0===n?void 0:n.indexOf(a))?"point_fill":-1!==(null===r||void 0===r?void 0:r.indexOf(a))?"point_extrude":i.hasOwnProperty(a)?"point_image":"text"}return"fill"}}]),n}(ve);function li(e){var t=fi();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function fi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var pi="precision mediump float;\nuniform float u_opacity: 1.0;\nuniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\nuniform float u_min;\nuniform float u_max;\nuniform vec2 u_domain;\nuniform float u_noDataValue;\nuniform bool u_clampLow: true;\nuniform bool u_clampHigh: true;\nvarying vec2 v_texCoord;\n\nvoid main() {\n\n  float value = texture2D(u_texture,vec2(v_texCoord.x,v_texCoord.y)).r;\n  if (value == u_noDataValue)\n    gl_FragColor = vec4(0.0, 0, 0, 0.0);\n  else if ((!u_clampLow && value < u_domain[0]) || (!u_clampHigh && value > u_domain[1]))\n    gl_FragColor = vec4(0, 0, 0, 0);\n  else {\n    float normalisedValue =(value - u_domain[0]) / (u_domain[1] -u_domain[0]);\n    vec4 color = texture2D(u_colorTexture,vec2(normalisedValue, 0));\n    gl_FragColor = color;\n    gl_FragColor.a =  gl_FragColor.a * u_opacity ;\n  }\n\n\n}\n",hi='precision highp float;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nattribute vec3 a_Position;\nattribute vec2 a_Uv;\nvarying vec2 v_texCoord;\n#pragma include "projection"\nvoid main() {\n   v_texCoord = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));\n\n   if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      gl_Position = u_Mvp * (vec4(project_pos.xy,0., 1.0));\n   } else {\n      gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));\n   }\n}\n',di=function(e){v()(n,e);var t=li(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),w()(d()(e),"texture",void 0),w()(d()(e),"colorTexture",void 0),e}return p()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.clampLow,i=void 0===r||r,o=e.clampHigh,a=void 0===o||o,s=e.noDataValue,u=void 0===s?-9999999:s,c=e.domain,l=void 0===c?[0,1]:c;return this.updateColorTexure(),{u_opacity:n||1,u_texture:this.texture,u_domain:l,u_clampLow:i,u_clampHigh:"undefined"!==typeof a?a:i,u_noDataValue:u,u_colorTexture:this.colorTexture}}},{key:"initModels",value:function(){var e=this.layer.getSource(),t=this.rendererService.createTexture2D,n=e.data.dataArray[0];this.texture=t({data:n.data,width:n.width,height:n.height,format:u["gl"].LUMINANCE,type:u["gl"].FLOAT});var r=this.layer.getLayerConfig(),i=r.rampColors,o=Object(L["n"])(i);return this.colorTexture=t({data:o.data,width:o.width,height:o.height,flipY:!1}),[this.layer.buildLayerModel({moduleName:"RasterImageData",vertexShader:hi,fragmentShader:pi,triangulation:ht,primitive:u["gl"].TRIANGLES,depth:{enable:!1},blend:this.getBlend()})]}},{key:"buildModels",value:function(){return this.initModels()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:u["AttributeType"].Attribute,descriptor:{name:"a_Uv",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:2,update:function(e,t,n,r){return[n[3],n[4]]}}})}},{key:"updateColorTexure",value:function(){var e=this.rendererService.createTexture2D,t=this.layer.getLayerConfig(),n=t.rampColors,r=Object(L["n"])(n);this.colorTexture=e({data:r.data,width:r.width,height:r.height,flipY:!1})}}]),n}(Ee),mi={raster:di,raster3d:di},vi=mi;function yi(e){var t=gi();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}function gi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var bi,xi,_i,wi,Si,Oi,Ei,ki,Ci,ji=function(e){v()(n,e);var t=yi(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),w()(d()(e),"type","RasterLayer"),e}return p()(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new vi[e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var e=this.getModelType(),t={raster:{},raster3d:{}};return t[e]}},{key:"getModelType",value:function(){return"raster"}}]),n}(ve),Ti=n("BkRI"),Ai=n.n(Ti);function Pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pi(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ii,Li,Ri=(bi=Object(D["injectable"])(),xi=Object(D["inject"])(u["TYPES"].IGlobalConfigService),_i=Object(D["inject"])(u["TYPES"].IMapService),wi=Object(D["inject"])(u["TYPES"].IFontService),bi((Oi=function(){function e(){l()(this,e),k()(this,"configService",Ei,this),k()(this,"mapService",ki,this),k()(this,"fontService",Ci,this)}return p()(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("DataMappingPlugin",(function(){n.generateMaping(e,{styleAttributeService:r})})),e.hooks.beforeRenderData.tap("DataMappingPlugin",(function(){return e.dataState.dataMappingNeedUpdate=!1,n.generateMaping(e,{styleAttributeService:r}),!0})),e.hooks.beforeRender.tap("DataMappingPlugin",(function(){if(!e.layerModelNeedUpdate){var t=r.getLayerStyleAttributes()||[],i=r.getLayerStyleAttribute("filter"),o=e.getSource().data.dataArray,a=t.filter((function(e){return e.needRemapping})),s=o;null!==i&&void 0!==i&&i.needRemapping&&null!==i&&void 0!==i&&i.scale&&(s=o.filter((function(e){return n.applyAttributeMapping(i,e)[0]}))),a.length&&(null!==i&&void 0!==i&&i.needRemapping?(e.setEncodedData(n.mapping(t,s)),i.needRemapping=!1):e.setEncodedData(n.mapping(a,s,e.getEncodedData())),e.emit("remapping",null))}}))}},{key:"generateMaping",value:function(e,t){var n=this,r=t.styleAttributeService,i=r.getLayerStyleAttributes()||[],o=r.getLayerStyleAttribute("filter"),a=e.getSource().data.dataArray,s=a;null!==o&&void 0!==o&&o.scale&&(s=a.filter((function(e){return n.applyAttributeMapping(o,e)[0]}))),e.setEncodedData(this.mapping(i,s))}},{key:"mapping",value:function(e,t,n){var r=this,i=t.map((function(t,i){var o=n?n[i]:{},a=Mi({id:t._id,coordinates:t.coordinates},o);return e.filter((function(e){return void 0!==e.scale})).forEach((function(e){var n=r.applyAttributeMapping(e,t);e.needRemapping=!1,"color"===e.name&&(n=n.map((function(e){return Object(L["s"])(e)}))),a[e.name]=Array.isArray(n)&&1===n.length?n[0]:n,"shape"===e.name&&(a.shape=r.fontService.getIconFontKey(a[e.name]))})),a}));return i.length>0&&"GAODE2.x"===this.mapService.version&&("number"===typeof i[0].coordinates[0]?i.filter((function(e){return!e.originCoordinates})).map((function(e){e.version="GAODE2.x",e.originCoordinates=Ai()(e.coordinates),e.coordinates=r.mapService.lngLatToCoord(e.coordinates)})):i.filter((function(e){return!e.originCoordinates})).map((function(e){e.version="GAODE2.x",e.originCoordinates=Ai()(e.coordinates),e.coordinates=r.mapService.lngLatToCoords(e.coordinates)}))),i}},{key:"applyAttributeMapping",value:function(e,t){var n;if(!e.scale)return[];var r=(null===e||void 0===e||null===(n=e.scale)||void 0===n?void 0:n.scalers)||[],i=[];return r.forEach((function(n){var r,o=n.field;(t.hasOwnProperty(o)||"variable"===(null===(r=e.scale)||void 0===r?void 0:r.type))&&i.push(t[o])})),e.mapping?e.mapping(i):[]}}]),e}(),Ei=j()(Oi.prototype,"configService",[xi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ki=j()(Oi.prototype,"mapService",[_i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ci=j()(Oi.prototype,"fontService",[wi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Si=Oi))||Si),Di=n("rlAn"),Ni=(Ii=Object(D["injectable"])(),Ii(Li=function(){function e(){l()(this,e),w()(this,"mapService",void 0)}return p()(e,[{key:"apply",value:function(e){var t=this;this.mapService=e.getContainer().get(u["TYPES"].IMapService),e.hooks.init.tap("DataSourcePlugin",(function(){var n=e.getSource();if(!n){var r=e.sourceOption,i=r.data,o=r.options;e.setSource(new Di["default"](i,o))}t.updateClusterData(e)})),e.hooks.beforeRenderData.tap("DataSourcePlugin",(function(){var n=t.updateClusterData(e),r=e.dataState.dataSourceNeedUpdate;return e.dataState.dataSourceNeedUpdate=!1,n||r}))}},{key:"updateClusterData",value:function(e){var t=e.getSource(),n=t.cluster,r=t.clusterOptions,i=r.zoom,o=void 0===i?0:i,a=r.maxZoom,s=void 0===a?16:a,u=this.mapService.getZoom()-1,c=e.dataState.dataSourceNeedUpdate;return!!(n&&(c||Math.abs(o-u)>1)&&s>o)&&(t.updateClusterData(Math.floor(u)),!0)}}]),e}())||Li),zi=n("7tbW"),Fi=n.n(zi),Bi=n("J2iB"),Ui=n.n(Bi),Vi=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Hi=function(e){return 1===e.length&&(e=qi(e)),{left:function(t,n,r,i){null==r&&(r=0),null==i&&(i=t.length);while(r<i){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){null==r&&(r=0),null==i&&(i=t.length);while(r<i){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}};function qi(e){return function(t,n){return Vi(e(t),n)}}var Gi=Hi(Vi),Wi=Gi.right,Zi=(Gi.left,Wi);var Yi=function(e){return null===e?NaN:+e},Xi=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){while(++a<o)if(null!=(n=e[a])&&n>=n){r=i=n;while(++a<o)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}}else while(++a<o)if(null!=(n=t(e[a],a,e))&&n>=n){r=i=n;while(++a<o)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n))}return[r,i]},Ki=Array.prototype,Ji=(Ki.slice,Ki.map,Math.sqrt(50)),Qi=Math.sqrt(10),$i=Math.sqrt(2),eo=function(e,t,n){var r,i,o,a,s=-1;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=to(e,t,n))||!isFinite(a))return[];if(a>0){e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));while(++s<i)o[s]=(e+s)*a}else{e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));while(++s<i)o[s]=(e-s)/a}return r&&o.reverse(),o};function to(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Ji?10:o>=Qi?5:o>=$i?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Ji?10:o>=Qi?5:o>=$i?2:1)}function no(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Ji?i*=10:o>=Qi?i*=5:o>=$i&&(i*=2),t<e?-i:i}var ro=function(e,t,n){if(null==n&&(n=Yi),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}};function io(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var oo="$";function ao(){}function so(e,t){var n=new ao;if(e instanceof ao)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,i=-1,o=e.length;if(null==t)while(++i<o)n.set(i,e[i]);else while(++i<o)n.set(t(r=e[i],i,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}ao.prototype=so.prototype={constructor:ao,has:function(e){return oo+e in this},get:function(e){return this[oo+e]},set:function(e,t){return this[oo+e]=t,this},remove:function(e){var t=oo+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===oo&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===oo&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===oo&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===oo&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===oo&&++e;return e},empty:function(){for(var e in this)if(e[0]===oo)return!1;return!0},each:function(e){for(var t in this)t[0]===oo&&e(this[t],t.slice(1),this)}};var uo=so;function co(){}var lo=uo.prototype;function fo(e,t){var n=new co;if(e instanceof co)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)while(++r<i)n.add(e[r]);else while(++r<i)n.add(t(e[r],r,e))}return n}co.prototype=fo.prototype={constructor:co,has:lo.has,add:function(e){return e+="",this[oo+e]=e,this},remove:lo.remove,clear:lo.clear,values:lo.keys,size:lo.size,empty:lo.empty,each:lo.each};var po=Array.prototype,ho=po.map,mo=po.slice,vo={name:"implicit"};function yo(){var e=uo(),t=[],n=[],r=vo;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==vo)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=uo();var r,o,a=-1,s=n.length;while(++a<s)e.has(o=(r=n[a])+"")||e.set(o,t.push(r));return i},i.range=function(e){return arguments.length?(n=mo.call(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return yo(t,n).unknown(r)},io.apply(i,arguments),i}function go(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}var bo=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return go((n-r/t)*t,a,i,o,s)}},xo=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return go((n-r/t)*t,i,o,a,s)}},_o=function(e){return function(){return e}};function wo(e,t){return function(n){return e+n*t}}function So(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Oo(e){return 1===(e=+e)?Eo:function(t,n){return n-t?So(t,n,e):_o(isNaN(t)?n:t)}}function Eo(e,t){var n=t-e;return n?wo(e,n):_o(isNaN(e)?t:e)}var ko=function e(t){var n=Oo(t);function r(e,t){var r=n((e=Object(_e["b"])(e)).r,(t=Object(_e["b"])(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Eo(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Co(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Object(_e["b"])(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}Co(bo),Co(xo);var jo=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}};function To(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ao(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Fo(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}var Po=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}},Mo=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},Io=function(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Fo(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},Lo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ro=new RegExp(Lo.source,"g");function Do(e){return function(){return e}}function No(e){return function(t){return e(t)+""}}var zo=function(e,t){var n,r,i,o=Lo.lastIndex=Ro.lastIndex=0,a=-1,s=[],u=[];e+="",t+="";while((n=Lo.exec(e))&&(r=Ro.exec(t)))(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Mo(n,r)})),o=Ro.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?No(u[0].x):Do(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})},Fo=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?_o(t):("number"===r?Mo:"string"===r?(n=Object(_e["a"])(t))?(t=n,ko):zo:t instanceof _e["a"]?ko:t instanceof Date?Po:To(t)?jo:Array.isArray(t)?Ao:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Io:Mo)(e,t)},Bo=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}},Uo=function(e){return function(){return e}},Vo=function(e){return+e},Ho=[0,1];function qo(e){return e}function Go(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Uo(isNaN(t)?NaN:.5)}function Wo(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function Zo(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Go(i,r),o=n(a,o)):(r=Go(r,i),o=n(o,a)),function(e){return o(r(e))}}function Yo(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());while(++a<r)i[a]=Go(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=Zi(e,t,1,r)-1;return o[n](i[n](t))}}function Xo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ko(){var e,t,n,r,i,o,a=Ho,s=Ho,u=Fo,c=qo;function l(){return r=Math.min(a.length,s.length)>2?Yo:Zo,i=o=null,f}function f(t){return isNaN(t=+t)?n:(i||(i=r(a.map(e),s,u)))(e(c(t)))}return f.invert=function(n){return c(t((o||(o=r(s,a.map(e),Mo)))(n)))},f.domain=function(e){return arguments.length?(a=ho.call(e,Vo),c===qo||(c=Wo(a)),l()):a.slice()},f.range=function(e){return arguments.length?(s=mo.call(e),l()):s.slice()},f.rangeRound=function(e){return s=mo.call(e),u=Bo,l()},f.clamp=function(e){return arguments.length?(c=e?Wo(a):qo,f):c!==qo},f.interpolate=function(e){return arguments.length?(u=e,l()):u},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,l()}}function Jo(e,t){return Ko()(e,t)}var Qo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $o(e){if(!(t=Qo.exec(e)))throw new Error("invalid format: "+e);var t;return new ea({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ea(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}$o.prototype=ea.prototype,ea.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ta=function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)};function na(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}var ra,ia,oa,aa,sa=function(e){return e=na(Math.abs(e)),e?e[1]:NaN},ua=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(sa(t)/3)))-sa(Math.abs(e)))},ca=function(e,t){return function(n,r){var i=n.length,o=[],a=0,s=e[0],u=0;while(i>0&&s>0){if(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),(u+=s+1)>r)break;s=e[a=(a+1)%e.length]}return o.reverse().join(t)}},la=function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}},fa=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(t+1):e},pa=function(e,t){var n=na(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(ra=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+na(e,Math.max(0,t+o-1))[0]},ha=function(e,t){var n=na(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},da={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:ta,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return ha(100*e,t)},r:ha,s:pa,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},ma=function(e){return e},va=Array.prototype.map,ya=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],ga=function(e){var t=void 0===e.grouping||void 0===e.thousands?ma:ca(va.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?ma:la(va.call(e.numerals,String)),a=void 0===e.percent?"%":e.percent+"",s=void 0===e.minus?"-":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function c(e){e=$o(e);var c=e.fill,l=e.align,f=e.sign,p=e.symbol,h=e.zero,d=e.width,m=e.comma,v=e.precision,y=e.trim,g=e.type;"n"===g?(m=!0,g="g"):da[g]||(void 0===v&&(v=12),y=!0,g="g"),(h||"0"===c&&"="===l)&&(h=!0,c="0",l="=");var b="$"===p?n:"#"===p&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",x="$"===p?r:/[%p]/.test(g)?a:"",_=da[g],w=/[defgprs%]/.test(g);function S(e){var n,r,a,p=b,S=x;if("c"===g)S=_(e)+S,e="";else{e=+e;var O=e<0||1/e<0;if(e=isNaN(e)?u:_(Math.abs(e),v),y&&(e=fa(e)),O&&0===+e&&"+"!==f&&(O=!1),p=(O?"("===f?f:s:"-"===f||"("===f?"":f)+p,S=("s"===g?ya[8+ra/3]:"")+S+(O&&"("===f?")":""),w){n=-1,r=e.length;while(++n<r)if(a=e.charCodeAt(n),48>a||a>57){S=(46===a?i+e.slice(n+1):e.slice(n))+S,e=e.slice(0,n);break}}}m&&!h&&(e=t(e,1/0));var E=p.length+e.length+S.length,k=E<d?new Array(d-E+1).join(c):"";switch(m&&h&&(e=t(k+e,k.length?d-S.length:1/0),k=""),l){case"<":e=p+e+S+k;break;case"=":e=p+k+e+S;break;case"^":e=k.slice(0,E=k.length>>1)+p+e+S+k.slice(E);break;default:e=k+p+e+S;break}return o(e)}return v=void 0===v?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),S.toString=function(){return e+""},S}function l(e,t){var n=c((e=$o(e),e.type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(sa(t)/3))),i=Math.pow(10,-r),o=ya[8+r/3];return function(e){return n(i*e)+o}}return{format:c,formatPrefix:l}};function ba(e){return ia=ga(e),oa=ia.format,aa=ia.formatPrefix,ia}ba({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var xa=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,sa(t)-sa(e))+1},_a=function(e){return Math.max(0,-sa(Math.abs(e)))},wa=function(e,t,n,r){var i,o=no(e,t,n);switch(r=$o(null==r?",f":r),r.type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=ua(o,a))||(r.precision=i),aa(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=xa(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=_a(o))||(r.precision=i-2*("%"===r.type));break}return oa(r)};function Sa(e){var t=e.domain;return e.ticks=function(e){var n=t();return eo(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return wa(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),r=to(s,u,n),r>0?(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,r=to(s,u,n)):r<0&&(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,r=to(s,u,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,t(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,t(i)),e},e}function Oa(){var e=Jo(qo,qo);return e.copy=function(){return Xo(e,Oa())},io.apply(e,arguments),Sa(e)}function Ea(e){var t;function n(e){return isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=ho.call(t,Vo),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Ea(e).unknown(t)},e=arguments.length?ho.call(e,Vo):[0,1],Sa(n)}var ka=function(e,t){e=e.slice();var n,r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e};function Ca(e){return Math.log(e)}function ja(e){return Math.exp(e)}function Ta(e){return-Math.log(-e)}function Aa(e){return-Math.exp(-e)}function Pa(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ma(e){return 10===e?Pa:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function Ia(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function La(e){return function(t){return-e(-t)}}function Ra(e){var t,n,r=e(Ca,ja),i=r.domain,o=10;function a(){return t=Ia(o),n=Ma(o),i()[0]<0?(t=La(t),n=La(n),e(Ta,Aa)):e(Ca,ja),r}return r.base=function(e){return arguments.length?(o=+e,a()):o},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),s=a[0],u=a[a.length-1];(r=u<s)&&(p=s,s=u,u=p);var c,l,f,p=t(s),h=t(u),d=null==e?10:+e,m=[];if(!(o%1)&&h-p<d){if(p=Math.round(p)-1,h=Math.round(h)+1,s>0){for(;p<h;++p)for(l=1,c=n(p);l<o;++l)if(f=c*l,!(f<s)){if(f>u)break;m.push(f)}}else for(;p<h;++p)for(l=o-1,c=n(p);l>=1;--l)if(f=c*l,!(f<s)){if(f>u)break;m.push(f)}}else m=eo(p,h,Math.min(h-p,d)).map(n);return r?m.reverse():m},r.tickFormat=function(e,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=oa(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,o*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*o<o-.5&&(r*=o),r<=a?i(e):""}},r.nice=function(){return i(ka(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function Da(){var e=Ra(Ko()).domain([1,10]);return e.copy=function(){return Xo(e,Da()).base(e.base())},io.apply(e,arguments),e}function Na(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function za(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Fa(e){return e<0?-e*e:e*e}function Ba(e){var t=e(qo,qo),n=1;function r(){return 1===n?e(qo,qo):.5===n?e(za,Fa):e(Na(n),Na(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},Sa(t)}function Ua(){var e=Ba(Ko());return e.copy=function(){return Xo(e,Ua()).exponent(e.exponent())},io.apply(e,arguments),e}function Va(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);r=new Array(i-1);while(++e<i)r[e-1]=ro(t,e/i);return o}function o(t){return isNaN(t=+t)?e:n[Zi(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,r=0,o=e.length;r<o;++r)n=e[r],null==n||isNaN(n=+n)||t.push(n);return t.sort(Vi),i()},o.range=function(e){return arguments.length?(n=mo.call(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return Va().domain(t).range(n).unknown(e)},io.apply(o,arguments)}function Ha(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return t<=t?o[Zi(i,t,0,r)]:e}function s(){var e=-1;i=new Array(r);while(++e<r)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=mo.call(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Ha().domain([t,n]).range(o).unknown(e)},io.apply(Sa(a),arguments)}function qa(){var e,t=[.5],n=[0,1],r=1;function i(i){return i<=i?n[Zi(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=mo.call(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=mo.call(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return qa().domain(t).range(n).unknown(e)},io.apply(i,arguments)}var Ga=new Date,Wa=new Date;function Za(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return Za((function(t){if(t>=t)while(e(t),!n(t))t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)while(++r<=0)while(t(e,-1),!n(e));else while(--r>=0)while(t(e,1),!n(e));}))},n&&(i.count=function(t,r){return Ga.setTime(+t),Wa.setTime(+r),e(Ga),e(Wa),Math.floor(n(Ga,Wa))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var Ya=Za((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));Ya.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Za((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var Xa=Ya,Ka=(Ya.range,Za((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),Ja=Ka,Qa=(Ka.range,1e3),$a=6e4,es=36e5,ts=864e5,ns=6048e5;function rs(e){return Za((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$a)/ns}))}var is=rs(0),os=rs(1),as=rs(2),ss=rs(3),us=rs(4),cs=rs(5),ls=rs(6),fs=(is.range,os.range,as.range,ss.range,us.range,cs.range,ls.range,Za((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$a)/ts}),(function(e){return e.getDate()-1}))),ps=fs,hs=(fs.range,Za((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qa-e.getMinutes()*$a)}),(function(e,t){e.setTime(+e+t*es)}),(function(e,t){return(t-e)/es}),(function(e){return e.getHours()}))),ds=hs,ms=(hs.range,Za((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qa)}),(function(e,t){e.setTime(+e+t*$a)}),(function(e,t){return(t-e)/$a}),(function(e){return e.getMinutes()}))),vs=ms,ys=(ms.range,Za((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*Qa)}),(function(e,t){return(t-e)/Qa}),(function(e){return e.getUTCSeconds()}))),gs=ys,bs=(ys.range,Za((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));bs.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Za((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):bs:null};var xs=bs;bs.range;function _s(e){return Za((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/ns}))}var ws=_s(0),Ss=_s(1),Os=_s(2),Es=_s(3),ks=_s(4),Cs=_s(5),js=_s(6),Ts=(ws.range,Ss.range,Os.range,Es.range,ks.range,Cs.range,js.range,Za((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/ts}),(function(e){return e.getUTCDate()-1}))),As=Ts,Ps=(Ts.range,Za((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));Ps.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Za((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var Ms=Ps;Ps.range;function Is(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ls(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Rs(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Ds(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,u=e.shortMonths,c=Gs(i),l=Ws(i),f=Gs(o),p=Ws(o),h=Gs(a),d=Ws(a),m=Gs(s),v=Ws(s),y=Gs(u),g=Ws(u),b={a:I,A:L,b:R,B:D,c:null,d:hu,e:hu,f:gu,g:Tu,G:Pu,H:du,I:mu,j:vu,L:yu,m:bu,M:xu,p:N,q:z,Q:ec,s:tc,S:_u,u:wu,U:Su,V:Eu,w:ku,W:Cu,x:null,X:null,y:ju,Y:Au,Z:Mu,"%":$u},x={a:F,A:B,b:U,B:V,c:null,d:Iu,e:Iu,f:zu,g:Xu,G:Ju,H:Lu,I:Ru,j:Du,L:Nu,m:Fu,M:Bu,p:H,q:q,Q:ec,s:tc,S:Uu,u:Vu,U:Hu,V:Gu,w:Wu,W:Zu,x:null,X:null,y:Yu,Y:Ku,Z:Qu,"%":$u},_={a:k,A:C,b:j,B:T,c:A,d:ru,e:ru,f:cu,g:$s,G:Qs,H:ou,I:ou,j:iu,L:uu,m:nu,M:au,p:E,q:tu,Q:fu,s:pu,S:su,u:Ys,U:Xs,V:Ks,w:Zs,W:Js,x:P,X:M,y:$s,Y:Qs,Z:eu,"%":lu};function w(e,t){return function(n){var r,i,o,a=[],s=-1,u=0,c=e.length;n instanceof Date||(n=new Date(+n));while(++s<c)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=Fs[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join("")}}function S(e,t){return function(n){var r,i,o=Rs(1900,void 0,1),a=O(o,e,n+="",0);if(a!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=Ls(Rs(o.y,0,1)),i=r.getUTCDay(),r=i>4||0===i?Ss.ceil(r):Ss(r),r=As.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=Is(Rs(o.y,0,1)),i=r.getDay(),r=i>4||0===i?os.ceil(r):os(r),r=ps.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Ls(Rs(o.y,0,1)).getUTCDay():Is(Rs(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Ls(o)):Is(o)}}function O(e,t,n,r){var i,o,a=0,s=t.length,u=n.length;while(a<s){if(r>=u)return-1;if(i=t.charCodeAt(a++),37===i){if(i=t.charAt(a++),o=_[i in Fs?t.charAt(a++):i],!o||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function E(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=l[r[0].toLowerCase()],n+r[0].length):-1}function k(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d[r[0].toLowerCase()],n+r[0].length):-1}function C(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1}function j(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=g[r[0].toLowerCase()],n+r[0].length):-1}function T(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v[r[0].toLowerCase()],n+r[0].length):-1}function A(e,n,r){return O(e,t,n,r)}function P(e,t,r){return O(e,n,t,r)}function M(e,t,n){return O(e,r,t,n)}function I(e){return a[e.getDay()]}function L(e){return o[e.getDay()]}function R(e){return u[e.getMonth()]}function D(e){return s[e.getMonth()]}function N(e){return i[+(e.getHours()>=12)]}function z(e){return 1+~~(e.getMonth()/3)}function F(e){return a[e.getUTCDay()]}function B(e){return o[e.getUTCDay()]}function U(e){return u[e.getUTCMonth()]}function V(e){return s[e.getUTCMonth()]}function H(e){return i[+(e.getUTCHours()>=12)]}function q(e){return 1+~~(e.getUTCMonth()/3)}return b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),x.x=w(n,x),x.X=w(r,x),x.c=w(t,x),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}var Ns,zs,Fs={"-":"",_:" ",0:"0"},Bs=/^\s*\d+/,Us=/^%/,Vs=/[\\^$*+?|[\]().{}]/g;function Hs(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function qs(e){return e.replace(Vs,"\\$&")}function Gs(e){return new RegExp("^(?:"+e.map(qs).join("|")+")","i")}function Ws(e){var t={},n=-1,r=e.length;while(++n<r)t[e[n].toLowerCase()]=n;return t}function Zs(e,t,n){var r=Bs.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ys(e,t,n){var r=Bs.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Xs(e,t,n){var r=Bs.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Ks(e,t,n){var r=Bs.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Js(e,t,n){var r=Bs.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Qs(e,t,n){var r=Bs.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function $s(e,t,n){var r=Bs.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eu(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tu(e,t,n){var r=Bs.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function nu(e,t,n){var r=Bs.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ru(e,t,n){var r=Bs.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function iu(e,t,n){var r=Bs.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ou(e,t,n){var r=Bs.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function au(e,t,n){var r=Bs.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function su(e,t,n){var r=Bs.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function uu(e,t,n){var r=Bs.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function cu(e,t,n){var r=Bs.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lu(e,t,n){var r=Us.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function fu(e,t,n){var r=Bs.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function pu(e,t,n){var r=Bs.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function hu(e,t){return Hs(e.getDate(),t,2)}function du(e,t){return Hs(e.getHours(),t,2)}function mu(e,t){return Hs(e.getHours()%12||12,t,2)}function vu(e,t){return Hs(1+ps.count(Xa(e),e),t,3)}function yu(e,t){return Hs(e.getMilliseconds(),t,3)}function gu(e,t){return yu(e,t)+"000"}function bu(e,t){return Hs(e.getMonth()+1,t,2)}function xu(e,t){return Hs(e.getMinutes(),t,2)}function _u(e,t){return Hs(e.getSeconds(),t,2)}function wu(e){var t=e.getDay();return 0===t?7:t}function Su(e,t){return Hs(is.count(Xa(e)-1,e),t,2)}function Ou(e){var t=e.getDay();return t>=4||0===t?us(e):us.ceil(e)}function Eu(e,t){return e=Ou(e),Hs(us.count(Xa(e),e)+(4===Xa(e).getDay()),t,2)}function ku(e){return e.getDay()}function Cu(e,t){return Hs(os.count(Xa(e)-1,e),t,2)}function ju(e,t){return Hs(e.getFullYear()%100,t,2)}function Tu(e,t){return e=Ou(e),Hs(e.getFullYear()%100,t,2)}function Au(e,t){return Hs(e.getFullYear()%1e4,t,4)}function Pu(e,t){var n=e.getDay();return e=n>=4||0===n?us(e):us.ceil(e),Hs(e.getFullYear()%1e4,t,4)}function Mu(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Hs(t/60|0,"0",2)+Hs(t%60,"0",2)}function Iu(e,t){return Hs(e.getUTCDate(),t,2)}function Lu(e,t){return Hs(e.getUTCHours(),t,2)}function Ru(e,t){return Hs(e.getUTCHours()%12||12,t,2)}function Du(e,t){return Hs(1+As.count(Ms(e),e),t,3)}function Nu(e,t){return Hs(e.getUTCMilliseconds(),t,3)}function zu(e,t){return Nu(e,t)+"000"}function Fu(e,t){return Hs(e.getUTCMonth()+1,t,2)}function Bu(e,t){return Hs(e.getUTCMinutes(),t,2)}function Uu(e,t){return Hs(e.getUTCSeconds(),t,2)}function Vu(e){var t=e.getUTCDay();return 0===t?7:t}function Hu(e,t){return Hs(ws.count(Ms(e)-1,e),t,2)}function qu(e){var t=e.getUTCDay();return t>=4||0===t?ks(e):ks.ceil(e)}function Gu(e,t){return e=qu(e),Hs(ks.count(Ms(e),e)+(4===Ms(e).getUTCDay()),t,2)}function Wu(e){return e.getUTCDay()}function Zu(e,t){return Hs(Ss.count(Ms(e)-1,e),t,2)}function Yu(e,t){return Hs(e.getUTCFullYear()%100,t,2)}function Xu(e,t){return e=qu(e),Hs(e.getUTCFullYear()%100,t,2)}function Ku(e,t){return Hs(e.getUTCFullYear()%1e4,t,4)}function Ju(e,t){var n=e.getUTCDay();return e=n>=4||0===n?ks(e):ks.ceil(e),Hs(e.getUTCFullYear()%1e4,t,4)}function Qu(){return"+0000"}function $u(){return"%"}function ec(e){return+e}function tc(e){return Math.floor(+e/1e3)}function nc(e){return Ns=Ds(e),zs=Ns.format,Ns.parse,Ns.utcFormat,Ns.utcParse,Ns}nc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var rc=1e3,ic=60*rc,oc=60*ic,ac=24*oc,sc=7*ac,uc=30*ac,cc=365*ac;function lc(e){return new Date(e)}function fc(e){return e instanceof Date?+e:+new Date(+e)}function pc(e,t,n,r,i,o,a,s,u){var c=Jo(qo,qo),l=c.invert,f=c.domain,p=u(".%L"),h=u(":%S"),d=u("%I:%M"),m=u("%I %p"),v=u("%a %d"),y=u("%b %d"),g=u("%B"),b=u("%Y"),x=[[a,1,rc],[a,5,5*rc],[a,15,15*rc],[a,30,30*rc],[o,1,ic],[o,5,5*ic],[o,15,15*ic],[o,30,30*ic],[i,1,oc],[i,3,3*oc],[i,6,6*oc],[i,12,12*oc],[r,1,ac],[r,2,2*ac],[n,1,sc],[t,1,uc],[t,3,3*uc],[e,1,cc]];function _(s){return(a(s)<s?p:o(s)<s?h:i(s)<s?d:r(s)<s?m:t(s)<s?n(s)<s?v:y:e(s)<s?g:b)(s)}function w(t,n,r,i){if(null==t&&(t=10),"number"===typeof t){var o=Math.abs(r-n)/t,a=Hi((function(e){return e[2]})).right(x,o);a===x.length?(i=no(n/cc,r/cc,t),t=e):a?(a=x[o/x[a-1][2]<x[a][2]/o?a-1:a],i=a[1],t=a[0]):(i=Math.max(no(n,r,t),1),t=s)}return null==i?t:t.every(i)}return c.invert=function(e){return new Date(l(e))},c.domain=function(e){return arguments.length?f(ho.call(e,fc)):f().map(lc)},c.ticks=function(e,t){var n,r=f(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=w(e,i,o,t),n=n?n.range(i,o+1):[],a?n.reverse():n},c.tickFormat=function(e,t){return null==t?_:u(t)},c.nice=function(e,t){var n=f();return(e=w(e,n[0],n[n.length-1],t))?f(ka(n,e)):c},c.copy=function(){return Xo(c,pc(e,t,n,r,i,o,a,s,u))},c}var hc,dc,mc,vc,yc,gc,bc=function(){return io.apply(pc(Xa,Ja,is,ps,ds,vs,gs,xs,zs).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},xc=Za((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),_c=(xc.range,Za((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*es)}),(function(e,t){return(t-e)/es}),(function(e){return e.getUTCHours()}))),wc=(_c.range,Za((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*$a)}),(function(e,t){return(t-e)/$a}),(function(e){return e.getUTCMinutes()})));wc.range;var Sc,Oc,Ec,kc,Cc,jc,Tc,Ac=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,Pc=(hc={},w()(hc,u["ScaleTypes"].LINEAR,Oa),w()(hc,u["ScaleTypes"].POWER,Ua),w()(hc,u["ScaleTypes"].LOG,Da),w()(hc,u["ScaleTypes"].IDENTITY,Ea),w()(hc,u["ScaleTypes"].TIME,bc),w()(hc,u["ScaleTypes"].QUANTILE,Va),w()(hc,u["ScaleTypes"].QUANTIZE,Ha),w()(hc,u["ScaleTypes"].THRESHOLD,qa),w()(hc,u["ScaleTypes"].CAT,yo),hc),Mc=(dc=Object(D["injectable"])(),mc=Object(D["inject"])(u["TYPES"].IGlobalConfigService),dc((yc=function(){function e(){l()(this,e),k()(this,"configService",gc,this),w()(this,"scaleCache",{}),w()(this,"scaleOptions",{})}return p()(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("FeatureScalePlugin",(function(){n.scaleOptions=e.getScaleOptions();var t=r.getLayerStyleAttributes(),i=e.getSource().data.dataArray;0!==i.length&&n.caculateScalesForAttributes(t||[],i)})),e.hooks.beforeRenderData.tap("FeatureScalePlugin",(function(){n.scaleOptions=e.getScaleOptions();var t=r.getLayerStyleAttributes(),i=e.getSource().data.dataArray;return n.caculateScalesForAttributes(t||[],i),e.layerModelNeedUpdate=!0,!0})),e.hooks.beforeRender.tap("FeatureScalePlugin",(function(){if(!e.layerModelNeedUpdate){n.scaleOptions=e.getScaleOptions();var t=r.getLayerStyleAttributes();if(t){var i=e.getSource().data.dataArray;if(0===i.length)return;var o=t.filter((function(e){return e.needRescale}));o.length&&n.caculateScalesForAttributes(o,i)}}}))}},{key:"isNumber",value:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},{key:"caculateScalesForAttributes",value:function(e,t){var n=this;this.scaleCache={},e.forEach((function(e){if(e.scale){var r=e.scale,i=e.name;r.names=n.parseFields(e.scale.field||[]);var o=[];r.names.forEach((function(r){o.push(n.getOrCreateScale(r,e,t))})),o.some((function(e){return e.type===u["StyleScaleType"].VARIABLE}))?(r.type=u["StyleScaleType"].VARIABLE,o.forEach((function(e){var t;if(!r.callback)if(r.values&&"text"!==r.values){var n;if("linear"===(null===(n=e.option)||void 0===n?void 0:n.type)&&r.values.length>2){var o=e.scale.ticks(r.values.length);"color"===i&&e.scale.domain(o)}e.scale.range(r.values)}else"cat"===(null===(t=e.option)||void 0===t?void 0:t.type)&&e.scale.range(e.option.domain)}))):(r.type=u["StyleScaleType"].CONSTANT,r.defaultValues=o.map((function(e,t){return e.scale(r.names[t])}))),r.scalers=o.map((function(e){return{field:e.field,func:e.scale,option:e.option}})),e.needRescale=!1}}))}},{key:"getOrCreateScale",value:function(e,t,n){[e,t.name].join("_");var r,i=null===(r=t.scale)||void 0===r?void 0:r.values,o=this.createScale(e,t.name,i,n);return o}},{key:"parseFields",value:function(e){return Array.isArray(e)?e:Z()(e)?e.split("*"):[e]}},{key:"createScale",value:function(e,t,n,r){var i,o,a=this.scaleOptions[t]&&(null===(i=this.scaleOptions[t])||void 0===i?void 0:i.field)===e?this.scaleOptions[t]:this.scaleOptions[e],s={field:e,scale:void 0,type:u["StyleScaleType"].VARIABLE,option:a};if(!r||!r.length)return a&&a.type?s.scale=this.createDefaultScale(a):(s.scale=yo([e]),s.type=u["StyleScaleType"].CONSTANT),s;var c=null===(o=r.find((function(t){return!Ui()(t[e])})))||void 0===o?void 0:o[e];if(this.isNumber(e)||Ui()(c)&&!a)s.scale=yo([e]),s.type=u["StyleScaleType"].CONSTANT;else{var l=a&&a.type||this.getDefaultType(c);"text"===n&&(l=u["ScaleTypes"].CAT);var f=this.createDefaultScaleConfig(l,e,r);Object.assign(f,a),s.scale=this.createDefaultScale(f),s.option=f}return s}},{key:"getDefaultType",value:function(e){var t=u["ScaleTypes"].LINEAR;return"string"===typeof e&&(t=Ac.test(e)?u["ScaleTypes"].TIME:u["ScaleTypes"].CAT),t}},{key:"createDefaultScaleConfig",value:function(e,t,n){var r={type:e},i=(null===n||void 0===n?void 0:n.map((function(e){return e[t]})))||[];return e!==u["ScaleTypes"].CAT&&e!==u["ScaleTypes"].QUANTILE?r.domain=Xi(i):e===u["ScaleTypes"].CAT?r.domain=Fi()(i):e===u["ScaleTypes"].QUANTILE&&(r.domain=i),r}},{key:"createDefaultScale",value:function(e){var t=e.type,n=e.domain,r=Pc[t]();return n&&r.domain(n),r}}]),e}(),gc=j()(yc.prototype,"configService",[mc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vc=yc))||vc);function Ic(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ic(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ic(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rc,Dc,Nc,zc,Fc,Bc,Uc=(Sc=Object(D["injectable"])(),Oc=Object(D["inject"])(u["TYPES"].ICameraService),Ec=Object(D["inject"])(u["TYPES"].IRendererService),Sc((Cc=function(){function e(){l()(this,e),k()(this,"cameraService",jc,this),k()(this,"rendererService",Tc,this)}return p()(e,[{key:"apply",value:function(e){e.hooks.beforeRender.tap("LayerAnimateStylePlugin",(function(){e.models.forEach((function(t){t.addUniforms(Lc({},e.layerModel.getAnimateUniforms()))}))}))}}]),e}(),jc=j()(Cc.prototype,"cameraService",[Oc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tc=j()(Cc.prototype,"rendererService",[Ec],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kc=Cc))||kc),Vc=(Rc=Object(D["injectable"])(),Rc(Dc=function(){function e(){l()(this,e)}return p()(e,[{key:"apply",value:function(e){e.hooks.init.tap("LayerModelPlugin",(function(){e.prepareBuildModel(),e.buildModels(),e.styleNeedUpdate=!1})),e.hooks.beforeRenderData.tap("DataSourcePlugin",(function(){return e.prepareBuildModel(),e.clearModels(),e.buildModels(),e.layerModelNeedUpdate=!1,!1}))}}]),e}())||Dc),Hc=(Nc=Object(D["injectable"])(),Nc(zc=function(){function e(){l()(this,e)}return p()(e,[{key:"apply",value:function(e){e.hooks.afterInit.tap("LayerStylePlugin",(function(){e.updateLayerConfig({});var t=e.getLayerConfig(),n=t.autoFit,r=t.fitBoundsOptions;n&&setTimeout((function(){e.fitBounds(r)}),100)}))}}]),e}())||zc);function qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qc(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wc={directional:{lights:"u_DirectionalLights",num:"u_NumOfDirectionalLights"},spot:{lights:"u_SpotLights",num:"u_NumOfSpotLights"}},Zc={type:"directional",direction:[1,10.5,12],ambient:[.2,.2,.2],diffuse:[.6,.6,.6],specular:[.1,.1,.1]},Yc={direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0]},Xc={position:[0,0,0],direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],constant:1,linear:0,quadratic:0,angle:14,exponent:40,blur:5};function Kc(e){var t={u_DirectionalLights:new Array(3).fill(Gc({},Yc)),u_NumOfDirectionalLights:0,u_SpotLights:new Array(3).fill(Gc({},Xc)),u_NumOfSpotLights:0};return e&&e.length||(e=[Zc]),e.forEach((function(e,n){var r=e.type,i=void 0===r?"directional":r,o=O()(e,["type"]),a=Wc[i].lights,s=Wc[i].num,u=t[s];t[a][u]=Gc(Gc({},t[a][u]),o),t[s]++})),t}var Jc,Qc,$c,el,tl,nl,rl,il,ol,al,sl,ul,cl,ll,fl,pl,hl,dl,ml,vl=(Fc=Object(D["injectable"])(),Fc(Bc=function(){function e(){l()(this,e)}return p()(e,[{key:"apply",value:function(e){e.hooks.beforeRender.tap("LightingPlugin",(function(){var t=e.getLayerConfig(),n=t.enableLighting;n&&e.models.forEach((function(e){return e.addUniforms(Gc({},Kc()))}))}))}}]),e}())||Bc),yl={NONE:0,ENCODE:1,HIGHLIGHT:2},gl=(Jc=Object(D["injectable"])(),Jc(Qc=function(){function e(){l()(this,e)}return p()(e,[{key:"apply",value:function(e,t){t.rendererService;var n=t.styleAttributeService;e.hooks.init.tap("PixelPickingPlugin",(function(){var t=e.getLayerConfig(),r=t.enablePicking;n.registerStyleAttribute({name:"pickingColor",type:u["AttributeType"].Attribute,descriptor:{name:"a_PickingColor",buffer:{data:[],type:u["gl"].FLOAT},size:3,update:function(e,t){var n=e.id;return r?Object(L["l"])(n):[0,0,0]}}})})),e.hooks.beforePickingEncode.tap("PixelPickingPlugin",(function(){var t=e.getLayerConfig(),n=t.enablePicking;n&&e.isVisible()&&e.models.forEach((function(e){return e.addUniforms({u_PickingStage:yl.ENCODE})}))})),e.hooks.afterPickingEncode.tap("PixelPickingPlugin",(function(){var t=e.getLayerConfig(),n=t.enablePicking;n&&e.isVisible()&&e.models.forEach((function(e){return e.addUniforms({u_PickingStage:yl.HIGHLIGHT})}))})),e.hooks.beforeHighlight.tap("PixelPickingPlugin",(function(t){var n=e.getLayerConfig(),r=n.highlightColor,i="string"===typeof r?Object(L["s"])(r):r||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:Object(L["k"])(new Uint8Array(t))}),e.models.forEach((function(e){return e.addUniforms({u_PickingStage:yl.HIGHLIGHT,u_PickingColor:t,u_HighlightColor:i.map((function(e){return 255*e}))})}))})),e.hooks.beforeSelect.tap("PixelPickingPlugin",(function(t){var n=e.getLayerConfig(),r=n.selectColor,i="string"===typeof r?Object(L["s"])(r):r||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:Object(L["k"])(new Uint8Array(t))}),e.models.forEach((function(e){return e.addUniforms({u_PickingStage:yl.HIGHLIGHT,u_PickingColor:t,u_HighlightColor:i.map((function(e){return 255*e}))})}))}))}}]),e}())||Qc),bl=($c=Object(D["injectable"])(),$c(el=function(){function e(){l()(this,e)}return p()(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("RegisterStyleAttributePlugin",(function(){n.registerBuiltinAttributes(r)}))}},{key:"registerBuiltinAttributes",value:function(e){e.registerStyleAttribute({name:"position",type:u["AttributeType"].Attribute,descriptor:{name:"a_Position",buffer:{data:[],type:u["gl"].FLOAT},size:3,update:function(e,t,n){return 2===n.length?[n[0],n[1],0]:[n[0],n[1],n[2]]}}}),e.registerStyleAttribute({name:"filter",type:u["AttributeType"].Attribute,descriptor:{name:"filter",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t){var n=e.filter;return n?[1]:[0]}}}),e.registerStyleAttribute({name:"color",type:u["AttributeType"].Attribute,descriptor:{name:"a_Color",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:4,update:function(e,t){var n=e.color;return n&&n.length?n:[1,1,1,1]}}}),e.registerStyleAttribute({name:"vertexId",type:u["AttributeType"].Attribute,descriptor:{name:"a_vertexId",buffer:{usage:u["gl"].DYNAMIC_DRAW,data:[],type:u["gl"].FLOAT},size:1,update:function(e,t,n,r){return[t]}}})}}]),e}())||el),xl=(tl=Object(D["injectable"])(),nl=Object(D["inject"])(u["TYPES"].ICameraService),rl=Object(D["inject"])(u["TYPES"].ICoordinateSystemService),il=Object(D["inject"])(u["TYPES"].IRendererService),ol=Object(D["inject"])(u["TYPES"].IMapService),tl((sl=function(){function e(){l()(this,e),k()(this,"cameraService",ul,this),k()(this,"coordinateSystemService",cl,this),k()(this,"rendererService",ll,this),k()(this,"mapService",fl,this)}return p()(e,[{key:"apply",value:function(e){var t=this,n=this.mapService.version,r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i=[0,0];e.hooks.beforeRender.tap("ShaderUniformPlugin",(function(){t.coordinateSystemService.refresh(),"GAODE2.x"===n&&(r=t.mapService.map.customCoords.getMVPMatrix(),i=t.mapService.getCustomCoordCenter());var o=t.rendererService.getViewportSize(),a=o.width,s=o.height;e.models.forEach((function(n){var o;n.addUniforms((o={},w()(o,u["CameraUniform"].ProjectionMatrix,t.cameraService.getProjectionMatrix()),w()(o,u["CameraUniform"].ViewMatrix,t.cameraService.getViewMatrix()),w()(o,u["CameraUniform"].ViewProjectionMatrix,t.cameraService.getViewProjectionMatrix()),w()(o,u["CameraUniform"].Zoom,t.cameraService.getZoom()),w()(o,u["CameraUniform"].ZoomScale,t.cameraService.getZoomScale()),w()(o,u["CameraUniform"].FocalDistance,t.cameraService.getFocalDistance()),w()(o,u["CameraUniform"].CameraPosition,t.cameraService.getCameraPosition()),w()(o,u["CoordinateUniform"].CoordinateSystem,t.coordinateSystemService.getCoordinateSystem()),w()(o,u["CoordinateUniform"].ViewportCenter,t.coordinateSystemService.getViewportCenter()),w()(o,u["CoordinateUniform"].ViewportCenterProjection,t.coordinateSystemService.getViewportCenterProjection()),w()(o,u["CoordinateUniform"].PixelsPerDegree,t.coordinateSystemService.getPixelsPerDegree()),w()(o,u["CoordinateUniform"].PixelsPerDegree2,t.coordinateSystemService.getPixelsPerDegree2()),w()(o,u["CoordinateUniform"].PixelsPerMeter,t.coordinateSystemService.getPixelsPerMeter()),w()(o,u["CoordinateUniform"].Mvp,r),w()(o,"u_SceneCenterMKT",i),w()(o,"u_ViewportSize",[a,s]),w()(o,"u_DevicePixelRatio",window.devicePixelRatio),w()(o,"u_ModelMatrix",t.cameraService.getModelMatrix()),w()(o,"u_PickingBuffer",e.getLayerConfig().pickingBuffer||0),o))}))}))}}]),e}(),ul=j()(sl.prototype,"cameraService",[nl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cl=j()(sl.prototype,"coordinateSystemService",[rl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ll=j()(sl.prototype,"rendererService",[il],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fl=j()(sl.prototype,"mapService",[ol],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),al=sl))||al),_l=(pl=Object(D["injectable"])(),pl(hl=function(){function e(){l()(this,e)}return p()(e,[{key:"apply",value:function(e){e.hooks.beforeRender.tap("UpdateModelPlugin",(function(){e.layerModel&&e.layerModel.needUpdate()}))}}]),e}())||hl),wl=(dl=Object(D["injectable"])(),dl(ml=function(){function e(){l()(this,e)}return p()(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("UpdateStyleAttributePlugin",(function(){n.initStyleAttribute(e,{styleAttributeService:r})})),e.hooks.beforeRender.tap("UpdateStyleAttributePlugin",(function(){e.layerModelNeedUpdate||n.updateStyleAtrribute(e,{styleAttributeService:r})}))}},{key:"updateStyleAtrribute",value:function(e,t){var n=t.styleAttributeService,r=n.getLayerStyleAttributes()||[],i=n.getLayerStyleAttribute("filter"),o=n.getLayerStyleAttribute("shape");if(i&&i.needRegenerateVertices||o&&o.needRegenerateVertices)return e.layerModelNeedUpdate=!0,void r.forEach((function(e){return e.needRegenerateVertices=!1}));r.filter((function(e){return e.needRegenerateVertices})).forEach((function(t){n.updateAttributeByFeatureRange(t.name,e.getEncodedData(),t.featureRange.startIndex,t.featureRange.endIndex),t.needRegenerateVertices=!1}))}},{key:"initStyleAttribute",value:function(e,t){var n=t.styleAttributeService,r=n.getLayerStyleAttributes()||[];r.filter((function(e){return e.needRegenerateVertices})).forEach((function(t){n.updateAttributeByFeatureRange(t.name,e.getEncodedData(),t.featureRange.startIndex,t.featureRange.endIndex),t.needRegenerateVertices=!1}))}}]),e}())||ml);u["container"].bind(u["TYPES"].ILayerPlugin).to(Ni).inRequestScope(),u["container"].bind(u["TYPES"].ILayerPlugin).to(bl).inRequestScope(),u["container"].bind(u["TYPES"].ILayerPlugin).to(Mc).inRequestScope(),u["container"].bind(u["TYPES"].ILayerPlugin).to(Ri).inRequestScope(),u["container"].bind(u["TYPES"].ILayerPlugin).to(Hc).inRequestScope(),u["container"].bind(u["TYPES"].ILayerPlugin).to(wl).inRequestScope(),u["container"].bind(u["TYPES"].ILayerPlugin).to(_l).inRequestScope(),u["container"].bind(u["TYPES"].ILayerPlugin).to(q).inRequestScope(),u["container"].bind(u["TYPES"].ILayerPlugin).to(xl).inRequestScope(),u["container"].bind(u["TYPES"].ILayerPlugin).to(Uc).inRequestScope(),u["container"].bind(u["TYPES"].ILayerPlugin).to(vl).inRequestScope(),u["container"].bind(u["TYPES"].ILayerPlugin).to(gl).inRequestScope(),u["container"].bind(u["TYPES"].ILayerPlugin).to(Vc).inRequestScope()},sxOR:function(e,t,n){"use strict";var r=String.prototype.replace,i=/%20/g,o={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports={default:o.RFC3986,formatters:{RFC1738:function(e){return r.call(e,i,"+")},RFC3986:function(e){return String(e)}},RFC1738:o.RFC1738,RFC3986:o.RFC3986}},szb8:function(e,t,n){"use strict";n.r(t),n.d(t,"Interpreter",(function(){return Yt})),n.d(t,"vm",(function(){return r})),n.d(t,"evaluate",(function(){return en})),n.d(t,"Function",(function(){return tn}));var r={};n.r(r),n.d(r,"createContext",(function(){return Xt})),n.d(r,"compileFunction",(function(){return Kt})),n.d(r,"runInContext",(function(){return Jt})),n.d(r,"runInNewContext",(function(){return Qt})),n.d(r,"Script",(function(){return $t}));var i={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},o="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",a={5:o,"5module":o+" export import",6:o+" const class extends export import super"},s=/^in(stanceof)?$/,u="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08c7\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d04-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31bf\u31f0-\u31ff\u3400-\u4dbf\u4e00-\u9ffc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7ca\ua7f5-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab69\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",c="\u200c\u200d\xb7\u0300-\u036f\u0387\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d3-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b55-\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c00-\u0c04\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d81-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19d0-\u19da\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1ab0-\u1abd\u1abf\u1ac0\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf4\u1cf7-\u1cf9\u1dc0-\u1df9\u1dfb-\u1dff\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua82c\ua880\ua881\ua8b4-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f1\ua8ff-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\ua9e5\ua9f0-\ua9f9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f",l=new RegExp("["+u+"]"),f=new RegExp("["+u+c+"]");u=c=null;var p=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938],h=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];function d(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}}function m(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&l.test(String.fromCharCode(e)):!1!==t&&d(e,p)))}function v(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&f.test(String.fromCharCode(e)):!1!==t&&(d(e,p)||d(e,h)))))}var y=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function g(e,t){return new y(e,{beforeExpr:!0,binop:t})}var b={beforeExpr:!0},x={startsExpr:!0},_={};function w(e,t){return void 0===t&&(t={}),t.keyword=e,_[e]=new y(e,t)}var S={num:new y("num",x),regexp:new y("regexp",x),string:new y("string",x),name:new y("name",x),eof:new y("eof"),bracketL:new y("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new y("]"),braceL:new y("{",{beforeExpr:!0,startsExpr:!0}),braceR:new y("}"),parenL:new y("(",{beforeExpr:!0,startsExpr:!0}),parenR:new y(")"),comma:new y(",",b),semi:new y(";",b),colon:new y(":",b),dot:new y("."),question:new y("?",b),questionDot:new y("?."),arrow:new y("=>",b),template:new y("template"),invalidTemplate:new y("invalidTemplate"),ellipsis:new y("...",b),backQuote:new y("`",x),dollarBraceL:new y("${",{beforeExpr:!0,startsExpr:!0}),eq:new y("=",{beforeExpr:!0,isAssign:!0}),assign:new y("_=",{beforeExpr:!0,isAssign:!0}),incDec:new y("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new y("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:g("||",1),logicalAND:g("&&",2),bitwiseOR:g("|",3),bitwiseXOR:g("^",4),bitwiseAND:g("&",5),equality:g("==/!=/===/!==",6),relational:g("</>/<=/>=",7),bitShift:g("<</>>/>>>",8),plusMin:new y("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:g("%",10),star:g("*",10),slash:g("/",10),starstar:new y("**",{beforeExpr:!0}),coalesce:g("??",1),_break:w("break"),_case:w("case",b),_catch:w("catch"),_continue:w("continue"),_debugger:w("debugger"),_default:w("default",b),_do:w("do",{isLoop:!0,beforeExpr:!0}),_else:w("else",b),_finally:w("finally"),_for:w("for",{isLoop:!0}),_function:w("function",x),_if:w("if"),_return:w("return",b),_switch:w("switch"),_throw:w("throw",b),_try:w("try"),_var:w("var"),_const:w("const"),_while:w("while",{isLoop:!0}),_with:w("with"),_new:w("new",{beforeExpr:!0,startsExpr:!0}),_this:w("this",x),_super:w("super",x),_class:w("class",x),_extends:w("extends",b),_export:w("export"),_import:w("import",x),_null:w("null",x),_true:w("true",x),_false:w("false",x),_in:w("in",{beforeExpr:!0,binop:7}),_instanceof:w("instanceof",{beforeExpr:!0,binop:7}),_typeof:w("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:w("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:w("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},O=/\r\n?|\n|\u2028|\u2029/,E=new RegExp(O.source,"g");function k(e,t){return 10===e||13===e||!t&&(8232===e||8233===e)}var C=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,j=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,T=Object.prototype,A=T.hasOwnProperty,P=T.toString;function M(e,t){return A.call(e,t)}var I=Array.isArray||function(e){return"[object Array]"===P.call(e)};function L(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}var R=function(e,t){this.line=e,this.column=t};R.prototype.offset=function(e){return new R(this.line,this.column+e)};var D=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)};function N(e,t){for(var n=1,r=0;;){E.lastIndex=r;var i=E.exec(e);if(!(i&&i.index<t))return new R(n,t-r);++n,r=i.index+i[0].length}}var z={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function F(e){var t={};for(var n in z)t[n]=e&&M(e,n)?e[n]:z[n];if(t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),I(t.onToken)){var r=t.onToken;t.onToken=function(e){return r.push(e)}}return I(t.onComment)&&(t.onComment=B(t,t.onComment)),t}function B(e,t){return function(n,r,i,o,a,s){var u={type:n?"Block":"Line",value:r,start:i,end:o};e.locations&&(u.loc=new D(this,a,s)),e.ranges&&(u.range=[i,o]),t.push(u)}}var U=1,V=2,H=U|V,q=4,G=8,W=16,Z=32,Y=64,X=128;function K(e,t){return V|(e?q:0)|(t?G:0)}var J=0,Q=1,$=2,ee=3,te=4,ne=5,re=function(e,t,n){this.options=e=F(e),this.sourceFile=e.sourceFile,this.keywords=L(a[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var r="";if(!0!==e.allowReserved){for(var o=e.ecmaVersion;;o--)if(r=i[o])break;"module"===e.sourceType&&(r+=" await")}this.reservedWords=L(r);var s=(r?r+" ":"")+i.strict;this.reservedWordsStrict=L(s),this.reservedWordsStrictBind=L(s+" "+i.strictBind),this.input=String(t),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(O).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=S.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(U),this.regexpState=null},ie={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};re.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},ie.inFunction.get=function(){return(this.currentVarScope().flags&V)>0},ie.inGenerator.get=function(){return(this.currentVarScope().flags&G)>0},ie.inAsync.get=function(){return(this.currentVarScope().flags&q)>0},ie.allowSuper.get=function(){return(this.currentThisScope().flags&Y)>0},ie.allowDirectSuper.get=function(){return(this.currentThisScope().flags&X)>0},ie.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},re.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&V)>0},re.extend=function(){var e=[],t=arguments.length;while(t--)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},re.parse=function(e,t){return new this(t,e).parse()},re.parseExpressionAt=function(e,t,n){var r=new this(n,e,t);return r.nextToken(),r.parseExpression()},re.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(re.prototype,ie);var oe=re.prototype,ae=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;function se(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}oe.strictDirective=function(e){for(;;){j.lastIndex=e,e+=j.exec(this.input)[0].length;var t=ae.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2])){j.lastIndex=e+t[0].length;var n=j.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return";"===i||"}"===i||O.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||"!"===i&&"="===this.input.charAt(r+1))}e+=t[0].length,j.lastIndex=e,e+=j.exec(this.input)[0].length,";"===this.input[e]&&e++}},oe.eat=function(e){return this.type===e&&(this.next(),!0)},oe.isContextual=function(e){return this.type===S.name&&this.value===e&&!this.containsEsc},oe.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},oe.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},oe.canInsertSemicolon=function(){return this.type===S.eof||this.type===S.braceR||O.test(this.input.slice(this.lastTokEnd,this.start))},oe.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},oe.semicolon=function(){this.eat(S.semi)||this.insertSemicolon()||this.unexpected()},oe.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},oe.expect=function(e){this.eat(e)||this.unexpected()},oe.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},oe.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,"Parenthesized pattern")}},oe.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},oe.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},oe.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var ue=re.prototype;ue.parseTopLevel=function(e){var t={};e.body||(e.body=[]);while(this.type!==S.eof){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var o=i[r];this.raiseRecoverable(this.undefinedExports[o].start,"Export '"+o+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var ce={kind:"loop"},le={kind:"switch"};ue.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;j.lastIndex=this.pos;var t=j.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(91===r)return!0;if(e)return!1;if(123===r)return!0;if(m(r,!0)){var i=n+1;while(v(this.input.charCodeAt(i),!0))++i;var o=this.input.slice(n,i);if(!s.test(o))return!0}return!1},ue.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;j.lastIndex=this.pos;var e=j.exec(this.input),t=this.pos+e[0].length;return!O.test(this.input.slice(this.pos,t))&&"function"===this.input.slice(t,t+8)&&(t+8===this.input.length||!v(this.input.charAt(t+8)))},ue.parseStatement=function(e,t,n){var r,i=this.type,o=this.startNode();switch(this.isLet(e)&&(i=S._var,r="let"),i){case S._break:case S._continue:return this.parseBreakContinueStatement(o,i.keyword);case S._debugger:return this.parseDebuggerStatement(o);case S._do:return this.parseDoStatement(o);case S._for:return this.parseForStatement(o);case S._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1,!e);case S._class:return e&&this.unexpected(),this.parseClass(o,!0);case S._if:return this.parseIfStatement(o);case S._return:return this.parseReturnStatement(o);case S._switch:return this.parseSwitchStatement(o);case S._throw:return this.parseThrowStatement(o);case S._try:return this.parseTryStatement(o);case S._const:case S._var:return r=r||this.value,e&&"var"!==r&&this.unexpected(),this.parseVarStatement(o,r);case S._while:return this.parseWhileStatement(o);case S._with:return this.parseWithStatement(o);case S.braceL:return this.parseBlock(!0,o);case S.semi:return this.parseEmptyStatement(o);case S._export:case S._import:if(this.options.ecmaVersion>10&&i===S._import){j.lastIndex=this.pos;var a=j.exec(this.input),s=this.pos+a[0].length,u=this.input.charCodeAt(s);if(40===u||46===u)return this.parseExpressionStatement(o,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===S._import?this.parseImport(o):this.parseExport(o,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(o,!0,!e);var c=this.value,l=this.parseExpression();return i===S.name&&"Identifier"===l.type&&this.eat(S.colon)?this.parseLabeledStatement(o,c,l,e):this.parseExpressionStatement(o,l)}},ue.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(S.semi)||this.insertSemicolon()?e.label=null:this.type!==S.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(e.label&&n)break}}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},ue.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},ue.parseDoStatement=function(e){return this.next(),this.labels.push(ce),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(S._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(S.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},ue.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(ce),this.enterScope(0),this.expect(S.parenL),this.type===S.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===S._var||this.type===S._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===S._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===r.declarations.length?(this.options.ecmaVersion>=9&&(this.type===S._in?t>-1&&this.unexpected(t):e["await"]=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var o=new se,a=this.parseExpression(!0,o);return this.type===S._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===S._in?t>-1&&this.unexpected(t):e["await"]=t>-1),this.toAssignable(a,!1,o),this.checkLVal(a),this.parseForIn(e,a)):(this.checkExpressionErrors(o,!0),t>-1&&this.unexpected(t),this.parseFor(e,a))},ue.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,pe|(n?0:he),!1,t)},ue.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(S._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},ue.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(S.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},ue.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(S.braceL),this.labels.push(le),this.enterScope(0);for(var n=!1;this.type!==S.braceR;)if(this.type===S._case||this.type===S._default){var r=this.type===S._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(S.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},ue.parseThrowStatement=function(e){return this.next(),O.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var fe=[];ue.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===S._catch){var t=this.startNode();if(this.next(),this.eat(S.parenL)){t.param=this.parseBindingAtom();var n="Identifier"===t.param.type;this.enterScope(n?Z:0),this.checkLVal(t.param,n?te:$),this.expect(S.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(S._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},ue.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},ue.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(ce),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},ue.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},ue.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},ue.parseLabeledStatement=function(e,t,n,r){for(var i=0,o=this.labels;i<o.length;i+=1){var a=o[i];a.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var s=this.type.isLoop?"loop":this.type===S._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var c=this.labels[u];if(c.statementStart!==e.start)break;c.statementStart=this.start,c.kind=s}return this.labels.push({name:t,kind:s,statementStart:this.start}),e.body=this.parseStatement(r?-1===r.indexOf("label")?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},ue.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},ue.parseBlock=function(e,t,n){void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(S.braceL),e&&this.enterScope(0);while(this.type!==S.braceR){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},ue.parseFor=function(e,t){return e.init=t,this.expect(S.semi),e.test=this.type===S.semi?null:this.parseExpression(),this.expect(S.semi),e.update=this.type===S.parenR?null:this.parseExpression(),this.expect(S.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},ue.parseForIn=function(e,t){var n=this.type===S._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)?this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===t.type&&this.raise(t.start,"Invalid left-hand side in for-loop"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(S.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},ue.parseVar=function(e,t,n){for(e.declarations=[],e.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(S.eq)?r.init=this.parseMaybeAssign(t):"const"!==n||this.type===S._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===r.id.type||t&&(this.type===S._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(S.comma))break}return e},ue.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLVal(e.id,"var"===t?Q:$,!1)};var pe=1,he=2,de=4;ue.parseFunction=function(e,t,n,r){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===S.star&&t&he&&this.unexpected(),e.generator=this.eat(S.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&pe&&(e.id=t&de&&this.type!==S.name?null:this.parseIdent(),!e.id||t&he||this.checkLVal(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?Q:$:ee));var i=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(K(e.async,e.generator)),t&pe||(e.id=this.type===S.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1),this.yieldPos=i,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&pe?"FunctionDeclaration":"FunctionExpression")},ue.parseFunctionParams=function(e){this.expect(S.parenL),e.params=this.parseBindingList(S.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},ue.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.startNode(),i=!1;r.body=[],this.expect(S.braceL);while(this.type!==S.braceR){var o=this.parseClassElement(null!==e.superClass);o&&(r.body.push(o),"MethodDefinition"===o.type&&"constructor"===o.kind&&(i&&this.raise(o.start,"Duplicate constructor in the same class"),i=!0))}return this.strict=n,this.next(),e.body=this.finishNode(r,"ClassBody"),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},ue.parseClassElement=function(e){var t=this;if(this.eat(S.semi))return null;var n=this.startNode(),r=function(e,r){void 0===r&&(r=!1);var i=t.start,o=t.startLoc;return!!t.eatContextual(e)&&(!(t.type===S.parenL||r&&t.canInsertSemicolon())||(n.key&&t.unexpected(),n.computed=!1,n.key=t.startNodeAt(i,o),n.key.name=e,t.finishNode(n.key,"Identifier"),!1))};n.kind="method",n["static"]=r("static");var i=this.eat(S.star),o=!1;i||(this.options.ecmaVersion>=8&&r("async",!0)?(o=!0,i=this.options.ecmaVersion>=9&&this.eat(S.star)):r("get")?n.kind="get":r("set")&&(n.kind="set")),n.key||this.parsePropertyName(n);var a=n.key,s=!1;return n.computed||n["static"]||!("Identifier"===a.type&&"constructor"===a.name||"Literal"===a.type&&"constructor"===a.value)?n["static"]&&"Identifier"===a.type&&"prototype"===a.name&&this.raise(a.start,"Classes may not have a static property named prototype"):("method"!==n.kind&&this.raise(a.start,"Constructor can't have get/set modifier"),i&&this.raise(a.start,"Constructor can't be a generator"),o&&this.raise(a.start,"Constructor can't be an async method"),n.kind="constructor",s=e),this.parseClassMethod(n,i,o,s),"get"===n.kind&&0!==n.value.params.length&&this.raiseRecoverable(n.value.start,"getter should have no params"),"set"===n.kind&&1!==n.value.params.length&&this.raiseRecoverable(n.value.start,"setter should have exactly one param"),"set"===n.kind&&"RestElement"===n.value.params[0].type&&this.raiseRecoverable(n.value.params[0].start,"Setter cannot use rest params"),n},ue.parseClassMethod=function(e,t,n,r){return e.value=this.parseMethod(t,n,r),this.finishNode(e,"MethodDefinition")},ue.parseClassId=function(e,t){this.type===S.name?(e.id=this.parseIdent(),t&&this.checkLVal(e.id,$,!1)):(!0===t&&this.unexpected(),e.id=null)},ue.parseClassSuper=function(e){e.superClass=this.eat(S._extends)?this.parseExprSubscripts():null},ue.parseExport=function(e,t){if(this.next(),this.eat(S.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseIdent(!0),this.checkExport(t,e.exported.name,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==S.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(S._default)){var n;if(this.checkExport(t,"default",this.lastTokStart),this.type===S._function||(n=this.isAsyncFunction())){var r=this.startNode();this.next(),n&&this.next(),e.declaration=this.parseFunction(r,pe|de,!1,n)}else if(this.type===S._class){var i=this.startNode();e.declaration=this.parseClass(i,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==S.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var o=0,a=e.specifiers;o<a.length;o+=1){var s=a[o];this.checkUnreserved(s.local),this.checkLocalExport(s.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},ue.checkExport=function(e,t,n){e&&(M(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},ue.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===n)for(var r=0,i=t.properties;r<i.length;r+=1){var o=i[r];this.checkPatternExport(e,o)}else if("ArrayPattern"===n)for(var a=0,s=t.elements;a<s.length;a+=1){var u=s[a];u&&this.checkPatternExport(e,u)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===n&&this.checkPatternExport(e,t.expression)},ue.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}},ue.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},ue.parseExportSpecifiers=function(e){var t=[],n=!0;this.expect(S.braceL);while(!this.eat(S.braceR)){if(n)n=!1;else if(this.expect(S.comma),this.afterTrailingComma(S.braceR))break;var r=this.startNode();r.local=this.parseIdent(!0),r.exported=this.eatContextual("as")?this.parseIdent(!0):r.local,this.checkExport(e,r.exported.name,r.exported.start),t.push(this.finishNode(r,"ExportSpecifier"))}return t},ue.parseImport=function(e){return this.next(),this.type===S.string?(e.specifiers=fe,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===S.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},ue.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===S.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,$),e.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(S.comma))return e}if(this.type===S.star){var r=this.startNode();return this.next(),this.expectContextual("as"),r.local=this.parseIdent(),this.checkLVal(r.local,$),e.push(this.finishNode(r,"ImportNamespaceSpecifier")),e}this.expect(S.braceL);while(!this.eat(S.braceR)){if(t)t=!1;else if(this.expect(S.comma),this.afterTrailingComma(S.braceR))break;var i=this.startNode();i.imported=this.parseIdent(!0),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLVal(i.local,$),e.push(this.finishNode(i,"ImportSpecifier"))}return e},ue.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},ue.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"===typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var me=re.prototype;me.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var o=i[r];this.toAssignable(o,t),"RestElement"!==o.type||"ArrayPattern"!==o.argument.type&&"ObjectPattern"!==o.argument.type||this.raise(o.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},me.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var o=e[n-1];6===this.options.ecmaVersion&&t&&o&&"RestElement"===o.type&&"Identifier"!==o.argument.type&&this.unexpected(o.argument.start)}return e},me.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},me.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==S.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},me.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case S.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(S.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case S.braceL:return this.parseObj(!0)}return this.parseIdent()},me.parseBindingList=function(e,t,n){var r=[],i=!0;while(!this.eat(e))if(i?i=!1:this.expect(S.comma),t&&this.type===S.comma)r.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===S.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),r.push(o),this.type===S.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),r.push(a)}return r},me.parseBindingListItem=function(e){return e},me.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(S.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},me.checkLVal=function(e,t,n){switch(void 0===t&&(t=J),e.type){case"Identifier":t===$&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),n&&(M(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==J&&t!==ne&&this.declareName(e.name,t,e.start);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":t&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var o=i[r];this.checkLVal(o,t,n)}break;case"Property":this.checkLVal(e.value,t,n);break;case"ArrayPattern":for(var a=0,s=e.elements;a<s.length;a+=1){var u=s[a];u&&this.checkLVal(u,t,n)}break;case"AssignmentPattern":this.checkLVal(e.left,t,n);break;case"RestElement":this.checkLVal(e.argument,t,n);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,n);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}};var ve=re.prototype;ve.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type)&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r,i=e.key;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var o=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===r&&"init"===o&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);else{r="$"+r;var a,s=t[r];if(s)a="init"===o?this.strict&&s.init||s.get||s.set:s.init||s[o],a&&this.raiseRecoverable(i.start,"Redefinition of property");else s=t[r]={init:!1,get:!1,set:!1};s[o]=!0}}},ve.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===S.comma){var o=this.startNodeAt(n,r);o.expressions=[i];while(this.eat(S.comma))o.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(o,"SequenceExpression")}return i},ve.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,o=-1;t?(i=t.parenthesizedAssign,o=t.trailingComma,t.parenthesizedAssign=t.trailingComma=-1):(t=new se,r=!0);var a=this.start,s=this.startLoc;this.type!==S.parenL&&this.type!==S.name||(this.potentialArrowAt=this.start);var u=this.parseMaybeConditional(e,t);if(n&&(u=n.call(this,u,a,s)),this.type.isAssign){var c=this.startNodeAt(a,s);return c.operator=this.value,c.left=this.type===S.eq?this.toAssignable(u,!1,t):u,r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=c.left.start&&(t.shorthandAssign=-1),this.checkLVal(u),this.next(),c.right=this.parseMaybeAssign(e),this.finishNode(c,"AssignmentExpression")}return r&&this.checkExpressionErrors(t,!0),i>-1&&(t.parenthesizedAssign=i),o>-1&&(t.trailingComma=o),u},ve.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(S.question)){var o=this.startNodeAt(n,r);return o.test=i,o.consequent=this.parseMaybeAssign(),this.expect(S.colon),o.alternate=this.parseMaybeAssign(e),this.finishNode(o,"ConditionalExpression")}return i},ve.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)||i.start===n&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,n,r,-1,e)},ve.parseExprOp=function(e,t,n,r,i){var o=this.type.binop;if(null!=o&&(!i||this.type!==S._in)&&o>r){var a=this.type===S.logicalOR||this.type===S.logicalAND,s=this.type===S.coalesce;s&&(o=S.logicalAND.binop);var u=this.value;this.next();var c=this.start,l=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1),c,l,o,i),p=this.buildBinary(t,n,e,f,u,a||s);return(a&&this.type===S.coalesce||s&&(this.type===S.logicalOR||this.type===S.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(p,t,n,r,i)}return e},ve.buildBinary=function(e,t,n,r,i,o){var a=this.startNodeAt(e,t);return a.left=n,a.operator=i,a.right=r,this.finishNode(a,o?"LogicalExpression":"BinaryExpression")},ve.parseMaybeUnary=function(e,t){var n,r=this.start,i=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))n=this.parseAwait(),t=!0;else if(this.type.prefix){var o=this.startNode(),a=this.type===S.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),a?this.checkLVal(o.argument):this.strict&&"delete"===o.operator&&"Identifier"===o.argument.type?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):t=!0,n=this.finishNode(o,a?"UpdateExpression":"UnaryExpression")}else{if(n=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return n;while(this.type.postfix&&!this.canInsertSemicolon()){var s=this.startNodeAt(r,i);s.operator=this.value,s.prefix=!1,s.argument=n,this.checkLVal(n),this.next(),n=this.finishNode(s,"UpdateExpression")}}return!t&&this.eat(S.starstar)?this.buildBinary(r,i,n,this.parseMaybeUnary(null,!1),"**",!1):n},ve.parseExprSubscripts=function(e){var t=this.start,n=this.startLoc,r=this.parseExprAtom(e);if("ArrowFunctionExpression"===r.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return r;var i=this.parseSubscripts(r,t,n);return e&&"MemberExpression"===i.type&&(e.parenthesizedAssign>=i.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=i.start&&(e.parenthesizedBind=-1)),i},ve.parseSubscripts=function(e,t,n,r){var i=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;while(1){var a=this.parseSubscript(e,t,n,r,i,o);if(a.optional&&(o=!0),a===e||"ArrowFunctionExpression"===a.type){if(o){var s=this.startNodeAt(t,n);s.expression=a,a=this.finishNode(s,"ChainExpression")}return a}e=a}},ve.parseSubscript=function(e,t,n,r,i,o){var a=this.options.ecmaVersion>=11,s=a&&this.eat(S.questionDot);r&&s&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(S.bracketL);if(u||s&&this.type!==S.parenL&&this.type!==S.backQuote||this.eat(S.dot)){var c=this.startNodeAt(t,n);c.object=e,c.property=u?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),c.computed=!!u,u&&this.expect(S.bracketR),a&&(c.optional=s),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(S.parenL)){var l=new se,f=this.yieldPos,p=this.awaitPos,h=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var d=this.parseExprList(S.parenR,this.options.ecmaVersion>=8,!1,l);if(i&&!s&&!this.canInsertSemicolon()&&this.eat(S.arrow))return this.checkPatternErrors(l,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=f,this.awaitPos=p,this.awaitIdentPos=h,this.parseArrowExpression(this.startNodeAt(t,n),d,!0);this.checkExpressionErrors(l,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=h||this.awaitIdentPos;var m=this.startNodeAt(t,n);m.callee=e,m.arguments=d,a&&(m.optional=s),e=this.finishNode(m,"CallExpression")}else if(this.type===S.backQuote){(s||o)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var v=this.startNodeAt(t,n);v.tag=e,v.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(v,"TaggedTemplateExpression")}return e},ve.parseExprAtom=function(e){this.type===S.slash&&this.readRegexp();var t,n=this.potentialArrowAt===this.start;switch(this.type){case S._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),t=this.startNode(),this.next(),this.type!==S.parenL||this.allowDirectSuper||this.raise(t.start,"super() call outside constructor of a subclass"),this.type!==S.dot&&this.type!==S.bracketL&&this.type!==S.parenL&&this.unexpected(),this.finishNode(t,"Super");case S._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case S.name:var r=this.start,i=this.startLoc,o=this.containsEsc,a=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&"async"===a.name&&!this.canInsertSemicolon()&&this.eat(S._function))return this.parseFunction(this.startNodeAt(r,i),0,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(S.arrow))return this.parseArrowExpression(this.startNodeAt(r,i),[a],!1);if(this.options.ecmaVersion>=8&&"async"===a.name&&this.type===S.name&&!o)return a=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(S.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,i),[a],!0)}return a;case S.regexp:var s=this.value;return t=this.parseLiteral(s.value),t.regex={pattern:s.pattern,flags:s.flags},t;case S.num:case S.string:return this.parseLiteral(this.value);case S._null:case S._true:case S._false:return t=this.startNode(),t.value=this.type===S._null?null:this.type===S._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case S.parenL:var u=this.start,c=this.parseParenAndDistinguishExpression(n);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(c)&&(e.parenthesizedAssign=u),e.parenthesizedBind<0&&(e.parenthesizedBind=u)),c;case S.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(S.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case S.braceL:return this.parseObj(!1,e);case S._function:return t=this.startNode(),this.next(),this.parseFunction(t,0);case S._class:return this.parseClass(this.startNode(),!1);case S._new:return this.parseNew();case S.backQuote:return this.parseTemplate();case S._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},ve.parseExprImport=function(){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var t=this.parseIdent(!0);switch(this.type){case S.parenL:return this.parseDynamicImport(e);case S.dot:return e.meta=t,this.parseImportMeta(e);default:this.unexpected()}},ve.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(S.parenR)){var t=this.start;this.eat(S.comma)&&this.eat(S.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},ve.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),"meta"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),"module"!==this.options.sourceType&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},ve.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},ve.parseParenExpression=function(){this.expect(S.parenL);var e=this.parseExpression();return this.expect(S.parenR),e},ve.parseParenAndDistinguishExpression=function(e){var t,n=this.start,r=this.startLoc,i=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o,a=this.start,s=this.startLoc,u=[],c=!0,l=!1,f=new se,p=this.yieldPos,h=this.awaitPos;this.yieldPos=0,this.awaitPos=0;while(this.type!==S.parenR){if(c?c=!1:this.expect(S.comma),i&&this.afterTrailingComma(S.parenR,!0)){l=!0;break}if(this.type===S.ellipsis){o=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===S.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}u.push(this.parseMaybeAssign(!1,f,this.parseParenItem))}var d=this.start,m=this.startLoc;if(this.expect(S.parenR),e&&!this.canInsertSemicolon()&&this.eat(S.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=h,this.parseParenArrowList(n,r,u);u.length&&!l||this.unexpected(this.lastTokStart),o&&this.unexpected(o),this.checkExpressionErrors(f,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?(t=this.startNodeAt(a,s),t.expressions=u,this.finishNodeAt(t,"SequenceExpression",d,m)):t=u[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var v=this.startNodeAt(n,r);return v.expression=t,this.finishNode(v,"ParenthesizedExpression")}return t},ve.parseParenItem=function(e){return e},ve.parseParenArrowList=function(e,t,n){return this.parseArrowExpression(this.startNodeAt(e,t),n)};var ye=[];ve.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(S.dot)){e.meta=t;var n=this.containsEsc;return e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.inNonArrowFunction()||this.raiseRecoverable(e.start,"'new.target' can only be used in functions"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc,o=this.type===S._import;return e.callee=this.parseSubscripts(this.parseExprAtom(),r,i,!0),o&&"ImportExpression"===e.callee.type&&this.raise(r,"Cannot use new with import()"),this.eat(S.parenL)?e.arguments=this.parseExprList(S.parenR,this.options.ecmaVersion>=8,!1):e.arguments=ye,this.finishNode(e,"NewExpression")},ve.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===S.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===S.backQuote,this.finishNode(n,"TemplateElement")},ve.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});n.quasis=[r];while(!r.tail)this.type===S.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(S.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(S.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},ve.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===S.name||this.type===S.num||this.type===S.string||this.type===S.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===S.star)&&!O.test(this.input.slice(this.lastTokEnd,this.start))},ve.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};n.properties=[],this.next();while(!this.eat(S.braceR)){if(r)r=!1;else if(this.expect(S.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(S.braceR))break;var o=this.parseProperty(e,t);e||this.checkPropClash(o,i,t),n.properties.push(o)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},ve.parseProperty=function(e,t){var n,r,i,o,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(S.ellipsis))return e?(a.argument=this.parseIdent(!1),this.type===S.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(this.type===S.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),a.argument=this.parseMaybeAssign(!1,t),this.type===S.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(e||t)&&(i=this.start,o=this.startLoc),e||(n=this.eat(S.star)));var s=this.containsEsc;return this.parsePropertyName(a),!e&&!s&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(a)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(S.star),this.parsePropertyName(a,t)):r=!1,this.parsePropertyValue(a,e,n,r,i,o,t,s),this.finishNode(a,"Property")},ve.parsePropertyValue=function(e,t,n,r,i,o,a,s){if((n||r)&&this.type===S.colon&&this.unexpected(),this.eat(S.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===S.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r);else if(t||s||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===S.comma||this.type===S.braceR||this.type===S.eq)this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,o,e.key):this.type===S.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,o,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected();else{(n||r)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var u="get"===e.kind?0:1;if(e.value.params.length!==u){var c=e.value.start;"get"===e.kind?this.raiseRecoverable(c,"getter should have no params"):this.raiseRecoverable(c,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}},ve.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(S.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(S.bracketR),e.key;e.computed=!1}return e.key=this.type===S.num||this.type===S.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},ve.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},ve.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(K(t,r.generator)|Y|(n?X:0)),this.expect(S.parenL),r.params=this.parseBindingList(S.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0),this.yieldPos=i,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(r,"FunctionExpression")},ve.parseArrowExpression=function(e,t,n){var r=this.yieldPos,i=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(K(n,!1)|W),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1),this.yieldPos=r,this.awaitPos=i,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")},ve.parseFunctionBody=function(e,t,n){var r=t&&this.type!==S.braceL,i=this.strict,o=!1;if(r)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);i&&!a||(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var s=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!i&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLVal(e.id,ne),e.body=this.parseBlock(!1,void 0,o&&!i),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=s}this.exitScope()},ve.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if("Identifier"!==r.type)return!1}return!0},ve.checkParams=function(e,t){for(var n={},r=0,i=e.params;r<i.length;r+=1){var o=i[r];this.checkLVal(o,Q,t?null:n)}},ve.parseExprList=function(e,t,n,r){var i=[],o=!0;while(!this.eat(e)){if(o)o=!1;else if(this.expect(S.comma),t&&this.afterTrailingComma(e))break;var a=void 0;n&&this.type===S.comma?a=null:this.type===S.ellipsis?(a=this.parseSpread(r),r&&this.type===S.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):a=this.parseMaybeAssign(!1,r),i.push(a)}return i},ve.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&"yield"===r&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&-1!==this.input.slice(t,n).indexOf("\\"))){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}},ve.parseIdent=function(e,t){var n=this.startNode();return this.type===S.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,"class"!==n.name&&"function"!==n.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!e),this.finishNode(n,"Identifier"),e||(this.checkUnreserved(n),"await"!==n.name||this.awaitIdentPos||(this.awaitIdentPos=n.start)),n},ve.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===S.semi||this.canInsertSemicolon()||this.type!==S.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(S.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},ve.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!1),this.finishNode(e,"AwaitExpression")};var ge=re.prototype;ge.raise=function(e,t){var n=N(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r},ge.raiseRecoverable=ge.raise,ge.curPosition=function(){if(this.options.locations)return new R(this.curLine,this.pos-this.lineStart)};var be=re.prototype,xe=function(e){this.flags=e,this["var"]=[],this.lexical=[],this.functions=[]};be.enterScope=function(e){this.scopeStack.push(new xe(e))},be.exitScope=function(){this.scopeStack.pop()},be.treatFunctionsAsVarInScope=function(e){return e.flags&V||!this.inModule&&e.flags&U},be.declareName=function(e,t,n){var r=!1;if(t===$){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i["var"].indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&U&&delete this.undefinedExports[e]}else if(t===te){var o=this.currentScope();o.lexical.push(e)}else if(t===ee){var a=this.currentScope();r=this.treatFunctionsAsVar?a.lexical.indexOf(e)>-1:a.lexical.indexOf(e)>-1||a["var"].indexOf(e)>-1,a.functions.push(e)}else for(var s=this.scopeStack.length-1;s>=0;--s){var u=this.scopeStack[s];if(u.lexical.indexOf(e)>-1&&!(u.flags&Z&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){r=!0;break}if(u["var"].push(e),this.inModule&&u.flags&U&&delete this.undefinedExports[e],u.flags&H)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},be.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0]["var"].indexOf(e.name)&&(this.undefinedExports[e.name]=e)},be.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},be.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&H)return t}},be.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&H&&!(t.flags&W))return t}};var _e=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new D(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},we=re.prototype;function Se(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}we.startNode=function(){return new _e(this,this.start,this.startLoc)},we.startNodeAt=function(e,t){return new _e(this,e,t)},we.finishNode=function(e,t){return Se.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},we.finishNodeAt=function(e,t,n,r){return Se.call(this,e,t,n,r)};var Oe=function(e,t,n,r,i){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=r,this.generator=!!i},Ee={b_stat:new Oe("{",!1),b_expr:new Oe("{",!0),b_tmpl:new Oe("${",!1),p_stat:new Oe("(",!1),p_expr:new Oe("(",!0),q_tmpl:new Oe("`",!0,!0,(function(e){return e.tryReadTemplateToken()})),f_stat:new Oe("function",!1),f_expr:new Oe("function",!0),f_expr_gen:new Oe("function",!0,!1,null,!0),f_gen:new Oe("function",!1,!1,null,!0)},ke=re.prototype;ke.initialContext=function(){return[Ee.b_stat]},ke.braceIsBlock=function(e){var t=this.curContext();return t===Ee.f_expr||t===Ee.f_stat||(e!==S.colon||t!==Ee.b_stat&&t!==Ee.b_expr?e===S._return||e===S.name&&this.exprAllowed?O.test(this.input.slice(this.lastTokEnd,this.start)):e===S._else||e===S.semi||e===S.eof||e===S.parenR||e===S.arrow||(e===S.braceL?t===Ee.b_stat:e!==S._var&&e!==S._const&&e!==S.name&&!this.exprAllowed):!t.isExpr)},ke.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},ke.updateContext=function(e){var t,n=this.type;n.keyword&&e===S.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},S.parenR.updateContext=S.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===Ee.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},S.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?Ee.b_stat:Ee.b_expr),this.exprAllowed=!0},S.dollarBraceL.updateContext=function(){this.context.push(Ee.b_tmpl),this.exprAllowed=!0},S.parenL.updateContext=function(e){var t=e===S._if||e===S._for||e===S._with||e===S._while;this.context.push(t?Ee.p_stat:Ee.p_expr),this.exprAllowed=!0},S.incDec.updateContext=function(){},S._function.updateContext=S._class.updateContext=function(e){!e.beforeExpr||e===S.semi||e===S._else||e===S._return&&O.test(this.input.slice(this.lastTokEnd,this.start))||(e===S.colon||e===S.braceL)&&this.curContext()===Ee.b_stat?this.context.push(Ee.f_stat):this.context.push(Ee.f_expr),this.exprAllowed=!1},S.backQuote.updateContext=function(){this.curContext()===Ee.q_tmpl?this.context.pop():this.context.push(Ee.q_tmpl),this.exprAllowed=!1},S.star.updateContext=function(e){if(e===S._function){var t=this.context.length-1;this.context[t]===Ee.f_expr?this.context[t]=Ee.f_expr_gen:this.context[t]=Ee.f_gen}this.exprAllowed=!0},S.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==S.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Ce="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",je=Ce+" Extended_Pictographic",Te=je,Ae={9:Ce,10:je,11:Te},Pe="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Me="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Ie=Me+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Le=Ie+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Re={9:Me,10:Ie,11:Le},De={};function Ne(e){var t=De[e]={binary:L(Ae[e]+" "+Pe),nonBinary:{General_Category:L(Pe),Script:L(Re[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}Ne(9),Ne(10),Ne(11);var ze=re.prototype,Fe=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":""),this.unicodeProperties=De[e.options.ecmaVersion>=11?11:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function Be(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function Ue(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function Ve(e){return m(e,!0)||36===e||95===e}function He(e){return v(e,!0)||36===e||95===e||8204===e||8205===e}function qe(e){return e>=65&&e<=90||e>=97&&e<=122}function Ge(e){return e>=0&&e<=1114111}function We(e){return 100===e||68===e||115===e||83===e||119===e||87===e}function Ze(e){return qe(e)||95===e}function Ye(e){return Ze(e)||Xe(e)}function Xe(e){return e>=48&&e<=57}function Ke(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Je(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function Qe(e){return e>=48&&e<=55}Fe.prototype.reset=function(e,t,n){var r=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchN=r&&this.parser.options.ecmaVersion>=9},Fe.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},Fe.prototype.at=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return-1;var i=n.charCodeAt(e);if(!t&&!this.switchU||i<=55295||i>=57344||e+1>=r)return i;var o=n.charCodeAt(e+1);return o>=56320&&o<=57343?(i<<10)+o-56613888:i},Fe.prototype.nextIndex=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return r;var i,o=n.charCodeAt(e);return!t&&!this.switchU||o<=55295||o>=57344||e+1>=r||(i=n.charCodeAt(e+1))<56320||i>57343?e+1:e+2},Fe.prototype.current=function(e){return void 0===e&&(e=!1),this.at(this.pos,e)},Fe.prototype.lookahead=function(e){return void 0===e&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},Fe.prototype.advance=function(e){void 0===e&&(e=!1),this.pos=this.nextIndex(this.pos,e)},Fe.prototype.eat=function(e,t){return void 0===t&&(t=!1),this.current(t)===e&&(this.advance(t),!0)},ze.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=0;r<n.length;r++){var i=n.charAt(r);-1===t.indexOf(i)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(i,r+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},ze.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},ze.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];-1===e.groupNames.indexOf(r)&&e.raise("Invalid named capture referenced")}},ze.regexp_disjunction=function(e){this.regexp_alternative(e);while(e.eat(124))this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},ze.regexp_alternative=function(e){while(e.pos<e.source.length&&this.regexp_eatTerm(e));},ze.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},ze.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},ze.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},ze.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},ze.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return-1!==i&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},ze.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},ze.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},ze.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},ze.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},ze.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},ze.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},ze.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!Ue(t)&&(e.lastIntValue=t,e.advance(),!0)},ze.regexp_eatPatternCharacters=function(e){var t=e.pos,n=0;while(-1!==(n=e.current())&&!Ue(n))e.advance();return e.pos!==t},ze.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t)&&(e.advance(),!0)},ze.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},ze.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},ze.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){e.lastStringValue+=Be(e.lastIntValue);while(this.regexp_eatRegExpIdentifierPart(e))e.lastStringValue+=Be(e.lastIntValue);return!0}return!1},ze.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),Ve(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},ze.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),He(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},ze.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},ze.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},ze.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},ze.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},ze.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},ze.regexp_eatZero=function(e){return 48===e.current()&&!Xe(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},ze.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},ze.regexp_eatControlLetter=function(e){var t=e.current();return!!qe(t)&&(e.lastIntValue=t%32,e.advance(),!0)},ze.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){void 0===t&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var o=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var a=e.lastIntValue;if(a>=56320&&a<=57343)return e.lastIntValue=1024*(i-55296)+(a-56320)+65536,!0}e.pos=o,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&Ge(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1},ze.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t)&&(e.lastIntValue=t,e.advance(),!0)},ze.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},ze.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(We(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},ze.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i),!0}return!1},ze.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){M(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},ze.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")},ze.regexp_eatUnicodePropertyName=function(e){var t=0;e.lastStringValue="";while(Ze(t=e.current()))e.lastStringValue+=Be(t),e.advance();return""!==e.lastStringValue},ze.regexp_eatUnicodePropertyValue=function(e){var t=0;e.lastStringValue="";while(Ye(t=e.current()))e.lastStringValue+=Be(t),e.advance();return""!==e.lastStringValue},ze.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},ze.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},ze.regexp_classRanges=function(e){while(this.regexp_eatClassAtom(e)){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},ze.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||Qe(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return 93!==r&&(e.lastIntValue=r,e.advance(),!0)},ze.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},ze.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!Xe(t)&&95!==t)&&(e.lastIntValue=t%32,e.advance(),!0)},ze.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},ze.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;e.lastIntValue=0;while(Xe(n=e.current()))e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},ze.regexp_eatHexDigits=function(e){var t=e.pos,n=0;e.lastIntValue=0;while(Ke(n=e.current()))e.lastIntValue=16*e.lastIntValue+Je(n),e.advance();return e.pos!==t},ze.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*n+e.lastIntValue:e.lastIntValue=8*t+n}else e.lastIntValue=t;return!0}return!1},ze.regexp_eatOctalDigit=function(e){var t=e.current();return Qe(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},ze.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!Ke(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Je(i),e.advance()}return!0};var $e=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new D(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},et=re.prototype;function tt(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function nt(e){return"function"!==typeof BigInt?null:BigInt(e.replace(/_/g,""))}function rt(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}et.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new $e(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},et.getToken=function(){return this.next(),new $e(this)},"undefined"!==typeof Symbol&&(et[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===S.eof,value:t}}}}),et.curContext=function(){return this.context[this.context.length-1]},et.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(S.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},et.readToken=function(e){return m(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},et.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=57344)return e;var t=this.input.charCodeAt(this.pos+1);return(e<<10)+t-56613888},et.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations){var r;E.lastIndex=t;while((r=E.exec(this.input))&&r.index<this.pos)++this.curLine,this.lineStart=r.index+r[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())},et.skipLineComment=function(e){var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);while(this.pos<this.input.length&&!k(r))r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},et.skipSpace=function(){e:while(this.pos<this.input.length){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&C.test(String.fromCharCode(e))))break e;++this.pos}}},et.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},et.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(S.ellipsis)):(++this.pos,this.finishToken(S.dot))},et.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(S.assign,2):this.finishOp(S.slash,1)},et.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=42===e?S.star:S.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++n,r=S.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(S.assign,n+1):this.finishOp(r,n)},et.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(61===n)return this.finishOp(S.assign,3)}return this.finishOp(124===e?S.logicalOR:S.logicalAND,2)}return 61===t?this.finishOp(S.assign,2):this.finishOp(124===e?S.bitwiseOR:S.bitwiseAND,1)},et.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(S.assign,2):this.finishOp(S.bitwiseXOR,1)},et.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!O.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(S.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(S.assign,2):this.finishOp(S.plusMin,1)},et.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(S.assign,n+1):this.finishOp(S.bitShift,n)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(S.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},et.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(S.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(S.arrow)):this.finishOp(61===e?S.eq:S.prefix,1)},et.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(46===t){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(S.questionDot,2)}if(63===t){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(61===r)return this.finishOp(S.assign,3)}return this.finishOp(S.coalesce,2)}}return this.finishOp(S.question,1)},et.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(S.parenL);case 41:return++this.pos,this.finishToken(S.parenR);case 59:return++this.pos,this.finishToken(S.semi);case 44:return++this.pos,this.finishToken(S.comma);case 91:return++this.pos,this.finishToken(S.bracketL);case 93:return++this.pos,this.finishToken(S.bracketR);case 123:return++this.pos,this.finishToken(S.braceL);case 125:return++this.pos,this.finishToken(S.braceR);case 58:return++this.pos,this.finishToken(S.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(S.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(S.prefix,1)}this.raise(this.pos,"Unexpected character '"+rt(e)+"'")},et.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},et.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(O.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===r)t=!0;else if("]"===r&&t)t=!1;else if("/"===r&&!t)break;e="\\"===r}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var o=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(o);var s=this.regexpState||(this.regexpState=new Fe(this));s.reset(n,i,a),this.validateRegExpFlags(s),this.validateRegExpPattern(s);var u=null;try{u=new RegExp(i,a)}catch(c){}return this.finishToken(S.regexp,{pattern:i,flags:a,value:u})},et.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&void 0===t,i=n&&48===this.input.charCodeAt(this.pos),o=this.pos,a=0,s=0,u=0,c=null==t?1/0:t;u<c;++u,++this.pos){var l=this.input.charCodeAt(this.pos),f=void 0;if(r&&95===l)i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===s&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===u&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),s=l;else{if(f=l>=97?l-97+10:l>=65?l-65+10:l>=48&&l<=57?l-48:1/0,f>=e)break;s=l,a=a*e+f}}return r&&95===s&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===o||null!=t&&this.pos-o!==t?null:a},et.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return null==n&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n=nt(this.input.slice(t,this.pos)),++this.pos):m(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(S.num,n)},et.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10,void 0,!0)||this.raise(t,"Invalid number");var n=this.pos-t>=2&&48===this.input.charCodeAt(t);n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&110===r){var i=nt(this.input.slice(t,this.pos));return++this.pos,m(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(S.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),46!==r||n||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||n||(r=this.input.charCodeAt(++this.pos),43!==r&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),m(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o=tt(this.input.slice(t,this.pos),n);return this.finishToken(S.num,o)},et.readCodePoint=function(){var e,t=this.input.charCodeAt(this.pos);if(123===t){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else e=this.readHexChar(4);return e},et.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;92===r?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):(k(r,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(S.string,t)};var it={};et.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==it)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},et.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw it;this.raise(e,t)},et.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==S.template&&this.type!==S.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(S.template,e)):36===n?(this.pos+=2,this.finishToken(S.dollarBraceL)):(++this.pos,this.finishToken(S.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(k(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},et.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(S.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},et.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return rt(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(e){var n=this.pos-1;return this.invalidStringToken(n,"Invalid escape sequence in template string"),null}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),"0"===r&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return k(t)?"":String.fromCharCode(t)}},et.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},et.readWord1=function(){this.containsEsc=!1;var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;while(this.pos<this.input.length){var i=this.fullCharCodeAtPos();if(v(i,r))this.pos+=i<=65535?1:2;else{if(92!==i)break;this.containsEsc=!0,e+=this.input.slice(n,this.pos);var o=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?m:v)(a,r)||this.invalidStringToken(o,"Invalid Unicode escape"),e+=rt(a),n=this.pos}t=!1}return e+this.input.slice(n,this.pos)},et.readWord=function(){var e=this.readWord1(),t=S.name;return this.keywords.test(e)&&(t=_[e]),this.finishToken(t,e)};var ot="7.4.1";function at(e,t){return re.parse(e,t)}function st(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ut(e){var t="function"===typeof Map?new Map:void 0;return ut=function(e){if(null===e||!ft(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return lt(e,arguments,ht(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),pt(n,e)},ut(e)}function ct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function lt(e,t,n){return lt=ct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),o=new i;return n&&pt(o,n.prototype),o},lt.apply(null,arguments)}function ft(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function pt(e,t){return pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pt(e,t)}function ht(e){return ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ht(e)}re.acorn={Parser:re,version:ot,defaultOptions:z,Position:R,SourceLocation:D,getLineInfo:N,Node:_e,TokenType:y,tokTypes:S,keywordTypes:_,TokContext:Oe,tokContexts:Ee,isIdentifierChar:v,isIdentifierStart:m,Token:$e,isNewLine:k,lineBreak:O,lineBreakG:E,nonASCIIwhitespace:C};var dt=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(ut(Error)),mt=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(ut(SyntaxError)),vt=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(ut(ReferenceError)),yt=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(ut(TypeError)),gt=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(dt),bt=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(mt),xt=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(vt),_t={UnknownError:[3001,"%0",gt],ExecutionTimeOutError:[3002,"Script execution timed out after %0ms",gt],NodeTypeSyntaxError:[1001,"Unknown node type: %0",xt],BinaryOperatorSyntaxError:[1002,"Unknown binary operator: %0",xt],LogicalOperatorSyntaxError:[1003,"Unknown logical operator: %0",xt],UnaryOperatorSyntaxError:[1004,"Unknown unary operator: %0",xt],UpdateOperatorSyntaxError:[1005,"Unknown update operator: %0",xt],ObjectStructureSyntaxError:[1006,"Unknown object structure: %0",xt],AssignmentExpressionSyntaxError:[1007,"Unknown assignment expression: %0",xt],VariableTypeSyntaxError:[1008,"Unknown variable type: %0",xt],ParamTypeSyntaxError:[1009,"Unknown param type: %0",xt],AssignmentTypeSyntaxError:[1010,"Unknown assignment type: %0",xt],FunctionUndefinedReferenceError:[2001,"%0 is not a function",vt],VariableUndefinedReferenceError:[2002,"%0 is not defined",vt],IsNotConstructor:[2003,"%0 is not a constructor",yt]};function wt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function St(e,t,n){return St=wt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),o=new i;return n&&Ot(o,n.prototype),o},St.apply(null,arguments)}function Ot(e,t){return Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ot(e,t)}var Et="0.0.2";function kt(e,t){Object.defineProperty(e,"name",{value:t,writable:!1,enumerable:!1,configurable:!0})}var Ct=Object.prototype.hasOwnProperty,jt=Symbol("Break"),Tt=Symbol("Continue"),At=Symbol("DefaultCase"),Pt=Symbol("EmptyStatementReturn"),Mt=Symbol("WithScopeName"),It=Symbol("SuperScopeName"),Lt=Symbol("RootScopeName"),Rt=Symbol("GlobalScopeName");function Dt(e){return"function"===typeof e}var Nt=function(){function e(e){this.interpreter=e}var t=e.prototype;return t.generator=function(){var e=this.interpreter;function t(){return this.getCurrentScope()}function n(){return this.getGlobalScope()}function r(){return this.getCurrentContext()}return{getOptions:e.getOptions.bind(e),getCurrentScope:t.bind(e),getGlobalScope:n.bind(e),getCurrentContext:r.bind(e),getExecStartTime:e.getExecStartTime.bind(e)}},e}();function zt(e,t,n){if(void 0===n&&(n=!0),!(e instanceof Nt))throw new Error("Illegal call");if("string"!==typeof t)return t;if(t){var r=e.generator(),i=r.getOptions(),o={timeout:i.timeout,_initEnv:function(){n||this.setCurrentContext(r.getCurrentContext()),this.execStartTime=r.getExecStartTime(),this.execEndTime=this.execStartTime}},a=n?r.getGlobalScope():r.getCurrentScope(),s=new Yt(a,o);return s.evaluate(t)}}function Ft(e){if(!(e instanceof Nt))throw new Error("Illegal call");for(var t=e.generator(),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=r.pop(),a=new Yt(t.getGlobalScope(),t.getOptions()),s="\n\t\t    (function anonymous("+r.join(",")+"){\n\t\t        "+o+"\n\t\t    });\n\t\t    ";return a.evaluate(s)}Object.defineProperty(zt,"__IS_EVAL_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(Ft,"__IS_FUNCTION_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1});var Bt=function(e){this.value=e},Ut=function(e){this.value=e},Vt=function(e){this.value=e},Ht=function(e,t,n){void 0===t&&(t=null),this.name=n,this.parent=t,this.data=e,this.labelStack=[]};function qt(){}function Gt(e,t){return void 0===e&&(e=null),new Ht(Object.create(null),e,t)}function Wt(e){return Object.create(e)}var Zt={NaN:NaN,Infinity:1/0,undefined:void 0,Object:Object,Array:Array,String:String,Boolean:Boolean,Number:Number,Date:Date,RegExp:RegExp,Error:Error,URIError:URIError,TypeError:TypeError,RangeError:RangeError,SyntaxError:SyntaxError,ReferenceError:ReferenceError,Float32Array:Float32Array,Uint32Array:Uint32Array,Math:Math,parseInt:parseInt,parseFloat:parseFloat,isNaN:isNaN,isFinite:isFinite,decodeURI:decodeURI,decodeURIComponent:decodeURIComponent,encodeURI:encodeURI,encodeURIComponent:encodeURIComponent,escape:escape,unescape:unescape,eval:zt,Function:Ft};"undefined"!==typeof JSON&&(Zt.JSON=JSON),"undefined"!==typeof Promise&&(Zt.Promise=Promise),"undefined"!==typeof Set&&(Zt.Set=Set),"undefined"!==typeof Map&&(Zt.Map=Map),"undefined"!==typeof Symbol&&(Zt.Symbol=Symbol),"undefined"!==typeof Proxy&&(Zt.Proxy=Proxy),"undefined"!==typeof WeakMap&&(Zt.WeakMap=WeakMap),"undefined"!==typeof WeakSet&&(Zt.WeakSet=WeakSet),"undefined"!==typeof Reflect&&(Zt.Reflect=Reflect);var Yt=function(){function e(t,n){void 0===t&&(t=e.global),void 0===n&&(n={}),this.sourceList=[],this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.isVarDeclMode=!1,this.lastExecNode=null,this.isRunning=!1,this.options={ecmaVersion:n.ecmaVersion||e.ecmaVersion,timeout:n.timeout||0,rootContext:n.rootContext,globalContextInFunction:void 0===n.globalContextInFunction?e.globalContextInFunction:n.globalContextInFunction,_initEnv:n._initEnv},this.context=t||Object.create(null),this.callStack=[],this.initEnvironment(this.context)}var t=e.prototype;return t.initEnvironment=function(e){var t;if(e instanceof Ht)t=e;else{var n=null,r=this.createSuperScope(e);this.options.rootContext&&(n=new Ht(Wt(this.options.rootContext),r,Lt)),t=new Ht(e,n||r,Rt)}this.globalScope=t,this.currentScope=this.globalScope,this.globalContext=t.data,this.currentContext=t.data,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.execStartTime=Date.now(),this.execEndTime=this.execStartTime;var i=this.options._initEnv;i&&i.call(this)},t.getExecStartTime=function(){return this.execStartTime},t.getExecutionTime=function(){return this.execEndTime-this.execStartTime},t.setExecTimeout=function(e){void 0===e&&(e=0),this.options.timeout=e},t.getOptions=function(){return this.options},t.getGlobalScope=function(){return this.globalScope},t.getCurrentScope=function(){return this.currentScope},t.getCurrentContext=function(){return this.currentContext},t.isInterruptThrow=function(e){return e instanceof gt||e instanceof xt||e instanceof bt},t.createSuperScope=function(e){var t=Object.assign({},Zt),n=Object.keys(t);return n.forEach((function(n){n in e&&delete t[n]})),new Ht(t,null,It)},t.setCurrentContext=function(e){this.currentContext=e},t.setCurrentScope=function(e){this.currentScope=e},t.evaluate=function(t){var n;if(void 0===t&&(t=""),t)return n=at(t,{ranges:!0,locations:!0,ecmaVersion:this.options.ecmaVersion||e.ecmaVersion}),this.evaluateNode(n,t)},t.appendCode=function(e){return this.evaluate(e)},t.evaluateNode=function(e,t){var n=this;void 0===t&&(t=""),this.value=void 0,this.source=t,this.sourceList.push(t),this.isRunning=!0,this.execStartTime=Date.now(),this.execEndTime=this.execStartTime,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var r=this.getCurrentScope(),i=this.getCurrentContext(),o=r.labelStack.concat([]),a=this.callStack.concat([]),s=function(){n.setCurrentScope(r),n.setCurrentContext(i),r.labelStack=o,n.callStack=a};try{var u=this.createClosure(e);this.addDeclarationsToScope(this.collectDeclVars,this.collectDeclFuncs,this.getCurrentScope()),u()}catch(c){throw c}finally{s(),this.execEndTime=Date.now()}return this.isRunning=!1,this.getValue()},t.createErrorMessage=function(e,t,n){var r=e[1].replace("%0",String(t));return null!==n&&(r+=this.getNodePosition(n||this.lastExecNode)),r},t.createError=function(e,t){return new t(e)},t.createThrowError=function(e,t){return this.createError(e,t)},t.createInternalThrowError=function(e,t,n){return this.createError(this.createErrorMessage(e,t,n),e[2])},t.checkTimeout=function(){if(!this.isRunning)return!1;var e=this.options.timeout||0,t=Date.now();return t-this.execStartTime>e},t.getNodePosition=function(e){if(e){var t="";return e.loc?" ["+e.loc.start.line+":"+e.loc.start.column+"]"+t:""}return""},t.createClosure=function(e){var t,n=this;switch(e.type){case"BinaryExpression":t=this.binaryExpressionHandler(e);break;case"LogicalExpression":t=this.logicalExpressionHandler(e);break;case"UnaryExpression":t=this.unaryExpressionHandler(e);break;case"UpdateExpression":t=this.updateExpressionHandler(e);break;case"ObjectExpression":t=this.objectExpressionHandler(e);break;case"ArrayExpression":t=this.arrayExpressionHandler(e);break;case"CallExpression":t=this.callExpressionHandler(e);break;case"NewExpression":t=this.newExpressionHandler(e);break;case"MemberExpression":t=this.memberExpressionHandler(e);break;case"ThisExpression":t=this.thisExpressionHandler(e);break;case"SequenceExpression":t=this.sequenceExpressionHandler(e);break;case"Literal":t=this.literalHandler(e);break;case"Identifier":t=this.identifierHandler(e);break;case"AssignmentExpression":t=this.assignmentExpressionHandler(e);break;case"FunctionDeclaration":t=this.functionDeclarationHandler(e);break;case"VariableDeclaration":t=this.variableDeclarationHandler(e);break;case"BlockStatement":case"Program":t=this.programHandler(e);break;case"ExpressionStatement":t=this.expressionStatementHandler(e);break;case"EmptyStatement":t=this.emptyStatementHandler(e);break;case"ReturnStatement":t=this.returnStatementHandler(e);break;case"FunctionExpression":t=this.functionExpressionHandler(e);break;case"IfStatement":t=this.ifStatementHandler(e);break;case"ConditionalExpression":t=this.conditionalExpressionHandler(e);break;case"ForStatement":t=this.forStatementHandler(e);break;case"WhileStatement":t=this.whileStatementHandler(e);break;case"DoWhileStatement":t=this.doWhileStatementHandler(e);break;case"ForInStatement":t=this.forInStatementHandler(e);break;case"WithStatement":t=this.withStatementHandler(e);break;case"ThrowStatement":t=this.throwStatementHandler(e);break;case"TryStatement":t=this.tryStatementHandler(e);break;case"ContinueStatement":t=this.continueStatementHandler(e);break;case"BreakStatement":t=this.breakStatementHandler(e);break;case"SwitchStatement":t=this.switchStatementHandler(e);break;case"LabeledStatement":t=this.labeledStatementHandler(e);break;case"DebuggerStatement":t=this.debuggerStatementHandler(e);break;default:throw this.createInternalThrowError(_t.NodeTypeSyntaxError,e.type,e)}return function(){var r=n.options.timeout;if(r&&r>0&&n.checkTimeout())throw n.createInternalThrowError(_t.ExecutionTimeOutError,r,null);return n.lastExecNode=e,t.apply(void 0,arguments)}},t.binaryExpressionHandler=function(e){var t=this,n=this.createClosure(e.left),r=this.createClosure(e.right);return function(){var i=n(),o=r();switch(e.operator){case"==":return i==o;case"!=":return i!=o;case"===":return i===o;case"!==":return i!==o;case"<":return i<o;case"<=":return i<=o;case">":return i>o;case">=":return i>=o;case"<<":return i<<o;case">>":return i>>o;case">>>":return i>>>o;case"+":return i+o;case"-":return i-o;case"*":return i*o;case"**":return Math.pow(i,o);case"/":return i/o;case"%":return i%o;case"|":return i|o;case"^":return i^o;case"&":return i&o;case"in":return i in o;case"instanceof":return i instanceof o;default:throw t.createInternalThrowError(_t.BinaryOperatorSyntaxError,e.operator,e)}}},t.logicalExpressionHandler=function(e){var t=this,n=this.createClosure(e.left),r=this.createClosure(e.right);return function(){switch(e.operator){case"||":return n()||r();case"&&":return n()&&r();default:throw t.createInternalThrowError(_t.LogicalOperatorSyntaxError,e.operator,e)}}},t.unaryExpressionHandler=function(e){var t=this;switch(e.operator){case"delete":var n=this.createObjectGetter(e.argument),r=this.createNameGetter(e.argument);return function(){var e=n(),t=r();return delete e[t]};default:var i;if("typeof"===e.operator&&"Identifier"===e.argument.type){var o=this.createObjectGetter(e.argument),a=this.createNameGetter(e.argument);i=function(){return o()[a()]}}else i=this.createClosure(e.argument);return function(){var n=i();switch(e.operator){case"-":return-n;case"+":return+n;case"!":return!n;case"~":return~n;case"void":return;case"typeof":return typeof n;default:throw t.createInternalThrowError(_t.UnaryOperatorSyntaxError,e.operator,e)}}}},t.updateExpressionHandler=function(e){var t=this,n=this.createObjectGetter(e.argument),r=this.createNameGetter(e.argument);return function(){var i=n(),o=r();switch(t.assertVariable(i,o,e),e.operator){case"++":return e.prefix?++i[o]:i[o]++;case"--":return e.prefix?--i[o]:i[o]--;default:throw t.createInternalThrowError(_t.UpdateOperatorSyntaxError,e.operator,e)}}},t.objectExpressionHandler=function(e){var t=this,n=[];function r(e){return"Identifier"===e.type?e.name:"Literal"===e.type?e.value:this.throwError(_t.ObjectStructureSyntaxError,e.type,e)}var i=Object.create(null);return e.properties.forEach((function(e){var o=e.kind,a=r(e.key);i[a]&&"init"!==o||(i[a]={}),i[a][o]=t.createClosure(e.value),n.push({key:a,property:e})})),function(){for(var e={},t=n.length,r=0;r<t;r++){var o=n[r],a=o.key,s=i[a],u=s.init?s.init():void 0,c=s.get?s.get():function(){},l=s.set?s.set():function(e){};if("set"in s||"get"in s){var f={configurable:!0,enumerable:!0,get:c,set:l};Object.defineProperty(e,a,f)}else{var p=o.property,h=p.kind;"Identifier"!==p.key.type||"FunctionExpression"!==p.value.type||"init"!==h||p.value.id||kt(u,p.key.name),e[a]=u}}return e}},t.arrayExpressionHandler=function(e){var t=this,n=e.elements.map((function(e){return e?t.createClosure(e):e}));return function(){for(var e=n.length,t=Array(e),r=0;r<e;r++){var i=n[r];i&&(t[r]=i())}return t}},t.safeObjectGet=function(e,t,n){return e[t]},t.createCallFunctionGetter=function(e){var t=this;switch(e.type){case"MemberExpression":var n=this.createClosure(e.object),r=this.createMemberKeyGetter(e),i=this.source;return function(){var o=n(),a=r(),s=t.safeObjectGet(o,a,e);if(!s||!Dt(s)){var u=i.slice(e.start,e.end);throw t.createInternalThrowError(_t.FunctionUndefinedReferenceError,u,e)}return s.__IS_EVAL_FUNC?function(e){return s(new Nt(t),e,!0)}:s.__IS_FUNCTION_FUNC?function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return s.apply(void 0,[new Nt(t)].concat(n))}:s.bind(o)};default:var o=this.createClosure(e);return function(){var n="";"Identifier"===e.type&&(n=e.name);var r=o();if(!r||!Dt(r))throw t.createInternalThrowError(_t.FunctionUndefinedReferenceError,n,e);if("Identifier"===e.type&&r.__IS_EVAL_FUNC&&"eval"===n)return function(e){var i=t.getScopeFromName(n,t.getCurrentScope()),o=i.name===It||i.name===Rt||i.name===Lt;return r(new Nt(t),e,!o)};if(r.__IS_EVAL_FUNC)return function(e){return r(new Nt(t),e,!0)};if(r.__IS_FUNCTION_FUNC)return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return r.apply(void 0,[new Nt(t)].concat(n))};var i=t.options.globalContextInFunction;if("Identifier"===e.type){var a=t.getIdentifierScope(e);a.name===Mt&&(i=a.data)}return r.bind(i)}}},t.callExpressionHandler=function(e){var t=this,n=this.createCallFunctionGetter(e.callee),r=e.arguments.map((function(e){return t.createClosure(e)}));return function(){return n().apply(void 0,r.map((function(e){return e()})))}},t.functionExpressionHandler=function(e){var t=this,n=this,r=this.source,i=this.collectDeclVars,o=this.collectDeclFuncs;this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var a=e.id?e.id.name:"",s=e.params.length,u=e.params.map((function(e){return t.createParamNameGetter(e)})),c=this.createClosure(e.body),l=this.collectDeclVars,f=this.collectDeclFuncs;return this.collectDeclVars=i,this.collectDeclFuncs=o,function(){var t=n.getCurrentScope(),i=function e(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n.callStack.push(""+a);var s=n.getCurrentScope(),p=Gt(t,"FunctionScope("+a+")");n.setCurrentScope(p),n.addDeclarationsToScope(l,f,p),a&&(p.data[a]=e),p.data["arguments"]=arguments,u.forEach((function(e,t){p.data[e()]=i[t]}));var h=n.getCurrentContext();n.setCurrentContext(this);var d=c();if(n.setCurrentContext(h),n.setCurrentScope(s),n.callStack.pop(),d instanceof Bt)return d.value};return kt(i,a),Object.defineProperty(i,"length",{value:s,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(i,"toString",{value:function(){return r.slice(e.start,e.end)},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(i,"valueOf",{value:function(){return r.slice(e.start,e.end)},writable:!0,configurable:!0,enumerable:!1}),i}},t.newExpressionHandler=function(e){var t=this,n=this.source,r=this.createClosure(e.callee),i=e.arguments.map((function(e){return t.createClosure(e)}));return function(){var o=r();if(!Dt(o)||o.__IS_EVAL_FUNC){var a=e.callee,s=n.slice(a.start,a.end);throw t.createInternalThrowError(_t.IsNotConstructor,s,e)}return o.__IS_FUNCTION_FUNC?o.apply(void 0,[new Nt(t)].concat(i.map((function(e){return e()})))):St(o,i.map((function(e){return e()})))}},t.memberExpressionHandler=function(e){var t=this.createClosure(e.object),n=this.createMemberKeyGetter(e);return function(){var e=t(),r=n();return e[r]}},t.thisExpressionHandler=function(e){var t=this;return function(){return t.getCurrentContext()}},t.sequenceExpressionHandler=function(e){var t=this,n=e.expressions.map((function(e){return t.createClosure(e)}));return function(){for(var e,t=n.length,r=0;r<t;r++){var i=n[r];e=i()}return e}},t.literalHandler=function(e){return function(){return e.regex?new RegExp(e.regex.pattern,e.regex.flags):e.value}},t.identifierHandler=function(e){var t=this;return function(){var n=t.getCurrentScope(),r=t.getScopeDataFromName(e.name,n);return t.assertVariable(r,e.name,e),r[e.name]}},t.getIdentifierScope=function(e){var t=this.getCurrentScope(),n=this.getScopeFromName(e.name,t);return n},t.assignmentExpressionHandler=function(e){var t=this;"Identifier"!==e.left.type||"FunctionExpression"!==e.right.type||e.right.id||(e.right.id={type:"Identifier",name:e.left.name});var n=this.createObjectGetter(e.left),r=this.createNameGetter(e.left),i=this.createClosure(e.right);return function(){var o=n(),a=r(),s=i();switch("="!==e.operator&&t.assertVariable(o,a,e),e.operator){case"=":return o[a]=s;case"+=":return o[a]+=s;case"-=":return o[a]-=s;case"*=":return o[a]*=s;case"**=":return o[a]=Math.pow(o[a],s);case"/=":return o[a]/=s;case"%=":return o[a]%=s;case"<<=":return o[a]<<=s;case">>=":return o[a]>>=s;case">>>=":return o[a]>>>=s;case"&=":return o[a]&=s;case"^=":return o[a]^=s;case"|=":return o[a]|=s;default:throw t.createInternalThrowError(_t.AssignmentExpressionSyntaxError,e.type,e)}}},t.functionDeclarationHandler=function(e){if(e.id){var t=this.functionExpressionHandler(e);Object.defineProperty(t,"isFunctionDeclareClosure",{value:!0,writable:!1,configurable:!1,enumerable:!1}),this.funcDeclaration(e.id.name,t)}return function(){return Pt}},t.getVariableName=function(e){if("Identifier"===e.type)return e.name;throw this.createInternalThrowError(_t.VariableTypeSyntaxError,e.type,e)},t.variableDeclarationHandler=function(e){for(var t,n=this,r=[],i=0;i<e.declarations.length;i++){var o=e.declarations[i];this.varDeclaration(this.getVariableName(o.id)),o.init&&r.push({type:"AssignmentExpression",operator:"=",left:o.id,right:o.init})}return r.length&&(t=this.createClosure({type:"BlockStatement",body:r})),function(){if(t){var e=n.isVarDeclMode;n.isVarDeclMode=!0,t(),n.isVarDeclMode=e}return Pt}},t.assertVariable=function(e,t,n){if(e===this.globalScope.data&&!(t in e))throw this.createInternalThrowError(_t.VariableUndefinedReferenceError,t,n)},t.programHandler=function(e){var t=this,n=e.body.map((function(e){return t.createClosure(e)}));return function(){for(var e=Pt,r=0;r<n.length;r++){var i=n[r],o=t.setValue(i());if(o!==Pt&&(e=o,e instanceof Bt||e instanceof Ut||e instanceof Vt||e===jt||e===Tt))break}return e}},t.expressionStatementHandler=function(e){return this.createClosure(e.expression)},t.emptyStatementHandler=function(e){return function(){return Pt}},t.returnStatementHandler=function(e){var t=e.argument?this.createClosure(e.argument):qt;return function(){return new Bt(t())}},t.ifStatementHandler=function(e){var t=this.createClosure(e.test),n=this.createClosure(e.consequent),r=e.alternate?this.createClosure(e.alternate):function(){return Pt};return function(){return t()?n():r()}},t.conditionalExpressionHandler=function(e){return this.ifStatementHandler(e)},t.forStatementHandler=function(e){var t=this,n=qt,r=e.test?this.createClosure(e.test):function(){return!0},i=qt,o=this.createClosure(e.body);return"ForStatement"===e.type&&(n=e.init?this.createClosure(e.init):n,i=e.update?this.createClosure(e.update):qt),function(a){var s,u=Pt,c="DoWhileStatement"===e.type;for(a&&"LabeledStatement"===a.type&&(s=a.label.name),n();c||r();i()){c=!1;var l=t.setValue(o());if(l!==Pt&&l!==Tt){if(l===jt)break;if(u=l,u instanceof Vt&&u.value===s)u=Pt;else if(u instanceof Bt||u instanceof Ut||u instanceof Vt)break}}return u}},t.whileStatementHandler=function(e){return this.forStatementHandler(e)},t.doWhileStatementHandler=function(e){return this.forStatementHandler(e)},t.forInStatementHandler=function(e){var t=this,n=e.left,r=this.createClosure(e.right),i=this.createClosure(e.body);return"VariableDeclaration"===e.left.type&&(this.createClosure(e.left)(),n=e.left.declarations[0].id),function(e){var o,a,s=Pt;e&&"LabeledStatement"===e.type&&(o=e.label.name);var u=r();for(a in u){t.assignmentExpressionHandler({type:"AssignmentExpression",operator:"=",left:n,right:{type:"Literal",value:a}})();var c=t.setValue(i());if(c!==Pt&&c!==Tt){if(c===jt)break;if(s=c,s instanceof Vt&&s.value===o)s=Pt;else if(s instanceof Bt||s instanceof Ut||s instanceof Vt)break}}return s}},t.withStatementHandler=function(e){var t=this,n=this.createClosure(e.object),r=this.createClosure(e.body);return function(){var e=n(),i=t.getCurrentScope(),o=new Ht(e,i,Mt);t.setCurrentScope(o);var a=t.setValue(r());return t.setCurrentScope(i),a}},t.throwStatementHandler=function(e){var t=this,n=this.createClosure(e.argument);return function(){throw t.setValue(void 0),n()}},t.tryStatementHandler=function(e){var t=this,n=this.createClosure(e.block),r=e.handler?this.catchClauseHandler(e.handler):null,i=e.finalizer?this.createClosure(e.finalizer):null;return function(){var e,o,a=t.getCurrentScope(),s=t.getCurrentContext(),u=a.labelStack.concat([]),c=t.callStack.concat([]),l=Pt,f=function(){t.setCurrentScope(a),t.setCurrentContext(s),a.labelStack=u,t.callStack=c};try{l=t.setValue(n()),l instanceof Bt&&(e=l)}catch(p){if(f(),t.isInterruptThrow(p))throw p;if(r)try{l=t.setValue(r(p)),l instanceof Bt&&(e=l)}catch(p){if(f(),t.isInterruptThrow(p))throw p;o=p}}if(i)try{l=i(),l instanceof Bt&&(e=l)}catch(p){if(f(),t.isInterruptThrow(p))throw p;o=p}if(o)throw o;return e||l}},t.catchClauseHandler=function(e){var t=this,n=this.createParamNameGetter(e.param),r=this.createClosure(e.body);return function(e){var i,o=t.getCurrentScope(),a=o.data,s=n(),u=Ct.call(a,s),c=a[s];return a[s]=e,i=r(),u?a[s]=c:delete a[s],i}},t.continueStatementHandler=function(e){return function(){return e.label?new Vt(e.label.name):Tt}},t.breakStatementHandler=function(e){return function(){return e.label?new Ut(e.label.name):jt}},t.switchStatementHandler=function(e){var t=this,n=this.createClosure(e.discriminant),r=e.cases.map((function(e){return t.switchCaseHandler(e)}));return function(){for(var e,i,o,a=n(),s=!1,u=0;u<r.length;u++){var c=r[u](),l=c.testClosure();if(l!==At){if(s||l===a){if(s=!0,i=t.setValue(c.bodyClosure()),i===Pt)continue;if(i===jt)break;if(e=i,e instanceof Bt||e instanceof Ut||e instanceof Vt||e===Tt)break}}else o=c}if(!s&&o){i=t.setValue(o.bodyClosure());var f=i===Pt||i===jt||i===Tt;f||(e=i)}return e}},t.switchCaseHandler=function(e){var t=e.test?this.createClosure(e.test):function(){return At},n=this.createClosure({type:"BlockStatement",body:e.consequent});return function(){return{testClosure:t,bodyClosure:n}}},t.labeledStatementHandler=function(e){var t=this,n=e.label.name,r=this.createClosure(e.body);return function(){var i,o=t.getCurrentScope();return o.labelStack.push(n),i=r(e),i instanceof Ut&&i.value===n&&(i=Pt),o.labelStack.pop(),i}},t.debuggerStatementHandler=function(e){return function(){return Pt}},t.createParamNameGetter=function(e){if("Identifier"===e.type)return function(){return e.name};throw this.createInternalThrowError(_t.ParamTypeSyntaxError,e.type,e)},t.createObjectKeyGetter=function(e){var t;return t="Identifier"===e.type?function(){return e.name}:this.createClosure(e),function(){return t()}},t.createMemberKeyGetter=function(e){return e.computed?this.createClosure(e.property):this.createObjectKeyGetter(e.property)},t.createObjectGetter=function(e){var t=this;switch(e.type){case"Identifier":return function(){return t.getScopeDataFromName(e.name,t.getCurrentScope())};case"MemberExpression":return this.createClosure(e.object);default:throw this.createInternalThrowError(_t.AssignmentTypeSyntaxError,e.type,e)}},t.createNameGetter=function(e){switch(e.type){case"Identifier":return function(){return e.name};case"MemberExpression":return this.createMemberKeyGetter(e);default:throw this.createInternalThrowError(_t.AssignmentTypeSyntaxError,e.type,e)}},t.varDeclaration=function(e){var t=this.collectDeclVars;t[e]=void 0},t.funcDeclaration=function(e,t){var n=this.collectDeclFuncs;n[e]=t},t.addDeclarationsToScope=function(e,t,n){var r=n.data;for(var i in t){var o=t[i];r[i]=o?o():o}for(var a in e)a in r||(r[a]=void 0)},t.getScopeValue=function(e,t){var n=this.getScopeFromName(e,t);return n.data[e]},t.getScopeDataFromName=function(e,t){return this.getScopeFromName(e,t).data},t.getScopeFromName=function(e,t){var n=t;do{if(e in n.data)return n}while(n=n.parent);return this.globalScope},t.setValue=function(e){var t=this.callStack.length;return this.isVarDeclMode||t||e===Pt||e===jt||e===Tt||e instanceof Ut||e instanceof Vt||(this.value=e instanceof Bt?e.value:e),e},t.getValue=function(){return this.value},e}();function Xt(e){return void 0===e&&(e=Object.create(null)),e}function Kt(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});var r=n.parsingContext,i=void 0===n.timeout?0:n.timeout,o="\n    (function anonymous("+t.join(",")+"){\n         "+e+"\n    });\n    ",a=new Yt(r,{ecmaVersion:n.ecmaVersion,timeout:i,rootContext:n.rootContext,globalContextInFunction:n.globalContextInFunction});return a.evaluate(o)}function Jt(e,t,n){var r=new Yt(t,n);return r.evaluate(e)}Yt.version=Et,Yt.eval=zt,Yt.Function=Ft,Yt.ecmaVersion=5,Yt.globalContextInFunction=void 0,Yt.global=Object.create(null);var Qt=Jt,$t=function(){function e(e){this._code=e}var t=e.prototype;return t.runInContext=function(e){return Jt(this._code,e)},t.runInNewContext=function(e){return Jt(this._code,e)},e}(),en=function(e,t,n){return Jt(e,t,n)},tn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop();return Kt(r||"",t)};t["default"]=en},"t/kZ":function(e,t,n){"use strict";var r=n("R5yR");function i(){var e=n("q1tI");return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n("dEAq");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return d(e)||h(e,t)||f(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function d(e){if(Array.isArray(e))return e}var m=function(e){var t=(0,i().useContext)(o.context),n=t.locale,a=t.routes,s=t.config.locales,u=(0,i().useState)([]),l=c(u,2),f=l[0],p=l[1],h=(0,i().useState)([]),d=c(h,2),m=d[0],v=d[1];return(0,i().useEffect)((function(){p(a.filter((function(e){var t=e.title,r=e.meta,i=(null===r||void 0===r?void 0:r.locale)===n,o=(null===r||void 0===r?void 0:r.locale)===s[0].name||!(null===r||void 0===r?void 0:r.locale)&&(!s.length||n===s[0].name);return t&&(o||i)})).reduce((function(e,t){var n,i,o={title:t.title,path:t.path};return(null===(n=t.meta)||void 0===n?void 0:n.group)&&(o.parent=t.meta.group),e.push(o),e.push.apply(e,r(((null===(i=t.meta)||void 0===i?void 0:i.slugs)||[]).filter((function(e){var n=e.value;return n!==t.title})).map((function(e){return{title:e.value,path:"".concat(t.path,"#").concat(e.heading),parent:o}})))),e}),[]))}),[a.length,n]),(0,i().useEffect)((function(){var t=null===e||void 0===e?void 0:e.trim().toUpperCase();if(t){for(var n=[],r=0;r<f.length;r+=1)f[r].title.toUpperCase().indexOf(t)>-1&&n.push(f[r]);v(n)}else v([])}),[e,f.length]),m},v=function(){var e=(0,i().useContext)(o.context),t=e.config.algolia,n=(0,i().useCallback)((function(e){window.docsearch(s({inputSelector:e},t))}),[t]);return n},y=function(e){var t=(0,i().useContext)(o.context),n=t.config,r=m(e),a=v();return n.algolia?a:r};t["default"]=y},t2Dn:function(e,t,n){var r=n("hypo"),i=n("ljhN");function o(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}e.exports=o},tB8F:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"rootContainer",(function(){return p}));var i={};n.r(i),n.d(i,"rootContainer",(function(){return S}));n("Xn8V"),n("6spV"),n("wpse"),n("KUpu"),n("8OGu"),n("n7Qr"),n("VQRL"),n("SGZ1"),n("nEGZ"),n("IC/V"),n("H8Ov"),n("aHGi"),n("0O5u"),n("NYJX"),n("mLN8"),n("YJpY"),n("dLjG"),n("fF/C"),n("CDr+"),n("FbcW"),n("wwZZ"),n("+l9e"),n("vnQr"),n("5Blz"),n("X6vt"),n("hilM"),n("u6eR"),n("v/6r"),n("fDrP"),n("1vuE"),n("Q3OH"),n("IyrG"),n("nDqD"),n("4rKd"),n("X5kU"),n("4Mzw"),n("Pp3M"),n("v0/P"),n("sdAH"),n("EgRx"),n("izsi"),n("xtlo"),n("p1ln"),n("ZahQ"),n("nZC5"),n("HjuX"),n("A9H8"),n("B/G0"),n("Dyhc"),n("WQuA"),n("Qqe/"),n("J428"),n("s1ay"),n("Rw1i"),n("quHW"),n("YjZU"),n("O9az"),n("yIAO"),n("2KAr"),n("3dhw"),n("zTPR"),n("rpUR"),n("9/ry"),n("z9fm"),n("43iI"),n("mcGr"),n("rUU2"),n("6cL7"),n("ZDb2"),n("EOz7"),n("JI6M"),n("beyn"),n("A+b4"),n("3Us1"),n("eP3D"),n("Mn2j"),n("BtTS"),n("yiTY"),n("Uc1W"),n("y36+"),n("gweS"),n("URK0"),n("1jPx"),n("8Lo7"),n("I5+W"),n("ti1D"),n("NQz/"),n("UHn5"),n("/vMi"),n("nkhd"),n("+u1y"),n("9BQv"),n("Tz1E"),n("U9fH"),n("+4le"),n("jIZW"),n("oYEA"),n("7yTQ"),n("jHRr"),n("Rka6"),n("8Ubs"),n("FK48"),n("Auwt"),n("KAxK"),n("/0sN"),n("VvX1"),n("2aV/"),n("aKtI"),n("VUky"),n("9bAj"),n("xF6R"),n("Dbv2"),n("KHCi"),n("i/DM"),n("hYqy"),n("JXee"),n("+Hw1"),n("FBts"),n("3UWB"),n("S5nV"),n("xD7I"),n("aNdP"),n("UIoa"),n("Osgv"),n("FKIO"),n("Sf9Y"),n("VuYY"),n("ue5M"),n("80Z6"),n("qkSU"),n("xaQh"),n("GPZX"),n("eCow"),n("/R3g"),n("0pSW"),n("85tw"),n("UvYY"),n("DVoG"),n("aLaE"),n("fQri"),n("RDHo"),n("9Rzw"),n("iMhB"),n("/mKc"),n("u6Ie"),n("9znl"),n("+GPJ"),n("haHa"),n("RhWa"),n("PUJJ"),n("YceZ"),n("jksQ"),n("FuvP"),n("Uq4z"),n("+2a4"),n("Gw+j"),n("CO2k"),n("rVgK"),n("ecuC"),n("HQPm"),n("IbaC"),n("s00F"),n("V0Bj"),n("hwEL"),n("d/5L"),n("oJGl"),n("6FCX"),n("OAmA"),n("p6E5"),n("Xxk+"),n("L5O0"),n("bcvT"),n("CRpX"),n("aRU8"),n("p5yU"),n("dnZx"),n("NMu4"),n("5JgN"),n("VWci");var o=n("bCY9"),a=n("q1tI"),s=n.n(a),u=n("9kvl"),c=n("LtsZ"),l=n("I5X1");if("function"!==typeof l["a"])throw new Error("[plugin-initial-state]: useModel is not a function, @umijs/plugin-model is required.");var f=e=>{var t=e.children,n=Object(a["useRef"])(!1),r=u["b"].applyPlugins({key:"initialStateConfig",type:c["ApplyPluginsType"].modify,initialValue:{}})||{},i=Object(l["a"])("@@initialState")||{},o=i.loading,s=void 0!==o&&o;return Object(a["useEffect"])((()=>{s||(n.current=!0)}),[s]),s&&!n.current?r.loading||null:t};function p(e){return s.a.createElement(f,null,e)}var h=n("tJVT"),d=()=>({loading:!1,refresh:()=>{}});class m{constructor(){this.callbacks={},this.data={},this.update=e=>{(this.callbacks[e]||[]).forEach((t=>{try{var n=this.data[e];t(n)}catch(r){t(void 0)}}))}}}var v=n("nKUr"),y=e=>{var t=e.hook,n=e.onUpdate,r=e.namespace,i=Object(a["useRef"])(n);i.current=n;var o,s=Object(a["useRef"])(!1);try{o=t()}catch(u){console.error("plugin-model: Invoking '".concat(r||"unknown","' model failed:"),u)}return Object(a["useMemo"])((()=>{i.current(o),s.current=!1}),[]),Object(a["useEffect"])((()=>{s.current?i.current(o):s.current=!0})),Object(v["jsx"])(v["Fragment"],{})},g=n("qwGt"),b={"@@initialState":d},x=new m,_=y,w=e=>{var t=e.children;return Object(v["jsxs"])(g["a"].Provider,{value:x,children:[Object.entries(b).map((e=>Object(v["jsx"])(_,{namespace:e[0],hook:e[1],onUpdate:t=>{var n=e,r=Object(h["a"])(n,1),i=r[0];x.data[i]=t,x.update(i)}},e[0]))),t]})};function S(e){return s.a.createElement(w,null,e)}o["a"].register({apply:r,path:"../plugin-initial-state/runtime"}),o["a"].register({apply:i,path:"../plugin-model/runtime"});var O=n("FfOG"),E=n("WmNS"),k=n.n(E),C=n("WHYC"),j=n("i8i4");n("wx14");function T(e,t,n){return void 0===n&&(n=[]),e.some((function(e){var r=e.path?Object(C["i"])(t,e):n.length?n[n.length-1].match:C["e"].computeRootMatch(t);return r&&(n.push({route:e,match:r}),e.routes&&T(e.routes,t,n)),r})),n}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){M(o,r,i,a,s,"next",e)}function s(e){M(o,r,i,a,s,"throw",e)}a(void 0)}))}}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(){return R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}function D(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function N(e,t){if(null==e)return{};var n,r,i=D(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function z(e,t){return F(e)||B(e,t)||U(e,t)||H()}function F(e){if(Array.isArray(e))return e}function B(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function U(e,t){if(e){if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function q(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=U(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function G(e){return s.a.createElement(C["h"].Consumer,null,(function(t){var n=e.location||t.location,r=e.computedMatch,i=P(P({},t),{},{location:n,match:r}),o=e.render;return s.a.createElement(C["h"].Provider,{value:i},i.match?o(P(P({},e.layoutProps),i)):null)}))}var W=["children"];function Z(e){return s.a.createElement(C["h"].Consumer,null,(function(t){var n,r=e.children,i=N(e,W),o=e.location||t.location,s=null;return a["Children"].forEach(r,(function(e){if(null===s&&Object(a["isValidElement"])(e)){n=e;var r=e.props.path||e.props.from;s=r?Object(C["i"])(o.pathname,P(P({},e.props),{},{path:r})):t.match}})),s?Object(a["cloneElement"])(n,{location:o,computedMatch:s,layoutProps:i}):null}))}var Y=["component"];function X(e,t){e.component;var n=N(e,Y),r=e.component;function i(i){var o=Object(a["useState"])((function(){return window.g_initialProps})),u=z(o,2),l=u[0],f=u[1];return Object(a["useEffect"])((function(){var o=function(){var o=I(k.a.mark((function o(){var a,s,u,l,p;return k.a.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(s=r,!r.preload){o.next=6;break}return o.next=4,r.preload();case 4:s=o.sent,s=s["default"]||s;case 6:if(u=P(P({isServer:!1,match:null===i||void 0===i?void 0:i.match,history:null===i||void 0===i?void 0:i.history,route:e},t.getInitialPropsCtx||{}),n),!(null===(a=s)||void 0===a?void 0:a.getInitialProps)){o.next=15;break}return o.next=10,t.plugin.applyPlugins({key:"ssr.modifyGetInitialPropsCtx",type:c["ApplyPluginsType"].modify,initialValue:u,async:!0});case 10:return l=o.sent,o.next=13,s.getInitialProps(l||u);case 13:p=o.sent,f(p);case 15:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();window.g_initialProps||o()}),[window.location.pathname,window.location.search]),s.a.createElement(r,R({},i,l))}return i.wrapInitialPropsLoaded=!0,i.displayName="ComponentWithInitialPropsFetch",i}function K(e){var t=e.route,n=e.opts,r=e.props,i=Q(P(P({},n),{},{routes:t.routes||[],rootRoutes:n.rootRoutes}),{location:r.location}),o=t.component,u=t.wrappers;if(o){var c=n.isServer?{}:window.g_initialProps,l=P(P(P(P({},r),n.extraProps),n.pageInitialProps||c),{},{route:t,routes:n.rootRoutes}),f=s.a.createElement(o,l,i);if(u){var p=u.length-1;while(p>=0)f=Object(a["createElement"])(u[p],l,f),p-=1}return f}return i}function J(e){var t,n,r,i=e.route,o=e.index,a=e.opts,u={key:i.key||o,exact:i.exact,strict:i.strict,sensitive:i.sensitive,path:i.path};return i.redirect?s.a.createElement(C["c"],R({},u,{from:i.path,to:i.redirect})):(!a.ssrProps||a.isServer||(null===(t=i.component)||void 0===t?void 0:t.wrapInitialPropsLoaded)||!(null===(n=i.component)||void 0===n?void 0:n.getInitialProps)&&!(null===(r=i.component)||void 0===r?void 0:r.preload)||(i.component=X(i,a)),s.a.createElement(G,R({},u,{render:function(e){return K({route:i,opts:a,props:e})}})))}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.routes?s.a.createElement(Z,t,e.routes.map((function(t,n){return J({route:t,index:n,opts:P(P({},e),{},{rootRoutes:e.rootRoutes||e.routes})})}))):null}var $=["history"];function ee(e){var t=e.history,n=N(e,$);return Object(a["useEffect"])((function(){function r(t,r){var i=T(e.routes,t.pathname);"undefined"!==typeof document&&void 0!==n.defaultTitle&&(document.title=i.length&&i[i.length-1].route.title||n.defaultTitle||""),e.plugin.applyPlugins({key:"onRouteChange",type:c["ApplyPluginsType"].event,args:{routes:e.routes,matchedRoutes:i,location:t,action:r}})}return window.g_useSSR&&(window.g_initialProps=null),r(t.location,"POP"),t.listen(r)}),[t]),s.a.createElement(C["e"],{history:t},Q(n))}function te(e){return ne.apply(this,arguments)}function ne(){return ne=I(k.a.mark((function e(t){var n,r,i,o,a,s,u,c,l=arguments;return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:window.location.pathname,r=T(t,n),i=q(r),e.prev=3,i.s();case 5:if((o=i.n()).done){e.next=19;break}if(s=o.value,u=s.route,"string"===typeof u.component||!(null===(a=u.component)||void 0===a?void 0:a.preload)){e.next=13;break}return e.next=11,u.component.preload();case 11:c=e.sent,u.component=c["default"]||c;case 13:if(!u.routes){e.next=17;break}return e.next=16,te(u.routes,n);case 16:u.routes=e.sent;case 17:e.next=5;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](3),i.e(e.t0);case 24:return e.prev=24,i.f(),e.finish(24);case 27:return e.abrupt("return",t);case 28:case"end":return e.stop()}}),e,null,[[3,21,24,27]])}))),ne.apply(this,arguments)}function re(e){var t=e.plugin.applyPlugins({type:c["ApplyPluginsType"].modify,key:"rootContainer",initialValue:s.a.createElement(ee,{history:e.history,routes:e.routes,plugin:e.plugin,ssrProps:e.ssrProps,defaultTitle:e.defaultTitle}),args:{history:e.history,routes:e.routes,plugin:e.plugin}});if(!e.rootElement)return t;var n="string"===typeof e.rootElement?document.getElementById(e.rootElement):e.rootElement,r=e.callback||function(){};window.g_useSSR?e.dynamicImport?te(e.routes).then((function(){Object(j["hydrate"])(t,n,r)})):Object(j["hydrate"])(t,n,r):Object(j["render"])(t,n,r)}function ie(){var e=[{path:"/~demos/:uuid",layout:!1,wrappers:[n("KcUY").default],component:e=>{var t=n("F4QJ"),r=t.default,i=n("Zxc8"),o=i.default,a=n("Rsk4"),u=a.default,c=n("dEAq"),l=c.usePrefersColor,f=r(e,u);switch(l(),f.length){case 1:return f[0];case 2:return s.a.createElement(o,f[0],f[1]);default:return"Demo ".concat(e.match.params.uuid," not found :(")}}},{path:"/_demos/:uuid",redirect:"/~demos/:uuid"},{__dumiRoot:!0,layout:!1,path:"/",wrappers:[n("KcUY").default,n("0Bia").default],routes:[{path:"/",component:n("gql7").default,exact:!0,meta:{locale:"en-US",order:null,filePath:"README.md",updatedTime:1599737676e3,slugs:[{depth:1,value:"react",heading:"react"},{depth:2,value:"Getting Started",heading:"getting-started"}],title:"react"},title:"react"},{path:"/layer",component:n("Y3xf").default,exact:!0,meta:{filePath:"docs/layer.en.md",updatedTime:1601174081e3,title:"Layer Component",order:2,slugs:[{depth:2,value:"Layer \u7c7b\u578b",heading:"layer-\u7c7b\u578b"},{depth:3,value:"\u4f7f\u7528\u65b9\u5f0f",heading:"\u4f7f\u7528\u65b9\u5f0f"},{depth:2,value:"Layer Props",heading:"layer-props"},{depth:3,value:"layer options",heading:"layer-options"},{depth:3,value:"attribute Option",heading:"attribute-option"},{depth:3,value:"source Option",heading:"source-option"},{depth:3,value:"scale Option",heading:"scale-option"},{depth:3,value:"interaction option",heading:"interaction-option"},{depth:3,value:"\u83b7\u53d6 layer \u5bf9\u8c61",heading:"\u83b7\u53d6-layer-\u5bf9\u8c61"},{depth:4,value:"onLayerLoaded",heading:"onlayerloaded"},{depth:4,value:"Context API",heading:"context-api"},{depth:3,value:"Layer \u793a\u4f8b",heading:"layer-\u793a\u4f8b"},{depth:2,value:"\u5b50\u7ec4\u4ef6",heading:"\u5b50\u7ec4\u4ef6"},{depth:3,value:"\u4e8b\u4ef6\u7ec4\u4ef6",heading:"\u4e8b\u4ef6\u7ec4\u4ef6"},{depth:3,value:"\u793a\u4f8b",heading:"\u793a\u4f8b"}]},title:"Layer Component"},{path:"/layer",component:n("bgtt").default,exact:!0,meta:{filePath:"docs/layer.zh.md",updatedTime:1601174081e3,title:"Layer \u7ec4\u4ef6",order:2,slugs:[{depth:2,value:"Layer \u7c7b\u578b",heading:"layer-\u7c7b\u578b"},{depth:3,value:"\u4f7f\u7528\u65b9\u5f0f",heading:"\u4f7f\u7528\u65b9\u5f0f"},{depth:2,value:"Layer Props",heading:"layer-props"},{depth:3,value:"layer options",heading:"layer-options"},{depth:3,value:"attribute Option",heading:"attribute-option"},{depth:3,value:"source Option",heading:"source-option"},{depth:3,value:"scale Option",heading:"scale-option"},{depth:3,value:"interaction option",heading:"interaction-option"},{depth:3,value:"\u83b7\u53d6 layer \u5bf9\u8c61",heading:"\u83b7\u53d6-layer-\u5bf9\u8c61"},{depth:4,value:"onLayerLoaded",heading:"onlayerloaded"},{depth:4,value:"Context API",heading:"context-api"},{depth:3,value:"Layer \u793a\u4f8b",heading:"layer-\u793a\u4f8b"},{depth:2,value:"\u5b50\u7ec4\u4ef6",heading:"\u5b50\u7ec4\u4ef6"},{depth:3,value:"\u4e8b\u4ef6\u7ec4\u4ef6",heading:"\u4e8b\u4ef6\u7ec4\u4ef6"},{depth:3,value:"\u793a\u4f8b",heading:"\u793a\u4f8b"}]},title:"Layer \u7ec4\u4ef6"},{path:"/marker",component:n("XcSm").default,exact:!0,meta:{filePath:"docs/marker.en.md",updatedTime:1601174081e3,title:"Marker",order:3,slugs:[{depth:2,value:"Marker Props",heading:"marker-props"},{depth:3,value:"option",heading:"option"},{depth:2,value:"\u5b9e\u4f8b",heading:"\u5b9e\u4f8b"}]},title:"Marker"},{path:"/marker",component:n("CQ6b").default,exact:!0,meta:{filePath:"docs/marker.zh.md",updatedTime:1601174081e3,title:"Marker \u7ec4\u4ef6",order:3,slugs:[{depth:2,value:"Marker Props",heading:"marker-props"},{depth:3,value:"option",heading:"option"},{depth:2,value:"Maker \u4e8b\u4ef6",heading:"maker-\u4e8b\u4ef6"},{depth:2,value:"\u5b9e\u4f8b",heading:"\u5b9e\u4f8b"}]},title:"Marker \u7ec4\u4ef6"},{path:"/popup",component:n("iCN3").default,exact:!0,meta:{filePath:"docs/popup.en.md",updatedTime:1599737676e3,title:"Popup Component",order:4,slugs:[{depth:2,value:"Popup Props",heading:"popup-props"},{depth:3,value:"option",heading:"option"}]},title:"Popup Component"},{path:"/popup",component:n("cs7w").default,exact:!0,meta:{filePath:"docs/popup.zh.md",updatedTime:1601174081e3,title:"Popup \u7ec4\u4ef6",order:4,slugs:[{depth:2,value:"Popup Props",heading:"popup-props"},{depth:3,value:"option",heading:"option"}]},title:"Popup \u7ec4\u4ef6"},{path:"/scene",component:n("ftHG").default,exact:!0,meta:{filePath:"docs/scene.en.md",updatedTime:1599738037e3,title:"Scene",order:1,slugs:[{depth:2,value:"\u4f7f\u7528",heading:"\u4f7f\u7528"},{depth:2,value:"Scene Props",heading:"scene-props"},{depth:3,value:"\u9ad8\u5fb7\u5730\u56fe\u573a\u666f",heading:"\u9ad8\u5fb7\u5730\u56fe\u573a\u666f"},{depth:3,value:"Mapbox \u5730\u56fe\u573a\u666f",heading:"mapbox-\u5730\u56fe\u573a\u666f"},{depth:3,value:"map option",heading:"map-option"},{depth:3,value:"scene option",heading:"scene-option"},{depth:3,value:"\u83b7\u53d6 scene \u5bf9\u8c61",heading:"\u83b7\u53d6-scene-\u5bf9\u8c61"},{depth:4,value:"onSceneLoaded",heading:"onsceneloaded"},{depth:4,value:"Context API",heading:"context-api"},{depth:2,value:"\u5b50\u7ec4\u4ef6",heading:"\u5b50\u7ec4\u4ef6"},{depth:3,value:"LoadImage",heading:"loadimage"},{depth:3,value:"Layer \u7ec4\u4ef6",heading:"layer-\u7ec4\u4ef6"},{depth:3,value:"\b \u4e8b\u4ef6\u7ec4\u4ef6",heading:"-\u4e8b\u4ef6\u7ec4\u4ef6"}]},title:"Scene"},{path:"/scene",component:n("/6DY").default,exact:!0,meta:{filePath:"docs/scene.zh.md",updatedTime:1605112539e3,title:"Scene \u7ec4\u4ef6",order:1,slugs:[{depth:2,value:"\u4f7f\u7528",heading:"\u4f7f\u7528"},{depth:2,value:"Scene Props",heading:"scene-props"},{depth:3,value:"\u9ad8\u5fb7\u5730\u56fe\u573a\u666f",heading:"\u9ad8\u5fb7\u5730\u56fe\u573a\u666f"},{depth:3,value:"Mapbox \u5730\u56fe\u573a\u666f",heading:"mapbox-\u5730\u56fe\u573a\u666f"},{depth:3,value:"map option",heading:"map-option"},{depth:3,value:"scene option",heading:"scene-option"},{depth:3,value:"\u83b7\u53d6 scene \u5bf9\u8c61",heading:"\u83b7\u53d6-scene-\u5bf9\u8c61"},{depth:4,value:"onSceneLoaded",heading:"onsceneloaded"},{depth:4,value:"Context API",heading:"context-api"},{depth:2,value:"\u5b50\u7ec4\u4ef6",heading:"\u5b50\u7ec4\u4ef6"},{depth:3,value:"LoadImage",heading:"loadimage"},{depth:3,value:"Layer \u7ec4\u4ef6",heading:"layer-\u7ec4\u4ef6"},{depth:3,value:"\b \u4e8b\u4ef6\u7ec4\u4ef6",heading:"-\u4e8b\u4ef6\u7ec4\u4ef6"}]},title:"Scene \u7ec4\u4ef6"},{path:"/start",component:n("K6Lp").default,exact:!0,meta:{filePath:"docs/start.en.md",updatedTime:1599737676e3,title:"Get Started",order:0,slugs:[{depth:3,value:"\u5b89\u88c5",heading:"\u5b89\u88c5"},{depth:3,value:"\u793a\u4f8b",heading:"\u793a\u4f8b"}]},title:"Get Started"},{path:"/start",component:n("mTN9").default,exact:!0,meta:{filePath:"docs/start.zh.md",updatedTime:1599737676e3,title:"\u5feb\u901f\u5f00\u59cb",order:0,slugs:[{depth:3,value:"\u5b89\u88c5",heading:"\u5b89\u88c5"},{depth:3,value:"\u793a\u4f8b",heading:"\u793a\u4f8b"}]},title:"\u5feb\u901f\u5f00\u59cb"},{path:"/demo/amap2",component:n("Ic52").default,exact:!0,meta:{filePath:"docs/demo/amap2.md",updatedTime:1626171343e3,slugs:[{depth:2,value:"\u9ad8\u5fb7\u5730\u56fe V2!",heading:"\u9ad8\u5fb7\u5730\u56fe-v2"}],title:"\u9ad8\u5fb7\u5730\u56fe V2!",group:{path:"/demo",title:"Demo"}},title:"\u9ad8\u5fb7\u5730\u56fe V2!"},{path:"/demo/image-layer",component:n("f1zR").default,exact:!0,meta:{filePath:"docs/demo/imageLayer.md",updatedTime:1605112539e3,slugs:[{depth:2,value:"\u56fe\u7247\u56fe\u5c42",heading:"\u56fe\u7247\u56fe\u5c42"}],title:"\u56fe\u7247\u56fe\u5c42",group:{path:"/demo",title:"Demo"}},title:"\u56fe\u7247\u56fe\u5c42"},{path:"/demo",component:n("0lAh").default,exact:!0,meta:{filePath:"docs/demo/index.md",updatedTime:1605112539e3,slugs:[{depth:2,value:"Hello react!",heading:"hello-react"}],title:"Hello react!",group:{path:"/demo",title:"Demo"}},title:"Hello react!"},{path:"/demo/layer",component:n("wtia").default,exact:!0,meta:{filePath:"docs/demo/layer.control.md",updatedTime:1620910178e3,slugs:[{depth:2,value:"\u56fe\u5c42\u63a7\u4ef6",heading:"\u56fe\u5c42\u63a7\u4ef6"}],title:"\u56fe\u5c42\u63a7\u4ef6",group:{path:"/demo",title:"Demo"}},title:"\u56fe\u5c42\u63a7\u4ef6"},{path:"/demo/popup",component:n("rb3/").default,exact:!0,meta:{filePath:"docs/demo/popup.md",updatedTime:1607860818e3,slugs:[{depth:2,value:"\u4fe1\u606f\u6846",heading:"\u4fe1\u606f\u6846"}],title:"\u4fe1\u606f\u6846",group:{path:"/demo",title:"Demo"}},title:"\u4fe1\u606f\u6846"}],title:"react",component:e=>e.children}];return o["a"].applyPlugins({key:"patchRoutes",type:c["ApplyPluginsType"].event,args:{routes:e}}),e}var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].applyPlugins({key:"render",type:c["ApplyPluginsType"].compose,initialValue:()=>{var t=o["a"].applyPlugins({key:"modifyClientRenderOpts",type:c["ApplyPluginsType"].modify,initialValue:{routes:e.routes||ie(),plugin:o["a"],history:Object(O["a"])(e.hot),isServer:Object({NODE_ENV:"production"}).__IS_SERVER,rootElement:"root",defaultTitle:"react"}});return re(t)},args:e})},ae=oe();t["default"]=ae();window.g_umi={version:"3.5.19"}},tEiQ:function(e,t,n){"use strict";(function(e){var r=n("q1tI"),i=n.n(r),o=n("dI71"),a=n("17x9"),s=n.n(a),u=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function l(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}function f(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function p(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}function h(e){return Array.isArray(e)?e[0]:e}function d(e,t){var n,i,a="__create-react-context-"+l()+"__",c=function(e){function n(){var t;return t=e.apply(this,arguments)||this,t.emitter=p(t.props.value),t}Object(o["a"])(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return e={},e[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;f(r,i)?n=0:(n="function"===typeof t?t(r,i):u,n|=0,0!==n&&this.emitter.set(e.value,n))}},r.render=function(){return this.props.children},n}(r["Component"]);c.childContextTypes=(n={},n[a]=s.a.object.isRequired,n);var d=function(t){function n(){var e;return e=t.apply(this,arguments)||this,e.state={value:e.getValue()},e.onUpdate=function(t,n){var r=0|e.observedBits;0!==(r&n)&&e.setState({value:e.getValue()})},e}Object(o["a"])(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return h(this.props.children)(this.state.value)},n}(r["Component"]);return d.contextTypes=(i={},i[a]=s.a.object,i),{Provider:c,Consumer:d}}var m=i.a.createContext||d;t["a"]=m}).call(this,n("IyRk"))},tJVT:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}function i(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(u){i=!0,o=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return r(e)||i(e,t)||a(e,t)||s()}n.d(t,"a",(function(){return u}))},tLB3:function(e,t,n){var r=n("jXQH"),i=n("GoyQ"),o=n("/9aa"),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;function f(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):s.test(e)?a:+e}e.exports=f},tMB7:function(e,t,n){var r=n("y1pI");function i(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}e.exports=i},tSXo:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},tadb:function(e,t,n){var r=n("Cwc5"),i=n("Kz5y"),o=r(i,"DataView");e.exports=o},ti1D:function(e,t,n){"use strict";var r=n("ukPv"),i=n("FVwB"),o=n("MVys"),a=r.Int8Array,s=i.aTypedArray,u=i.exportTypedArrayMethod,c=[].toLocaleString,l=[].slice,f=!!a&&o((function(){c.call(new a(1))})),p=o((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!o((function(){a.prototype.toLocaleString.call([1,2])}));u("toLocaleString",(function(){return c.apply(f?l.call(s(this)):s(this),arguments)}),p)},tny8:function(e,t,n){var r=n("MVys");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},tsqr:function(e,t,n){"use strict";n.r(t),n.d(t,"getKeyThenIncreaseKey",(function(){return W})),n.d(t,"attachTypeApi",(function(){return ee})),n.d(t,"getInstance",(function(){return te}));var r=n("wx14"),i=n("rePB"),o=n("q1tI"),a=n("TSYQ"),s=n.n(a),u=n("8tx+"),c=n("VTBJ"),l={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},f=l,p=n("6VBw"),h=function(e,t){return o["createElement"](p["a"],Object(c["a"])(Object(c["a"])({},e),{},{ref:t,icon:f}))};h.displayName="LoadingOutlined";var d=o["forwardRef"](h),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},v=m,y=function(e,t){return o["createElement"](p["a"],Object(c["a"])(Object(c["a"])({},e),{},{ref:t,icon:v}))};y.displayName="ExclamationCircleFilled";var g=o["forwardRef"](y),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},x=b,_=function(e,t){return o["createElement"](p["a"],Object(c["a"])(Object(c["a"])({},e),{},{ref:t,icon:x}))};_.displayName="CloseCircleFilled";var w=o["forwardRef"](_),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},O=S,E=function(e,t){return o["createElement"](p["a"],Object(c["a"])(Object(c["a"])({},e),{},{ref:t,icon:O}))};E.displayName="CheckCircleFilled";var k=o["forwardRef"](E),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},j=C,T=function(e,t){return o["createElement"](p["a"],Object(c["a"])(Object(c["a"])({},e),{},{ref:t,icon:j}))};T.displayName="InfoCircleFilled";var A=o["forwardRef"](T),P=n("ODXe"),M=n("8HVG"),I=n("H84U");function L(e,t){var n=function(){var n,i=null,a={add:function(e,t){null===i||void 0===i||i.component.add(e,t)}},s=Object(M["a"])(a),u=Object(P["a"])(s,2),c=u[0],l=u[1];function f(o){var a=o.prefixCls,s=n("message",a),u=n(),l=o.key||W(),f=new Promise((function(n){var a=function(){return"function"===typeof o.onClose&&o.onClose(),n(!0)};e(Object(r["a"])(Object(r["a"])({},o),{prefixCls:s,rootPrefixCls:u}),(function(e){var n=e.prefixCls,s=e.instance;i=s,c(t(Object(r["a"])(Object(r["a"])({},o),{key:l,onClose:a}),n))}))})),p=function(){i&&i.removeNotice(l)};return p.then=function(e,t){return f.then(e,t)},p.promise=f,p}var p=o["useRef"]({});return p.current.open=f,["success","info","warning","error","loading"].forEach((function(e){return ee(p.current,e)})),[p.current,o["createElement"](I["a"],{key:"holder"},(function(e){return n=e.getPrefixCls,l}))]};return n}var R,D,N,z,F=n("wEI+"),B=3,U=1,V="",H="move-up",q=!1,G=!1;function W(){return U++}function Z(e){void 0!==e.top&&(D=e.top,R=null),void 0!==e.duration&&(B=e.duration),void 0!==e.prefixCls&&(V=e.prefixCls),void 0!==e.getContainer&&(N=e.getContainer),void 0!==e.transitionName&&(H=e.transitionName,R=null,q=!0),void 0!==e.maxCount&&(z=e.maxCount,R=null),void 0!==e.rtl&&(G=e.rtl)}function Y(e,t){var n=e.prefixCls,r=Object(F["a"])(),i=r.getPrefixCls,o=r.getRootPrefixCls,a=i("message",n||V),s=o(e.rootPrefixCls,a);if(R)t({prefixCls:a,rootPrefixCls:s,instance:R});else{var c={prefixCls:a,transitionName:q?H:"".concat(s,"-").concat(H),style:{top:D},getContainer:N,maxCount:z};u["a"].newInstance(c,(function(e){R?t({prefixCls:a,rootPrefixCls:s,instance:R}):(R=e,t({prefixCls:a,rootPrefixCls:s,instance:e}))}))}}var X={info:A,success:k,error:w,warning:g,loading:d};function K(e,t){var n,r=void 0!==e.duration?e.duration:B,a=X[e.type],u=s()("".concat(t,"-custom-content"),(n={},Object(i["a"])(n,"".concat(t,"-").concat(e.type),e.type),Object(i["a"])(n,"".concat(t,"-rtl"),!0===G),n));return{key:e.key,duration:r,style:e.style||{},className:e.className,content:o["createElement"]("div",{className:u},e.icon||a&&o["createElement"](a,null),o["createElement"]("span",null,e.content)),onClose:e.onClose,onClick:e.onClick}}function J(e){var t=e.key||U++,n=new Promise((function(n){var i=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};Y(e,(function(n){var o=n.prefixCls,a=n.instance;a.notice(K(Object(r["a"])(Object(r["a"])({},e),{key:t,onClose:i}),o))}))})),i=function(){R&&R.removeNotice(t)};return i.then=function(e,t){return n.then(e,t)},i.promise=n,i}function Q(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}var $={open:J,config:Z,destroy:function(e){if(R)if(e){var t=R,n=t.removeNotice;n(e)}else{var r=R,i=r.destroy;i(),R=null}}};function ee(e,t){e[t]=function(n,i,o){return Q(n)?e.open(Object(r["a"])(Object(r["a"])({},n),{type:t})):("function"===typeof i&&(o=i,i=void 0),e.open({content:n,duration:i,type:t,onClose:o}))}}["success","info","warning","error","loading"].forEach((function(e){return ee($,e)})),$.warn=$.warning,$.useMessage=L(Y,K);var te=function(){return null};t["default"]=$},"u+7+":function(e,t,n){var r,i=n("f1E4"),o=n("HctQ"),a=n("De94"),s=n("6ixQ"),u=n("yj7k"),c=n("8w+9"),l=n("CjUg"),f=">",p="<",h="prototype",d="script",m=l("IE_PROTO"),v=function(){},y=function(e){return p+d+f+e+p+"/"+d+f},g=function(e){e.write(y("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=c("iframe"),n="java"+d+":";return t.style.display="none",u.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(y("document.F=Object")),e.close(),e.F},x=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}x=r?g(r):b();var e=a.length;while(e--)delete x[h][a[e]];return x()};s[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[h]=i(e),n=new v,v[h]=null,n[m]=e):n=x(),void 0===t?n:o(n,t)}},u6Ie:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("7BAe"),s=n("jbR1"),u=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{find:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(e){if(r(e,e,t))return u.stop(e)}),void 0,!1,!0).result}})},u6S6:function(e,t,n){var r=n("6acW"),i=n("sgoq"),o=i((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=o},u6eR:function(e,t,n){"use strict";var r=n("MMxC"),i=n("cT1L"),o=n("cTDu"),a=n("MVys"),s=n("R8iy"),u=[],c=u.sort,l=a((function(){u.sort(void 0)})),f=a((function(){u.sort(null)})),p=s("sort"),h=l||!f||!p;r({target:"Array",proto:!0,forced:h},{sort:function(e){return void 0===e?c.call(o(this)):c.call(o(this),i(e))}})},u8Dt:function(e,t,n){var r=n("YESw"),i="__lodash_hash_undefined__",o=Object.prototype,a=o.hasOwnProperty;function s(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return a.call(t,e)?t[e]:void 0}e.exports=s},u93E:function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},uGHk:function(e,t,n){var r=n("Srjj"),i=n("De94"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},uMwj:function(e,t,n){"use strict";var r=n("MMxC"),i=n("uoF6"),o=n("Acmb"),a=n("g1ZG"),s=n("kiNa"),u=n("lz10"),c=n("NMFW"),l=n("2kyd"),f=n("Zcjx"),p=n("5yw/"),h=n("JXem"),d=h.IteratorPrototype,m=h.BUGGY_SAFARI_ITERATORS,v=l("iterator"),y="keys",g="values",b="entries",x=function(){return this};e.exports=function(e,t,n,l,h,_,w){i(n,t,l);var S,O,E,k=function(e){if(e===h&&P)return P;if(!m&&e in T)return T[e];switch(e){case y:return function(){return new n(this,e)};case g:return function(){return new n(this,e)};case b:return function(){return new n(this,e)}}return function(){return new n(this)}},C=t+" Iterator",j=!1,T=e.prototype,A=T[v]||T["@@iterator"]||h&&T[h],P=!m&&A||k(h),M="Array"==t&&T.entries||A;if(M&&(S=o(M.call(new e)),d!==Object.prototype&&S.next&&(f||o(S)===d||(a?a(S,d):"function"!=typeof S[v]&&u(S,v,x)),s(S,C,!0,!0),f&&(p[C]=x))),h==g&&A&&A.name!==g&&(j=!0,P=function(){return A.call(this)}),f&&!w||T[v]===P||u(T,v,P),p[t]=P,h)if(O={values:k(g),keys:_?P:k(y),entries:k(b)},w)for(E in O)(m||j||!(E in T))&&c(T,E,O[E]);else r({target:t,proto:!0,forced:m||j},O);return O}},ue5M:function(e,t,n){n("pW3P")},uhBA:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||e,o),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0===--e._eventsCount?e._events=new o:delete e._events[t]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},c.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,o),!0;case 6:return l.fn.call(l.context,t,n,r,o,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var p,h=l.length;for(c=0;c<h;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,r);break;default:if(!u)for(p=1,u=new Array(f-1);p<f;p++)u[p-1]=arguments[p];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||u(this,o);else{for(var s=0,c=[],l=a.length;s<l;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&c.push(a[s]);c.length?this._events[o]=1===c.length?c[0]:c:u(this,o)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,e.exports=c},ujMp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var r=n("MON2");function i(e){if("function"===typeof e){var t=e;return t.name}if("symbol"===typeof e)return e.toString();t=e;return t}function o(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=l(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r}function a(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||a(e.parentRequest,t))}function s(e){function t(e,n){void 0===n&&(n=[]);var r=i(e.serviceIdentifier);return n.push(r),null!==e.parentRequest?t(e.parentRequest,n):n}var n=t(e);return n.reverse().join(" --\x3e ")}function u(e){e.childRequests.forEach((function(e){if(a(e,e.serviceIdentifier)){var t=s(e);throw new Error(r.CIRCULAR_DEPENDENCY+" "+t)}u(e)}))}function c(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e}function l(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=o,t.circularDependencyToException=u,t.listMetadataForTarget=c,t.getFunctionName=l},ujhg:function(e,t,n){var r=n("NMFW");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},ukPv:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("IyRk"))},uoF6:function(e,t,n){"use strict";var r=n("JXem").IteratorPrototype,i=n("u+7+"),o=n("HhvW"),a=n("kiNa"),s=n("5yw/"),u=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,c,!1,!0),s[c]=u,e}},uz3g:function(e,t,n){"use strict";var r=n("ujhg"),i=n("a5mf").getWeakData,o=n("f1E4"),a=n("tSXo"),s=n("igoe"),u=n("IuhT"),c=n("zv1X"),l=n("jtLI"),f=n("1aI8"),p=f.set,h=f.getterFor,d=c.find,m=c.findIndex,v=0,y=function(e){return e.frozen||(e.frozen=new g)},g=function(){this.entries=[]},b=function(e,t){return d(e.entries,(function(e){return e[0]===t}))};g.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,c){var f=e((function(e,r){s(e,f,t),p(e,{type:t,id:v++,frozen:void 0}),void 0!=r&&u(r,e[c],e,n)})),d=h(t),m=function(e,t,n){var r=d(e),a=i(o(t),!0);return!0===a?y(r).set(t,n):a[r.id]=n,e};return r(f.prototype,{delete:function(e){var t=d(this);if(!a(e))return!1;var n=i(e);return!0===n?y(t)["delete"](e):n&&l(n,t.id)&&delete n[t.id]},has:function(e){var t=d(this);if(!a(e))return!1;var n=i(e);return!0===n?y(t).has(e):n&&l(n,t.id)}}),r(f.prototype,n?{get:function(e){var t=d(this);if(a(e)){var n=i(e);return!0===n?y(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return m(this,e,t)}}:{add:function(e){return m(this,e,!0)}}),f}}},"v/6r":function(e,t,n){var r=n("ssJt");r("Array")},"v0/P":function(e,t,n){var r=n("MMxC"),i=n("egz/"),o=Math.acosh,a=Math.log,s=Math.sqrt,u=Math.LN2,c=!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0;r({target:"Math",stat:!0,forced:c},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?a(e)+u:i(e-1+s(e-1)*s(e+1))}})},"vN+2":function(e,t){function n(){}e.exports=n},vO0A:function(e,t,n){"use strict";var r=n("YfKC").f,i=n("u+7+"),o=n("ujhg"),a=n("7BAe"),s=n("igoe"),u=n("IuhT"),c=n("uMwj"),l=n("ssJt"),f=n("tny8"),p=n("a5mf").fastKey,h=n("1aI8"),d=h.set,m=h.getterFor;e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){s(e,l,t),d(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&u(r,e[c],e,n)})),h=m(t),v=function(e,t,n){var r,i,o=h(e),a=y(e,t);return a?a.value=n:(o.last=a={index:i=p(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),f?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},y=function(e,t){var n,r=h(e),i=p(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(l.prototype,{clear:function(){var e=this,t=h(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,n=h(t),r=y(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),f?n.size--:t.size--}return!!r},forEach:function(e){var t,n=h(this),r=a(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!y(this,e)}}),o(l.prototype,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),f&&r(l.prototype,"size",{get:function(){return h(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=m(t),o=m(r);c(e,t,(function(e,t){d(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=o(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},vRGJ:function(e,t,n){var r=n("AqCL");e.exports=g,e.exports.parse=o,e.exports.compile=a,e.exports.tokensToFunction=c,e.exports.tokensToRegExp=y;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){var n,r=[],o=0,a=0,s="",u=t&&t.delimiter||"/";while(null!=(n=i.exec(e))){var c=n[0],p=n[1],h=n.index;if(s+=e.slice(a,h),a=h+c.length,p)s+=p[1];else{var d=e[a],m=n[2],v=n[3],y=n[4],g=n[5],b=n[6],x=n[7];s&&(r.push(s),s="");var _=null!=m&&null!=d&&d!==m,w="+"===b||"*"===b,S="?"===b||"*"===b,O=n[2]||u,E=y||g;r.push({name:v||o++,prefix:m||"",delimiter:O,optional:S,repeat:w,partial:_,asterisk:!!x,pattern:E?f(E):x?".*":"[^"+l(O)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e,t){return c(o(e,t),t)}function s(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function c(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var o="",a=t||{},c=i||{},l=c.pretty?s:encodeURIComponent,f=0;f<e.length;f++){var p=e[f];if("string"!==typeof p){var h,d=a[p.name];if(null==d){if(p.optional){p.partial&&(o+=p.prefix);continue}throw new TypeError('Expected "'+p.name+'" to be defined')}if(r(d)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var m=0;m<d.length;m++){if(h=l(d[m]),!n[f].test(h))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===m?p.prefix:p.delimiter)+h}}else{if(h=p.asterisk?u(d):l(d),!n[f].test(h))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but received "'+h+'"');o+=p.prefix+h}}else o+=p}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function f(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function p(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function d(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return p(e,t)}function m(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(g(e[i],t,n).source);var o=new RegExp("(?:"+r.join("|")+")",h(n));return p(o,t)}function v(e,t,n){return y(o(e,n),t,n)}function y(e,t,n){r(t)||(n=t||n,t=[]),n=n||{};for(var i=n.strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var u=e[s];if("string"===typeof u)a+=l(u);else{var c=l(u.prefix),f="(?:"+u.pattern+")";t.push(u),u.repeat&&(f+="(?:"+c+f+")*"),f=u.optional?u.partial?c+"("+f+")?":"(?:"+c+"("+f+"))?":c+"("+f+")",a+=f}}var d=l(n.delimiter||"/"),m=a.slice(-d.length)===d;return i||(a=(m?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+d+"|$)",p(new RegExp("^"+a,h(n)),t)}function g(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?d(e,t):r(e)?m(e,t,n):v(e,t,n)}},viRO:function(e,t,n){"use strict";var r=n("MgzW"),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var p="function"===typeof Symbol&&Symbol.iterator;function h(e){return null===e||"object"!==typeof e?null:(e=p&&e[p]||e["@@iterator"],"function"===typeof e?e:null)}function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var x=b.prototype=new g;x.constructor=b,r(x,y.prototype),x.isPureReactComponent=!0;var _={current:null},w=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:_.current}}function E(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}function C(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}var j=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?C(""+e.key):t.toString(36)}function A(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return u=e,a=a(u),e=""===r?"."+T(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(j,"$&/")+"/"),A(a,t,n,"",(function(e){return e}))):null!=a&&(k(a)&&(a=E(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(j,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){s=e[c];var l=r+T(s,c);u+=A(s,t,n,l,a)}else if(l=h(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)s=s.value,l=r+T(s,c++),u+=A(s,t,n,l,a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var I={current:null};function L(){var e=I.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!S.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return L().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,n){return L().useReducer(e,t,n)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="17.0.2"},vnQr:function(e,t,n){"use strict";var r=n("MMxC"),i=n("9RRT").left,o=n("R8iy"),a=n("kGMc"),s=o("reduce"),u=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},vuIU:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},vukK:function(e,t,n){"use strict";n("tJVT"),n("8ml+");var r=n("q1tI");n("i8i4"),n("45oE"),r["useEffect"],r["useState"]},"w/wX":function(e,t,n){var r=n("QqLw"),i=n("ExA7"),o="[object Set]";function a(e){return i(e)&&r(e)==o}e.exports=a},"wEI+":function(e,t,n){"use strict";n.d(t,"a",(function(){return Ze}));var r=n("wx14"),i=n("q1tI"),o=n("Pw59"),a=n("Ff2n"),s=n("rePB"),u=n("VTBJ"),c=n("KQm4"),l=n("1OyB"),f=n("vuIU"),p=n("JX7q"),h=n("Ji7U"),d=n("LK+K"),m=n("Zm9Q"),v=n("Kwbf"),y="RC_FORM_INTERNAL_HOOKS",g=function(){Object(v["a"])(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},b=i["createContext"]({getFieldValue:g,getFieldsValue:g,getFieldError:g,getFieldsError:g,isFieldsTouched:g,isFieldTouched:g,isFieldValidating:g,isFieldsValidating:g,resetFields:g,setFields:g,setFieldsValue:g,validateFields:g,submit:g,getInternalHooks:function(){return g(),{dispatch:g,initEntityValue:g,registerField:g,useSubscribe:g,setInitialValues:g,setCallbacks:g,getFields:g,setValidateMessages:g,setPreserve:g}}}),x=b;function _(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}var w=n("o0o1"),S=n.n(w),O=n("HaE+"),E=n("U8pU"),k=n("KpVd");function C(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}var j=n("DSFK"),T=n("25BE"),A=n("BsWD"),P=n("PYwp");function M(e){return Object(j["a"])(e)||Object(T["a"])(e)||Object(A["a"])(e)||Object(P["a"])()}function I(e,t,n,r){if(!t.length)return n;var i,o=M(t),a=o[0],s=o.slice(1);return i=e||"number"!==typeof a?Array.isArray(e)?Object(c["a"])(e):Object(u["a"])({},e):[],r&&void 0===n&&1===s.length?delete i[a][s[0]]:i[a]=I(i[a],s,n,r),i}function L(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!C(e,t.slice(0,-1))?e:I(e,t,n,r)}function R(e){return _(e)}function D(e,t){var n=C(e,t);return n}function N(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=L(e,t,n,r);return i}function z(e,t){var n={};return t.forEach((function(t){var r=D(e,t);n=N(n,t,r)})),n}function F(e,t){return e&&e.some((function(e){return H(e,t)}))}function B(e){return"object"===Object(E["a"])(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function U(e,t){var n=Array.isArray(e)?Object(c["a"])(e):Object(u["a"])({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],o=B(r)&&B(i);n[e]=o?U(r,i||{}):i})),n):n}function V(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return U(e,t)}),e)}function H(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function q(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==Object(E["a"])(e)||"object"!==Object(E["a"])(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(Object(c["a"])(n),Object(c["a"])(r)));return Object(c["a"])(i).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))}function G(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&e in t.target?t.target[e]:t}function W(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],o=t-n;return o>0?[].concat(Object(c["a"])(e.slice(0,n)),[i],Object(c["a"])(e.slice(n,t)),Object(c["a"])(e.slice(t+1,r))):o<0?[].concat(Object(c["a"])(e.slice(0,t)),Object(c["a"])(e.slice(t+1,n+1)),[i],Object(c["a"])(e.slice(n+1,r))):e}var Z="'${name}' is not a valid ${type}",Y={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Z,method:Z,array:Z,object:Z,number:Z,date:Z,boolean:Z,integer:Z,float:Z,regexp:Z,email:Z,url:Z,hex:Z},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},X=k["a"];function K(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}function J(e,t,n,r){var i=Object(u["a"])(Object(u["a"])({},n),{},{name:t,enum:(n["enum"]||[]).join(", ")}),o=function(e,t){return function(){return K(e,Object(u["a"])(Object(u["a"])({},i),t))}};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){var i=e[n];"string"===typeof i?t[n]=o(i,r):i&&"object"===Object(E["a"])(i)?(t[n]={},a(i,t[n])):t[n]=i})),t}return a(V({},Y,e))}function Q(e,t,n,r,i){return $.apply(this,arguments)}function $(){return $=Object(O["a"])(S.a.mark((function e(t,n,r,o,a){var l,f,p,h,d,m;return S.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l=Object(u["a"])({},r),f=null,l&&"array"===l.type&&l.defaultField&&(f=l.defaultField,delete l.defaultField),p=new X(Object(s["a"])({},t,[l])),h=J(o.validateMessages,t,l,a),p.messages(h),d=[],e.prev=7,e.next=10,Promise.resolve(p.validate(Object(s["a"])({},t,n),Object(u["a"])({},o)));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](7),e.t0.errors?d=e.t0.errors.map((function(e,t){var n=e.message;return i["isValidElement"](n)?i["cloneElement"](n,{key:"error_".concat(t)}):n})):(console.error(e.t0),d=[h["default"]()]);case 15:if(d.length||!f){e.next=20;break}return e.next=18,Promise.all(n.map((function(e,n){return Q("".concat(t,".").concat(n),e,f,o,a)})));case 18:return m=e.sent,e.abrupt("return",m.reduce((function(e,t){return[].concat(Object(c["a"])(e),Object(c["a"])(t))}),[]));case 20:return e.abrupt("return",d);case 21:case"end":return e.stop()}}),e,null,[[7,12]])}))),$.apply(this,arguments)}function ee(e,t,n,r,i,o){var a,s=e.join("."),c=n.map((function(e){var t=e.validator;return t?Object(u["a"])(Object(u["a"])({},e),{},{validator:function(e,n,r){var i=!1,o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Object(v["a"])(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))},a=t(e,n,o);i=a&&"function"===typeof a.then&&"function"===typeof a["catch"],Object(v["a"])(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){r()}))["catch"]((function(e){r(e||" ")}))}}):e}));if(!0===i)a=new Promise(function(){var e=Object(O["a"])(S.a.mark((function e(n,i){var a,u;return S.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<c.length)){e.next=11;break}return e.next=4,Q(s,t,c[a],r,o);case 4:if(u=e.sent,!u.length){e.next=8;break}return i(u),e.abrupt("return");case 8:a+=1,e.next=1;break;case 11:n([]);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var l=c.map((function(e){return Q(s,t,e,r,o)}));a=(i?re(l):te(l)).then((function(e){return e.length?Promise.reject(e):[]}))}return a["catch"]((function(e){return e})),a}function te(e){return ne.apply(this,arguments)}function ne(){return ne=Object(O["a"])(S.a.mark((function e(t){return S.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t,n=(t=[]).concat.apply(t,Object(c["a"])(e));return n})));case 1:case"end":return e.stop()}}),e)}))),ne.apply(this,arguments)}function re(e){return ie.apply(this,arguments)}function ie(){return ie=Object(O["a"])(S.a.mark((function e(t){var n;return S.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.length&&e(r),n+=1,n===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}function oe(e,t,n,r,i,o){return"function"===typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var ae=function(e){Object(h["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;if(Object(l["a"])(this,n),r=t.call(this,e),r.state={resetCount:0},r.cancelRegisterFunc=null,r.mounted=!1,r.touched=!1,r.dirty=!1,r.validatePromise=null,r.errors=[],r.cancelRegister=function(){var e=r.props,t=e.preserve,n=e.isListField,i=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,R(i)),r.cancelRegisterFunc=null},r.getNamePath=function(){var e=r.props,t=e.name,n=e.fieldContext,i=n.prefixName,o=void 0===i?[]:i;return void 0!==t?[].concat(Object(c["a"])(o),Object(c["a"])(t)):[]},r.getRules=function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,i=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(i):e}))},r.refresh=function(){r.mounted&&r.setState((function(e){var t=e.resetCount;return{resetCount:t+1}}))},r.onStoreChange=function(e,t,n){var i=r.props,o=i.shouldUpdate,a=i.dependencies,s=void 0===a?[]:a,u=i.onReset,c=n.store,l=r.getNamePath(),f=r.getValue(e),p=r.getValue(c),h=t&&F(t,l);switch("valueUpdate"===n.type&&"external"===n.source&&f!==p&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=[]),n.type){case"reset":if(!t||h)return r.touched=!1,r.dirty=!1,r.validatePromise=null,r.errors=[],u&&u(),void r.refresh();break;case"setField":if(h){var d=n.data;return"touched"in d&&(r.touched=d.touched),"validating"in d&&!("originRCField"in d)&&(r.validatePromise=d.validating?Promise.resolve([]):null),"errors"in d&&(r.errors=d.errors||[]),r.dirty=!0,void r.reRender()}if(o&&!l.length&&oe(o,e,c,f,p,n))return void r.reRender();break;case"dependenciesUpdate":var m=s.map(R);if(m.some((function(e){return F(n.relatedFields,e)})))return void r.reRender();break;default:if(h||(!s.length||l.length||o)&&oe(o,e,c,f,p,n))return void r.reRender();break}!0===o&&r.reRender()},r.validateRules=function(e){var t=r.getNamePath(),n=r.getValue(),i=Promise.resolve().then((function(){if(!r.mounted)return[];var o=r.props,a=o.validateFirst,s=void 0!==a&&a,u=o.messageVariables,c=e||{},l=c.triggerName,f=r.getRules();l&&(f=f.filter((function(e){var t=e.validateTrigger;if(!t)return!0;var n=_(t);return n.includes(l)})));var p=ee(t,n,f,e,s,u);return p["catch"]((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r.validatePromise===i&&(r.validatePromise=null,r.errors=e,r.reRender())})),p}));return r.validatePromise=i,r.dirty=!0,r.errors=[],r.reRender(),i},r.isFieldValidating=function(){return!!r.validatePromise},r.isFieldTouched=function(){return r.touched},r.isFieldDirty=function(){return r.dirty},r.getErrors=function(){return r.errors},r.isListField=function(){return r.props.isListField},r.isList=function(){return r.props.isList},r.isPreserve=function(){return r.props.preserve},r.getMeta=function(){r.prevValidating=r.isFieldValidating();var e={touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,name:r.getNamePath()};return e},r.getOnlyChild=function(e){if("function"===typeof e){var t=r.getMeta();return Object(u["a"])(Object(u["a"])({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=Object(m["a"])(e);return 1===n.length&&i["isValidElement"](n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},r.getValue=function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return D(e||t(!0),n)},r.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.trigger,i=t.validateTrigger,o=t.getValueFromEvent,a=t.normalize,c=t.valuePropName,l=t.getValueProps,f=t.fieldContext,p=void 0!==i?i:f.validateTrigger,h=r.getNamePath(),d=f.getInternalHooks,m=f.getFieldsValue,v=d(y),g=v.dispatch,b=r.getValue(),x=l||function(e){return Object(s["a"])({},c,e)},w=e[n],S=Object(u["a"])(Object(u["a"])({},e),x(b));S[n]=function(){var e;r.touched=!0,r.dirty=!0;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e=o?o.apply(void 0,n):G.apply(void 0,[c].concat(n)),a&&(e=a(e,b,m(!0))),g({type:"updateValue",namePath:h,value:e}),w&&w.apply(void 0,n)};var O=_(p||[]);return O.forEach((function(e){var t=S[e];S[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&g({type:"validateField",namePath:h,triggerName:e})}})),S},e.fieldContext){var o=e.fieldContext.getInternalHooks,a=o(y),f=a.initEntityValue;f(Object(p["a"])(r))}return r}return Object(f["a"])(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=n.getInternalHooks,i=r(y),o=i.registerField;this.cancelRegisterFunc=o(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),o=r.child,a=r.isFunction;return a?e=o:i["isValidElement"](o)?e=i["cloneElement"](o,this.getControlled(o.props)):(Object(v["a"])(!o,"`children` of Field is not validate ReactElement."),e=o),i["createElement"](i["Fragment"],{key:t},e)}}]),n}(i["Component"]);function se(e){var t=e.name,n=Object(a["a"])(e,["name"]),o=i["useContext"](x),s=void 0!==t?R(t):void 0,u="keep";return n.isListField||(u="_".concat((s||[]).join("_"))),i["createElement"](ae,Object(r["a"])({key:u,name:s},n,{fieldContext:o}))}ae.contextType=x,ae.defaultProps={trigger:"onChange",valuePropName:"value"};var ue=se,ce=function(e){var t=e.name,n=e.initialValue,r=e.children,o=e.rules,a=e.validateTrigger,s=i["useContext"](x),l=i["useRef"]({keys:[],id:0}),f=l.current;if("function"!==typeof r)return Object(v["a"])(!1,"Form.List only accepts function as children."),null;var p=R(s.prefixName)||[],h=[].concat(Object(c["a"])(p),Object(c["a"])(R(t))),d=function(e,t,n){var r=n.source;return"internal"!==r&&e!==t};return i["createElement"](x.Provider,{value:Object(u["a"])(Object(u["a"])({},s),{},{prefixName:h})},i["createElement"](ue,{name:[],shouldUpdate:d,rules:o,validateTrigger:a,initialValue:n,isList:!0},(function(e,t){var n=e.value,i=void 0===n?[]:n,o=e.onChange,a=s.getFieldValue,u=function(){var e=a(h||[]);return e||[]},l={add:function(e,t){var n=u();t>=0&&t<=n.length?(f.keys=[].concat(Object(c["a"])(f.keys.slice(0,t)),[f.id],Object(c["a"])(f.keys.slice(t))),o([].concat(Object(c["a"])(n.slice(0,t)),[e],Object(c["a"])(n.slice(t))))):(f.keys=[].concat(Object(c["a"])(f.keys),[f.id]),o([].concat(Object(c["a"])(n),[e]))),f.id+=1},remove:function(e){var t=u(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(f.keys=f.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=u();e<0||e>=n.length||t<0||t>=n.length||(f.keys=W(f.keys,e,t),o(W(n,e,t)))}}},p=i||[];return Array.isArray(p)||(p=[]),r(p.map((function(e,t){var n=f.keys[t];return void 0===n&&(f.keys[t]=f.id,n=f.keys[t],f.id+=1),{name:t,key:n,isListField:!0}})),l,t)})))},le=ce,fe=n("ODXe");function pe(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,o){e.forEach((function(e,a){e["catch"]((function(e){return t=!0,e})).then((function(e){n-=1,r[a]=e,n>0||(t&&o(r),i(r))}))}))})):Promise.resolve([])}var he="__@field_split__";function de(e){return e.map((function(e){return"".concat(Object(E["a"])(e),":").concat(e)})).join(he)}var me=function(){function e(){Object(l["a"])(this,e),this.kvs=new Map}return Object(f["a"])(e,[{key:"set",value:function(e,t){this.kvs.set(de(e),t)}},{key:"get",value:function(e){return this.kvs.get(de(e))}},{key:"update",value:function(e,t){var n=this.get(e),r=t(n);r?this.set(e,r):this["delete"](e)}},{key:"delete",value:function(e){this.kvs["delete"](de(e))}},{key:"map",value:function(e){return Object(c["a"])(this.kvs.entries()).map((function(t){var n=Object(fe["a"])(t,2),r=n[0],i=n[1],o=r.split(he);return e({key:o.map((function(e){var t=e.match(/^([^:]*):(.*)$/),n=Object(fe["a"])(t,3),r=n[1],i=n[2];return"number"===r?Number(i):i})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),ve=me,ye=function e(t){var n=this;Object(l["a"])(this,e),this.formHooked=!1,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===y?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve}):(Object(v["a"])(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.setInitialValues=function(e,t){n.initialValues=e||{},t&&(n.store=V({},e,n.store))},this.getInitialValue=function(e){return D(n.initialValues,e)},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.timeoutId=null,this.warningUnhooked=function(){0},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new ve;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=R(e);return t.get(n)||{INVALIDATE_NAME_PATH:R(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,o="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var a="getMeta"in n?n.getMeta():null;t(a)&&i.push(o)}else i.push(o)})),z(n.store,i.map(R))},this.getFieldValue=function(e){n.warningUnhooked();var t=R(e);return D(n.store,t)},this.getFieldsError=function(e){n.warningUnhooked();var t=n.getFieldEntitiesForNamePathList(e);return t.map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors()}:{name:R(e[n]),errors:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=R(e),r=n.getFieldsError([t])[0];return r.errors},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,o=t[0],a=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(o)?(i=o.map(R),s=!1):(i=null,s=o):(i=o.map(R),s=a);var u=n.getFieldEntities(!0),l=function(e){return e.isFieldTouched()};if(!i)return s?u.every(l):u.some(l);var f=new ve;i.forEach((function(e){f.set(e,[])})),u.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&f.update(n,(function(t){return[].concat(Object(c["a"])(t),[e])}))}))}));var p=function(e){return e.some(l)},h=f.map((function(e){var t=e.value;return t}));return s?h.every(p):h.some(p)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(R);return t.some((function(e){var t=e.getNamePath();return F(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new ve,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,o=function(r){r.forEach((function(r){var i=r.props.initialValue;if(void 0!==i){var o=r.getNamePath(),a=n.getInitialValue(o);if(void 0!==a)Object(v["a"])(!1,"Form already set 'initialValues' with path '".concat(o.join("."),"'. Field can not overwrite it."));else{var s=t.get(o);if(s&&s.size>1)Object(v["a"])(!1,"Multiple Field with path '".concat(o.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(s){var u=n.getFieldValue(o);e.skipExist&&void 0!==u||(n.store=N(n.store,o,Object(c["a"])(s)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,Object(c["a"])(Object(c["a"])(r).map((function(e){return e.entity}))))}))):i=r,o(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.store=V({},n.initialValues),n.resetWithFieldInitialValue(),void n.notifyObservers(t,null,{type:"reset"});var r=e.map(R);r.forEach((function(e){var t=n.getInitialValue(e);n.store=N(n.store,e,t)})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"})},this.setFields=function(e){n.warningUnhooked();var t=n.store;e.forEach((function(e){var r=e.name,i=(e.errors,Object(a["a"])(e,["name","errors"])),o=R(r);"value"in i&&(n.store=N(n.store,o,i.value)),n.notifyObservers(t,[o],{type:"setField",data:e})}))},this.getFields=function(){var e=n.getFieldEntities(!0),t=e.map((function(e){var t=e.getNamePath(),r=e.getMeta(),i=Object(u["a"])(Object(u["a"])({},r),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(i,"originRCField",{value:!0}),i}));return t},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath(),i=D(n.store,r);void 0===i&&(n.store=N(n.store,r,t))}},this.registerField=function(e){if(n.fieldEntities.push(e),void 0!==e.props.initialValue){var t=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(t,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e}));var o=void 0!==r?r:n.preserve;if(!1===o&&(!t||i.length>1)){var a=e.getNamePath(),s=t?void 0:D(n.initialValues,a);a.length&&n.getFieldValue(a)!==s&&n.fieldEntities.every((function(e){return!H(e.getNamePath(),a)}))&&(n.store=N(n.store,a,s,!0))}}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,o=e.triggerName;n.validateFields([i],{triggerName:o});break;default:}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=Object(u["a"])(Object(u["a"])({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){var r=n.onStoreChange;r(e,t,i)}))}else n.forceRootUpdate()},this.updateValue=function(e,t){var r=R(e),i=n.store;n.store=N(n.store,r,t),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"});var o=n.getDependencyChildrenFields(r);o.length&&n.validateFields(o),n.notifyObservers(i,o,{type:"dependenciesUpdate",relatedFields:[r].concat(Object(c["a"])(o))});var a=n.callbacks.onValuesChange;if(a){var s=z(n.store,[r]);a(s,n.getFieldsValue())}n.triggerOnFieldsChange([r].concat(Object(c["a"])(o)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;e&&(n.store=V(n.store,e)),n.notifyObservers(t,null,{type:"valueUpdate",source:"external"})},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new ve;n.getFieldEntities().forEach((function(e){var t=e.props.dependencies;(t||[]).forEach((function(t){var n=R(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));var o=function e(n){var o=i.get(n)||new Set;o.forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))};return o(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var o=new ve;t.forEach((function(e){var t=e.name,n=e.errors;o.set(t,n)})),i.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}var a=i.filter((function(t){var n=t.name;return F(e,n)}));r(a,i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(R):[],o=[];n.getFieldEntities(!0).forEach((function(a){if(r||i.push(a.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var s=a.getNamePath();s.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(s)}if(a.props.rules&&a.props.rules.length){var c=a.getNamePath();if(!r||F(i,c)){var l=a.validateRules(Object(u["a"])({validateMessages:Object(u["a"])(Object(u["a"])({},Y),n.validateMessages)},t));o.push(l.then((function(){return{name:c,errors:[]}}))["catch"]((function(e){return Promise.reject({name:c,errors:e})})))}}}));var a=pe(o);n.lastValidatePromise=a,a["catch"]((function(e){return e})).then((function(e){var t=e.map((function(e){var t=e.name;return t}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var s=a.then((function(){return n.lastValidatePromise===a?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])}))["catch"]((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==a})}));return s["catch"]((function(e){return e})),s},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}}))["catch"]((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t};function ge(e){var t=i["useRef"](),n=i["useState"]({}),r=Object(fe["a"])(n,2),o=r[1];if(!t.current)if(e)t.current=e;else{var a=function(){o({})},s=new ye(a);t.current=s.getForm()}return[t.current]}var be=ge,xe=i["createContext"]({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),_e=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,o=e.children,a=i["useContext"](xe),c=i["useRef"]({});return i["createElement"](xe.Provider,{value:Object(u["a"])(Object(u["a"])({},a),{},{validateMessages:Object(u["a"])(Object(u["a"])({},a.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:c.current}),a.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:c.current}),a.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(c.current=Object(u["a"])(Object(u["a"])({},c.current),{},Object(s["a"])({},e,t))),a.registerForm(e,t)},unregisterForm:function(e){var t=Object(u["a"])({},c.current);delete t[e],c.current=t,a.unregisterForm(e)}})},o)},we=xe,Se=function(e,t){var n=e.name,o=e.initialValues,s=e.fields,c=e.form,l=e.preserve,f=e.children,p=e.component,h=void 0===p?"form":p,d=e.validateMessages,m=e.validateTrigger,v=void 0===m?"onChange":m,g=e.onValuesChange,b=e.onFieldsChange,_=e.onFinish,w=e.onFinishFailed,S=Object(a["a"])(e,["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"]),O=i["useContext"](we),E=be(c),k=Object(fe["a"])(E,1),C=k[0],j=C.getInternalHooks(y),T=j.useSubscribe,A=j.setInitialValues,P=j.setCallbacks,M=j.setValidateMessages,I=j.setPreserve;i["useImperativeHandle"](t,(function(){return C})),i["useEffect"]((function(){return O.registerForm(n,C),function(){O.unregisterForm(n)}}),[O,C,n]),M(Object(u["a"])(Object(u["a"])({},O.validateMessages),d)),P({onValuesChange:g,onFieldsChange:function(e){if(O.triggerFormChange(n,e),b){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];b.apply(void 0,[e].concat(r))}},onFinish:function(e){O.triggerFormFinish(n,e),_&&_(e)},onFinishFailed:w}),I(l);var L=i["useRef"](null);A(o,!L.current),L.current||(L.current=!0);var R=f,D="function"===typeof f;if(D){var N=C.getFieldsValue(!0);R=f(N,C)}T(!D);var z=i["useRef"]();i["useEffect"]((function(){q(z.current||[],s||[])||C.setFields(s||[]),z.current=s}),[s,C]);var F=i["useMemo"]((function(){return Object(u["a"])(Object(u["a"])({},C),{},{validateTrigger:v})}),[C,v]),B=i["createElement"](x.Provider,{value:F},R);return!1===h?B:i["createElement"](h,Object(r["a"])({},S,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),C.submit()},onReset:function(e){var t;e.preventDefault(),C.resetFields(),null===(t=S.onReset)||void 0===t||t.call(S,e)}}),B)},Oe=Se,Ee=i["forwardRef"](Oe),ke=Ee;ke.FormProvider=_e,ke.Field=ue,ke.List=le,ke.useForm=be;var Ce=n("YrtM"),je=function(e,t,n){Object(v["a"])(e,"[antd: ".concat(t,"] ").concat(n))},Te=n("ZvpZ"),Ae=Object(r["a"])({},Te["a"].Modal);function Pe(e){Ae=e?Object(r["a"])(Object(r["a"])({},Ae),e):Object(r["a"])({},Te["a"].Modal)}var Me=n("YlG9"),Ie="internalMark",Le=function(e){Object(h["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;return Object(l["a"])(this,n),r=t.call(this,e),Pe(e.locale&&e.locale.Modal),je(e._ANT_MARK__===Ie,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale"),r}return Object(f["a"])(n,[{key:"componentDidMount",value:function(){Pe(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&Pe(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){Pe()}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.children;return i["createElement"](Me["a"].Provider,{value:Object(r["a"])(Object(r["a"])({},t),{exist:!0})},n)}}]),n}(i["Component"]);Le.defaultProps={locale:{}};var Re,De=n("YMnH"),Ne=n("H84U"),ze=i["createContext"](void 0),Fe=function(e){var t=e.children,n=e.size;return i["createElement"](ze.Consumer,null,(function(e){return i["createElement"](ze.Provider,{value:n||e},t)}))},Be=ze,Ue=n("tsqr"),Ve=n("TeRw"),He=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","form"],qe="ant",Ge=function(e){void 0!==e.prefixCls&&(Re=e.prefixCls)};function We(){return Re||qe}var Ze=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(We(),"-").concat(e):We())},getRootPrefixCls:function(e,t){return e||(Re||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):We()))}}},Ye=function(e){var t,n,a=e.children,s=e.csp,u=e.autoInsertSpaceInButton,c=e.form,l=e.locale,f=e.componentSize,p=e.direction,h=e.space,d=e.virtual,m=e.dropdownMatchSelectWidth,v=e.legacyLocale,y=e.parentContext,g=e.iconPrefixCls,b=i["useCallback"]((function(t,n){var r=e.prefixCls;if(n)return n;var i=r||y.getPrefixCls("");return t?"".concat(i,"-").concat(t):i}),[y.getPrefixCls,e.prefixCls]),x=Object(r["a"])(Object(r["a"])({},y),{csp:s,autoInsertSpaceInButton:u,locale:l||v,direction:p,space:h,virtual:d,dropdownMatchSelectWidth:m,getPrefixCls:b});He.forEach((function(t){var n=e[t];n&&(x[t]=n)}));var _=Object(Ce["a"])((function(){return x}),x,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),w=i["useMemo"]((function(){return{prefixCls:g,csp:s}}),[g]),S=a,O={};return l&&(O=(null===(t=l.Form)||void 0===t?void 0:t.defaultValidateMessages)||(null===(n=Te["a"].Form)||void 0===n?void 0:n.defaultValidateMessages)||{}),c&&c.validateMessages&&(O=Object(r["a"])(Object(r["a"])({},O),c.validateMessages)),Object.keys(O).length>0&&(S=i["createElement"](_e,{validateMessages:O},a)),l&&(S=i["createElement"](Le,{locale:l,_ANT_MARK__:Ie},S)),g&&(S=i["createElement"](o["a"].Provider,{value:w},S)),f&&(S=i["createElement"](Fe,{size:f},S)),i["createElement"](Ne["b"].Provider,{value:_},S)},Xe=function(e){return i["useEffect"]((function(){e.direction&&(Ue["default"].config({rtl:"rtl"===e.direction}),Ve["default"].config({rtl:"rtl"===e.direction}))}),[e.direction]),i["createElement"](De["a"],null,(function(t,n,o){return i["createElement"](Ne["a"],null,(function(t){return i["createElement"](Ye,Object(r["a"])({parentContext:t,legacyLocale:o},e))}))}))};Xe.ConfigContext=Ne["b"],Xe.SizeContext=Be,Xe.config=Ge},"wF/u":function(e,t,n){var r=n("e5cp"),i=n("ExA7");function o(e,t,n,a,s){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:r(e,t,n,a,o,s))}e.exports=o},wJg7:function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function i(e,t){var i=typeof e;return t=null==t?n:t,!!t&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}e.exports=i},wTVA:function(e,t){function n(e){if(Array.isArray(e))return e}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},wclG:function(e,t,n){var r=n("pFRH"),i=n("88Gu"),o=i(r);e.exports=o},wgJM:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=function(e){return+setTimeout(e,16)},i=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(r=function(e){return window.requestAnimationFrame(e)},i=function(e){return window.cancelAnimationFrame(e)});var o=0,a=new Map;function s(e){a["delete"](e)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;o+=1;var n=o;function i(t){if(0===t)s(n),e();else{var o=r((function(){i(t-1)}));a.set(n,o)}}return i(t),n}u.cancel=function(e){var t=a.get(e);return s(t),i(t)}},wgKq:function(e,t,n){var r=n("Fs9M");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},wkBT:function(e,t){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},wnjb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var r=n("xfSm"),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){var t=Reflect.getMetadata(r.PARAM_TYPES,e),n=Reflect.getMetadata(r.TAGGED,e);return{compilerGeneratedMetadata:t,userGeneratedMetadata:n||{}}},e.prototype.getPropertiesMetadata=function(e){var t=Reflect.getMetadata(r.TAGGED_PROP,e)||[];return t},e}();t.MetadataReader=i},wpse:function(e,t,n){var r=n("I65O");r("asyncIterator")},wrZu:function(e,t,n){var r=n("+K+b"),i=n("XYm9"),o=n("b2z7"),a=n("otv/"),s=n("yP5f"),u="[object Boolean]",c="[object Date]",l="[object Map]",f="[object Number]",p="[object RegExp]",h="[object Set]",d="[object String]",m="[object Symbol]",v="[object ArrayBuffer]",y="[object DataView]",g="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",_="[object Int16Array]",w="[object Int32Array]",S="[object Uint8Array]",O="[object Uint8ClampedArray]",E="[object Uint16Array]",k="[object Uint32Array]";function C(e,t,n){var C=e.constructor;switch(t){case v:return r(e);case u:case c:return new C(+e);case y:return i(e,n);case g:case b:case x:case _:case w:case S:case O:case E:case k:return s(e,n);case l:return new C;case f:case d:return new C(e);case p:return o(e);case h:return new C;case m:return a(e)}}e.exports=C},wtia:function(e,t,n){"use strict";n.r(t);var r=n("k1fw"),i=n("q1tI"),o=n.n(i),a=n("dEAq"),s=n("Zxc8"),u=n("Rsk4"),c=n("nKUr"),l=o.a.memo(u["default"]["docs-layercontrol"].component);t["default"]=e=>(o.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),Object(c["jsx"])(c["Fragment"],{children:Object(c["jsxs"])(o.a.Fragment,{children:[Object(c["jsx"])("div",{className:"markdown",children:Object(c["jsxs"])("h2",{id:"\u56fe\u5c42\u63a7\u4ef6",children:[Object(c["jsx"])(a["AnchorLink"],{to:"#\u56fe\u5c42\u63a7\u4ef6","aria-hidden":"true",tabIndex:-1,children:Object(c["jsx"])("span",{className:"icon icon-link"})}),"\u56fe\u5c42\u63a7\u4ef6"]})}),Object(c["jsx"])(s["default"],Object(r["a"])(Object(r["a"])({},u["default"]["docs-layercontrol"].previewerProps),{},{children:Object(c["jsx"])(l,{})}))]})}))},wwZZ:function(e,t,n){var r=n("MMxC"),i=n("QQ4S");r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},wx14:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},wy8a:function(e,t,n){var r=n("KxBF");function i(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}e.exports=i},x2v5:function(e){e.exports=JSON.parse("{}")},xD7I:function(e,t,n){var r=n("MMxC"),i=Math.PI/180;r({target:"Math",stat:!0},{radians:function(e){return e*i}})},xF6R:function(e,t,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("7BAe"),s=n("PPXv"),u=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{some:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(e,n){if(r(n,e,t))return u.stop()}),void 0,!0,!0).stopped}})},xH5X:function(e,t,n){"use strict";var r=n("eYKs").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},xRZI:function(e,t,n){var r=n("Qlla");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},xYSL:function(e,t){function n(e,t){return e.has(t)}e.exports=n},xaQh:function(e,t,n){var r=n("MMxC"),i=n("ls1J"),o=n("f1E4"),a=i.toKey,s=i.set;r({target:"Reflect",stat:!0},{defineMetadata:function(e,t,n){var r=arguments.length<4?void 0:a(arguments[3]);s(e,t,o(n),r)}})},xbqb:function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=n},xfSm:function(e,t,n){"use strict";function r(){return[t.INJECT_TAG,t.MULTI_INJECT_TAG,t.NAME_TAG,t.UNMANAGED_TAG,t.NAMED_TAG,t.OPTIONAL_TAG]}Object.defineProperty(t,"__esModule",{value:!0}),t.NON_CUSTOM_TAG_KEYS=t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct",t.NON_CUSTOM_TAG_KEYS=r()},xfeJ:function(e,t){function n(e){return-1!==Function.toString.call(e).indexOf("[native code]")}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},xiII:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n("d9O0"),i=function(){function e(e,t,n,i,o){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},xp6e:function(e,t,n){"use strict";(function(e){function r(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function o(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function a(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function u(e,t){return t={exports:{}},e(t,t.exports),t.exports}n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return L}));var c=u((function(e,t){function n(e){return e&&"number"===typeof e.length&&e.length>=0&&e.length%1===0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]}));s(c);var l=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=t.pop();return e.call(this,t,r)}},e.exports=t["default"]}));s(l);var f=u((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fallback=a,n.wrap=s;var r,i=n.hasSetImmediate="function"===typeof setImmediate&&setImmediate,o=n.hasNextTick="object"===typeof e&&"function"===typeof e.nextTick;function a(e){setTimeout(e,0)}function s(e){return function(t){var n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];return e((function(){return t.apply(void 0,n)}))}}r=i?setImmediate:o?e.nextTick:a,n["default"]=s(r)}));s(f);f.fallback,f.wrap,f.hasSetImmediate,f.hasNextTick;var p=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var n=i(l),r=i(f);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,h.isAsync)(e)?function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=t.pop(),i=e.apply(this,t);return a(i,r)}:(0,n["default"])((function(t,n){var r;try{r=e.apply(this,t)}catch(i){return n(i)}if(r&&"function"===typeof r.then)return a(r,n);n(null,r)}))}function a(e,t){return e.then((function(e){s(t,null,e)}),(function(e){s(t,e&&e.message?e:new Error(e))}))}function s(e,t,n){try{e(t,n)}catch(i){(0,r["default"])((function(e){throw e}),i)}}e.exports=t["default"]}));s(p);var h=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=t.isAsyncGenerator=t.isAsync=void 0;var n=r(p);function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return"AsyncFunction"===e[Symbol.toStringTag]}function o(e){return"AsyncGenerator"===e[Symbol.toStringTag]}function a(e){return"function"===typeof e[Symbol.asyncIterator]}function s(e){if("function"!==typeof e)throw new Error("expected a function");return i(e)?(0,n["default"])(e):e}t["default"]=s,t.isAsync=i,t.isAsyncGenerator=o,t.isAsyncIterable=a}));s(h);h.isAsyncIterable,h.isAsyncGenerator,h.isAsync;var d=u((function(e,t){function n(e,t){if(void 0===t&&(t=e.length),!t)throw new Error("arity is undefined");function n(){var n=this,r=[],i=arguments.length;while(i--)r[i]=arguments[i];return"function"===typeof r[t-1]?e.apply(this,r):new Promise((function(i,o){r[t-1]=function(e){var t=[],n=arguments.length-1;while(n-- >0)t[n]=arguments[n+1];if(e)return o(e);i(t.length>1?t:t[0])},e.apply(n,r)}))}return Object.defineProperty(n,"name",{configurable:!0,value:"awaitable("+e.name+")"}),n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]}));s(d);var m=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=o(c),r=o(h),i=o(d);function o(e){return e&&e.__esModule?e:{default:e}}t["default"]=(0,i["default"])((function(e,t,i){var o=(0,n["default"])(t)?[]:{};e(t,(function(e,t,n){(0,r["default"])(e)((function(e){var r,i=[],a=arguments.length-1;while(a-- >0)i[a]=arguments[a+1];i.length<2&&(r=i,i=r[0]),o[t]=i,n(e)}))}),(function(e){return i(e,o)}))}),3),e.exports=t["default"]}));s(m);var v=u((function(e,t){function n(e){function t(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]}));s(v);var y=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()},e.exports=t["default"]}));s(y);var g=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var n=i(c),r=i(y);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}function a(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}function s(e){var t=e?Object.keys(e):[],n=-1,r=t.length;return function(){var i=t[++n];return n<r?{value:e[i],key:i}:null}}function u(e){if((0,n["default"])(e))return o(e);var t=(0,r["default"])(e);return t?a(t):s(e)}e.exports=t["default"]}));s(g);var b=u((function(e,t){function n(e){return function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]}));s(b);var x=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={};t["default"]=n,e.exports=t["default"]}));s(x);var _=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var n=r(x);function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,i){var o=!1,a=!1,s=!1,u=0,c=0;function l(){u>=t||s||o||(s=!0,e.next().then((function(e){var t=e.value,n=e.done;if(!a&&!o){if(s=!1,n)return o=!0,void(u<=0&&i(null));u++,r(t,c,f),c++,l()}}))["catch"](p))}function f(e,t){if(u-=1,!a)return e?p(e):!1===e?(o=!0,void(a=!0)):t===n["default"]||o&&u<=0?(o=!0,i(null)):void l()}function p(e){a||(s=!1,o=!0,i(e))}l()}e.exports=t["default"]}));s(_);var w=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=s(v),r=s(g),i=s(b),o=s(_),a=s(x);function s(e){return e&&e.__esModule?e:{default:e}}t["default"]=function(e){return function(t,s,u){if(u=(0,n["default"])(u),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return u(null);if((0,h.isAsyncGenerator)(t))return(0,o["default"])(t,e,s,u);if((0,h.isAsyncIterable)(t))return(0,o["default"])(t[Symbol.asyncIterator](),e,s,u);var c=(0,r["default"])(t),l=!1,f=!1,p=0,d=!1;function m(e,t){if(!f)if(p-=1,e)l=!0,u(e);else if(!1===e)l=!0,f=!0;else{if(t===a["default"]||l&&p<=0)return l=!0,u(null);d||v()}}function v(){d=!0;while(p<e&&!l){var t=c();if(null===t)return l=!0,void(p<=0&&u(null));p+=1,s(t.value,t.key,(0,i["default"])(m))}d=!1}v()}},e.exports=t["default"]}));s(w);var S=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=o(w),r=o(h),i=o(d);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,i,o){return(0,n["default"])(t)(e,(0,r["default"])(i),o)}t["default"]=(0,i["default"])(a,4),e.exports=t["default"]}));s(S);var O=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=i(S),r=i(d);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return(0,n["default"])(e,1,t,r)}t["default"]=(0,r["default"])(o,3),e.exports=t["default"]}));s(O);var E=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var n=i(m),r=i(O);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(0,n["default"])(r["default"],e,t)}e.exports=t["default"]})),k=s(E),C=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.args=[],this.tasks=[]}return e.prototype.call=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return this.args=t,k(this.tasks)},e.prototype.tap=function(e,t){var n=this;this.tasks.push((function(r){t.apply(void 0,a(n.args)),r(null,e)}))},e}(),j=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=l(c),r=l(x),i=l(S),o=l(v),a=l(b),s=l(h),u=l(d);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){n=(0,o["default"])(n);var i=0,s=0,u=e.length,c=!1;function l(e,t){!1===e&&(c=!0),!0!==c&&(e?n(e):++s!==u&&t!==r["default"]||n(null))}for(0===u&&n(null);i<u;i++)t(e[i],i,(0,a["default"])(l))}function p(e,t,n){return(0,i["default"])(e,1/0,t,n)}function m(e,t,r){var i=(0,n["default"])(e)?f:p;return i(e,(0,s["default"])(t),r)}t["default"]=(0,u["default"])(m,3),e.exports=t["default"]}));s(j);var T=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var n=i(j),r=i(m);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(0,r["default"])(n["default"],e,t)}e.exports=t["default"]})),A=s(T),P=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.tasks=[]}return e.prototype.promise=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return A(this.tasks)},e.prototype.tapPromise=function(e,t){var n=this;this.tasks.push((function(o){return r(n,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return n.sent(),o(null,e),[2]}}))}))}))},e}(),M=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=a(v),r=a(b),i=a(h),o=a(d);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(t=(0,n["default"])(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var o=0;function a(t){var n=(0,i["default"])(e[o++]);n.apply(void 0,t.concat([(0,r["default"])(s)]))}function s(n){var r=[],i=arguments.length-1;while(i-- >0)r[i]=arguments[i+1];if(!1!==n)return n||o===e.length?t.apply(void 0,[n].concat(r)):void a(r)}a([])}t["default"]=(0,o["default"])(s),e.exports=t["default"]})),I=s(M),L=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.tasks=[]}return e.prototype.call=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return I(this.tasks)},e.prototype.tap=function(e,t){0===this.tasks.length?this.tasks.push((function(e){var n=t();e(!!n&&null,n)})):this.tasks.push((function(n,r){var i=t();r(!!i&&null,e)}))},e}(),R=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.tasks=[]}return e.prototype.call=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return k(this.tasks)},e.prototype.tap=function(e,t){this.tasks.push((function(n){var r=t();n(r,e)}))},e}()}).call(this,n("Q2Ig"))},xtlo:function(e,t,n){"use strict";var r=n("MMxC"),i=n("m0kY"),o=n("F52u"),a=n("+rjg"),s=n("MVys"),u=1..toFixed,c=Math.floor,l=function(e,t,n){return 0===t?n:t%2===1?l(e,t-1,n*e):l(e*e,t/2,n)},f=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},p=u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){u.call({})}));r({target:"Number",proto:!0,forced:p},{toFixed:function(e){var t,n,r,s,u=o(this),p=i(e),h=[0,0,0,0,0,0],d="",m="0",v=function(e,t){var n=-1,r=t;while(++n<6)r+=e*h[n],h[n]=r%1e7,r=c(r/1e7)},y=function(e){var t=6,n=0;while(--t>=0)n+=h[t],h[t]=c(n/e),n=n%e*1e7},g=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==h[e]){var n=String(h[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(d="-",u=-u),u>1e-21)if(t=f(u*l(2,69,1))-69,n=t<0?u*l(2,-t,1):u/l(2,t,1),n*=4503599627370496,t=52-t,t>0){v(0,n),r=p;while(r>=7)v(1e7,0),r-=7;v(l(10,r,1),0),r=t-1;while(r>=23)y(1<<23),r-=23;y(1<<r),v(1,1),y(2),m=g()}else v(0,n),v(1<<-t,0),m=g()+a.call("0",p);return p>0?(s=m.length,m=d+(s<=p?"0."+a.call("0",p-s)+m:m.slice(0,s-p)+"."+m.slice(s-p))):m=d+m,m}})},xxaU:function(e,t,n){var r=n("Zcjx"),i=n("pb5k");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},y1pI:function(e,t,n){var r=n("ljhN");function i(e,t){var n=e.length;while(n--)if(r(e[n][0],t))return n;return-1}e.exports=i},"y36+":function(e,t,n){var r=n("Mi8B");r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},y9mK:function(e,t,n){var r=n("Qlla");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},yG8O:function(e,t){function n(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},yGk4:function(e,t,n){var r=n("Cwc5"),i=n("Kz5y"),o=r(i,"Set");e.exports=o},yHx3:function(e,t){var n=Object.prototype,r=n.hasOwnProperty;function i(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}e.exports=i},yIAO:function(e,t,n){var r=n("tny8"),i=n("ukPv"),o=n("kkxG"),a=n("+vfm"),s=n("YfKC").f,u=n("uGHk").f,c=n("YON3"),l=n("k/J9"),f=n("M8HR"),p=n("NMFW"),h=n("MVys"),d=n("1aI8").set,m=n("ssJt"),v=n("2kyd"),y=v("match"),g=i.RegExp,b=g.prototype,x=/a/g,_=/a/g,w=new g(x)!==x,S=f.UNSUPPORTED_Y,O=r&&o("RegExp",!w||S||h((function(){return _[y]=!1,g(x)!=x||g(_)==_||"/a/i"!=g(x,"i")})));if(O){var E=function(e,t){var n,r=this instanceof E,i=c(e),o=void 0===t;if(!r&&i&&e.constructor===E&&o)return e;w?i&&!o&&(e=e.source):e instanceof E&&(o&&(t=l.call(e)),e=e.source),S&&(n=!!t&&t.indexOf("y")>-1,n&&(t=t.replace(/y/g,"")));var s=a(w?new g(e,t):g(e,t),r?this:b,E);return S&&n&&d(s,{sticky:n}),s},k=function(e){e in E||s(E,e,{configurable:!0,get:function(){return g[e]},set:function(t){g[e]=t}})},C=u(g),j=0;while(C.length>j)k(C[j++]);b.constructor=E,E.prototype=b,p(i,"RegExp",E)}m("RegExp")},yLV6:function(e,t,n){var r;(function(i,o,a,s){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),f="function",p=Math.round,h=Math.abs,d=Date.now;function m(e,t,n){return setTimeout(w(e,n),t)}function v(e,t,n){return!!Array.isArray(e)&&(y(e,n[t],n),!0)}function y(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s){r=0;while(r<e.length)t.call(n,e[r],r,e),r++}else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function g(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}u="function"!==typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var b=g((function(e,t,n){var r=Object.keys(t),i=0;while(i<r.length)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),x=g((function(e,t){return b(e,t,!0)}),"merge","Use `assign`.");function _(e,t,n){var r,i=t.prototype;r=e.prototype=Object.create(i),r.constructor=e,r._super=i,n&&u(r,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function S(e,t){return typeof e==f?e.apply(t&&t[0]||s,t):e}function O(e,t){return e===s?t:e}function E(e,t,n){y(T(t),(function(t){e.addEventListener(t,n,!1)}))}function k(e,t,n){y(T(t),(function(t){e.removeEventListener(t,n,!1)}))}function C(e,t){while(e){if(e==t)return!0;e=e.parentNode}return!1}function j(e,t){return e.indexOf(t)>-1}function T(e){return e.trim().split(/\s+/g)}function A(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);var r=0;while(r<e.length){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function P(e){return Array.prototype.slice.call(e,0)}function M(e,t,n){var r=[],i=[],o=0;while(o<e.length){var a=t?e[o][t]:e[o];A(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function I(e,t){var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;while(o<c.length){if(n=c[o],r=n?n+i:t,r in e)return r;o++}return s}var L=1;function R(){return L++}function D(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var N=/mobile|tablet|ip(ad|hone|od)|android/i,z="ontouchstart"in i,F=I(i,"PointerEvent")!==s,B=z&&N.test(navigator.userAgent),U="touch",V="pen",H="mouse",q="kinect",G=25,W=1,Z=2,Y=4,X=8,K=1,J=2,Q=4,$=8,ee=16,te=J|Q,ne=$|ee,re=te|ne,ie=["x","y"],oe=["clientX","clientY"];function ae(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){S(e.options.enable,[e])&&n.handler(t)},this.init()}function se(e){var t,n=e.options.inputClass;return t=n||(F?je:B?De:z?Be:Se),new t(e,ue)}function ue(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=t&W&&r-i===0,a=t&(Y|X)&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,ce(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function ce(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=pe(t)),i>1&&!n.firstMultiple?n.firstMultiple=pe(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=t.center=he(r);t.timeStamp=d(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=ye(s,u),t.distance=ve(s,u),le(n,t),t.offsetDirection=me(t.deltaX,t.deltaY);var c=de(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=h(c.x)>h(c.y)?c.x:c.y,t.scale=a?be(a.pointers,r):1,t.rotation=a?ge(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,fe(n,t);var l=e.element;C(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}function le(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==W&&o.eventType!==Y||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}function fe(e,t){var n,r,i,o,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(t.eventType!=X&&(u>G||a.velocity===s)){var c=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,f=de(u,c,l);r=f.x,i=f.y,n=h(f.x)>h(f.y)?f.x:f.y,o=me(c,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}function pe(e){var t=[],n=0;while(n<e.pointers.length)t[n]={clientX:p(e.pointers[n].clientX),clientY:p(e.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:t,center:he(t),deltaX:e.deltaX,deltaY:e.deltaY}}function he(e){var t=e.length;if(1===t)return{x:p(e[0].clientX),y:p(e[0].clientY)};var n=0,r=0,i=0;while(i<t)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:p(n/t),y:p(r/t)}}function de(e,t,n){return{x:t/e||0,y:n/e||0}}function me(e,t){return e===t?K:h(e)>=h(t)?e<0?J:Q:t<0?$:ee}function ve(e,t,n){n||(n=ie);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function ye(e,t,n){n||(n=ie);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}function ge(e,t){return ye(t[1],t[0],oe)+ye(e[1],e[0],oe)}function be(e,t){return ve(t[0],t[1],oe)/ve(e[0],e[1],oe)}ae.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(D(this.element),this.evWin,this.domHandler)}};var xe={mousedown:W,mousemove:Z,mouseup:Y},_e="mousedown",we="mousemove mouseup";function Se(){this.evEl=_e,this.evWin=we,this.pressed=!1,ae.apply(this,arguments)}_(Se,ae,{handler:function(e){var t=xe[e.type];t&W&&0===e.button&&(this.pressed=!0),t&Z&&1!==e.which&&(t=Y),this.pressed&&(t&Y&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:H,srcEvent:e}))}});var Oe={pointerdown:W,pointermove:Z,pointerup:Y,pointercancel:X,pointerout:X},Ee={2:U,3:V,4:H,5:q},ke="pointerdown",Ce="pointermove pointerup pointercancel";function je(){this.evEl=ke,this.evWin=Ce,ae.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(ke="MSPointerDown",Ce="MSPointerMove MSPointerUp MSPointerCancel"),_(je,ae,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=Oe[r],o=Ee[e.pointerType]||e.pointerType,a=o==U,s=A(t,e.pointerId,"pointerId");i&W&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):i&(Y|X)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var Te={touchstart:W,touchmove:Z,touchend:Y,touchcancel:X},Ae="touchstart",Pe="touchstart touchmove touchend touchcancel";function Me(){this.evTarget=Ae,this.evWin=Pe,this.started=!1,ae.apply(this,arguments)}function Ie(e,t){var n=P(e.touches),r=P(e.changedTouches);return t&(Y|X)&&(n=M(n.concat(r),"identifier",!0)),[n,r]}_(Me,ae,{handler:function(e){var t=Te[e.type];if(t===W&&(this.started=!0),this.started){var n=Ie.call(this,e,t);t&(Y|X)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:U,srcEvent:e})}}});var Le={touchstart:W,touchmove:Z,touchend:Y,touchcancel:X},Re="touchstart touchmove touchend touchcancel";function De(){this.evTarget=Re,this.targetIds={},ae.apply(this,arguments)}function Ne(e,t){var n=P(e.touches),r=this.targetIds;if(t&(W|Z)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=P(e.changedTouches),s=[],u=this.target;if(o=n.filter((function(e){return C(e.target,u)})),t===W){i=0;while(i<o.length)r[o[i].identifier]=!0,i++}i=0;while(i<a.length)r[a[i].identifier]&&s.push(a[i]),t&(Y|X)&&delete r[a[i].identifier],i++;return s.length?[M(o.concat(s),"identifier",!0),s]:void 0}_(De,ae,{handler:function(e){var t=Le[e.type],n=Ne.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:U,srcEvent:e})}});var ze=2500,Fe=25;function Be(){ae.apply(this,arguments);var e=w(this.handler,this);this.touch=new De(this.manager,e),this.mouse=new Se(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Ue(e,t){e&W?(this.primaryTouch=t.changedPointers[0].identifier,Ve.call(this,t)):e&(Y|X)&&Ve.call(this,t)}function Ve(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches,i=function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)};setTimeout(i,ze)}}function He(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=Fe&&a<=Fe)return!0}return!1}_(Be,ae,{handler:function(e,t,n){var r=n.pointerType==U,i=n.pointerType==H;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)Ue.call(this,t,n);else if(i&&He.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var qe=I(l.style,"touchAction"),Ge=qe!==s,We="compute",Ze="auto",Ye="manipulation",Xe="none",Ke="pan-x",Je="pan-y",Qe=tt();function $e(e,t){this.manager=e,this.set(t)}function et(e){if(j(e,Xe))return Xe;var t=j(e,Ke),n=j(e,Je);return t&&n?Xe:t||n?t?Ke:Je:j(e,Ye)?Ye:Ze}function tt(){if(!Ge)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}$e.prototype={set:function(e){e==We&&(e=this.compute()),Ge&&this.manager.element.style&&Qe[e]&&(this.manager.element.style[qe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return y(this.manager.recognizers,(function(t){S(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),et(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=j(r,Xe)&&!Qe[Xe],o=j(r,Je)&&!Qe[Je],a=j(r,Ke)&&!Qe[Ke];if(i){var s=1===e.pointers.length,u=e.distance<2,c=e.deltaTime<250;if(s&&u&&c)return}if(!a||!o)return i||o&&n&te||a&&n&ne?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var nt=1,rt=2,it=4,ot=8,at=ot,st=16,ut=32;function ct(e){this.options=u({},this.defaults,e||{}),this.id=R(),this.manager=null,this.options.enable=O(this.options.enable,!0),this.state=nt,this.simultaneous={},this.requireFail=[]}function lt(e){return e&st?"cancel":e&ot?"end":e&it?"move":e&rt?"start":""}function ft(e){return e==ee?"down":e==$?"up":e==J?"left":e==Q?"right":""}function pt(e,t){var n=t.manager;return n?n.get(e):e}function ht(){ct.apply(this,arguments)}function dt(){ht.apply(this,arguments),this.pX=null,this.pY=null}function mt(){ht.apply(this,arguments)}function vt(){ct.apply(this,arguments),this._timer=null,this._input=null}function yt(){ht.apply(this,arguments)}function gt(){ht.apply(this,arguments)}function bt(){ct.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function xt(e,t){return t=t||{},t.recognizers=O(t.recognizers,xt.defaults.preset),new St(e,t)}ct.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(v(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=pt(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return v(e,"dropRecognizeWith",this)||(e=pt(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(v(e,"requireFailure",this))return this;var t=this.requireFail;return e=pt(e,this),-1===A(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(v(e,"dropRequireFailure",this))return this;e=pt(e,this);var t=A(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<ot&&r(t.options.event+lt(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=ot&&r(t.options.event+lt(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=ut},canEmit:function(){var e=0;while(e<this.requireFail.length){if(!(this.requireFail[e].state&(ut|nt)))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!S(this.options.enable,[this,t]))return this.reset(),void(this.state=ut);this.state&(at|st|ut)&&(this.state=nt),this.state=this.process(t),this.state&(rt|it|ot|st)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},_(ht,ct,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(rt|it),i=this.attrTest(e);return r&&(n&X||!i)?t|st:r||i?n&Y?t|ot:t&rt?t|it:rt:ut}}),_(dt,ht,{defaults:{event:"pan",threshold:10,pointers:1,direction:re},getTouchAction:function(){var e=this.options.direction,t=[];return e&te&&t.push(Je),e&ne&&t.push(Ke),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&te?(i=0===o?K:o<0?J:Q,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?K:a<0?$:ee,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return ht.prototype.attrTest.call(this,e)&&(this.state&rt||!(this.state&rt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ft(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),_(mt,ht,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Xe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&rt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),_(vt,ct,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ze]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(Y|X)&&!i)this.reset();else if(e.eventType&W)this.reset(),this._timer=m((function(){this.state=at,this.tryEmit()}),t.time,this);else if(e.eventType&Y)return at;return ut},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===at&&(e&&e.eventType&Y?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),_(yt,ht,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Xe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&rt)}}),_(gt,ht,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:te|ne,pointers:1},getTouchAction:function(){return dt.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(te|ne)?t=e.overallVelocity:n&te?t=e.overallVelocityX:n&ne&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&e.eventType&Y},emit:function(e){var t=ft(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),_(bt,ct,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ye]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&W&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=Y)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||ve(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e;var s=this.count%t.taps;if(0===s)return this.hasRequireFailures()?(this._timer=m((function(){this.state=at,this.tryEmit()}),t.interval,this),rt):at}return ut},failTimeout:function(){return this._timer=m((function(){this.state=ut}),this.options.interval,this),ut},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==at&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),xt.VERSION="2.0.7",xt.defaults={domEvents:!1,touchAction:We,enable:!0,inputTarget:null,inputClass:null,preset:[[yt,{enable:!1}],[mt,{enable:!1},["rotate"]],[gt,{direction:te}],[dt,{direction:te},["swipe"]],[bt],[bt,{event:"doubletap",taps:2},["tap"]],[vt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var _t=1,wt=2;function St(e,t){this.options=u({},xt.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=se(this),this.touchAction=new $e(this,this.options.touchAction),Ot(this,!0),y(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ot(e,t){var n,r=e.element;r.style&&(y(e.options.cssProps,(function(i,o){n=I(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}function Et(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}St.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?wt:_t},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&at)&&(i=t.curRecognizer=null);var o=0;while(o<r.length)n=r[o],t.stopped===wt||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(rt|it|ot)&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof ct)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(v(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(v(e,"remove",this))return this;if(e=this.get(e),e){var t=this.recognizers,n=A(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return y(T(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return y(T(e),(function(e){t?n[e]&&n[e].splice(A(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&Et(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};var r=0;while(r<n.length)n[r](t),r++}},destroy:function(){this.element&&Ot(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(xt,{INPUT_START:W,INPUT_MOVE:Z,INPUT_END:Y,INPUT_CANCEL:X,STATE_POSSIBLE:nt,STATE_BEGAN:rt,STATE_CHANGED:it,STATE_ENDED:ot,STATE_RECOGNIZED:at,STATE_CANCELLED:st,STATE_FAILED:ut,DIRECTION_NONE:K,DIRECTION_LEFT:J,DIRECTION_RIGHT:Q,DIRECTION_UP:$,DIRECTION_DOWN:ee,DIRECTION_HORIZONTAL:te,DIRECTION_VERTICAL:ne,DIRECTION_ALL:re,Manager:St,Input:ae,TouchAction:$e,TouchInput:De,MouseInput:Se,PointerEventInput:je,TouchMouseInput:Be,SingleTouchInput:Me,Recognizer:ct,AttrRecognizer:ht,Tap:bt,Pan:dt,Swipe:gt,Pinch:mt,Rotate:yt,Press:vt,on:E,off:k,each:y,merge:x,extend:b,assign:u,inherit:_,bindFn:w,prefixed:I});var kt="undefined"!==typeof i?i:"undefined"!==typeof self?self:{};kt.Hammer=xt,r=function(){return xt}.call(t,n,t,e),r===s||(e.exports=r)})(window,document)},yMAV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;var r=function(){function e(e,t){this.parentContext=e,this.rootRequest=t}return e}();t.Plan=r},yP5f:function(e,t,n){var r=n("+K+b");function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}e.exports=i},yU0y:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var r=1e-6,i="undefined"!==typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){var e=0,t=arguments.length;while(t--)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},yXPU:function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},yiTY:function(e,t,n){var r=n("Mi8B");r("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},yj7k:function(e,t,n){var r=n("29mP");e.exports=r("document","documentElement")},yl30:function(e,t,n){"use strict";var r=n("q1tI"),i=n("MgzW"),o=n("JhMR");function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,d={},m={};function v(e){return!!h.call(m,e)||!h.call(d,e)&&(p.test(e)?m[e]=!0:(d[e]=!0,!1))}function y(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),"data-"!==e&&"aria-"!==e));default:return!1}}function g(e,t,n,r){if(null===t||"undefined"===typeof t||y(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function b(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){x[e]=new b(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];x[t]=new b(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){x[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){x[e]=new b(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){x[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){x[e]=new b(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){x[e]=new b(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){x[e]=new b(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){x[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)}));var _=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function S(e,t,n,r){var i=x.hasOwnProperty(t)?x[t]:null,o=null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]));o||(g(t,n,i,r)&&(n=null),r||null===i?v(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(i=i.type,n=3===i||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(_,w);x[t]=new b(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(_,w);x[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(_,w);x[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){x[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)})),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){x[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)}));var O=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,k=60106,C=60107,j=60108,T=60114,A=60109,P=60110,M=60112,I=60113,L=60120,R=60115,D=60116,N=60121,z=60128,F=60129,B=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var V=Symbol.for;E=V("react.element"),k=V("react.portal"),C=V("react.fragment"),j=V("react.strict_mode"),T=V("react.profiler"),A=V("react.provider"),P=V("react.context"),M=V("react.forward_ref"),I=V("react.suspense"),L=V("react.suspense_list"),R=V("react.memo"),D=V("react.lazy"),N=V("react.block"),V("react.scope"),z=V("react.opaque.id"),F=V("react.debug_trace_mode"),B=V("react.offscreen"),U=V("react.legacy_hidden")}var H,q="function"===typeof Symbol&&Symbol.iterator;function G(e){return null===e||"object"!==typeof e?null:(e=q&&e[q]||e["@@iterator"],"function"===typeof e?e:null)}function W(e){if(void 0===H)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||""}return"\n"+H+e}var Z=!1;function Y(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,s--,0>s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function X(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=Y(e.type,!1),e;case 11:return e=Y(e.type.render,!1),e;case 22:return e=Y(e.type._render,!1),e;case 1:return e=Y(e.type,!0),e;default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case k:return"Portal";case T:return"Profiler";case j:return"StrictMode";case I:return"Suspense";case L:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return K(e.type);case N:return K(e._render);case D:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function J(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ee(e){e._valueTracker||(e._valueTracker=$(e))}function te(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),e=r,e!==n&&(t.setValue(e),!0)}function ne(e){if(e=e||("undefined"!==typeof document?document:void 0),"undefined"===typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}function re(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ie(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=J(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function oe(e,t){t=t.checked,null!=t&&S(e,"checked",t,!1)}function ae(e,t){oe(e,t);var n=J(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ue(e,t.type,n):t.hasOwnProperty("defaultValue")&&ue(e,t.type,J(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function se(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,""!==n&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ue(e,t,n){"number"===t&&ne(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ce(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}function le(e,t){return e=i({children:void 0},t),(t=ce(t.children))&&(e.children=t),e}function fe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+J(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function pe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function he(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:J(n)}}function de(e,t){var n=J(t.value),r=J(t.defaultValue);null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function me(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var ve={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ye(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ge(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ye(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var be,xe=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n,r,i)}))}:e}((function(e,t){if(e.namespaceURI!==ve.svg||"innerHTML"in e)e.innerHTML=t;else{for(be=be||document.createElement("div"),be.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function _e(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var we={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Se=["Webkit","ms","Moz","O"];function Oe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||we.hasOwnProperty(e)&&we[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Oe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(we).forEach((function(e){Se.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),we[t]=we[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function je(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Pe=null,Me=null;function Ie(e){if(e=Ei(e)){if("function"!==typeof Ae)throw Error(a(280));var t=e.stateNode;t&&(t=Ci(t),Ae(e.stateNode,e.type,t))}}function Le(e){Pe?Me?Me.push(e):Me=[e]:Pe=e}function Re(){if(Pe){var e=Pe,t=Me;if(Me=Pe=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function De(e,t){return e(t)}function Ne(e,t,n,r,i){return e(t,n,r,i)}function ze(){}var Fe=De,Be=!1,Ue=!1;function Ve(){null===Pe&&null===Me||(ze(),Re())}function He(e,t,n){if(Ue)return e(t,n);Ue=!0;try{return Fe(e,t,n)}finally{Ue=!1,Ve()}}function qe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ci(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ge=!1;if(f)try{var We={};Object.defineProperty(We,"passive",{get:function(){Ge=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch(Fc){Ge=!1}function Ze(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ye=!1,Xe=null,Ke=!1,Je=null,Qe={onError:function(e){Ye=!0,Xe=e}};function $e(e,t,n,r,i,o,a,s,u){Ye=!1,Xe=null,Ze.apply(Qe,arguments)}function et(e,t,n,r,i,o,s,u,c){if($e.apply(this,arguments),Ye){if(!Ye)throw Error(a(198));var l=Xe;Ye=!1,Xe=null,Ke||(Ke=!0,Je=l)}}function tt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{t=e,0!==(1026&t.flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function nt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(e=e.alternate,null!==e&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function rt(e){if(tt(e)!==e)throw Error(a(188))}function it(e){var t=e.alternate;if(!t){if(t=tt(e),null===t)throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(r=i.return,null!==r){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return rt(i),e;if(o===r)return rt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}function ot(e){if(e=it(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function at(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var st,ut,ct,lt,ft=!1,pt=[],ht=null,dt=null,mt=null,vt=new Map,yt=new Map,gt=[],bt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function _t(e,t){switch(e){case"focusin":case"focusout":ht=null;break;case"dragenter":case"dragleave":dt=null;break;case"mouseover":case"mouseout":mt=null;break;case"pointerover":case"pointerout":vt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yt.delete(t.pointerId)}}function wt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=xt(t,n,r,i,o),null!==t&&(t=Ei(t),null!==t&&ut(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function St(e,t,n,r,i){switch(t){case"focusin":return ht=wt(ht,e,t,n,r,i),!0;case"dragenter":return dt=wt(dt,e,t,n,r,i),!0;case"mouseover":return mt=wt(mt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return vt.set(o,wt(vt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,yt.set(o,wt(yt.get(o)||null,e,t,n,r,i)),!0}return!1}function Ot(e){var t=Oi(e.target);if(null!==t){var n=tt(t);if(null!==n)if(t=n.tag,13===t){if(t=nt(n),null!==t)return e.blockedOn=t,void lt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){ct(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Et(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=fn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return t=Ei(n),null!==t&&ut(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){Et(e)&&n.delete(t)}function Ct(){for(ft=!1;0<pt.length;){var e=pt[0];if(null!==e.blockedOn){e=Ei(e.blockedOn),null!==e&&st(e);break}for(var t=e.targetContainers;0<t.length;){var n=fn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&pt.shift()}null!==ht&&Et(ht)&&(ht=null),null!==dt&&Et(dt)&&(dt=null),null!==mt&&Et(mt)&&(mt=null),vt.forEach(kt),yt.forEach(kt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,ft||(ft=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ct)))}function Tt(e){function t(t){return jt(t,e)}if(0<pt.length){jt(pt[0],e);for(var n=1;n<pt.length;n++){var r=pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ht&&jt(ht,e),null!==dt&&jt(dt,e),null!==mt&&jt(mt,e),vt.forEach(t),yt.forEach(t),n=0;n<gt.length;n++)r=gt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gt.length&&(n=gt[0],null===n.blockedOn);)Ot(n),null===n.blockedOn&&gt.shift()}function At(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pt={animationend:At("Animation","AnimationEnd"),animationiteration:At("Animation","AnimationIteration"),animationstart:At("Animation","AnimationStart"),transitionend:At("Transition","TransitionEnd")},Mt={},It={};function Lt(e){if(Mt[e])return Mt[e];if(!Pt[e])return e;var t,n=Pt[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return Mt[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Pt.animationend.animation,delete Pt.animationiteration.animation,delete Pt.animationstart.animation),"TransitionEvent"in window||delete Pt.transitionend.transition);var Rt=Lt("animationend"),Dt=Lt("animationiteration"),Nt=Lt("animationstart"),zt=Lt("transitionend"),Ft=new Map,Bt=new Map,Ut=["abort","abort",Rt,"animationEnd",Dt,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",zt,"transitionEnd","waiting","waiting"];function Vt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Bt.set(r,t),Ft.set(r,i),c(i,[r])}}var Ht=o.unstable_now;Ht();var qt=8;function Gt(e){if(0!==(1&e))return qt=15,1;if(0!==(2&e))return qt=14,2;if(0!==(4&e))return qt=13,4;var t=24&e;return 0!==t?(qt=12,t):0!==(32&e)?(qt=11,32):(t=192&e,0!==t?(qt=10,t):0!==(256&e)?(qt=9,256):(t=3584&e,0!==t?(qt=8,t):0!==(4096&e)?(qt=7,4096):(t=4186112&e,0!==t?(qt=6,t):(t=62914560&e,0!==t?(qt=5,t):67108864&e?(qt=4,67108864):0!==(134217728&e)?(qt=3,134217728):(t=805306368&e,0!==t?(qt=2,t):0!==(1073741824&e)?(qt=1,1073741824):(qt=8,e))))))}function Wt(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Zt(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}function Yt(e,t){var n=e.pendingLanes;if(0===n)return qt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=qt=15;else if(o=134217727&n,0!==o){var u=o&~a;0!==u?(r=Gt(u),i=qt):(s&=o,0!==s&&(r=Gt(s),i=qt))}else o=n&~a,0!==o?(r=Gt(o),i=qt):0!==s&&(r=Gt(s),i=qt);if(0===r)return 0;if(r=31-en(r),r=n&((0>r?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Gt(t),i<=qt)return t;qt=i}if(t=e.entangledLanes,0!==t)for(e=e.entanglements,t&=r;0<t;)n=31-en(t),i=1<<n,r|=e[n],t&=~i;return r}function Xt(e){return e=-1073741825&e.pendingLanes,0!==e?e:1073741824&e?1073741824:0}function Kt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Jt(24&~t),0===e?Kt(10,t):e;case 10:return e=Jt(192&~t),0===e?Kt(8,t):e;case 8:return e=Jt(3584&~t),0===e&&(e=Jt(4186112&~t),0===e&&(e=512)),e;case 2:return t=Jt(805306368&~t),0===t&&(t=268435456),t}throw Error(a(358,e))}function Jt(e){return e&-e}function Qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $t(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-en(t),e[t]=n}var en=Math.clz32?Math.clz32:rn,tn=Math.log,nn=Math.LN2;function rn(e){return 0===e?32:31-(tn(e)/nn|0)|0}var on=o.unstable_UserBlockingPriority,an=o.unstable_runWithPriority,sn=!0;function un(e,t,n,r){Be||ze();var i=ln,o=Be;Be=!0;try{Ne(i,e,t,n,r)}finally{(Be=o)||Ve()}}function cn(e,t,n,r){an(on,ln.bind(null,e,t,n,r))}function ln(e,t,n,r){var i;if(sn)if((i=0===(4&t))&&0<pt.length&&-1<bt.indexOf(e))e=xt(null,e,t,n,r),pt.push(e);else{var o=fn(e,t,n,r);if(null===o)i&&_t(e,r);else{if(i){if(-1<bt.indexOf(e))return e=xt(o,e,t,n,r),void pt.push(e);if(St(o,e,t,n,r))return;_t(e,r)}ni(e,t,r,null,n)}}}function fn(e,t,n,r){var i=Te(r);if(i=Oi(i),null!==i){var o=tt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(i=nt(o),null!==i)return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return ni(e,t,r,i,n),null}var pn=null,hn=null,dn=null;function mn(){if(dn)return dn;var e,t,n=hn,r=n.length,i="value"in pn?pn.value:pn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return dn=i.slice(e,1<t?1-t:void 0)}function vn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t,10===e&&(e=13),32<=e||13===e?e:0}function yn(){return!0}function gn(){return!1}function bn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?yn:gn,this.isPropagationStopped=gn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=yn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=yn)},persist:function(){},isPersistent:yn}),t}var xn,_n,wn,Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},On=bn(Sn),En=i({},Sn,{view:0,detail:0}),kn=bn(En),Cn=i({},En,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wn&&(wn&&"mousemove"===e.type?(xn=e.screenX-wn.screenX,_n=e.screenY-wn.screenY):_n=xn=0,wn=e),xn)},movementY:function(e){return"movementY"in e?e.movementY:_n}}),jn=bn(Cn),Tn=i({},Cn,{dataTransfer:0}),An=bn(Tn),Pn=i({},En,{relatedTarget:0}),Mn=bn(Pn),In=i({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ln=bn(In),Rn=i({},Sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dn=bn(Rn),Nn=i({},Sn,{data:0}),zn=bn(Nn),Fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Un={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Un[e])&&!!t[e]}function Hn(){return Vn}var qn=i({},En,{key:function(e){if(e.key){var t=Fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=vn(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hn,charCode:function(e){return"keypress"===e.type?vn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?vn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Gn=bn(qn),Wn=i({},Cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zn=bn(Wn),Yn=i({},En,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hn}),Xn=bn(Yn),Kn=i({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jn=bn(Kn),Qn=i({},Cn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$n=bn(Qn),er=[9,13,27,32],tr=f&&"CompositionEvent"in window,nr=null;f&&"documentMode"in document&&(nr=document.documentMode);var rr=f&&"TextEvent"in window&&!nr,ir=f&&(!tr||nr&&8<nr&&11>=nr),or=String.fromCharCode(32),ar=!1;function sr(e,t){switch(e){case"keyup":return-1!==er.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ur(e){return e=e.detail,"object"===typeof e&&"data"in e?e.data:null}var cr=!1;function lr(e,t){switch(e){case"compositionend":return ur(t);case"keypress":return 32!==t.which?null:(ar=!0,or);case"textInput":return e=t.data,e===or&&ar?null:e;default:return null}}function fr(e,t){if(cr)return"compositionend"===e||!tr&&sr(e,t)?(e=mn(),dn=hn=pn=null,cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ir&&"ko"!==t.locale?null:t.data;default:return null}}var pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!pr[e.type]:"textarea"===t}function dr(e,t,n,r){Le(r),t=ii(t,"onChange"),0<t.length&&(n=new On("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var mr=null,vr=null;function yr(e){Kr(e,0)}function gr(e){var t=ki(e);if(te(t))return e}function br(e,t){if("change"===e)return t}var xr=!1;if(f){var _r;if(f){var wr="oninput"in document;if(!wr){var Sr=document.createElement("div");Sr.setAttribute("oninput","return;"),wr="function"===typeof Sr.oninput}_r=wr}else _r=!1;xr=_r&&(!document.documentMode||9<document.documentMode)}function Or(){mr&&(mr.detachEvent("onpropertychange",Er),vr=mr=null)}function Er(e){if("value"===e.propertyName&&gr(vr)){var t=[];if(dr(t,vr,e,Te(e)),e=yr,Be)e(t);else{Be=!0;try{De(e,t)}finally{Be=!1,Ve()}}}}function kr(e,t,n){"focusin"===e?(Or(),mr=t,vr=n,mr.attachEvent("onpropertychange",Er)):"focusout"===e&&Or()}function Cr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return gr(vr)}function jr(e,t){if("click"===e)return gr(t)}function Tr(e,t){if("input"===e||"change"===e)return gr(t)}function Ar(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var Pr="function"===typeof Object.is?Object.is:Ar,Mr=Object.prototype.hasOwnProperty;function Ir(e,t){if(Pr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Mr.call(t,n[r])||!Pr(e[n[r]],t[n[r]]))return!1;return!0}function Lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rr(e,t){var n,r=Lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lr(r)}}function Dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Nr(){for(var e=window,t=ne();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=t.contentWindow,t=ne(e.document)}return t}function zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Fr=f&&"documentMode"in document&&11>=document.documentMode,Br=null,Ur=null,Vr=null,Hr=!1;function qr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Hr||null==Br||Br!==ne(r)||(r=Br,"selectionStart"in r&&zr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vr&&Ir(Vr,r)||(Vr=r,r=ii(Ur,"onSelect"),0<r.length&&(t=new On("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Br)))}Vt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Vt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Vt(Ut,2);for(var Gr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Wr=0;Wr<Gr.length;Wr++)Bt.set(Gr[Wr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zr));function Xr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,et(r,t,void 0,e),e.currentTarget=null}function Kr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Xr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(s=r[a],u=s.instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Xr(i,s,c),o=u}}}if(Ke)throw e=Je,Ke=!1,Je=null,e}function Jr(e,t){var n=ji(t),r=e+"__bubble";n.has(r)||(ti(t,e,2,!1),n.add(r))}var Qr="_reactListening"+Math.random().toString(36).slice(2);function $r(e){e[Qr]||(e[Qr]=!0,s.forEach((function(t){Yr.has(t)||ei(t,!1,e,null),ei(t,!0,e,null)})))}function ei(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Yr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ji(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),ti(o,e,i,t),a.add(s))}function ti(e,t,n,r){var i=Bt.get(t);switch(void 0===i?2:i){case 0:i=un;break;case 1:i=cn;break;default:i=ln}n=i.bind(null,t,n,e),i=void 0,!Ge||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ni(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&(u=a.stateNode.containerInfo,u===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(a=Oi(s),null===a)return;if(u=a.tag,5===u||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}He((function(){var r=o,i=Te(n),a=[];e:{var s=Ft.get(e);if(void 0!==s){var u=On,c=e;switch(e){case"keypress":if(0===vn(n))break e;case"keydown":case"keyup":u=Gn;break;case"focusin":c="focus",u=Mn;break;case"focusout":c="blur",u=Mn;break;case"beforeblur":case"afterblur":u=Mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=An;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Xn;break;case Rt:case Dt:case Nt:u=Ln;break;case zt:u=Jn;break;case"scroll":u=kn;break;case"wheel":u=$n;break;case"copy":case"cut":case"paste":u=Dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Zn}var l=0!==(4&t),f=!l&&"scroll"===e,p=l?null!==s?s+"Capture":null:s;l=[];for(var h,d=r;null!==d;){h=d;var m=h.stateNode;if(5===h.tag&&null!==m&&(h=m,null!==p&&(m=qe(d,p),null!=m&&l.push(ri(d,m,h)))),f)break;d=d.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(s="mouseover"===e||"pointerover"===e,u="mouseout"===e||"pointerout"===e,(!s||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!Oi(c)&&!c[wi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(c=n.relatedTarget||n.toElement,u=r,c=c?Oi(c):null,null!==c&&(f=tt(c),c!==f||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=jn,m="onMouseLeave",p="onMouseEnter",d="mouse","pointerout"!==e&&"pointerover"!==e||(l=Zn,m="onPointerLeave",p="onPointerEnter",d="pointer"),f=null==u?s:ki(u),h=null==c?s:ki(c),s=new l(m,d+"leave",u,n,i),s.target=f,s.relatedTarget=h,m=null,Oi(i)===r&&(l=new l(p,d+"enter",c,n,i),l.target=h,l.relatedTarget=f,m=l),f=m,u&&c)e:{for(l=u,p=c,d=0,h=l;h;h=oi(h))d++;for(h=0,m=p;m;m=oi(m))h++;for(;0<d-h;)l=oi(l),d--;for(;0<h-d;)p=oi(p),h--;for(;d--;){if(l===p||null!==p&&l===p.alternate)break e;l=oi(l),p=oi(p)}l=null}else l=null;null!==u&&ai(a,s,u,l,!1),null!==c&&null!==f&&ai(a,f,c,l,!0)}if(s=r?ki(r):window,u=s.nodeName&&s.nodeName.toLowerCase(),"select"===u||"input"===u&&"file"===s.type)var v=br;else if(hr(s))if(xr)v=Tr;else{v=Cr;var y=kr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=jr);switch(v&&(v=v(e,r))?dr(a,v,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ue(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(hr(y)||"true"===y.contentEditable)&&(Br=y,Ur=r,Vr=null);break;case"focusout":Vr=Ur=Br=null;break;case"mousedown":Hr=!0;break;case"contextmenu":case"mouseup":case"dragend":Hr=!1,qr(a,n,i);break;case"selectionchange":if(Fr)break;case"keydown":case"keyup":qr(a,n,i)}var g;if(tr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else cr?sr(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(ir&&"ko"!==n.locale&&(cr||"onCompositionStart"!==b?"onCompositionEnd"===b&&cr&&(g=mn()):(pn=i,hn="value"in pn?pn.value:pn.textContent,cr=!0)),y=ii(r,b),0<y.length&&(b=new zn(b,e,null,n,i),a.push({event:b,listeners:y}),g?b.data=g:(g=ur(n),null!==g&&(b.data=g)))),(g=rr?lr(e,n):fr(e,n))&&(r=ii(r,"onBeforeInput"),0<r.length&&(i=new zn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Kr(a,t)}))}function ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ii(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,o=qe(e,n),null!=o&&r.unshift(ri(e,o,i)),o=qe(e,t),null!=o&&r.push(ri(e,o,i))),e=e.return}return r}function oi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ai(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?(u=qe(n,o),null!=u&&a.unshift(ri(n,u,s))):i||(u=qe(n,o),null!=u&&a.push(ri(n,u,s)))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function si(){}var ui=null,ci=null;function li(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function fi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var pi="function"===typeof setTimeout?setTimeout:void 0,hi="function"===typeof clearTimeout?clearTimeout:void 0;function di(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(e=e.body,null!=e&&(e.textContent=""))}function mi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function vi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var yi=0;function gi(e){return{$$typeof:z,toString:e,valueOf:e}}var bi=Math.random().toString(36).slice(2),xi="__reactFiber$"+bi,_i="__reactProps$"+bi,wi="__reactContainer$"+bi,Si="__reactEvents$"+bi;function Oi(e){var t=e[xi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wi]||n[xi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=vi(e);null!==e;){if(n=e[xi])return n;e=vi(e)}return t}e=n,n=e.parentNode}return null}function Ei(e){return e=e[xi]||e[wi],!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Ci(e){return e[_i]||null}function ji(e){var t=e[Si];return void 0===t&&(t=e[Si]=new Set),t}var Ti=[],Ai=-1;function Pi(e){return{current:e}}function Mi(e){0>Ai||(e.current=Ti[Ai],Ti[Ai]=null,Ai--)}function Ii(e,t){Ai++,Ti[Ai]=e.current,e.current=t}var Li={},Ri=Pi(Li),Di=Pi(!1),Ni=Li;function zi(e,t){var n=e.type.contextTypes;if(!n)return Li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Fi(e){return e=e.childContextTypes,null!==e&&void 0!==e}function Bi(){Mi(Di),Mi(Ri)}function Ui(e,t,n){if(Ri.current!==Li)throw Error(a(168));Ii(Ri,t),Ii(Di,n)}function Vi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext(),r)if(!(o in e))throw Error(a(108,K(t)||"Unknown",o));return i({},n,r)}function Hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Li,Ni=Ri.current,Ii(Ri,e),Ii(Di,Di.current),!0}function qi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Vi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Mi(Di),Mi(Ri),Ii(Ri,e)):Mi(Di),Ii(Di,n)}var Gi=null,Wi=null,Zi=o.unstable_runWithPriority,Yi=o.unstable_scheduleCallback,Xi=o.unstable_cancelCallback,Ki=o.unstable_shouldYield,Ji=o.unstable_requestPaint,Qi=o.unstable_now,$i=o.unstable_getCurrentPriorityLevel,eo=o.unstable_ImmediatePriority,to=o.unstable_UserBlockingPriority,no=o.unstable_NormalPriority,ro=o.unstable_LowPriority,io=o.unstable_IdlePriority,oo={},ao=void 0!==Ji?Ji:function(){},so=null,uo=null,co=!1,lo=Qi(),fo=1e4>lo?Qi:function(){return Qi()-lo};function po(){switch($i()){case eo:return 99;case to:return 98;case no:return 97;case ro:return 96;case io:return 95;default:throw Error(a(332))}}function ho(e){switch(e){case 99:return eo;case 98:return to;case 97:return no;case 96:return ro;case 95:return io;default:throw Error(a(332))}}function mo(e,t){return e=ho(e),Zi(e,t)}function vo(e,t,n){return e=ho(e),Yi(e,t,n)}function yo(){if(null!==uo){var e=uo;uo=null,Xi(e)}go()}function go(){if(!co&&null!==so){co=!0;var e=0;try{var t=so;mo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),so=null}catch(n){throw null!==so&&(so=so.slice(e+1)),Yi(eo,yo),n}finally{co=!1}}}var bo=O.ReactCurrentBatchConfig;function xo(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps,e)void 0===t[n]&&(t[n]=e[n]);return t}return t}var _o=Pi(null),wo=null,So=null,Oo=null;function Eo(){Oo=So=wo=null}function ko(e){var t=_o.current;Mi(_o),e.type._context._currentValue=t}function Co(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function jo(e,t){wo=e,Oo=So=null,e=e.dependencies,null!==e&&null!==e.firstContext&&(0!==(e.lanes&t)&&(os=!0),e.firstContext=null)}function To(e,t){if(Oo!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Oo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===So){if(null===wo)throw Error(a(308));So=t,wo.dependencies={lanes:0,firstContext:t,responders:null}}else So=So.next=t;return e._currentValue}var Ao=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Io(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t){if(e=e.updateQueue,null!==e){e=e.shared;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Ro(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,null!==n){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}e=n.lastBaseUpdate,null===e?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Do(e,t,n,r){var o=e.updateQueue;Ao=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){f=f.updateQueue;var p=f.lastBaseUpdate;p!==s&&(null===p?f.firstBaseUpdate=l:p.next=l,f.lastBaseUpdate=c)}}if(null!==a){p=o.baseState,s=0,f=l=c=null;do{u=a.lane;var h=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var d=e,m=a;switch(u=t,h=n,m.tag){case 1:if(d=m.payload,"function"===typeof d){p=d.call(h,p,u);break e}p=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(d=m.payload,u="function"===typeof d?d.call(h,p,u):d,null===u||void 0===u)break e;p=i({},p,u);break e;case 2:Ao=!0}}null!==a.callback&&(e.flags|=32,u=o.effects,null===u?o.effects=[a]:u.push(a))}else h={eventTime:h,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=h,c=p):f=f.next=h,s|=u;if(a=a.next,null===a){if(u=o.shared.pending,null===u)break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}while(1);null===f&&(c=p),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,lu|=s,e.lanes=s,e.memoizedState=p}}function No(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var zo=(new r.Component).refs;function Fo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=null===n||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&tt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ru(),i=Du(e),o=Io(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),Lo(e,o),Nu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ru(),i=Du(e),o=Io(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),Lo(e,o),Nu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ru(),r=Du(e),i=Io(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),Lo(e,i),Nu(e,r,n)}};function Uo(e,t,n,r,i,o,a){return e=e.stateNode,"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Ir(n,r)||!Ir(i,o))}function Vo(e,t,n){var r=!1,i=Li,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(i=Fi(t)?Ni:Ri.current,r=t.contextTypes,o=(r=null!==r&&void 0!==r)?zi(e,i):Li),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function qo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zo,Po(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=To(o):(o=Fi(t)?Ni:Ri.current,i.context=zi(e,o)),Do(e,n,i,r),i.state=e.memoizedState,o=t.getDerivedStateFromProps,"function"===typeof o&&(Fo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),Do(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Go=Array.isArray;function Wo(e,t,n){if(e=n.ref,null!==e&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner,n){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===zo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Zo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Yo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return e=yc(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,null!==r?(r=r.index,r<n?(t.flags=2,n):r):(t.flags=2,n)):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?(t=_c(n,e.mode,r),t.return=e,t):(t=i(t,n),t.return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?(r=i(t,n.props),r.ref=Wo(e,t,n),r.return=e,r):(r=gc(n.type,n.key,n.props,null,e.mode,r),r.ref=Wo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=wc(n,e.mode,r),t.return=e,t):(t=i(t,n.children||[]),t.return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?(t=bc(n,e.mode,r,o),t.return=e,t):(t=i(t,n),t.return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return t=_c(""+t,e.mode,n),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return n=gc(t.type,t.key,t.props,null,e.mode,n),n.ref=Wo(e,null,t),n.return=e,n;case k:return t=wc(t,e.mode,n),t.return=e,t}if(Go(t)||G(t))return t=bc(t,e.mode,n,null),t.return=e,t;Zo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===C?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case k:return n.key===i?l(e,t,n,r):null}if(Go(n)||G(n))return null!==i?null:f(e,t,n,r,null);Zo(e,n)}return null}function d(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return e=e.get(n)||null,u(t,e,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===C?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case k:return e=e.get(null===r.key?n:r.key)||null,l(t,e,r,i)}if(Go(r)||G(r))return e=e.get(n)||null,f(t,e,r,i,null);Zo(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,f=a,m=a=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var y=h(i,f,s[m],u);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,m),null===l?c=y:l.sibling=y,l=y,f=v}if(m===s.length)return n(i,f),c;if(null===f){for(;m<s.length;m++)f=p(i,s[m],u),null!==f&&(a=o(f,a,m),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);m<s.length;m++)v=d(f,i,m,s[m],u),null!==v&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),c}function v(i,s,u,c){var l=G(u);if("function"!==typeof l)throw Error(a(150));if(u=l.call(u),null==u)throw Error(a(151));for(var f=l=null,m=s,v=s=0,y=null,g=u.next();null!==m&&!g.done;v++,g=u.next()){m.index>v?(y=m,m=null):y=m.sibling;var b=h(i,m,g.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,v),null===f?l=b:f.sibling=b,f=b,m=y}if(g.done)return n(i,m),l;if(null===m){for(;!g.done;v++,g=u.next())g=p(i,g.value,c),null!==g&&(s=o(g,s,v),null===f?l=g:f.sibling=g,f=g);return l}for(m=r(i,m);!g.done;v++,g=u.next())g=d(m,i,v,g.value,c),null!==g&&(e&&null!==g.alternate&&m.delete(null===g.key?v:g.key),s=o(g,s,v),null===f?l=g:f.sibling=g,f=g);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===C&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===C){n(e,c.sibling),r=i(c,o.props.children),r.return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),r=i(c,o.props),r.ref=Wo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===C?(r=bc(o.props.children,e.mode,u,o.key),r.return=e,e=r):(u=gc(o.type,o.key,o.props,null,e.mode,u),u.ref=Wo(e,r,o),u.return=e,e=u)}return s(e);case k:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),r=i(r,o.children||[]),r.return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}r=wc(o,e.mode,u),r.return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),r=i(r,o),r.return=e,e=r):(n(e,r),r=_c(o,e.mode,u),r.return=e,e=r),s(e);if(Go(o))return m(e,r,o,u);if(G(o))return v(e,r,o,u);if(l&&Zo(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(e.type)||"Component"))}return n(e,r)}}var Xo=Yo(!0),Ko=Yo(!1),Jo={},Qo=Pi(Jo),$o=Pi(Jo),ea=Pi(Jo);function ta(e){if(e===Jo)throw Error(a(174));return e}function na(e,t){switch(Ii(ea,t),Ii($o,e),Ii(Qo,Jo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ge(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ge(t,e)}Mi(Qo),Ii(Qo,t)}function ra(){Mi(Qo),Mi($o),Mi(ea)}function ia(e){ta(ea.current);var t=ta(Qo.current),n=ge(t,e.type);t!==n&&(Ii($o,e),Ii(Qo,n))}function oa(e){$o.current===e&&(Mi(Qo),Mi($o))}var aa=Pi(0);function sa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(n=n.dehydrated,null===n||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=null,ca=null,la=!1;function fa(e,t){var n=dc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function pa(e,t){switch(e.tag){case 5:var n=e.type;return t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,null!==t&&(e.stateNode=t,!0);case 6:return t=""===e.pendingProps||3!==t.nodeType?null:t,null!==t&&(e.stateNode=t,!0);case 13:return!1;default:return!1}}function ha(e){if(la){var t=ca;if(t){var n=t;if(!pa(e,t)){if(t=mi(n.nextSibling),!t||!pa(e,t))return e.flags=-1025&e.flags|2,la=!1,void(ua=e);fa(ua,n)}ua=e,ca=mi(t.firstChild)}else e.flags=-1025&e.flags|2,la=!1,ua=e}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ua=e}function ma(e){if(e!==ua)return!1;if(!la)return da(e),la=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!fi(t,e.memoizedProps))for(t=ca;t;)fa(e,t),t=mi(t.nextSibling);if(da(e),13===e.tag){if(e=e.memoizedState,e=null!==e?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ca=mi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ca=null}}else ca=ua?mi(e.stateNode.nextSibling):null;return!0}function va(){ca=ua=null,la=!1}var ya=[];function ga(){for(var e=0;e<ya.length;e++)ya[e]._workInProgressVersionPrimary=null;ya.length=0}var ba=O.ReactCurrentDispatcher,xa=O.ReactCurrentBatchConfig,_a=0,wa=null,Sa=null,Oa=null,Ea=!1,ka=!1;function Ca(){throw Error(a(321))}function ja(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pr(e[n],t[n]))return!1;return!0}function Ta(e,t,n,r,i,o){if(_a=o,wa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ba.current=null===e||null===e.memoizedState?ts:ns,e=n(r,i),ka){o=0;do{if(ka=!1,!(25>o))throw Error(a(301));o+=1,Oa=Sa=null,t.updateQueue=null,ba.current=rs,e=n(r,i)}while(ka)}if(ba.current=es,t=null!==Sa&&null!==Sa.next,_a=0,Oa=Sa=wa=null,Ea=!1,t)throw Error(a(300));return e}function Aa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Oa?wa.memoizedState=Oa=e:Oa=Oa.next=e,Oa}function Pa(){if(null===Sa){var e=wa.alternate;e=null!==e?e.memoizedState:null}else e=Sa.next;var t=null===Oa?wa.memoizedState:Oa.next;if(null!==t)Oa=t,Sa=e;else{if(null===e)throw Error(a(310));Sa=e,e={memoizedState:Sa.memoizedState,baseState:Sa.baseState,baseQueue:Sa.baseQueue,queue:Sa.queue,next:null},null===Oa?wa.memoizedState=Oa=e:Oa=Oa.next=e}return Oa}function Ma(e,t){return"function"===typeof t?t(e):t}function Ia(e){var t=Pa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Sa,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((_a&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,wa.lanes|=l,lu|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,Pr(r,t.memoizedState)||(os=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function La(e){var t=Pa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Pr(o,t.memoizedState)||(os=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ra(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(_a&e)===e)&&(t._workInProgressVersionPrimary=r,ya.push(t))),e)return n(t._source);throw ya.push(t),Error(a(350))}function Da(e,t,n,r){var i=nu;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=ba.current,c=u.useState((function(){return Ra(i,t,n)})),l=c[1],f=c[0];c=Oa;var p=e.memoizedState,h=p.refs,d=h.getSnapshot,m=p.source;p=p.subscribe;var v=wa;return e.memoizedState={refs:h,source:t,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=o(t._source);if(!Pr(s,e)){e=n(t._source),Pr(f,e)||(l(e),e=Du(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-en(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=Du(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),Pr(d,n)&&Pr(m,t)&&Pr(p,r)||(e={pending:null,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:f},e.dispatch=l=$a.bind(null,wa,e),c.queue=e,c.baseQueue=null,f=Ra(i,t,n),c.memoizedState=c.baseState=f),f}function Na(e,t,n){var r=Pa();return Da(r,e,t,n)}function za(e){var t=Aa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:e},e=e.dispatch=$a.bind(null,wa,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=wa.updateQueue,null===t?(t={lastEffect:null},wa.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,null===n?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ba(e){var t=Aa();return e={current:e},t.memoizedState=e}function Ua(){return Pa().memoizedState}function Va(e,t,n,r){var i=Aa();wa.flags|=e,i.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function Ha(e,t,n,r){var i=Pa();r=void 0===r?null:r;var o=void 0;if(null!==Sa){var a=Sa.memoizedState;if(o=a.destroy,null!==r&&ja(r,a.deps))return void Fa(t,n,o,r)}wa.flags|=e,i.memoizedState=Fa(1|t,n,o,r)}function qa(e,t){return Va(516,4,e,t)}function Ga(e,t){return Ha(516,4,e,t)}function Wa(e,t){return Ha(4,2,e,t)}function Za(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ha(4,2,Za.bind(null,t,e),n)}function Xa(){}function Ka(e,t){var n=Pa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ja(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=Pa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ja(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qa(e,t){var n=po();mo(98>n?98:n,(function(){e(!0)})),mo(97<n?97:n,(function(){var n=xa.transition;xa.transition=1;try{e(!1),t()}finally{xa.transition=n}}))}function $a(e,t,n){var r=Ru(),i=Du(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===wa||null!==a&&a===wa)ka=Ea=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&(a=t.lastRenderedReducer,null!==a))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,Pr(u,s))return}catch(c){}Nu(e,i,r)}}var es={readContext:To,useCallback:Ca,useContext:Ca,useEffect:Ca,useImperativeHandle:Ca,useLayoutEffect:Ca,useMemo:Ca,useReducer:Ca,useRef:Ca,useState:Ca,useDebugValue:Ca,useDeferredValue:Ca,useTransition:Ca,useMutableSource:Ca,useOpaqueIdentifier:Ca,unstable_isNewReconciler:!1},ts={readContext:To,useCallback:function(e,t){return Aa().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,2,Za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Aa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Aa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=$a.bind(null,wa,e),[r.memoizedState,e]},useRef:Ba,useState:za,useDebugValue:Xa,useDeferredValue:function(e){var t=za(e),n=t[0],r=t[1];return qa((function(){var t=xa.transition;xa.transition=1;try{r(e)}finally{xa.transition=t}}),[e]),n},useTransition:function(){var e=za(!1),t=e[0];return e=Qa.bind(null,e[1]),Ba(e),[e,t]},useMutableSource:function(e,t,n){var r=Aa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Da(r,e,t,n)},useOpaqueIdentifier:function(){if(la){var e=!1,t=gi((function(){throw e||(e=!0,n("r:"+(yi++).toString(36))),Error(a(355))})),n=za(t)[1];return 0===(2&wa.mode)&&(wa.flags|=516,Fa(5,(function(){n("r:"+(yi++).toString(36))}),void 0,null)),t}return t="r:"+(yi++).toString(36),za(t),t},unstable_isNewReconciler:!1},ns={readContext:To,useCallback:Ka,useContext:To,useEffect:Ga,useImperativeHandle:Ya,useLayoutEffect:Wa,useMemo:Ja,useReducer:Ia,useRef:Ua,useState:function(){return Ia(Ma)},useDebugValue:Xa,useDeferredValue:function(e){var t=Ia(Ma),n=t[0],r=t[1];return Ga((function(){var t=xa.transition;xa.transition=1;try{r(e)}finally{xa.transition=t}}),[e]),n},useTransition:function(){var e=Ia(Ma)[0];return[Ua().current,e]},useMutableSource:Na,useOpaqueIdentifier:function(){return Ia(Ma)[0]},unstable_isNewReconciler:!1},rs={readContext:To,useCallback:Ka,useContext:To,useEffect:Ga,useImperativeHandle:Ya,useLayoutEffect:Wa,useMemo:Ja,useReducer:La,useRef:Ua,useState:function(){return La(Ma)},useDebugValue:Xa,useDeferredValue:function(e){var t=La(Ma),n=t[0],r=t[1];return Ga((function(){var t=xa.transition;xa.transition=1;try{r(e)}finally{xa.transition=t}}),[e]),n},useTransition:function(){var e=La(Ma)[0];return[Ua().current,e]},useMutableSource:Na,useOpaqueIdentifier:function(){return La(Ma)[0]},unstable_isNewReconciler:!1},is=O.ReactCurrentOwner,os=!1;function as(e,t,n,r){t.child=null===e?Ko(t,null,n,r):Xo(t,e.child,n,r)}function ss(e,t,n,r,i){n=n.render;var o=t.ref;return jo(t,i),r=Ta(e,t,n,r,o,i),null===e||os?(t.flags|=1,as(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,js(e,t,i))}function us(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||mc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?(e=gc(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,cs(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,n=n.compare,n=null!==n?n:Ir,n(i,r)&&e.ref===t.ref)?js(e,t,o):(t.flags|=1,e=yc(a,r),e.ref=t.ref,e.return=t,t.child=e)}function cs(e,t,n,r,i,o){if(null!==e&&Ir(e.memoizedProps,r)&&e.ref===t.ref){if(os=!1,0===(o&i))return t.lanes=e.lanes,js(e,t,o);0!==(16384&e.flags)&&(os=!0)}return ps(e,t,n,r,o)}function ls(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Wu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Wu(t,e),null;t.memoizedState={baseLanes:0},Wu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Wu(t,r);return as(e,t,i,n),t.child}function fs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function ps(e,t,n,r,i){var o=Fi(n)?Ni:Ri.current;return o=zi(t,o),jo(t,i),n=Ta(e,t,n,r,o,i),null===e||os?(t.flags|=1,as(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,js(e,t,i))}function hs(e,t,n,r,i){if(Fi(n)){var o=!0;Hi(t)}else o=!1;if(jo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Vo(t,n,r),qo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=To(c):(c=Fi(n)?Ni:Ri.current,c=zi(t,c));var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Ho(t,a,r,c),Ao=!1;var p=t.memoizedState;a.state=p,Do(t,r,a,i),u=t.memoizedState,s!==r||p!==u||Di.current||Ao?("function"===typeof l&&(Fo(t,n,l,r),u=t.memoizedState),(s=Ao||Uo(t,n,s,r,p,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,Mo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:xo(t.type,s),a.props=c,f=t.pendingProps,p=a.context,u=n.contextType,"object"===typeof u&&null!==u?u=To(u):(u=Fi(n)?Ni:Ri.current,u=zi(t,u));var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||p!==u)&&Ho(t,a,r,u),Ao=!1,p=t.memoizedState,a.state=p,Do(t,r,a,i);var d=t.memoizedState;s!==f||p!==d||Di.current||Ao?("function"===typeof h&&(Fo(t,n,h,r),d=t.memoizedState),(c=Ao||Uo(t,n,c,r,p,d,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return ds(e,t,n,r,o,i)}function ds(e,t,n,r,i,o){fs(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&qi(t,n,!1),js(e,t,o);r=t.stateNode,is.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):as(e,t,s,o),t.memoizedState=r.state,i&&qi(t,n,!0),t.child}function ms(e){var t=e.stateNode;t.pendingContext?Ui(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ui(e,t.context,!1),na(e,t.containerInfo)}var vs,ys,gs,bs,xs={dehydrated:null,retryLane:0};function _s(e,t,n){var r,i=t.pendingProps,o=aa.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),Ii(aa,1&o),null===e?(void 0!==i.fallback&&ha(t),e=i.children,o=i.fallback,a?(e=ws(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=xs,e):"number"===typeof i.unstable_expectedLoadTime?(e=ws(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=xs,t.lanes=33554432,e):(n=xc({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):(e.memoizedState,a?(i=Os(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=xs,i):(n=Ss(e,t,i.children,n),t.memoizedState=null,n))}function ws(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=xc(t,i,0,null),n=bc(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ss(e,t,n,r){var i=e.child;return e=i.sibling,n=yc(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Os(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=s,a=n.lastEffect,null!==a?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=yc(a,s),null!==e?r=yc(e,r):(r=bc(r,o,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Es(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Co(e.return,t)}function ks(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Cs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(as(e,t,r.children,n),r=aa.current,0!==(2&r))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Es(e,n);else if(19===e.tag)Es(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(aa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)e=n.alternate,null!==e&&null===sa(e)&&(i=n),n=n.sibling;n=i,null===n?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ks(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(e=i.alternate,null!==e&&null===sa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ks(t,!0,n,null,o,t.lastEffect);break;case"together":ks(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function js(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),lu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(e=t.child,n=yc(e,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=yc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}function Ts(e,t){if(!la)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function As(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Fi(t.type)&&Bi(),null;case 3:return ra(),Mi(Di),Mi(Ri),ga(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ma(t)?t.flags|=4:r.hydrate||(t.flags|=256)),ys(t),null;case 5:oa(t);var o=ta(ea.current);if(n=t.type,null!==e&&null!=t.stateNode)gs(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=ta(Qo.current),ma(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[xi]=t,r[_i]=s,n){case"dialog":Jr("cancel",r),Jr("close",r);break;case"iframe":case"object":case"embed":Jr("load",r);break;case"video":case"audio":for(e=0;e<Zr.length;e++)Jr(Zr[e],r);break;case"source":Jr("error",r);break;case"img":case"image":case"link":Jr("error",r),Jr("load",r);break;case"details":Jr("toggle",r);break;case"input":ie(r,s),Jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Jr("invalid",r);break;case"textarea":he(r,s),Jr("invalid",r)}for(var c in Ce(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Jr("scroll",r));switch(n){case"input":ee(r),se(r,s,!0);break;case"textarea":ee(r),me(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=si)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===ve.html&&(e=ye(n)),e===ve.html?"script"===n?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[xi]=t,e[_i]=r,vs(e,t,!1,!1),t.stateNode=e,c=je(n,r),n){case"dialog":Jr("cancel",e),Jr("close",e),o=r;break;case"iframe":case"object":case"embed":Jr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Zr.length;o++)Jr(Zr[o],e);o=r;break;case"source":Jr("error",e),o=r;break;case"img":case"image":case"link":Jr("error",e),Jr("load",e),o=r;break;case"details":Jr("toggle",e),o=r;break;case"input":ie(e,r),o=re(e,r),Jr("invalid",e);break;case"option":o=le(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Jr("invalid",e);break;case"textarea":he(e,r),o=pe(e,r),Jr("invalid",e);break;default:o=r}Ce(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?Ee(e,f):"dangerouslySetInnerHTML"===s?(f=f?f.__html:void 0,null!=f&&xe(e,f)):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&_e(e,f):"number"===typeof f&&_e(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Jr("scroll",e):null!=f&&S(e,s,f,c))}switch(n){case"input":ee(e),se(e,r,!1);break;case"textarea":ee(e),me(e);break;case"option":null!=r.value&&e.setAttribute("value",""+J(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,null!=s?fe(e,!!r.multiple,s,!1):null!=r.defaultValue&&fe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=si)}li(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)bs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=ta(ea.current),ta(Qo.current),ma(t)?(r=t.stateNode,n=t.memoizedProps,r[xi]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r),r[xi]=t,t.stateNode=r)}return null;case 13:return Mi(aa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&ma(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&aa.current)?0===su&&(su=3):(0!==su&&3!==su||(su=4),null===nu||0===(134217727&lu)&&0===(134217727&fu)||Uu(nu,iu))),(r||n)&&(t.flags|=4),null);case 4:return ra(),ys(t),null===e&&$r(t.stateNode.containerInfo),null;case 10:return ko(t),null;case 17:return Fi(t.type)&&Bi(),null;case 19:if(Mi(aa),r=t.memoizedState,null===r)return null;if(s=0!==(64&t.flags),c=r.rendering,null===c)if(s)Ts(r,!1);else{if(0!==su||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(c=sa(e),null!==c){for(t.flags|=64,Ts(r,!1),s=c.updateQueue,null!==s&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)s=n,e=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,c=s.alternate,null===c?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(aa,1&aa.current|2),t.child}e=e.sibling}null!==r.tail&&fo()>mu&&(t.flags|=64,s=!0,Ts(r,!1),t.lanes=33554432)}else{if(!s)if(e=sa(c),null!==e){if(t.flags|=64,s=!0,n=e.updateQueue,null!==n&&(t.updateQueue=n,t.flags|=4),Ts(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!la)return t=t.lastEffect=r.lastEffect,null!==t&&(t.nextEffect=null),null}else 2*fo()-r.renderingStartTime>mu&&1073741824!==n&&(t.flags|=64,s=!0,Ts(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(n=r.last,null!==n?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=fo(),n.sibling=null,t=aa.current,Ii(aa,s?1&t|2:1&t),n):null;case 23:case 24:return Zu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function Ps(e){switch(e.tag){case 1:Fi(e.type)&&Bi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(ra(),Mi(Di),Mi(Ri),ga(),t=e.flags,0!==(64&t))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return oa(e),null;case 13:return Mi(aa),t=e.flags,4096&t?(e.flags=-4097&t|64,e):null;case 19:return Mi(aa),null;case 4:return ra(),null;case 10:return ko(e),null;case 23:case 24:return Zu(),null;default:return null}}function Ms(e,t){try{var n="",r=t;do{n+=X(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function Is(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}vs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ys=function(){},gs=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ta(Qo.current);var a,s=null;switch(n){case"input":o=re(e,o),r=re(e,r),s=[];break;case"option":o=le(e,o),r=le(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=pe(e,o),r=pe(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=si)}for(f in Ce(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Jr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===z?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},bs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ls="function"===typeof WeakMap?WeakMap:Map;function Rs(e,t,n){n=Io(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bu||(bu=!0,xu=r),Is(e,t)},n}function Ds(e,t,n){n=Io(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return Is(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===_u?_u=new Set([this]):_u.add(this),Is(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ns="function"===typeof WeakSet?WeakSet:Set;function zs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){lc(e,n)}else t.current=null}function Fs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:xo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&di(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function Bs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=null!==t?t.lastEffect:null,null!==t){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=null!==t?t.lastEffect:null,null!==t){e=t=t.next;do{var i=e;r=i.next,i=i.tag,0!==(4&i)&&0!==(1&i)&&(sc(n,e),ac(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:xo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,void(null!==t&&No(n,t,e));case 3:if(t=n.updateQueue,null!==t){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}No(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&li(n.type,n.memoizedProps)&&e.focus());case 6:return;case 4:return;case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Tt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function Us(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r=r.style,"function"===typeof r.setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Oe("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Vs(e,t){if(Wi&&"function"===typeof Wi.onCommitFiberUnmount)try{Wi.onCommitFiberUnmount(Gi,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,null!==e&&(e=e.lastEffect,null!==e)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))sc(t,n);else{r=t;try{i()}catch(o){lc(r,o)}}n=n.next}while(n!==e)}break;case 1:if(zs(t),e=t.stateNode,"function"===typeof e.componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){lc(t,o)}break;case 5:zs(t);break;case 4:Ys(e,t)}}function Hs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function qs(e){return 5===e.tag||3===e.tag||4===e.tag}function Gs(e){e:{for(var t=e.return;null!==t;){if(qs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(_e(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||qs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ws(e,n,t):Zs(e,n,t)}function Ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,null!==n&&void 0!==n||null!==t.onclick||(t.onclick=si));else if(4!==r&&(e=e.child,null!==e))for(Ws(e,t,n),e=e.sibling;null!==e;)Ws(e,t,n),e=e.sibling}function Zs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(e=e.child,null!==e))for(Zs(e,t,n),e=e.sibling;null!==e;)Zs(e,t,n),e=e.sibling}function Ys(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:n=n.containerInfo,r=!0;break e;case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(Vs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(Vs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return,4===i.tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Xs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=null!==n?n.lastEffect:null,null!==n){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,null!=n){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[_i]=r,"input"===e&&"radio"===r.type&&null!=r.name&&oe(n,r),je(e,i),t=je(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Ee(n,u):"dangerouslySetInnerHTML"===s?xe(n,u):"children"===s?_e(n,u):S(n,s,u,t)}switch(e){case"input":ae(n,r);break;case"textarea":de(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,o=r.value,null!=o?fe(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?fe(n,!!r.multiple,r.defaultValue,!0):fe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return n=t.stateNode,void(n.hydrate&&(n.hydrate=!1,Tt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(du=fo(),Us(t.child,!0)),void Ks(t);case 19:return void Ks(t);case 17:return;case 23:case 24:return void Us(t,null!==t.memoizedState)}throw Error(a(163))}function Ks(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ns),t.forEach((function(t){var r=pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Js(e,t){return null!==e&&(e=e.memoizedState,null===e||null!==e.dehydrated)&&(t=t.memoizedState,null!==t&&null===t.dehydrated)}var Qs=Math.ceil,$s=O.ReactCurrentDispatcher,eu=O.ReactCurrentOwner,tu=0,nu=null,ru=null,iu=0,ou=0,au=Pi(0),su=0,uu=null,cu=0,lu=0,fu=0,pu=0,hu=null,du=0,mu=1/0;function vu(){mu=fo()+500}var yu,gu=null,bu=!1,xu=null,_u=null,wu=!1,Su=null,Ou=90,Eu=[],ku=[],Cu=null,ju=0,Tu=null,Au=-1,Pu=0,Mu=0,Iu=null,Lu=!1;function Ru(){return 0!==(48&tu)?fo():-1!==Au?Au:Au=fo()}function Du(e){if(e=e.mode,0===(2&e))return 1;if(0===(4&e))return 99===po()?1:2;if(0===Pu&&(Pu=cu),0!==bo.transition){0!==Mu&&(Mu=null!==hu?hu.pendingLanes:0),e=Pu;var t=4186112&~Mu;return t&=-t,0===t&&(e=4186112&~e,t=e&-e,0===t&&(t=8192)),t}return e=po(),0!==(4&tu)&&98===e?e=Kt(12,Pu):(e=Wt(e),e=Kt(e,Pu)),e}function Nu(e,t,n){if(50<ju)throw ju=0,Tu=null,Error(a(185));if(e=zu(e,t),null===e)return null;$t(e,t,n),e===nu&&(fu|=t,4===su&&Uu(e,iu));var r=po();1===t?0!==(8&tu)&&0===(48&tu)?Vu(e):(Fu(e,n),0===tu&&(vu(),yo())):(0===(4&tu)||98!==r&&99!==r||(null===Cu?Cu=new Set([e]):Cu.add(e)),Fu(e,n)),hu=e}function zu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,n=e.alternate,null!==n&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Fu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-en(a),u=1<<s,c=o[s];if(-1===c){if(0===(u&r)||0!==(u&i)){c=t,Gt(u);var l=qt;o[s]=10<=l?c+250:6<=l?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=Yt(e,e===nu?iu:0),t=qt,0===r)null!==n&&(n!==oo&&Xi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==oo&&Xi(n)}15===t?(n=Vu.bind(null,e),null===so?(so=[n],uo=Yi(eo,go)):so.push(n),n=oo):14===t?n=vo(99,Vu.bind(null,e)):(n=Zt(t),n=vo(n,Bu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function Bu(e){if(Au=-1,Mu=Pu=0,0!==(48&tu))throw Error(a(327));var t=e.callbackNode;if(oc()&&e.callbackNode!==t)return null;var n=Yt(e,e===nu?iu:0);if(0===n)return null;var r=n,i=tu;tu|=16;var o=Ku();nu===e&&iu===r||(vu(),Yu(e,r));do{try{$u();break}catch(u){Xu(e,u)}}while(1);if(Eo(),$s.current=o,tu=i,null!==ru?r=0:(nu=null,iu=0,r=su),0!==(cu&fu))Yu(e,0);else if(0!==r){if(2===r&&(tu|=64,e.hydrate&&(e.hydrate=!1,di(e.containerInfo)),n=Xt(e),0!==n&&(r=Ju(e,n))),1===r)throw t=uu,Yu(e,0),Uu(e,n),Fu(e,fo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:nc(e);break;case 3:if(Uu(e,n),(62914560&n)===n&&(r=du+500-fo(),10<r)){if(0!==Yt(e,0))break;if(i=e.suspendedLanes,(i&n)!==n){Ru(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=pi(nc.bind(null,e),r);break}nc(e);break;case 4:if(Uu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-en(n);o=1<<s,s=r[s],s>i&&(i=s),n&=~o}if(n=i,n=fo()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Qs(n/1960))-n,10<n){e.timeoutHandle=pi(nc.bind(null,e),n);break}nc(e);break;case 5:nc(e);break;default:throw Error(a(329))}}return Fu(e,fo()),e.callbackNode===t?Bu.bind(null,e):null}function Uu(e,t){for(t&=~pu,t&=~fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-en(t),r=1<<n;e[n]=-1,t&=~r}}function Vu(e){if(0!==(48&tu))throw Error(a(327));if(oc(),e===nu&&0!==(e.expiredLanes&iu)){var t=iu,n=Ju(e,t);0!==(cu&fu)&&(t=Yt(e,t),n=Ju(e,t))}else t=Yt(e,0),n=Ju(e,t);if(0!==e.tag&&2===n&&(tu|=64,e.hydrate&&(e.hydrate=!1,di(e.containerInfo)),t=Xt(e),0!==t&&(n=Ju(e,t))),1===n)throw n=uu,Yu(e,0),Uu(e,t),Fu(e,fo()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,nc(e),Fu(e,fo()),null}function Hu(){if(null!==Cu){var e=Cu;Cu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Fu(e,fo())}))}yo()}function qu(e,t){var n=tu;tu|=1;try{return e(t)}finally{tu=n,0===tu&&(vu(),yo())}}function Gu(e,t){var n=tu;tu&=-2,tu|=8;try{return e(t)}finally{tu=n,0===tu&&(vu(),yo())}}function Wu(e,t){Ii(au,ou),ou|=t,cu|=t}function Zu(){ou=au.current,Mi(au)}function Yu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,hi(n)),null!==ru)for(n=ru.return;null!==n;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,null!==r&&void 0!==r&&Bi();break;case 3:ra(),Mi(Di),Mi(Ri),ga();break;case 5:oa(r);break;case 4:ra();break;case 13:Mi(aa);break;case 19:Mi(aa);break;case 10:ko(r);break;case 23:case 24:Zu()}n=n.return}nu=e,ru=yc(e.current,null),iu=ou=cu=t,su=0,uu=null,pu=fu=lu=0}function Xu(e,t){do{var n=ru;try{if(Eo(),ba.current=es,Ea){for(var r=wa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Ea=!1}if(_a=0,Oa=Sa=wa=null,ka=!1,eu.current=null,null===n||null===n.return){su=1,uu=t,ru=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=iu,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&aa.current),p=a;do{var h;if(h=13===p.tag){var d=p.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var m=p.memoizedProps;h=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(h){var v=p.updateQueue;if(null===v){var y=new Set;y.add(c),p.updateQueue=y}else v.add(c);if(0===(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=Io(-1,1);g.tag=2,Lo(s,g)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new Ls,u=new Set,b.set(c,u)):(u=b.get(c),void 0===u&&(u=new Set,b.set(c,u))),!u.has(s)){u.add(s);var x=fc.bind(null,o,c,s);c.then(x,x)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);u=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==su&&(su=2),u=Ms(u,s),p=a;do{switch(p.tag){case 3:o=u,p.flags|=4096,t&=-t,p.lanes|=t;var _=Rs(p,o,t);Ro(p,_);break e;case 1:o=u;var w=p.type,S=p.stateNode;if(0===(64&p.flags)&&("function"===typeof w.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===_u||!_u.has(S)))){p.flags|=4096,t&=-t,p.lanes|=t;var O=Ds(p,o,t);Ro(p,O);break e}}p=p.return}while(null!==p)}tc(n)}catch(E){t=E,ru===n&&null!==n&&(ru=n=n.return);continue}break}while(1)}function Ku(){var e=$s.current;return $s.current=es,null===e?es:e}function Ju(e,t){var n=tu;tu|=16;var r=Ku();nu===e&&iu===t||Yu(e,t);do{try{Qu();break}catch(i){Xu(e,i)}}while(1);if(Eo(),tu=n,$s.current=r,null!==ru)throw Error(a(261));return nu=null,iu=0,su}function Qu(){for(;null!==ru;)ec(ru)}function $u(){for(;null!==ru&&!Ki();)ec(ru)}function ec(e){var t=yu(e.alternate,e,ou);e.memoizedProps=e.pendingProps,null===t?tc(e):ru=t,eu.current=null}function tc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(n=As(n,t,ou),null!==n)return void(ru=n);if(n=t,24!==n.tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&ou)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(n=Ps(t),null!==n)return n.flags&=2047,void(ru=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,null!==t)return void(ru=t);ru=t=e}while(null!==t);0===su&&(su=5)}function nc(e){var t=po();return mo(99,rc.bind(null,e,t)),null}function rc(e,t){do{oc()}while(null!==Su);if(0!==(48&tu))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-en(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==Cu&&0===(24&r)&&Cu.has(e)&&Cu.delete(e),e===nu&&(ru=nu=null,iu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=tu,tu|=32,eu.current=null,ui=sn,s=Nr(),zr(s)){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(k){u=null;break e}var f=0,p=-1,h=-1,d=0,m=0,v=s,y=null;t:for(;;){for(var g;;){if(v!==u||0!==o&&3!==v.nodeType||(p=f+o),v!==c||0!==l&&3!==v.nodeType||(h=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null===(g=v.firstChild))break;y=v,v=g}for(;;){if(v===s)break t;if(y===u&&++d===o&&(p=f),y===c&&++m===l&&(h=f),null!==(g=v.nextSibling))break;v=y,y=v.parentNode}v=g}u=-1===p||-1===h?null:{start:p,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;ci={focusedElem:s,selectionRange:u},sn=!1,Iu=null,Lu=!1,gu=r;do{try{ic()}catch(k){if(null===gu)throw Error(a(330));lc(gu,k),gu=gu.nextEffect}}while(null!==gu);Iu=null,gu=r;do{try{for(s=e;null!==gu;){var b=gu.flags;if(16&b&&_e(gu.stateNode,""),128&b){var x=gu.alternate;if(null!==x){var _=x.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:Gs(gu),gu.flags&=-3;break;case 6:Gs(gu),gu.flags&=-3,Xs(gu.alternate,gu);break;case 1024:gu.flags&=-1025;break;case 1028:gu.flags&=-1025,Xs(gu.alternate,gu);break;case 4:Xs(gu.alternate,gu);break;case 8:u=gu,Ys(s,u);var w=u.alternate;Hs(u),null!==w&&Hs(w)}gu=gu.nextEffect}}catch(k){if(null===gu)throw Error(a(330));lc(gu,k),gu=gu.nextEffect}}while(null!==gu);if(_=ci,x=Nr(),b=_.focusedElem,s=_.selectionRange,x!==b&&b&&b.ownerDocument&&Dr(b.ownerDocument.documentElement,b)){null!==s&&zr(b)&&(x=s.start,_=s.end,void 0===_&&(_=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(_,b.value.length)):(_=(x=b.ownerDocument||document)&&x.defaultView||window,_.getSelection&&(_=_.getSelection(),u=b.textContent.length,w=Math.min(s.start,u),s=void 0===s.end?w:Math.min(s.end,u),!_.extend&&w>s&&(u=s,s=w,w=u),u=Rr(b,w),o=Rr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&(x=x.createRange(),x.setStart(u.node,u.offset),_.removeAllRanges(),w>s?(_.addRange(x),_.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),_.addRange(x)))))),x=[];for(_=b;_=_.parentNode;)1===_.nodeType&&x.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)_=x[b],_.element.scrollLeft=_.left,_.element.scrollTop=_.top}sn=!!ui,ci=ui=null,e.current=n,gu=r;do{try{for(b=e;null!==gu;){var S=gu.flags;if(36&S&&Bs(b,gu.alternate,gu),128&S){x=void 0;var O=gu.ref;if(null!==O){var E=gu.stateNode;switch(gu.tag){case 5:x=E;break;default:x=E}"function"===typeof O?O(x):O.current=x}}gu=gu.nextEffect}}catch(k){if(null===gu)throw Error(a(330));lc(gu,k),gu=gu.nextEffect}}while(null!==gu);gu=null,ao(),tu=i}else e.current=n;if(wu)wu=!1,Su=e,Ou=t;else for(gu=r;null!==gu;)t=gu.nextEffect,gu.nextEffect=null,8&gu.flags&&(S=gu,S.sibling=null,S.stateNode=null),gu=t;if(r=e.pendingLanes,0===r&&(_u=null),1===r?e===Tu?ju++:(ju=0,Tu=e):ju=0,n=n.stateNode,Wi&&"function"===typeof Wi.onCommitFiberRoot)try{Wi.onCommitFiberRoot(Gi,n,void 0,64===(64&n.current.flags))}catch(k){}if(Fu(e,fo()),bu)throw bu=!1,e=xu,xu=null,e;return 0!==(8&tu)||yo(),null}function ic(){for(;null!==gu;){var e=gu.alternate;Lu||null===Iu||(0!==(8&gu.flags)?at(gu,Iu)&&(Lu=!0):13===gu.tag&&Js(e,gu)&&at(gu,Iu)&&(Lu=!0));var t=gu.flags;0!==(256&t)&&Fs(e,gu),0===(512&t)||wu||(wu=!0,vo(97,(function(){return oc(),null}))),gu=gu.nextEffect}}function oc(){if(90!==Ou){var e=97<Ou?97:Ou;return Ou=90,mo(e,uc)}return!1}function ac(e,t){Eu.push(t,e),wu||(wu=!0,vo(97,(function(){return oc(),null})))}function sc(e,t){ku.push(t,e),wu||(wu=!0,vo(97,(function(){return oc(),null})))}function uc(){if(null===Su)return!1;var e=Su;if(Su=null,0!==(48&tu))throw Error(a(331));var t=tu;tu|=32;var n=ku;ku=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));lc(o,c)}}for(n=Eu,Eu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));lc(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return tu=t,yo(),!0}function cc(e,t,n){t=Ms(n,t),t=Rs(e,t,1),Lo(e,t),t=Ru(),e=zu(e,1),null!==e&&($t(e,1,t),Fu(e,t))}function lc(e,t){if(3===e.tag)cc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){cc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===_u||!_u.has(r))){e=Ms(t,e);var i=Ds(n,e,1);if(Lo(n,i),i=Ru(),n=zu(n,1),null!==n)$t(n,1,i),Fu(n,i);else if("function"===typeof r.componentDidCatch&&(null===_u||!_u.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function fc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Ru(),e.pingedLanes|=e.suspendedLanes&n,nu===e&&(iu&n)===n&&(4===su||3===su&&(62914560&iu)===iu&&500>fo()-du?Yu(e,0):pu|=n),Fu(e,t)}function pc(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=0,0===t&&(t=e.mode,0===(2&t)?t=1:0===(4&t)?t=99===po()?1:2:(0===Pu&&(Pu=cu),t=Jt(62914560&~Pu),0===t&&(t=4194304))),n=Ru(),e=zu(e,t),null!==e&&($t(e,t,n),Fu(e,n))}function hc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function dc(e,t,n,r){return new hc(e,t,n,r)}function mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vc(e){if("function"===typeof e)return mc(e)?1:0;if(void 0!==e&&null!==e){if(e=e.$$typeof,e===M)return 11;if(e===R)return 14}return 2}function yc(e,t){var n=e.alternate;return null===n?(n=dc(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)mc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case C:return bc(n.children,i,o,t);case F:s=8,i|=16;break;case j:s=8,i|=1;break;case T:return e=dc(12,n,t,8|i),e.elementType=T,e.type=T,e.lanes=o,e;case I:return e=dc(13,n,t,i),e.type=I,e.elementType=I,e.lanes=o,e;case L:return e=dc(19,n,t,i),e.elementType=L,e.lanes=o,e;case B:return xc(n,i,o,t);case U:return e=dc(24,n,t,i),e.elementType=U,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case P:s=9;break e;case M:s=11;break e;case R:s=14;break e;case D:s=16,r=null;break e;case N:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return t=dc(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function bc(e,t,n,r){return e=dc(7,e,r,t),e.lanes=n,e}function xc(e,t,n,r){return e=dc(23,e,r,t),e.elementType=B,e.lanes=n,e}function _c(e,t,n){return e=dc(6,e,null,t),e.lanes=n,e}function wc(e,t,n){return t=dc(4,null!==e.children?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Qt(0),this.expirationTimes=Qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qt(0),this.mutableSourceEagerHydrationData=null}function Oc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ec(e,t,n,r){var i=t.current,o=Ru(),s=Du(i);e:if(n){n=n._reactInternals;t:{if(tt(n)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Fi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(Fi(c)){n=Vi(n,c,u);break e}}n=u}else n=Li;return null===t.context?t.context=n:t.pendingContext=n,t=Io(o,s),t.payload={element:e},r=void 0===r?null:r,null!==r&&(t.callback=r),Lo(i,t),Nu(i,s,o),s}function kc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cc(e,t){if(e=e.memoizedState,null!==e&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function jc(e,t){Cc(e,t),(e=e.alternate)&&Cc(e,t)}function Tc(){return null}function Ac(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Sc(e,t,null!=n&&!0===n.hydrate),t=dc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,Po(t),e[wi]=n.current,$r(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var i=t._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Pc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Mc(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ac(e,0,t?{hydrate:!0}:void 0)}function Ic(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=kc(a);s.call(e)}}Ec(t,a,e,i)}else{if(o=n._reactRootContainer=Mc(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=kc(a);u.call(e)}}Gu((function(){Ec(t,a,e,i)}))}return kc(a)}function Lc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Pc(t))throw Error(a(200));return Oc(e,t,null,n)}yu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Di.current)os=!0;else{if(0===(n&r)){switch(os=!1,t.tag){case 3:ms(t),va();break;case 5:ia(t);break;case 1:Fi(t.type)&&Hi(t);break;case 4:na(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;Ii(_o,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?_s(e,t,n):(Ii(aa,1&aa.current),t=js(e,t,n),null!==t?t.sibling:null);Ii(aa,1&aa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return Cs(e,t,n);t.flags|=64}if(i=t.memoizedState,null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(aa,aa.current),r)break;return null;case 23:case 24:return t.lanes=0,ls(e,t,n)}return js(e,t,n)}os=0!==(16384&e.flags)}else os=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=zi(t,Ri.current),jo(t,n),i=Ta(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fi(r)){var o=!0;Hi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Po(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&Fo(t,r,s,e),i.updater=Bo,t.stateNode=i,i._reactInternals=t,qo(t,r,e,n),t=ds(null,t,r,!0,o,n)}else t.tag=0,as(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=vc(i),e=xo(i,e),o){case 0:t=ps(null,t,i,e,n);break e;case 1:t=hs(null,t,i,e,n);break e;case 11:t=ss(null,t,i,e,n);break e;case 14:t=us(null,t,i,xo(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xo(r,i),ps(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xo(r,i),hs(e,t,r,i,n);case 3:if(ms(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=t.memoizedState,i=null!==i?i.element:null,Mo(e,t),Do(t,r,null,n),r=t.memoizedState.element,r===i)va(),t=js(e,t,n);else{if(i=t.stateNode,(o=i.hydrate)&&(ca=mi(t.stateNode.containerInfo.firstChild),ua=t,o=la=!0),o){if(e=i.mutableSourceEagerHydrationData,null!=e)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],ya.push(o);for(n=Ko(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else as(e,t,r,n),va();t=t.child}return t;case 5:return ia(t),null===e&&ha(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,fi(r,i)?s=null:null!==o&&fi(r,o)&&(t.flags|=16),fs(e,t),as(e,t,s,n),t.child;case 6:return null===e&&ha(t),null;case 13:return _s(e,t,n);case 4:return na(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):as(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xo(r,i),ss(e,t,r,i,n);case 7:return as(e,t,t.pendingProps,n),t.child;case 8:return as(e,t,t.pendingProps.children,n),t.child;case 12:return as(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(Ii(_o,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,o=Pr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823),0===o){if(s.children===i.children&&!Di.current){t=js(e,t,n);break e}}else for(u=t.child,null!==u&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&(l=Io(-1,n&-n),l.tag=2,Lo(u,l)),u.lanes|=n,l=u.alternate,null!==l&&(l.lanes|=n),Co(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(u=s.sibling,null!==u){u.return=s.return,s=u;break}s=s.return}u=s}as(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,r=o.children,jo(t,n),i=To(i,o.unstable_observedBits),r=r(i),t.flags|=1,as(e,t,r,n),t.child;case 14:return i=t.type,o=xo(i,t.pendingProps),o=xo(i.type,o),us(e,t,i,o,r,n);case 15:return cs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xo(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Fi(r)?(e=!0,Hi(t)):e=!1,jo(t,n),Vo(t,r,i),qo(t,r,i,n),ds(null,t,r,!0,e,n);case 19:return Cs(e,t,n);case 23:return ls(e,t,n);case 24:return ls(e,t,n)}throw Error(a(156,t.tag))},Ac.prototype.render=function(e){Ec(e,this._internalRoot,null,null)},Ac.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ec(null,e,null,(function(){t[wi]=null}))},st=function(e){if(13===e.tag){var t=Ru();Nu(e,4,t),jc(e,4)}},ut=function(e){if(13===e.tag){var t=Ru();Nu(e,67108864,t),jc(e,67108864)}},ct=function(e){if(13===e.tag){var t=Ru(),n=Du(e);Nu(e,n,t),jc(e,n)}},lt=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ae(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ci(r);if(!i)throw Error(a(90));te(r),ae(r,i)}}}break;case"textarea":de(e,n);break;case"select":t=n.value,null!=t&&fe(e,!!n.multiple,t,!1)}},De=qu,Ne=function(e,t,n,r,i){var o=tu;tu|=4;try{return mo(98,e.bind(null,t,n,r,i))}finally{tu=o,0===tu&&(vu(),yo())}},ze=function(){0===(49&tu)&&(Hu(),oc())},Fe=function(e,t){var n=tu;tu|=2;try{return e(t)}finally{tu=n,0===tu&&(vu(),yo())}};var Rc={Events:[Ei,ki,Ci,Le,Re,oc,{current:!1}]},Dc={findFiberByHostInstance:Oi,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Nc={bundleType:Dc.bundleType,version:Dc.version,rendererPackageName:Dc.rendererPackageName,rendererConfig:Dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ot(e),null===e?null:e.stateNode},findFiberByHostInstance:Dc.findFiberByHostInstance||Tc,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{Gi=zc.inject(Nc),Wi=zc}catch(Fc){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rc,t.createPortal=Lc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=ot(t),e=null===e?null:e.stateNode,e},t.flushSync=function(e,t){var n=tu;if(0!==(48&n))return e(t);tu|=1;try{if(e)return mo(99,e.bind(null,t))}finally{tu=n,yo()}},t.hydrate=function(e,t,n){if(!Pc(t))throw Error(a(200));return Ic(null,e,t,!0,n)},t.render=function(e,t,n){if(!Pc(t))throw Error(a(200));return Ic(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Pc(e))throw Error(a(40));return!!e._reactRootContainer&&(Gu((function(){Ic(null,null,e,!1,(function(){e._reactRootContainer=null,e[wi]=null}))})),!0)},t.unstable_batchedUpdates=qu,t.unstable_createPortal=function(e,t){return Lc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Pc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Ic(e,t,n,!1,r)},t.version="17.0.2"},z4Hk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var r=n("406g"),i=n("RR/i"),o=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){var t=null!==e.target&&!e.target.isNamed()&&!e.target.isTagged();return t},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=o},z9fm:function(e,t,n){"use strict";var r=n("ENif"),i=n("f1E4"),o=n("oa35"),a=n("FCfD"),s=n("xH5X"),u=n("dagG");r("match",1,(function(e,t,n){return[function(t){var n=a(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),c=String(this);if(!a.global)return u(a,c);var l=a.unicode;a.lastIndex=0;var f,p=[],h=0;while(null!==(f=u(a,c))){var d=String(f[0]);p[h]=d,""===d&&(a.lastIndex=s(c,o(a.lastIndex),l)),h++}return 0===h?null:p}]}))},zEVN:function(e,t,n){var r=n("Gi0A"),i=n("sEf8"),o=n("mdPL"),a=o&&o.isMap,s=a?i(a):r;e.exports=s},zLVn:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},zTPR:function(e,t,n){"use strict";var r=n("/gva"),i=n("vO0A");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},zYLY:function(e,t,n){"use strict";function r(){var e=n("q1tI");return r=function(){return e},e}function i(e,t){return c(e)||u(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function c(e){if(Array.isArray(e))return e}function l(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(o<t.length){var a=t[o],s=function(){return l(e,t,n,o+1)},u=a.match(/^([^:]+):?(.*)$/)||[],c=i(u,3),f=c[1],p=c[2];switch(f){case"autoplay":s();break;case"click":var h=p.match(/^(global\()?(.+?)\)?$/)||[],d=i(h,3),m=d[1],v=d[2],y=m?document:e;null===(r=y.querySelector(v))||void 0===r||r.click(),s();break;case"timeout":setTimeout(s,Number(p));break;case"capture":window.postMessage({type:"dumi:capture-element",value:p},"*"),s();break;default:console.warn("[dumi: motion] unknown motion '".concat(a,"', skip.")),s()}}else n()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var f=function(e,t){var n=(0,r().useState)(!1),o=i(n,2),a=o[0],s=o[1],u=(0,r().useCallback)((function(){a||(l(t,e,(function(){s(!1)})),s(!0))}),[e,t,a]);return(0,r().useEffect)((function(){"autoplay"===e[0]&&t&&u()}),[e,t]),[u,a]};t["default"]=f},zZ0H:function(e,t){function n(e){return e}e.exports=n},zoYe:function(e,t,n){var r=n("nmnc"),i=n("eUgh"),o=n("Z0cm"),a=n("/9aa"),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;function l(e){if("string"==typeof e)return e;if(o(e))return i(e,l)+"";if(a(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}e.exports=l},zqmC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.LinkWrapper=void 0;var r=a(n("q1tI")),i=n("LtsZ"),o=["to"];function a(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=c(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var l=function(e){return function(t){var n=t.to,i=u(t,o),a=/^(\w+:)?\/\//.test(n)||!n,c=r["default"].isValidElement(i.children);return r["default"].createElement(e,s({to:n||"",component:a?function(){return r["default"].createElement("a",{target:"_blank",rel:"noopener noreferrer",href:n},i.children,n&&!c&&r["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r["default"].createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r["default"].createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))}:void 0},i,a?{}:{onClick:function(){var e;window.scrollTo({top:0});for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];null===(e=i.onClick)||void 0===e||e.apply(this,n)}}))}};t.LinkWrapper=l;var f=l(i.Link);t["default"]=f},zv1X:function(e,t,n){var r=n("7BAe"),i=n("EzR6"),o=n("cTDu"),a=n("oa35"),s=n("nMuc"),u=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,l=4==e,f=6==e,p=5==e||f;return function(h,d,m,v){for(var y,g,b=o(h),x=i(b),_=r(d,m,3),w=a(x.length),S=0,O=v||s,E=t?O(h,w):n?O(h,0):void 0;w>S;S++)if((p||S in x)&&(y=x[S],g=_(y,S,b),e))if(t)E[S]=g;else if(g)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:u.call(E,y)}else if(l)return!1;return f?-1:c||l?l:E}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},zvhG:function(e,t){function n(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}e.exports=n,n.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},n.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},n.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},n.prototype.solveCurveX=function(e,t){var n,r,i,o,a;for("undefined"===typeof t&&(t=1e-6),i=e,a=0;a<8;a++){if(o=this.sampleCurveX(i)-e,Math.abs(o)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if(n=0,r=1,i=e,i<n)return n;if(i>r)return r;while(n<r){if(o=this.sampleCurveX(i),Math.abs(o-e)<t)return i;e>o?n=i:r=i,i=.5*(r-n)+n}return i},n.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},zxMA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var r=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t="",n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=r}});